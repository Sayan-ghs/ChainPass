var lp=ss=>{throw TypeError(ss)};var ap=(ss,as,us)=>as.has(ss)||lp("Cannot "+us);var Wl=(ss,as,us)=>(ap(ss,as,"read from private field"),us?us.call(ss):as.get(ss)),o0=(ss,as,us)=>as.has(ss)?lp("Cannot add the same private member more than once"):as instanceof WeakSet?as.add(ss):as.set(ss,us),_d=(ss,as,us,cs)=>(ap(ss,as,"write to private field"),cs?cs.call(ss,us):as.set(ss,us),us),M0=(ss,as,us)=>(ap(ss,as,"access private method"),us);var np=(ss,as,us,cs)=>({set _($a){_d(ss,as,$a,us)},get _(){return Wl(ss,as,cs)}});function _mergeNamespaces(ss,as){for(var us=0;us<as.length;us++){const cs=as[us];if(typeof cs!="string"&&!Array.isArray(cs)){for(const $a in cs)if($a!=="default"&&!($a in ss)){const na=Object.getOwnPropertyDescriptor(cs,$a);na&&Object.defineProperty(ss,$a,na.get?na:{enumerable:!0,get:()=>cs[$a]})}}}return Object.freeze(Object.defineProperty(ss,Symbol.toStringTag,{value:"Module"}))}(function(){const as=document.createElement("link").relList;if(as&&as.supports&&as.supports("modulepreload"))return;for(const $a of document.querySelectorAll('link[rel="modulepreload"]'))cs($a);new MutationObserver($a=>{for(const na of $a)if(na.type==="childList")for(const tu of na.addedNodes)tu.tagName==="LINK"&&tu.rel==="modulepreload"&&cs(tu)}).observe(document,{childList:!0,subtree:!0});function us($a){const na={};return $a.integrity&&(na.integrity=$a.integrity),$a.referrerPolicy&&(na.referrerPolicy=$a.referrerPolicy),$a.crossOrigin==="use-credentials"?na.credentials="include":$a.crossOrigin==="anonymous"?na.credentials="omit":na.credentials="same-origin",na}function cs($a){if($a.ep)return;$a.ep=!0;const na=us($a);fetch($a.href,na)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(ss){return ss&&ss.__esModule&&Object.prototype.hasOwnProperty.call(ss,"default")?ss.default:ss}function getAugmentedNamespace(ss){if(ss.__esModule)return ss;var as=ss.default;if(typeof as=="function"){var us=function cs(){return this instanceof cs?Reflect.construct(as,arguments,this.constructor):as.apply(this,arguments)};us.prototype=as.prototype}else us={};return Object.defineProperty(us,"__esModule",{value:!0}),Object.keys(ss).forEach(function(cs){var $a=Object.getOwnPropertyDescriptor(ss,cs);Object.defineProperty(us,cs,$a.get?$a:{enumerable:!0,get:function(){return ss[cs]}})}),us}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$4=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$4(ss){return ss===null||typeof ss!="object"?null:(ss=z$5&&ss[z$5]||ss["@@iterator"],typeof ss=="function"?ss:null)}var B$5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$5=Object.assign,D$3={};function E$6(ss,as,us){this.props=ss,this.context=as,this.refs=D$3,this.updater=us||B$5}E$6.prototype.isReactComponent={};E$6.prototype.setState=function(ss,as){if(typeof ss!="object"&&typeof ss!="function"&&ss!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ss,as,"setState")};E$6.prototype.forceUpdate=function(ss){this.updater.enqueueForceUpdate(this,ss,"forceUpdate")};function F$3(){}F$3.prototype=E$6.prototype;function G$4(ss,as,us){this.props=ss,this.context=as,this.refs=D$3,this.updater=us||B$5}var H$3=G$4.prototype=new F$3;H$3.constructor=G$4;C$5(H$3,E$6.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$4=Object.prototype.hasOwnProperty,K$9={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$4(ss,as,us){var cs,$a={},na=null,tu=null;if(as!=null)for(cs in as.ref!==void 0&&(tu=as.ref),as.key!==void 0&&(na=""+as.key),as)J$4.call(as,cs)&&!L$4.hasOwnProperty(cs)&&($a[cs]=as[cs]);var iu=arguments.length-2;if(iu===1)$a.children=us;else if(1<iu){for(var su=Array(iu),au=0;au<iu;au++)su[au]=arguments[au+2];$a.children=su}if(ss&&ss.defaultProps)for(cs in iu=ss.defaultProps,iu)$a[cs]===void 0&&($a[cs]=iu[cs]);return{$$typeof:l$4,type:ss,key:na,ref:tu,props:$a,_owner:K$9.current}}function N$5(ss,as){return{$$typeof:l$4,type:ss.type,key:as,ref:ss.ref,props:ss.props,_owner:ss._owner}}function O$5(ss){return typeof ss=="object"&&ss!==null&&ss.$$typeof===l$4}function escape(ss){var as={"=":"=0",":":"=2"};return"$"+ss.replace(/[=:]/g,function(us){return as[us]})}var P$4=/\/+/g;function Q$4(ss,as){return typeof ss=="object"&&ss!==null&&ss.key!=null?escape(""+ss.key):as.toString(36)}function R$5(ss,as,us,cs,$a){var na=typeof ss;(na==="undefined"||na==="boolean")&&(ss=null);var tu=!1;if(ss===null)tu=!0;else switch(na){case"string":case"number":tu=!0;break;case"object":switch(ss.$$typeof){case l$4:case n$4:tu=!0}}if(tu)return tu=ss,$a=$a(tu),ss=cs===""?"."+Q$4(tu,0):cs,I$3($a)?(us="",ss!=null&&(us=ss.replace(P$4,"$&/")+"/"),R$5($a,as,us,"",function(au){return au})):$a!=null&&(O$5($a)&&($a=N$5($a,us+(!$a.key||tu&&tu.key===$a.key?"":(""+$a.key).replace(P$4,"$&/")+"/")+ss)),as.push($a)),1;if(tu=0,cs=cs===""?".":cs+":",I$3(ss))for(var iu=0;iu<ss.length;iu++){na=ss[iu];var su=cs+Q$4(na,iu);tu+=R$5(na,as,us,su,$a)}else if(su=A$4(ss),typeof su=="function")for(ss=su.call(ss),iu=0;!(na=ss.next()).done;)na=na.value,su=cs+Q$4(na,iu++),tu+=R$5(na,as,us,su,$a);else if(na==="object")throw as=String(ss),Error("Objects are not valid as a React child (found: "+(as==="[object Object]"?"object with keys {"+Object.keys(ss).join(", ")+"}":as)+"). If you meant to render a collection of children, use an array instead.");return tu}function S$6(ss,as,us){if(ss==null)return ss;var cs=[],$a=0;return R$5(ss,cs,"","",function(na){return as.call(us,na,$a++)}),cs}function T$4(ss){if(ss._status===-1){var as=ss._result;as=as(),as.then(function(us){(ss._status===0||ss._status===-1)&&(ss._status=1,ss._result=us)},function(us){(ss._status===0||ss._status===-1)&&(ss._status=2,ss._result=us)}),ss._status===-1&&(ss._status=0,ss._result=as)}if(ss._status===1)return ss._result.default;throw ss._result}var U$1={current:null},V$5={transition:null},W$a={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$5,ReactCurrentOwner:K$9};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$6,forEach:function(ss,as,us){S$6(ss,function(){as.apply(this,arguments)},us)},count:function(ss){var as=0;return S$6(ss,function(){as++}),as},toArray:function(ss){return S$6(ss,function(as){return as})||[]},only:function(ss){if(!O$5(ss))throw Error("React.Children.only expected to receive a single React element child.");return ss}};react_production_min.Component=E$6;react_production_min.Fragment=p$6;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$4;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$a;react_production_min.act=X$2;react_production_min.cloneElement=function(ss,as,us){if(ss==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ss+".");var cs=C$5({},ss.props),$a=ss.key,na=ss.ref,tu=ss._owner;if(as!=null){if(as.ref!==void 0&&(na=as.ref,tu=K$9.current),as.key!==void 0&&($a=""+as.key),ss.type&&ss.type.defaultProps)var iu=ss.type.defaultProps;for(su in as)J$4.call(as,su)&&!L$4.hasOwnProperty(su)&&(cs[su]=as[su]===void 0&&iu!==void 0?iu[su]:as[su])}var su=arguments.length-2;if(su===1)cs.children=us;else if(1<su){iu=Array(su);for(var au=0;au<su;au++)iu[au]=arguments[au+2];cs.children=iu}return{$$typeof:l$4,type:ss.type,key:$a,ref:na,props:cs,_owner:tu}};react_production_min.createContext=function(ss){return ss={$$typeof:u$1,_currentValue:ss,_currentValue2:ss,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ss.Provider={$$typeof:t,_context:ss},ss.Consumer=ss};react_production_min.createElement=M$4;react_production_min.createFactory=function(ss){var as=M$4.bind(null,ss);return as.type=ss,as};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(ss){return{$$typeof:v$7,render:ss}};react_production_min.isValidElement=O$5;react_production_min.lazy=function(ss){return{$$typeof:y$5,_payload:{_status:-1,_result:ss},_init:T$4}};react_production_min.memo=function(ss,as){return{$$typeof:x$4,type:ss,compare:as===void 0?null:as}};react_production_min.startTransition=function(ss){var as=V$5.transition;V$5.transition={};try{ss()}finally{V$5.transition=as}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(ss,as){return U$1.current.useCallback(ss,as)};react_production_min.useContext=function(ss){return U$1.current.useContext(ss)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(ss){return U$1.current.useDeferredValue(ss)};react_production_min.useEffect=function(ss,as){return U$1.current.useEffect(ss,as)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(ss,as,us){return U$1.current.useImperativeHandle(ss,as,us)};react_production_min.useInsertionEffect=function(ss,as){return U$1.current.useInsertionEffect(ss,as)};react_production_min.useLayoutEffect=function(ss,as){return U$1.current.useLayoutEffect(ss,as)};react_production_min.useMemo=function(ss,as){return U$1.current.useMemo(ss,as)};react_production_min.useReducer=function(ss,as,us){return U$1.current.useReducer(ss,as,us)};react_production_min.useRef=function(ss){return U$1.current.useRef(ss)};react_production_min.useState=function(ss){return U$1.current.useState(ss)};react_production_min.useSyncExternalStore=function(ss,as,us){return U$1.current.useSyncExternalStore(ss,as,us)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs$1(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$5=reactExports,k$6=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(ss,as,us){var cs,$a={},na=null,tu=null;us!==void 0&&(na=""+us),as.key!==void 0&&(na=""+as.key),as.ref!==void 0&&(tu=as.ref);for(cs in as)m$3.call(as,cs)&&!p$5.hasOwnProperty(cs)&&($a[cs]=as[cs]);if(ss&&ss.defaultProps)for(cs in as=ss.defaultProps,as)$a[cs]===void 0&&($a[cs]=as[cs]);return{$$typeof:k$6,type:ss,key:na,ref:tu,props:$a,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ss){function as(mu,cu){var eu=mu.length;mu.push(cu);e:for(;0<eu;){var hu=eu-1>>>1,Eu=mu[hu];if(0<$a(Eu,cu))mu[hu]=cu,mu[eu]=Eu,eu=hu;else break e}}function us(mu){return mu.length===0?null:mu[0]}function cs(mu){if(mu.length===0)return null;var cu=mu[0],eu=mu.pop();if(eu!==cu){mu[0]=eu;e:for(var hu=0,Eu=mu.length,Ru=Eu>>>1;hu<Ru;){var Tu=2*(hu+1)-1,qu=mu[Tu],Du=Tu+1,Iu=mu[Du];if(0>$a(qu,eu))Du<Eu&&0>$a(Iu,qu)?(mu[hu]=Iu,mu[Du]=eu,hu=Du):(mu[hu]=qu,mu[Tu]=eu,hu=Tu);else if(Du<Eu&&0>$a(Iu,eu))mu[hu]=Iu,mu[Du]=eu,hu=Du;else break e}}return cu}function $a(mu,cu){var eu=mu.sortIndex-cu.sortIndex;return eu!==0?eu:mu.id-cu.id}if(typeof performance=="object"&&typeof performance.now=="function"){var na=performance;ss.unstable_now=function(){return na.now()}}else{var tu=Date,iu=tu.now();ss.unstable_now=function(){return tu.now()-iu}}var su=[],au=[],ou=1,fu=null,pu=3,vu=!1,gu=!1,bu=!1,xu=typeof setTimeout=="function"?setTimeout:null,$u=typeof clearTimeout=="function"?clearTimeout:null,wu=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _u(mu){for(var cu=us(au);cu!==null;){if(cu.callback===null)cs(au);else if(cu.startTime<=mu)cs(au),cu.sortIndex=cu.expirationTime,as(su,cu);else break;cu=us(au)}}function Mu(mu){if(bu=!1,_u(mu),!gu)if(us(su)!==null)gu=!0,lu(Au);else{var cu=us(au);cu!==null&&du(Mu,cu.startTime-mu)}}function Au(mu,cu){gu=!1,bu&&(bu=!1,$u(Bu),Bu=-1),vu=!0;var eu=pu;try{for(_u(cu),fu=us(su);fu!==null&&(!(fu.expirationTime>cu)||mu&&!yu());){var hu=fu.callback;if(typeof hu=="function"){fu.callback=null,pu=fu.priorityLevel;var Eu=hu(fu.expirationTime<=cu);cu=ss.unstable_now(),typeof Eu=="function"?fu.callback=Eu:fu===us(su)&&cs(su),_u(cu)}else cs(su);fu=us(su)}if(fu!==null)var Ru=!0;else{var Tu=us(au);Tu!==null&&du(Mu,Tu.startTime-cu),Ru=!1}return Ru}finally{fu=null,pu=eu,vu=!1}}var Pu=!1,Su=null,Bu=-1,Ou=5,Vu=-1;function yu(){return!(ss.unstable_now()-Vu<Ou)}function _a(){if(Su!==null){var mu=ss.unstable_now();Vu=mu;var cu=!0;try{cu=Su(!0,mu)}finally{cu?ru():(Pu=!1,Su=null)}}else Pu=!1}var ru;if(typeof wu=="function")ru=function(){wu(_a)};else if(typeof MessageChannel<"u"){var nu=new MessageChannel,uu=nu.port2;nu.port1.onmessage=_a,ru=function(){uu.postMessage(null)}}else ru=function(){xu(_a,0)};function lu(mu){Su=mu,Pu||(Pu=!0,ru())}function du(mu,cu){Bu=xu(function(){mu(ss.unstable_now())},cu)}ss.unstable_IdlePriority=5,ss.unstable_ImmediatePriority=1,ss.unstable_LowPriority=4,ss.unstable_NormalPriority=3,ss.unstable_Profiling=null,ss.unstable_UserBlockingPriority=2,ss.unstable_cancelCallback=function(mu){mu.callback=null},ss.unstable_continueExecution=function(){gu||vu||(gu=!0,lu(Au))},ss.unstable_forceFrameRate=function(mu){0>mu||125<mu?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ou=0<mu?Math.floor(1e3/mu):5},ss.unstable_getCurrentPriorityLevel=function(){return pu},ss.unstable_getFirstCallbackNode=function(){return us(su)},ss.unstable_next=function(mu){switch(pu){case 1:case 2:case 3:var cu=3;break;default:cu=pu}var eu=pu;pu=cu;try{return mu()}finally{pu=eu}},ss.unstable_pauseExecution=function(){},ss.unstable_requestPaint=function(){},ss.unstable_runWithPriority=function(mu,cu){switch(mu){case 1:case 2:case 3:case 4:case 5:break;default:mu=3}var eu=pu;pu=mu;try{return cu()}finally{pu=eu}},ss.unstable_scheduleCallback=function(mu,cu,eu){var hu=ss.unstable_now();switch(typeof eu=="object"&&eu!==null?(eu=eu.delay,eu=typeof eu=="number"&&0<eu?hu+eu:hu):eu=hu,mu){case 1:var Eu=-1;break;case 2:Eu=250;break;case 5:Eu=1073741823;break;case 4:Eu=1e4;break;default:Eu=5e3}return Eu=eu+Eu,mu={id:ou++,callback:cu,priorityLevel:mu,startTime:eu,expirationTime:Eu,sortIndex:-1},eu>hu?(mu.sortIndex=eu,as(au,mu),us(su)===null&&mu===us(au)&&(bu?($u(Bu),Bu=-1):bu=!0,du(Mu,eu-hu))):(mu.sortIndex=Eu,as(su,mu),gu||vu||(gu=!0,lu(Au))),mu},ss.unstable_shouldYield=yu,ss.unstable_wrapCallback=function(mu){var cu=pu;return function(){var eu=pu;pu=cu;try{return mu.apply(this,arguments)}finally{pu=eu}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$4(ss){for(var as="https://reactjs.org/docs/error-decoder.html?invariant="+ss,us=1;us<arguments.length;us++)as+="&args[]="+encodeURIComponent(arguments[us]);return"Minified React error #"+ss+"; visit "+as+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea={};function fa$1(ss,as){ha$1(ss,as),ha$1(ss+"Capture",as)}function ha$1(ss,as){for(ea[ss]=as,ss=0;ss<as.length;ss++)da$1.add(as[ss])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$1={};function oa(ss){return ja.call(ma$1,ss)?!0:ja.call(la$1,ss)?!1:ka.test(ss)?ma$1[ss]=!0:(la$1[ss]=!0,!1)}function pa$1(ss,as,us,cs){if(us!==null&&us.type===0)return!1;switch(typeof as){case"function":case"symbol":return!0;case"boolean":return cs?!1:us!==null?!us.acceptsBooleans:(ss=ss.toLowerCase().slice(0,5),ss!=="data-"&&ss!=="aria-");default:return!1}}function qa(ss,as,us,cs){if(as===null||typeof as>"u"||pa$1(ss,as,us,cs))return!0;if(cs)return!1;if(us!==null)switch(us.type){case 3:return!as;case 4:return as===!1;case 5:return isNaN(as);case 6:return isNaN(as)||1>as}return!1}function v$6(ss,as,us,cs,$a,na,tu){this.acceptsBooleans=as===2||as===3||as===4,this.attributeName=cs,this.attributeNamespace=$a,this.mustUseProperty=us,this.propertyName=ss,this.type=as,this.sanitizeURL=na,this.removeEmptyString=tu}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ss){z$4[ss]=new v$6(ss,0,!1,ss,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ss){var as=ss[0];z$4[as]=new v$6(as,1,!1,ss[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(ss){z$4[ss]=new v$6(ss,2,!1,ss.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ss){z$4[ss]=new v$6(ss,2,!1,ss,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ss){z$4[ss]=new v$6(ss,3,!1,ss.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(ss){z$4[ss]=new v$6(ss,3,!0,ss,null,!1,!1)});["capture","download"].forEach(function(ss){z$4[ss]=new v$6(ss,4,!1,ss,null,!1,!1)});["cols","rows","size","span"].forEach(function(ss){z$4[ss]=new v$6(ss,6,!1,ss,null,!1,!1)});["rowSpan","start"].forEach(function(ss){z$4[ss]=new v$6(ss,5,!1,ss.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(ss){return ss[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ss){var as=ss.replace(ra,sa);z$4[as]=new v$6(as,1,!1,ss,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ss){var as=ss.replace(ra,sa);z$4[as]=new v$6(as,1,!1,ss,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(ss){var as=ss.replace(ra,sa);z$4[as]=new v$6(as,1,!1,ss,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(ss){z$4[ss]=new v$6(ss,1,!1,ss.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(ss){z$4[ss]=new v$6(ss,1,!1,ss.toLowerCase(),null,!0,!0)});function ta(ss,as,us,cs){var $a=z$4.hasOwnProperty(as)?z$4[as]:null;($a!==null?$a.type!==0:cs||!(2<as.length)||as[0]!=="o"&&as[0]!=="O"||as[1]!=="n"&&as[1]!=="N")&&(qa(as,us,$a,cs)&&(us=null),cs||$a===null?oa(as)&&(us===null?ss.removeAttribute(as):ss.setAttribute(as,""+us)):$a.mustUseProperty?ss[$a.propertyName]=us===null?$a.type===3?!1:"":us:(as=$a.attributeName,cs=$a.attributeNamespace,us===null?ss.removeAttribute(as):($a=$a.type,us=$a===3||$a===4&&us===!0?"":""+us,cs?ss.setAttributeNS(cs,as,us):ss.setAttribute(as,us))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(ss){return ss===null||typeof ss!="object"?null:(ss=Ja&&ss[Ja]||ss["@@iterator"],typeof ss=="function"?ss:null)}var A$3=Object.assign,La;function Ma(ss){if(La===void 0)try{throw Error()}catch(us){var as=us.stack.trim().match(/\n( *(at )?)/);La=as&&as[1]||""}return`
`+La+ss}var Na$1=!1;function Oa$1(ss,as){if(!ss||Na$1)return"";Na$1=!0;var us=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(as)if(as=function(){throw Error()},Object.defineProperty(as.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(as,[])}catch(au){var cs=au}Reflect.construct(ss,[],as)}else{try{as.call()}catch(au){cs=au}ss.call(as.prototype)}else{try{throw Error()}catch(au){cs=au}ss()}}catch(au){if(au&&cs&&typeof au.stack=="string"){for(var $a=au.stack.split(`
`),na=cs.stack.split(`
`),tu=$a.length-1,iu=na.length-1;1<=tu&&0<=iu&&$a[tu]!==na[iu];)iu--;for(;1<=tu&&0<=iu;tu--,iu--)if($a[tu]!==na[iu]){if(tu!==1||iu!==1)do if(tu--,iu--,0>iu||$a[tu]!==na[iu]){var su=`
`+$a[tu].replace(" at new "," at ");return ss.displayName&&su.includes("<anonymous>")&&(su=su.replace("<anonymous>",ss.displayName)),su}while(1<=tu&&0<=iu);break}}}finally{Na$1=!1,Error.prepareStackTrace=us}return(ss=ss?ss.displayName||ss.name:"")?Ma(ss):""}function Pa(ss){switch(ss.tag){case 5:return Ma(ss.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return ss=Oa$1(ss.type,!1),ss;case 11:return ss=Oa$1(ss.type.render,!1),ss;case 1:return ss=Oa$1(ss.type,!0),ss;default:return""}}function Qa(ss){if(ss==null)return null;if(typeof ss=="function")return ss.displayName||ss.name||null;if(typeof ss=="string")return ss;switch(ss){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za:return"StrictMode";case Ea$1:return"Suspense";case Fa:return"SuspenseList"}if(typeof ss=="object")switch(ss.$$typeof){case Ca:return(ss.displayName||"Context")+".Consumer";case Ba$1:return(ss._context.displayName||"Context")+".Provider";case Da:var as=ss.render;return ss=ss.displayName,ss||(ss=as.displayName||as.name||"",ss=ss!==""?"ForwardRef("+ss+")":"ForwardRef"),ss;case Ga:return as=ss.displayName||null,as!==null?as:Qa(ss.type)||"Memo";case Ha:as=ss._payload,ss=ss._init;try{return Qa(ss(as))}catch{}}return null}function Ra(ss){var as=ss.type;switch(ss.tag){case 24:return"Cache";case 9:return(as.displayName||"Context")+".Consumer";case 10:return(as._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ss=as.render,ss=ss.displayName||ss.name||"",as.displayName||(ss!==""?"ForwardRef("+ss+")":"ForwardRef");case 7:return"Fragment";case 5:return as;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(as);case 8:return as===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof as=="function")return as.displayName||as.name||null;if(typeof as=="string")return as}return null}function Sa$1(ss){switch(typeof ss){case"boolean":case"number":case"string":case"undefined":return ss;case"object":return ss;default:return""}}function Ta(ss){var as=ss.type;return(ss=ss.nodeName)&&ss.toLowerCase()==="input"&&(as==="checkbox"||as==="radio")}function Ua$1(ss){var as=Ta(ss)?"checked":"value",us=Object.getOwnPropertyDescriptor(ss.constructor.prototype,as),cs=""+ss[as];if(!ss.hasOwnProperty(as)&&typeof us<"u"&&typeof us.get=="function"&&typeof us.set=="function"){var $a=us.get,na=us.set;return Object.defineProperty(ss,as,{configurable:!0,get:function(){return $a.call(this)},set:function(tu){cs=""+tu,na.call(this,tu)}}),Object.defineProperty(ss,as,{enumerable:us.enumerable}),{getValue:function(){return cs},setValue:function(tu){cs=""+tu},stopTracking:function(){ss._valueTracker=null,delete ss[as]}}}}function Va(ss){ss._valueTracker||(ss._valueTracker=Ua$1(ss))}function Wa(ss){if(!ss)return!1;var as=ss._valueTracker;if(!as)return!0;var us=as.getValue(),cs="";return ss&&(cs=Ta(ss)?ss.checked?"true":"false":ss.value),ss=cs,ss!==us?(as.setValue(ss),!0):!1}function Xa(ss){if(ss=ss||(typeof document<"u"?document:void 0),typeof ss>"u")return null;try{return ss.activeElement||ss.body}catch{return ss.body}}function Ya(ss,as){var us=as.checked;return A$3({},as,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:us??ss._wrapperState.initialChecked})}function Za(ss,as){var us=as.defaultValue==null?"":as.defaultValue,cs=as.checked!=null?as.checked:as.defaultChecked;us=Sa$1(as.value!=null?as.value:us),ss._wrapperState={initialChecked:cs,initialValue:us,controlled:as.type==="checkbox"||as.type==="radio"?as.checked!=null:as.value!=null}}function ab(ss,as){as=as.checked,as!=null&&ta(ss,"checked",as,!1)}function bb(ss,as){ab(ss,as);var us=Sa$1(as.value),cs=as.type;if(us!=null)cs==="number"?(us===0&&ss.value===""||ss.value!=us)&&(ss.value=""+us):ss.value!==""+us&&(ss.value=""+us);else if(cs==="submit"||cs==="reset"){ss.removeAttribute("value");return}as.hasOwnProperty("value")?cb(ss,as.type,us):as.hasOwnProperty("defaultValue")&&cb(ss,as.type,Sa$1(as.defaultValue)),as.checked==null&&as.defaultChecked!=null&&(ss.defaultChecked=!!as.defaultChecked)}function db(ss,as,us){if(as.hasOwnProperty("value")||as.hasOwnProperty("defaultValue")){var cs=as.type;if(!(cs!=="submit"&&cs!=="reset"||as.value!==void 0&&as.value!==null))return;as=""+ss._wrapperState.initialValue,us||as===ss.value||(ss.value=as),ss.defaultValue=as}us=ss.name,us!==""&&(ss.name=""),ss.defaultChecked=!!ss._wrapperState.initialChecked,us!==""&&(ss.name=us)}function cb(ss,as,us){(as!=="number"||Xa(ss.ownerDocument)!==ss)&&(us==null?ss.defaultValue=""+ss._wrapperState.initialValue:ss.defaultValue!==""+us&&(ss.defaultValue=""+us))}var eb=Array.isArray;function fb(ss,as,us,cs){if(ss=ss.options,as){as={};for(var $a=0;$a<us.length;$a++)as["$"+us[$a]]=!0;for(us=0;us<ss.length;us++)$a=as.hasOwnProperty("$"+ss[us].value),ss[us].selected!==$a&&(ss[us].selected=$a),$a&&cs&&(ss[us].defaultSelected=!0)}else{for(us=""+Sa$1(us),as=null,$a=0;$a<ss.length;$a++){if(ss[$a].value===us){ss[$a].selected=!0,cs&&(ss[$a].defaultSelected=!0);return}as!==null||ss[$a].disabled||(as=ss[$a])}as!==null&&(as.selected=!0)}}function gb(ss,as){if(as.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},as,{value:void 0,defaultValue:void 0,children:""+ss._wrapperState.initialValue})}function hb(ss,as){var us=as.value;if(us==null){if(us=as.children,as=as.defaultValue,us!=null){if(as!=null)throw Error(p$4(92));if(eb(us)){if(1<us.length)throw Error(p$4(93));us=us[0]}as=us}as==null&&(as=""),us=as}ss._wrapperState={initialValue:Sa$1(us)}}function ib(ss,as){var us=Sa$1(as.value),cs=Sa$1(as.defaultValue);us!=null&&(us=""+us,us!==ss.value&&(ss.value=us),as.defaultValue==null&&ss.defaultValue!==us&&(ss.defaultValue=us)),cs!=null&&(ss.defaultValue=""+cs)}function jb(ss){var as=ss.textContent;as===ss._wrapperState.initialValue&&as!==""&&as!==null&&(ss.value=as)}function kb(ss){switch(ss){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(ss,as){return ss==null||ss==="http://www.w3.org/1999/xhtml"?kb(as):ss==="http://www.w3.org/2000/svg"&&as==="foreignObject"?"http://www.w3.org/1999/xhtml":ss}var mb,nb=function(ss){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(as,us,cs,$a){MSApp.execUnsafeLocalFunction(function(){return ss(as,us,cs,$a)})}:ss}(function(ss,as){if(ss.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ss)ss.innerHTML=as;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+as.valueOf().toString()+"</svg>",as=mb.firstChild;ss.firstChild;)ss.removeChild(ss.firstChild);for(;as.firstChild;)ss.appendChild(as.firstChild)}});function ob(ss,as){if(as){var us=ss.firstChild;if(us&&us===ss.lastChild&&us.nodeType===3){us.nodeValue=as;return}}ss.textContent=as}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(ss){qb.forEach(function(as){as=as+ss.charAt(0).toUpperCase()+ss.substring(1),pb[as]=pb[ss]})});function rb(ss,as,us){return as==null||typeof as=="boolean"||as===""?"":us||typeof as!="number"||as===0||pb.hasOwnProperty(ss)&&pb[ss]?(""+as).trim():as+"px"}function sb(ss,as){ss=ss.style;for(var us in as)if(as.hasOwnProperty(us)){var cs=us.indexOf("--")===0,$a=rb(us,as[us],cs);us==="float"&&(us="cssFloat"),cs?ss.setProperty(us,$a):ss[us]=$a}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(ss,as){if(as){if(tb[ss]&&(as.children!=null||as.dangerouslySetInnerHTML!=null))throw Error(p$4(137,ss));if(as.dangerouslySetInnerHTML!=null){if(as.children!=null)throw Error(p$4(60));if(typeof as.dangerouslySetInnerHTML!="object"||!("__html"in as.dangerouslySetInnerHTML))throw Error(p$4(61))}if(as.style!=null&&typeof as.style!="object")throw Error(p$4(62))}}function vb(ss,as){if(ss.indexOf("-")===-1)return typeof as.is=="string";switch(ss){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(ss){return ss=ss.target||ss.srcElement||window,ss.correspondingUseElement&&(ss=ss.correspondingUseElement),ss.nodeType===3?ss.parentNode:ss}var yb=null,zb=null,Ab=null;function Bb(ss){if(ss=Cb(ss)){if(typeof yb!="function")throw Error(p$4(280));var as=ss.stateNode;as&&(as=Db(as),yb(ss.stateNode,ss.type,as))}}function Eb(ss){zb?Ab?Ab.push(ss):Ab=[ss]:zb=ss}function Fb(){if(zb){var ss=zb,as=Ab;if(Ab=zb=null,Bb(ss),as)for(ss=0;ss<as.length;ss++)Bb(as[ss])}}function Gb(ss,as){return ss(as)}function Hb(){}var Ib=!1;function Jb(ss,as,us){if(Ib)return ss(as,us);Ib=!0;try{return Gb(ss,as,us)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(ss,as){var us=ss.stateNode;if(us===null)return null;var cs=Db(us);if(cs===null)return null;us=cs[as];e:switch(as){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(cs=!cs.disabled)||(ss=ss.type,cs=!(ss==="button"||ss==="input"||ss==="select"||ss==="textarea")),ss=!cs;break e;default:ss=!1}if(ss)return null;if(us&&typeof us!="function")throw Error(p$4(231,as,typeof us));return us}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(ss,as,us,cs,$a,na,tu,iu,su){var au=Array.prototype.slice.call(arguments,3);try{as.apply(us,au)}catch(ou){this.onError(ou)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(ss){Ob=!0,Pb=ss}};function Tb(ss,as,us,cs,$a,na,tu,iu,su){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(ss,as,us,cs,$a,na,tu,iu,su){if(Tb.apply(this,arguments),Ob){if(Ob){var au=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=au)}}function Vb(ss){var as=ss,us=ss;if(ss.alternate)for(;as.return;)as=as.return;else{ss=as;do as=ss,as.flags&4098&&(us=as.return),ss=as.return;while(ss)}return as.tag===3?us:null}function Wb(ss){if(ss.tag===13){var as=ss.memoizedState;if(as===null&&(ss=ss.alternate,ss!==null&&(as=ss.memoizedState)),as!==null)return as.dehydrated}return null}function Xb(ss){if(Vb(ss)!==ss)throw Error(p$4(188))}function Yb(ss){var as=ss.alternate;if(!as){if(as=Vb(ss),as===null)throw Error(p$4(188));return as!==ss?null:ss}for(var us=ss,cs=as;;){var $a=us.return;if($a===null)break;var na=$a.alternate;if(na===null){if(cs=$a.return,cs!==null){us=cs;continue}break}if($a.child===na.child){for(na=$a.child;na;){if(na===us)return Xb($a),ss;if(na===cs)return Xb($a),as;na=na.sibling}throw Error(p$4(188))}if(us.return!==cs.return)us=$a,cs=na;else{for(var tu=!1,iu=$a.child;iu;){if(iu===us){tu=!0,us=$a,cs=na;break}if(iu===cs){tu=!0,cs=$a,us=na;break}iu=iu.sibling}if(!tu){for(iu=na.child;iu;){if(iu===us){tu=!0,us=na,cs=$a;break}if(iu===cs){tu=!0,cs=na,us=$a;break}iu=iu.sibling}if(!tu)throw Error(p$4(189))}}if(us.alternate!==cs)throw Error(p$4(190))}if(us.tag!==3)throw Error(p$4(188));return us.stateNode.current===us?ss:as}function Zb(ss){return ss=Yb(ss),ss!==null?$b(ss):null}function $b(ss){if(ss.tag===5||ss.tag===6)return ss;for(ss=ss.child;ss!==null;){var as=$b(ss);if(as!==null)return as;ss=ss.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B$4=ca$1.unstable_now,ec$2=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(ss){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,ss,void 0,(ss.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(ss){return ss>>>=0,ss===0?32:31-(pc$1(ss)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(ss){switch(ss&-ss){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ss&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ss&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ss}}function uc$1(ss,as){var us=ss.pendingLanes;if(us===0)return 0;var cs=0,$a=ss.suspendedLanes,na=ss.pingedLanes,tu=us&268435455;if(tu!==0){var iu=tu&~$a;iu!==0?cs=tc$1(iu):(na&=tu,na!==0&&(cs=tc$1(na)))}else tu=us&~$a,tu!==0?cs=tc$1(tu):na!==0&&(cs=tc$1(na));if(cs===0)return 0;if(as!==0&&as!==cs&&!(as&$a)&&($a=cs&-cs,na=as&-as,$a>=na||$a===16&&(na&4194240)!==0))return as;if(cs&4&&(cs|=us&16),as=ss.entangledLanes,as!==0)for(ss=ss.entanglements,as&=cs;0<as;)us=31-oc$1(as),$a=1<<us,cs|=ss[us],as&=~$a;return cs}function vc$1(ss,as){switch(ss){case 1:case 2:case 4:return as+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return as+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(ss,as){for(var us=ss.suspendedLanes,cs=ss.pingedLanes,$a=ss.expirationTimes,na=ss.pendingLanes;0<na;){var tu=31-oc$1(na),iu=1<<tu,su=$a[tu];su===-1?(!(iu&us)||iu&cs)&&($a[tu]=vc$1(iu,as)):su<=as&&(ss.expiredLanes|=iu),na&=~iu}}function xc$1(ss){return ss=ss.pendingLanes&-1073741825,ss!==0?ss:ss&1073741824?1073741824:0}function yc$1(){var ss=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),ss}function zc$1(ss){for(var as=[],us=0;31>us;us++)as.push(ss);return as}function Ac$1(ss,as,us){ss.pendingLanes|=as,as!==536870912&&(ss.suspendedLanes=0,ss.pingedLanes=0),ss=ss.eventTimes,as=31-oc$1(as),ss[as]=us}function Bc$1(ss,as){var us=ss.pendingLanes&~as;ss.pendingLanes=as,ss.suspendedLanes=0,ss.pingedLanes=0,ss.expiredLanes&=as,ss.mutableReadLanes&=as,ss.entangledLanes&=as,as=ss.entanglements;var cs=ss.eventTimes;for(ss=ss.expirationTimes;0<us;){var $a=31-oc$1(us),na=1<<$a;as[$a]=0,cs[$a]=-1,ss[$a]=-1,us&=~na}}function Cc$1(ss,as){var us=ss.entangledLanes|=as;for(ss=ss.entanglements;us;){var cs=31-oc$1(us),$a=1<<cs;$a&as|ss[cs]&as&&(ss[cs]|=as),us&=~$a}}var C$4=0;function Dc$1(ss){return ss&=-ss,1<ss?4<ss?ss&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(ss,as){switch(ss){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(as.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(as.pointerId)}}function Tc$1(ss,as,us,cs,$a,na){return ss===null||ss.nativeEvent!==na?(ss={blockedOn:as,domEventName:us,eventSystemFlags:cs,nativeEvent:na,targetContainers:[$a]},as!==null&&(as=Cb(as),as!==null&&Fc$1(as)),ss):(ss.eventSystemFlags|=cs,as=ss.targetContainers,$a!==null&&as.indexOf($a)===-1&&as.push($a),ss)}function Uc$1(ss,as,us,cs,$a){switch(as){case"focusin":return Lc$1=Tc$1(Lc$1,ss,as,us,cs,$a),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,ss,as,us,cs,$a),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,ss,as,us,cs,$a),!0;case"pointerover":var na=$a.pointerId;return Oc$1.set(na,Tc$1(Oc$1.get(na)||null,ss,as,us,cs,$a)),!0;case"gotpointercapture":return na=$a.pointerId,Pc$1.set(na,Tc$1(Pc$1.get(na)||null,ss,as,us,cs,$a)),!0}return!1}function Vc$1(ss){var as=Wc$1(ss.target);if(as!==null){var us=Vb(as);if(us!==null){if(as=us.tag,as===13){if(as=Wb(us),as!==null){ss.blockedOn=as,Ic$1(ss.priority,function(){Gc$1(us)});return}}else if(as===3&&us.stateNode.current.memoizedState.isDehydrated){ss.blockedOn=us.tag===3?us.stateNode.containerInfo:null;return}}}ss.blockedOn=null}function Xc$1(ss){if(ss.blockedOn!==null)return!1;for(var as=ss.targetContainers;0<as.length;){var us=Yc$1(ss.domEventName,ss.eventSystemFlags,as[0],ss.nativeEvent);if(us===null){us=ss.nativeEvent;var cs=new us.constructor(us.type,us);wb=cs,us.target.dispatchEvent(cs),wb=null}else return as=Cb(us),as!==null&&Fc$1(as),ss.blockedOn=us,!1;as.shift()}return!0}function Zc$1(ss,as,us){Xc$1(ss)&&us.delete(as)}function $c$1(){Jc=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad(ss,as){ss.blockedOn===as&&(ss.blockedOn=null,Jc||(Jc=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd(ss){function as($a){return ad($a,ss)}if(0<Kc$1.length){ad(Kc$1[0],ss);for(var us=1;us<Kc$1.length;us++){var cs=Kc$1[us];cs.blockedOn===ss&&(cs.blockedOn=null)}}for(Lc$1!==null&&ad(Lc$1,ss),Mc$1!==null&&ad(Mc$1,ss),Nc$1!==null&&ad(Nc$1,ss),Oc$1.forEach(as),Pc$1.forEach(as),us=0;us<Qc.length;us++)cs=Qc[us],cs.blockedOn===ss&&(cs.blockedOn=null);for(;0<Qc.length&&(us=Qc[0],us.blockedOn===null);)Vc$1(us),us.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(ss,as,us,cs){var $a=C$4,na=cd.transition;cd.transition=null;try{C$4=1,fd(ss,as,us,cs)}finally{C$4=$a,cd.transition=na}}function gd(ss,as,us,cs){var $a=C$4,na=cd.transition;cd.transition=null;try{C$4=4,fd(ss,as,us,cs)}finally{C$4=$a,cd.transition=na}}function fd(ss,as,us,cs){if(dd){var $a=Yc$1(ss,as,us,cs);if($a===null)hd(ss,as,cs,id$1,us),Sc$1(ss,cs);else if(Uc$1($a,ss,as,us,cs))cs.stopPropagation();else if(Sc$1(ss,cs),as&4&&-1<Rc$1.indexOf(ss)){for(;$a!==null;){var na=Cb($a);if(na!==null&&Ec$1(na),na=Yc$1(ss,as,us,cs),na===null&&hd(ss,as,cs,id$1,us),na===$a)break;$a=na}$a!==null&&cs.stopPropagation()}else hd(ss,as,cs,null,us)}}var id$1=null;function Yc$1(ss,as,us,cs){if(id$1=null,ss=xb(cs),ss=Wc$1(ss),ss!==null)if(as=Vb(ss),as===null)ss=null;else if(us=as.tag,us===13){if(ss=Wb(as),ss!==null)return ss;ss=null}else if(us===3){if(as.stateNode.current.memoizedState.isDehydrated)return as.tag===3?as.stateNode.containerInfo:null;ss=null}else as!==ss&&(ss=null);return id$1=ss,null}function jd(ss){switch(ss){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$2()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var ss,as=ld,us=as.length,cs,$a="value"in kd?kd.value:kd.textContent,na=$a.length;for(ss=0;ss<us&&as[ss]===$a[ss];ss++);var tu=us-ss;for(cs=1;cs<=tu&&as[us-cs]===$a[na-cs];cs++);return md=$a.slice(ss,1<cs?1-cs:void 0)}function od(ss){var as=ss.keyCode;return"charCode"in ss?(ss=ss.charCode,ss===0&&as===13&&(ss=13)):ss=as,ss===10&&(ss=13),32<=ss||ss===13?ss:0}function pd(){return!0}function qd(){return!1}function rd(ss){function as(us,cs,$a,na,tu){this._reactName=us,this._targetInst=$a,this.type=cs,this.nativeEvent=na,this.target=tu,this.currentTarget=null;for(var iu in ss)ss.hasOwnProperty(iu)&&(us=ss[iu],this[iu]=us?us(na):na[iu]);return this.isDefaultPrevented=(na.defaultPrevented!=null?na.defaultPrevented:na.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(as.prototype,{preventDefault:function(){this.defaultPrevented=!0;var us=this.nativeEvent;us&&(us.preventDefault?us.preventDefault():typeof us.returnValue!="unknown"&&(us.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var us=this.nativeEvent;us&&(us.stopPropagation?us.stopPropagation():typeof us.cancelBubble!="unknown"&&(us.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),as}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ss){return ss.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(ss){return ss.relatedTarget===void 0?ss.fromElement===ss.srcElement?ss.toElement:ss.fromElement:ss.relatedTarget},movementX:function(ss){return"movementX"in ss?ss.movementX:(ss!==yd&&(yd&&ss.type==="mousemove"?(wd=ss.screenX-yd.screenX,xd=ss.screenY-yd.screenY):xd=wd=0,yd=ss),wd)},movementY:function(ss){return"movementY"in ss?ss.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(ss){return"clipboardData"in ss?ss.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(ss){var as=this.nativeEvent;return as.getModifierState?as.getModifierState(ss):(ss=Od[ss])?!!as[ss]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(ss){if(ss.key){var as=Md[ss.key]||ss.key;if(as!=="Unidentified")return as}return ss.type==="keypress"?(ss=od(ss),ss===13?"Enter":String.fromCharCode(ss)):ss.type==="keydown"||ss.type==="keyup"?Nd[ss.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(ss){return ss.type==="keypress"?od(ss):0},keyCode:function(ss){return ss.type==="keydown"||ss.type==="keyup"?ss.keyCode:0},which:function(ss){return ss.type==="keypress"?od(ss):ss.type==="keydown"||ss.type==="keyup"?ss.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(ss){return"deltaX"in ss?ss.deltaX:"wheelDeltaX"in ss?-ss.wheelDeltaX:0},deltaY:function(ss){return"deltaY"in ss?ss.deltaY:"wheelDeltaY"in ss?-ss.wheelDeltaY:"wheelDelta"in ss?-ss.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$3=null;ia&&"documentMode"in document&&(be$3=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$3,de$3=ia&&(!ae$1||be$3&&8<be$3&&11>=be$3),ee$2=" ",fe$2=!1;function ge$3(ss,as){switch(ss){case"keyup":return $d.indexOf(as.keyCode)!==-1;case"keydown":return as.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$3(ss){return ss=ss.detail,typeof ss=="object"&&"data"in ss?ss.data:null}var ie$2=!1;function je$3(ss,as){switch(ss){case"compositionend":return he$3(as);case"keypress":return as.which!==32?null:(fe$2=!0,ee$2);case"textInput":return ss=as.data,ss===ee$2&&fe$2?null:ss;default:return null}}function ke$4(ss,as){if(ie$2)return ss==="compositionend"||!ae$1&&ge$3(ss,as)?(ss=nd(),md=ld=kd=null,ie$2=!1,ss):null;switch(ss){case"paste":return null;case"keypress":if(!(as.ctrlKey||as.altKey||as.metaKey)||as.ctrlKey&&as.altKey){if(as.char&&1<as.char.length)return as.char;if(as.which)return String.fromCharCode(as.which)}return null;case"compositionend":return de$3&&as.locale!=="ko"?null:as.data;default:return null}}var le$3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$3(ss){var as=ss&&ss.nodeName&&ss.nodeName.toLowerCase();return as==="input"?!!le$3[ss.type]:as==="textarea"}function ne$2(ss,as,us,cs){Eb(cs),as=oe$2(as,"onChange"),0<as.length&&(us=new td("onChange","change",null,us,cs),ss.push({event:us,listeners:as}))}var pe$3=null,qe$3=null;function re$2(ss){se$4(ss,0)}function te$3(ss){var as=ue$2(ss);if(Wa(as))return ss}function ve$2(ss,as){if(ss==="change")return as}var we$3=!1;if(ia){var xe$2;if(ia){var ye$3="oninput"in document;if(!ye$3){var ze$3=document.createElement("div");ze$3.setAttribute("oninput","return;"),ye$3=typeof ze$3.oninput=="function"}xe$2=ye$3}else xe$2=!1;we$3=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$3&&(pe$3.detachEvent("onpropertychange",Be$2),qe$3=pe$3=null)}function Be$2(ss){if(ss.propertyName==="value"&&te$3(qe$3)){var as=[];ne$2(as,qe$3,ss,xb(ss)),Jb(re$2,as)}}function Ce$2(ss,as,us){ss==="focusin"?(Ae$1(),pe$3=as,qe$3=us,pe$3.attachEvent("onpropertychange",Be$2)):ss==="focusout"&&Ae$1()}function De$3(ss){if(ss==="selectionchange"||ss==="keyup"||ss==="keydown")return te$3(qe$3)}function Ee$4(ss,as){if(ss==="click")return te$3(as)}function Fe$2(ss,as){if(ss==="input"||ss==="change")return te$3(as)}function Ge$4(ss,as){return ss===as&&(ss!==0||1/ss===1/as)||ss!==ss&&as!==as}var He$3=typeof Object.is=="function"?Object.is:Ge$4;function Ie$3(ss,as){if(He$3(ss,as))return!0;if(typeof ss!="object"||ss===null||typeof as!="object"||as===null)return!1;var us=Object.keys(ss),cs=Object.keys(as);if(us.length!==cs.length)return!1;for(cs=0;cs<us.length;cs++){var $a=us[cs];if(!ja.call(as,$a)||!He$3(ss[$a],as[$a]))return!1}return!0}function Je$4(ss){for(;ss&&ss.firstChild;)ss=ss.firstChild;return ss}function Ke$4(ss,as){var us=Je$4(ss);ss=0;for(var cs;us;){if(us.nodeType===3){if(cs=ss+us.textContent.length,ss<=as&&cs>=as)return{node:us,offset:as-ss};ss=cs}e:{for(;us;){if(us.nextSibling){us=us.nextSibling;break e}us=us.parentNode}us=void 0}us=Je$4(us)}}function Le$4(ss,as){return ss&&as?ss===as?!0:ss&&ss.nodeType===3?!1:as&&as.nodeType===3?Le$4(ss,as.parentNode):"contains"in ss?ss.contains(as):ss.compareDocumentPosition?!!(ss.compareDocumentPosition(as)&16):!1:!1}function Me$4(){for(var ss=window,as=Xa();as instanceof ss.HTMLIFrameElement;){try{var us=typeof as.contentWindow.location.href=="string"}catch{us=!1}if(us)ss=as.contentWindow;else break;as=Xa(ss.document)}return as}function Ne$1(ss){var as=ss&&ss.nodeName&&ss.nodeName.toLowerCase();return as&&(as==="input"&&(ss.type==="text"||ss.type==="search"||ss.type==="tel"||ss.type==="url"||ss.type==="password")||as==="textarea"||ss.contentEditable==="true")}function Oe$1(ss){var as=Me$4(),us=ss.focusedElem,cs=ss.selectionRange;if(as!==us&&us&&us.ownerDocument&&Le$4(us.ownerDocument.documentElement,us)){if(cs!==null&&Ne$1(us)){if(as=cs.start,ss=cs.end,ss===void 0&&(ss=as),"selectionStart"in us)us.selectionStart=as,us.selectionEnd=Math.min(ss,us.value.length);else if(ss=(as=us.ownerDocument||document)&&as.defaultView||window,ss.getSelection){ss=ss.getSelection();var $a=us.textContent.length,na=Math.min(cs.start,$a);cs=cs.end===void 0?na:Math.min(cs.end,$a),!ss.extend&&na>cs&&($a=cs,cs=na,na=$a),$a=Ke$4(us,na);var tu=Ke$4(us,cs);$a&&tu&&(ss.rangeCount!==1||ss.anchorNode!==$a.node||ss.anchorOffset!==$a.offset||ss.focusNode!==tu.node||ss.focusOffset!==tu.offset)&&(as=as.createRange(),as.setStart($a.node,$a.offset),ss.removeAllRanges(),na>cs?(ss.addRange(as),ss.extend(tu.node,tu.offset)):(as.setEnd(tu.node,tu.offset),ss.addRange(as)))}}for(as=[],ss=us;ss=ss.parentNode;)ss.nodeType===1&&as.push({element:ss,left:ss.scrollLeft,top:ss.scrollTop});for(typeof us.focus=="function"&&us.focus(),us=0;us<as.length;us++)ss=as[us],ss.element.scrollLeft=ss.left,ss.element.scrollTop=ss.top}}var Pe$2=ia&&"documentMode"in document&&11>=document.documentMode,Qe$3=null,Re$2=null,Se$2=null,Te$2=!1;function Ue$3(ss,as,us){var cs=us.window===us?us.document:us.nodeType===9?us:us.ownerDocument;Te$2||Qe$3==null||Qe$3!==Xa(cs)||(cs=Qe$3,"selectionStart"in cs&&Ne$1(cs)?cs={start:cs.selectionStart,end:cs.selectionEnd}:(cs=(cs.ownerDocument&&cs.ownerDocument.defaultView||window).getSelection(),cs={anchorNode:cs.anchorNode,anchorOffset:cs.anchorOffset,focusNode:cs.focusNode,focusOffset:cs.focusOffset}),Se$2&&Ie$3(Se$2,cs)||(Se$2=cs,cs=oe$2(Re$2,"onSelect"),0<cs.length&&(as=new td("onSelect","select",null,as,us),ss.push({event:as,listeners:cs}),as.target=Qe$3)))}function Ve$3(ss,as){var us={};return us[ss.toLowerCase()]=as.toLowerCase(),us["Webkit"+ss]="webkit"+as,us["Moz"+ss]="moz"+as,us}var We$3={animationend:Ve$3("Animation","AnimationEnd"),animationiteration:Ve$3("Animation","AnimationIteration"),animationstart:Ve$3("Animation","AnimationStart"),transitionend:Ve$3("Transition","TransitionEnd")},Xe$3={},Ye$4={};ia&&(Ye$4=document.createElement("div").style,"AnimationEvent"in window||(delete We$3.animationend.animation,delete We$3.animationiteration.animation,delete We$3.animationstart.animation),"TransitionEvent"in window||delete We$3.transitionend.transition);function Ze$3(ss){if(Xe$3[ss])return Xe$3[ss];if(!We$3[ss])return ss;var as=We$3[ss],us;for(us in as)if(as.hasOwnProperty(us)&&us in Ye$4)return Xe$3[ss]=as[us];return ss}var $e$2=Ze$3("animationend"),af=Ze$3("animationiteration"),bf=Ze$3("animationstart"),cf=Ze$3("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(ss,as){df.set(ss,as),fa$1(as,[ss])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$2,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(ss,as,us){var cs=ss.type||"unknown-event";ss.currentTarget=us,Ub(cs,as,void 0,ss),ss.currentTarget=null}function se$4(ss,as){as=(as&4)!==0;for(var us=0;us<ss.length;us++){var cs=ss[us],$a=cs.event;cs=cs.listeners;e:{var na=void 0;if(as)for(var tu=cs.length-1;0<=tu;tu--){var iu=cs[tu],su=iu.instance,au=iu.currentTarget;if(iu=iu.listener,su!==na&&$a.isPropagationStopped())break e;nf($a,iu,au),na=su}else for(tu=0;tu<cs.length;tu++){if(iu=cs[tu],su=iu.instance,au=iu.currentTarget,iu=iu.listener,su!==na&&$a.isPropagationStopped())break e;nf($a,iu,au),na=su}}}if(Qb)throw ss=Rb,Qb=!1,Rb=null,ss}function D$2(ss,as){var us=as[of];us===void 0&&(us=as[of]=new Set);var cs=ss+"__bubble";us.has(cs)||(pf(as,ss,2,!1),us.add(cs))}function qf(ss,as,us){var cs=0;as&&(cs|=4),pf(us,ss,cs,as)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(ss){if(!ss[rf]){ss[rf]=!0,da$1.forEach(function(us){us!=="selectionchange"&&(mf.has(us)||qf(us,!1,ss),qf(us,!0,ss))});var as=ss.nodeType===9?ss:ss.ownerDocument;as===null||as[rf]||(as[rf]=!0,qf("selectionchange",!1,as))}}function pf(ss,as,us,cs){switch(jd(as)){case 1:var $a=ed;break;case 4:$a=gd;break;default:$a=fd}us=$a.bind(null,as,us,ss),$a=void 0,!Lb||as!=="touchstart"&&as!=="touchmove"&&as!=="wheel"||($a=!0),cs?$a!==void 0?ss.addEventListener(as,us,{capture:!0,passive:$a}):ss.addEventListener(as,us,!0):$a!==void 0?ss.addEventListener(as,us,{passive:$a}):ss.addEventListener(as,us,!1)}function hd(ss,as,us,cs,$a){var na=cs;if(!(as&1)&&!(as&2)&&cs!==null)e:for(;;){if(cs===null)return;var tu=cs.tag;if(tu===3||tu===4){var iu=cs.stateNode.containerInfo;if(iu===$a||iu.nodeType===8&&iu.parentNode===$a)break;if(tu===4)for(tu=cs.return;tu!==null;){var su=tu.tag;if((su===3||su===4)&&(su=tu.stateNode.containerInfo,su===$a||su.nodeType===8&&su.parentNode===$a))return;tu=tu.return}for(;iu!==null;){if(tu=Wc$1(iu),tu===null)return;if(su=tu.tag,su===5||su===6){cs=na=tu;continue e}iu=iu.parentNode}}cs=cs.return}Jb(function(){var au=na,ou=xb(us),fu=[];e:{var pu=df.get(ss);if(pu!==void 0){var vu=td,gu=ss;switch(ss){case"keypress":if(od(us)===0)break e;case"keydown":case"keyup":vu=Rd;break;case"focusin":gu="focus",vu=Fd;break;case"focusout":gu="blur",vu=Fd;break;case"beforeblur":case"afterblur":vu=Fd;break;case"click":if(us.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vu=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vu=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vu=Vd;break;case $e$2:case af:case bf:vu=Hd;break;case cf:vu=Xd;break;case"scroll":vu=vd;break;case"wheel":vu=Zd;break;case"copy":case"cut":case"paste":vu=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vu=Td}var bu=(as&4)!==0,xu=!bu&&ss==="scroll",$u=bu?pu!==null?pu+"Capture":null:pu;bu=[];for(var wu=au,_u;wu!==null;){_u=wu;var Mu=_u.stateNode;if(_u.tag===5&&Mu!==null&&(_u=Mu,$u!==null&&(Mu=Kb(wu,$u),Mu!=null&&bu.push(tf(wu,Mu,_u)))),xu)break;wu=wu.return}0<bu.length&&(pu=new vu(pu,gu,null,us,ou),fu.push({event:pu,listeners:bu}))}}if(!(as&7)){e:{if(pu=ss==="mouseover"||ss==="pointerover",vu=ss==="mouseout"||ss==="pointerout",pu&&us!==wb&&(gu=us.relatedTarget||us.fromElement)&&(Wc$1(gu)||gu[uf]))break e;if((vu||pu)&&(pu=ou.window===ou?ou:(pu=ou.ownerDocument)?pu.defaultView||pu.parentWindow:window,vu?(gu=us.relatedTarget||us.toElement,vu=au,gu=gu?Wc$1(gu):null,gu!==null&&(xu=Vb(gu),gu!==xu||gu.tag!==5&&gu.tag!==6)&&(gu=null)):(vu=null,gu=au),vu!==gu)){if(bu=Bd,Mu="onMouseLeave",$u="onMouseEnter",wu="mouse",(ss==="pointerout"||ss==="pointerover")&&(bu=Td,Mu="onPointerLeave",$u="onPointerEnter",wu="pointer"),xu=vu==null?pu:ue$2(vu),_u=gu==null?pu:ue$2(gu),pu=new bu(Mu,wu+"leave",vu,us,ou),pu.target=xu,pu.relatedTarget=_u,Mu=null,Wc$1(ou)===au&&(bu=new bu($u,wu+"enter",gu,us,ou),bu.target=_u,bu.relatedTarget=xu,Mu=bu),xu=Mu,vu&&gu)t:{for(bu=vu,$u=gu,wu=0,_u=bu;_u;_u=vf(_u))wu++;for(_u=0,Mu=$u;Mu;Mu=vf(Mu))_u++;for(;0<wu-_u;)bu=vf(bu),wu--;for(;0<_u-wu;)$u=vf($u),_u--;for(;wu--;){if(bu===$u||$u!==null&&bu===$u.alternate)break t;bu=vf(bu),$u=vf($u)}bu=null}else bu=null;vu!==null&&wf(fu,pu,vu,bu,!1),gu!==null&&xu!==null&&wf(fu,xu,gu,bu,!0)}}e:{if(pu=au?ue$2(au):window,vu=pu.nodeName&&pu.nodeName.toLowerCase(),vu==="select"||vu==="input"&&pu.type==="file")var Au=ve$2;else if(me$3(pu))if(we$3)Au=Fe$2;else{Au=De$3;var Pu=Ce$2}else(vu=pu.nodeName)&&vu.toLowerCase()==="input"&&(pu.type==="checkbox"||pu.type==="radio")&&(Au=Ee$4);if(Au&&(Au=Au(ss,au))){ne$2(fu,Au,us,ou);break e}Pu&&Pu(ss,pu,au),ss==="focusout"&&(Pu=pu._wrapperState)&&Pu.controlled&&pu.type==="number"&&cb(pu,"number",pu.value)}switch(Pu=au?ue$2(au):window,ss){case"focusin":(me$3(Pu)||Pu.contentEditable==="true")&&(Qe$3=Pu,Re$2=au,Se$2=null);break;case"focusout":Se$2=Re$2=Qe$3=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue$3(fu,us,ou);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$3(fu,us,ou)}var Su;if(ae$1)e:{switch(ss){case"compositionstart":var Bu="onCompositionStart";break e;case"compositionend":Bu="onCompositionEnd";break e;case"compositionupdate":Bu="onCompositionUpdate";break e}Bu=void 0}else ie$2?ge$3(ss,us)&&(Bu="onCompositionEnd"):ss==="keydown"&&us.keyCode===229&&(Bu="onCompositionStart");Bu&&(de$3&&us.locale!=="ko"&&(ie$2||Bu!=="onCompositionStart"?Bu==="onCompositionEnd"&&ie$2&&(Su=nd()):(kd=ou,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),Pu=oe$2(au,Bu),0<Pu.length&&(Bu=new Ld(Bu,ss,null,us,ou),fu.push({event:Bu,listeners:Pu}),Su?Bu.data=Su:(Su=he$3(us),Su!==null&&(Bu.data=Su)))),(Su=ce$2?je$3(ss,us):ke$4(ss,us))&&(au=oe$2(au,"onBeforeInput"),0<au.length&&(ou=new Ld("onBeforeInput","beforeinput",null,us,ou),fu.push({event:ou,listeners:au}),ou.data=Su))}se$4(fu,as)})}function tf(ss,as,us){return{instance:ss,listener:as,currentTarget:us}}function oe$2(ss,as){for(var us=as+"Capture",cs=[];ss!==null;){var $a=ss,na=$a.stateNode;$a.tag===5&&na!==null&&($a=na,na=Kb(ss,us),na!=null&&cs.unshift(tf(ss,na,$a)),na=Kb(ss,as),na!=null&&cs.push(tf(ss,na,$a))),ss=ss.return}return cs}function vf(ss){if(ss===null)return null;do ss=ss.return;while(ss&&ss.tag!==5);return ss||null}function wf(ss,as,us,cs,$a){for(var na=as._reactName,tu=[];us!==null&&us!==cs;){var iu=us,su=iu.alternate,au=iu.stateNode;if(su!==null&&su===cs)break;iu.tag===5&&au!==null&&(iu=au,$a?(su=Kb(us,na),su!=null&&tu.unshift(tf(us,su,iu))):$a||(su=Kb(us,na),su!=null&&tu.push(tf(us,su,iu)))),us=us.return}tu.length!==0&&ss.push({event:as,listeners:tu})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(ss){return(typeof ss=="string"?ss:""+ss).replace(xf,`
`).replace(yf,"")}function Af(ss,as,us){if(as=zf(as),zf(ss)!==as&&us)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(ss,as){return ss==="textarea"||ss==="noscript"||typeof as.children=="string"||typeof as.children=="number"||typeof as.dangerouslySetInnerHTML=="object"&&as.dangerouslySetInnerHTML!==null&&as.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(ss){return Hf.resolve(null).then(ss).catch(If)}:Ff;function If(ss){setTimeout(function(){throw ss})}function Kf(ss,as){var us=as,cs=0;do{var $a=us.nextSibling;if(ss.removeChild(us),$a&&$a.nodeType===8)if(us=$a.data,us==="/$"){if(cs===0){ss.removeChild($a),bd(as);return}cs--}else us!=="$"&&us!=="$?"&&us!=="$!"||cs++;us=$a}while(us);bd(as)}function Lf(ss){for(;ss!=null;ss=ss.nextSibling){var as=ss.nodeType;if(as===1||as===3)break;if(as===8){if(as=ss.data,as==="$"||as==="$!"||as==="$?")break;if(as==="/$")return null}}return ss}function Mf(ss){ss=ss.previousSibling;for(var as=0;ss;){if(ss.nodeType===8){var us=ss.data;if(us==="$"||us==="$!"||us==="$?"){if(as===0)return ss;as--}else us==="/$"&&as++}ss=ss.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(ss){var as=ss[Of];if(as)return as;for(var us=ss.parentNode;us;){if(as=us[uf]||us[Of]){if(us=as.alternate,as.child!==null||us!==null&&us.child!==null)for(ss=Mf(ss);ss!==null;){if(us=ss[Of])return us;ss=Mf(ss)}return as}ss=us,us=ss.parentNode}return null}function Cb(ss){return ss=ss[Of]||ss[uf],!ss||ss.tag!==5&&ss.tag!==6&&ss.tag!==13&&ss.tag!==3?null:ss}function ue$2(ss){if(ss.tag===5||ss.tag===6)return ss.stateNode;throw Error(p$4(33))}function Db(ss){return ss[Pf]||null}var Sf=[],Tf=-1;function Uf(ss){return{current:ss}}function E$5(ss){0>Tf||(ss.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$3(ss,as){Tf++,Sf[Tf]=ss.current,ss.current=as}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(ss,as){var us=ss.type.contextTypes;if(!us)return Vf;var cs=ss.stateNode;if(cs&&cs.__reactInternalMemoizedUnmaskedChildContext===as)return cs.__reactInternalMemoizedMaskedChildContext;var $a={},na;for(na in us)$a[na]=as[na];return cs&&(ss=ss.stateNode,ss.__reactInternalMemoizedUnmaskedChildContext=as,ss.__reactInternalMemoizedMaskedChildContext=$a),$a}function Zf(ss){return ss=ss.childContextTypes,ss!=null}function $f(){E$5(Wf),E$5(H$2)}function ag(ss,as,us){if(H$2.current!==Vf)throw Error(p$4(168));G$3(H$2,as),G$3(Wf,us)}function bg(ss,as,us){var cs=ss.stateNode;if(as=as.childContextTypes,typeof cs.getChildContext!="function")return us;cs=cs.getChildContext();for(var $a in cs)if(!($a in as))throw Error(p$4(108,Ra(ss)||"Unknown",$a));return A$3({},us,cs)}function cg(ss){return ss=(ss=ss.stateNode)&&ss.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$3(H$2,ss),G$3(Wf,Wf.current),!0}function dg(ss,as,us){var cs=ss.stateNode;if(!cs)throw Error(p$4(169));us?(ss=bg(ss,as,Xf),cs.__reactInternalMemoizedMergedChildContext=ss,E$5(Wf),E$5(H$2),G$3(H$2,ss)):E$5(Wf),G$3(Wf,us)}var eg=null,fg=!1,gg=!1;function hg(ss){eg===null?eg=[ss]:eg.push(ss)}function ig(ss){fg=!0,hg(ss)}function jg(){if(!gg&&eg!==null){gg=!0;var ss=0,as=C$4;try{var us=eg;for(C$4=1;ss<us.length;ss++){var cs=us[ss];do cs=cs(!0);while(cs!==null)}eg=null,fg=!1}catch($a){throw eg!==null&&(eg=eg.slice(ss+1)),ac$1(fc$1,jg),$a}finally{C$4=as,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(ss,as){kg[lg++]=ng,kg[lg++]=mg,mg=ss,ng=as}function ug(ss,as,us){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=ss;var cs=rg;ss=sg;var $a=32-oc$1(cs)-1;cs&=~(1<<$a),us+=1;var na=32-oc$1(as)+$a;if(30<na){var tu=$a-$a%5;na=(cs&(1<<tu)-1).toString(32),cs>>=tu,$a-=tu,rg=1<<32-oc$1(as)+$a|us<<$a|cs,sg=na+ss}else rg=1<<na|us<<$a|cs,sg=ss}function vg(ss){ss.return!==null&&(tg(ss,1),ug(ss,1,0))}function wg(ss){for(;ss===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;ss===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(ss,as){var us=Bg(5,null,null,0);us.elementType="DELETED",us.stateNode=as,us.return=ss,as=ss.deletions,as===null?(ss.deletions=[us],ss.flags|=16):as.push(us)}function Cg(ss,as){switch(ss.tag){case 5:var us=ss.type;return as=as.nodeType!==1||us.toLowerCase()!==as.nodeName.toLowerCase()?null:as,as!==null?(ss.stateNode=as,xg=ss,yg=Lf(as.firstChild),!0):!1;case 6:return as=ss.pendingProps===""||as.nodeType!==3?null:as,as!==null?(ss.stateNode=as,xg=ss,yg=null,!0):!1;case 13:return as=as.nodeType!==8?null:as,as!==null?(us=qg!==null?{id:rg,overflow:sg}:null,ss.memoizedState={dehydrated:as,treeContext:us,retryLane:1073741824},us=Bg(18,null,null,0),us.stateNode=as,us.return=ss,ss.child=us,xg=ss,yg=null,!0):!1;default:return!1}}function Dg$1(ss){return(ss.mode&1)!==0&&(ss.flags&128)===0}function Eg(ss){if(I$2){var as=yg;if(as){var us=as;if(!Cg(ss,as)){if(Dg$1(ss))throw Error(p$4(418));as=Lf(us.nextSibling);var cs=xg;as&&Cg(ss,as)?Ag(cs,us):(ss.flags=ss.flags&-4097|2,I$2=!1,xg=ss)}}else{if(Dg$1(ss))throw Error(p$4(418));ss.flags=ss.flags&-4097|2,I$2=!1,xg=ss}}}function Fg(ss){for(ss=ss.return;ss!==null&&ss.tag!==5&&ss.tag!==3&&ss.tag!==13;)ss=ss.return;xg=ss}function Gg(ss){if(ss!==xg)return!1;if(!I$2)return Fg(ss),I$2=!0,!1;var as;if((as=ss.tag!==3)&&!(as=ss.tag!==5)&&(as=ss.type,as=as!=="head"&&as!=="body"&&!Ef(ss.type,ss.memoizedProps)),as&&(as=yg)){if(Dg$1(ss))throw Hg(),Error(p$4(418));for(;as;)Ag(ss,as),as=Lf(as.nextSibling)}if(Fg(ss),ss.tag===13){if(ss=ss.memoizedState,ss=ss!==null?ss.dehydrated:null,!ss)throw Error(p$4(317));e:{for(ss=ss.nextSibling,as=0;ss;){if(ss.nodeType===8){var us=ss.data;if(us==="/$"){if(as===0){yg=Lf(ss.nextSibling);break e}as--}else us!=="$"&&us!=="$!"&&us!=="$?"||as++}ss=ss.nextSibling}yg=null}}else yg=xg?Lf(ss.stateNode.nextSibling):null;return!0}function Hg(){for(var ss=yg;ss;)ss=Lf(ss.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(ss){zg===null?zg=[ss]:zg.push(ss)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(ss,as,us){if(ss=us.ref,ss!==null&&typeof ss!="function"&&typeof ss!="object"){if(us._owner){if(us=us._owner,us){if(us.tag!==1)throw Error(p$4(309));var cs=us.stateNode}if(!cs)throw Error(p$4(147,ss));var $a=cs,na=""+ss;return as!==null&&as.ref!==null&&typeof as.ref=="function"&&as.ref._stringRef===na?as.ref:(as=function(tu){var iu=$a.refs;tu===null?delete iu[na]:iu[na]=tu},as._stringRef=na,as)}if(typeof ss!="string")throw Error(p$4(284));if(!us._owner)throw Error(p$4(290,ss))}return ss}function Mg(ss,as){throw ss=Object.prototype.toString.call(as),Error(p$4(31,ss==="[object Object]"?"object with keys {"+Object.keys(as).join(", ")+"}":ss))}function Ng(ss){var as=ss._init;return as(ss._payload)}function Og(ss){function as($u,wu){if(ss){var _u=$u.deletions;_u===null?($u.deletions=[wu],$u.flags|=16):_u.push(wu)}}function us($u,wu){if(!ss)return null;for(;wu!==null;)as($u,wu),wu=wu.sibling;return null}function cs($u,wu){for($u=new Map;wu!==null;)wu.key!==null?$u.set(wu.key,wu):$u.set(wu.index,wu),wu=wu.sibling;return $u}function $a($u,wu){return $u=Pg($u,wu),$u.index=0,$u.sibling=null,$u}function na($u,wu,_u){return $u.index=_u,ss?(_u=$u.alternate,_u!==null?(_u=_u.index,_u<wu?($u.flags|=2,wu):_u):($u.flags|=2,wu)):($u.flags|=1048576,wu)}function tu($u){return ss&&$u.alternate===null&&($u.flags|=2),$u}function iu($u,wu,_u,Mu){return wu===null||wu.tag!==6?(wu=Qg(_u,$u.mode,Mu),wu.return=$u,wu):(wu=$a(wu,_u),wu.return=$u,wu)}function su($u,wu,_u,Mu){var Au=_u.type;return Au===ya$1?ou($u,wu,_u.props.children,Mu,_u.key):wu!==null&&(wu.elementType===Au||typeof Au=="object"&&Au!==null&&Au.$$typeof===Ha&&Ng(Au)===wu.type)?(Mu=$a(wu,_u.props),Mu.ref=Lg($u,wu,_u),Mu.return=$u,Mu):(Mu=Rg(_u.type,_u.key,_u.props,null,$u.mode,Mu),Mu.ref=Lg($u,wu,_u),Mu.return=$u,Mu)}function au($u,wu,_u,Mu){return wu===null||wu.tag!==4||wu.stateNode.containerInfo!==_u.containerInfo||wu.stateNode.implementation!==_u.implementation?(wu=Sg(_u,$u.mode,Mu),wu.return=$u,wu):(wu=$a(wu,_u.children||[]),wu.return=$u,wu)}function ou($u,wu,_u,Mu,Au){return wu===null||wu.tag!==7?(wu=Tg(_u,$u.mode,Mu,Au),wu.return=$u,wu):(wu=$a(wu,_u),wu.return=$u,wu)}function fu($u,wu,_u){if(typeof wu=="string"&&wu!==""||typeof wu=="number")return wu=Qg(""+wu,$u.mode,_u),wu.return=$u,wu;if(typeof wu=="object"&&wu!==null){switch(wu.$$typeof){case va$1:return _u=Rg(wu.type,wu.key,wu.props,null,$u.mode,_u),_u.ref=Lg($u,null,wu),_u.return=$u,_u;case wa$1:return wu=Sg(wu,$u.mode,_u),wu.return=$u,wu;case Ha:var Mu=wu._init;return fu($u,Mu(wu._payload),_u)}if(eb(wu)||Ka(wu))return wu=Tg(wu,$u.mode,_u,null),wu.return=$u,wu;Mg($u,wu)}return null}function pu($u,wu,_u,Mu){var Au=wu!==null?wu.key:null;if(typeof _u=="string"&&_u!==""||typeof _u=="number")return Au!==null?null:iu($u,wu,""+_u,Mu);if(typeof _u=="object"&&_u!==null){switch(_u.$$typeof){case va$1:return _u.key===Au?su($u,wu,_u,Mu):null;case wa$1:return _u.key===Au?au($u,wu,_u,Mu):null;case Ha:return Au=_u._init,pu($u,wu,Au(_u._payload),Mu)}if(eb(_u)||Ka(_u))return Au!==null?null:ou($u,wu,_u,Mu,null);Mg($u,_u)}return null}function vu($u,wu,_u,Mu,Au){if(typeof Mu=="string"&&Mu!==""||typeof Mu=="number")return $u=$u.get(_u)||null,iu(wu,$u,""+Mu,Au);if(typeof Mu=="object"&&Mu!==null){switch(Mu.$$typeof){case va$1:return $u=$u.get(Mu.key===null?_u:Mu.key)||null,su(wu,$u,Mu,Au);case wa$1:return $u=$u.get(Mu.key===null?_u:Mu.key)||null,au(wu,$u,Mu,Au);case Ha:var Pu=Mu._init;return vu($u,wu,_u,Pu(Mu._payload),Au)}if(eb(Mu)||Ka(Mu))return $u=$u.get(_u)||null,ou(wu,$u,Mu,Au,null);Mg(wu,Mu)}return null}function gu($u,wu,_u,Mu){for(var Au=null,Pu=null,Su=wu,Bu=wu=0,Ou=null;Su!==null&&Bu<_u.length;Bu++){Su.index>Bu?(Ou=Su,Su=null):Ou=Su.sibling;var Vu=pu($u,Su,_u[Bu],Mu);if(Vu===null){Su===null&&(Su=Ou);break}ss&&Su&&Vu.alternate===null&&as($u,Su),wu=na(Vu,wu,Bu),Pu===null?Au=Vu:Pu.sibling=Vu,Pu=Vu,Su=Ou}if(Bu===_u.length)return us($u,Su),I$2&&tg($u,Bu),Au;if(Su===null){for(;Bu<_u.length;Bu++)Su=fu($u,_u[Bu],Mu),Su!==null&&(wu=na(Su,wu,Bu),Pu===null?Au=Su:Pu.sibling=Su,Pu=Su);return I$2&&tg($u,Bu),Au}for(Su=cs($u,Su);Bu<_u.length;Bu++)Ou=vu(Su,$u,Bu,_u[Bu],Mu),Ou!==null&&(ss&&Ou.alternate!==null&&Su.delete(Ou.key===null?Bu:Ou.key),wu=na(Ou,wu,Bu),Pu===null?Au=Ou:Pu.sibling=Ou,Pu=Ou);return ss&&Su.forEach(function(yu){return as($u,yu)}),I$2&&tg($u,Bu),Au}function bu($u,wu,_u,Mu){var Au=Ka(_u);if(typeof Au!="function")throw Error(p$4(150));if(_u=Au.call(_u),_u==null)throw Error(p$4(151));for(var Pu=Au=null,Su=wu,Bu=wu=0,Ou=null,Vu=_u.next();Su!==null&&!Vu.done;Bu++,Vu=_u.next()){Su.index>Bu?(Ou=Su,Su=null):Ou=Su.sibling;var yu=pu($u,Su,Vu.value,Mu);if(yu===null){Su===null&&(Su=Ou);break}ss&&Su&&yu.alternate===null&&as($u,Su),wu=na(yu,wu,Bu),Pu===null?Au=yu:Pu.sibling=yu,Pu=yu,Su=Ou}if(Vu.done)return us($u,Su),I$2&&tg($u,Bu),Au;if(Su===null){for(;!Vu.done;Bu++,Vu=_u.next())Vu=fu($u,Vu.value,Mu),Vu!==null&&(wu=na(Vu,wu,Bu),Pu===null?Au=Vu:Pu.sibling=Vu,Pu=Vu);return I$2&&tg($u,Bu),Au}for(Su=cs($u,Su);!Vu.done;Bu++,Vu=_u.next())Vu=vu(Su,$u,Bu,Vu.value,Mu),Vu!==null&&(ss&&Vu.alternate!==null&&Su.delete(Vu.key===null?Bu:Vu.key),wu=na(Vu,wu,Bu),Pu===null?Au=Vu:Pu.sibling=Vu,Pu=Vu);return ss&&Su.forEach(function(_a){return as($u,_a)}),I$2&&tg($u,Bu),Au}function xu($u,wu,_u,Mu){if(typeof _u=="object"&&_u!==null&&_u.type===ya$1&&_u.key===null&&(_u=_u.props.children),typeof _u=="object"&&_u!==null){switch(_u.$$typeof){case va$1:e:{for(var Au=_u.key,Pu=wu;Pu!==null;){if(Pu.key===Au){if(Au=_u.type,Au===ya$1){if(Pu.tag===7){us($u,Pu.sibling),wu=$a(Pu,_u.props.children),wu.return=$u,$u=wu;break e}}else if(Pu.elementType===Au||typeof Au=="object"&&Au!==null&&Au.$$typeof===Ha&&Ng(Au)===Pu.type){us($u,Pu.sibling),wu=$a(Pu,_u.props),wu.ref=Lg($u,Pu,_u),wu.return=$u,$u=wu;break e}us($u,Pu);break}else as($u,Pu);Pu=Pu.sibling}_u.type===ya$1?(wu=Tg(_u.props.children,$u.mode,Mu,_u.key),wu.return=$u,$u=wu):(Mu=Rg(_u.type,_u.key,_u.props,null,$u.mode,Mu),Mu.ref=Lg($u,wu,_u),Mu.return=$u,$u=Mu)}return tu($u);case wa$1:e:{for(Pu=_u.key;wu!==null;){if(wu.key===Pu)if(wu.tag===4&&wu.stateNode.containerInfo===_u.containerInfo&&wu.stateNode.implementation===_u.implementation){us($u,wu.sibling),wu=$a(wu,_u.children||[]),wu.return=$u,$u=wu;break e}else{us($u,wu);break}else as($u,wu);wu=wu.sibling}wu=Sg(_u,$u.mode,Mu),wu.return=$u,$u=wu}return tu($u);case Ha:return Pu=_u._init,xu($u,wu,Pu(_u._payload),Mu)}if(eb(_u))return gu($u,wu,_u,Mu);if(Ka(_u))return bu($u,wu,_u,Mu);Mg($u,_u)}return typeof _u=="string"&&_u!==""||typeof _u=="number"?(_u=""+_u,wu!==null&&wu.tag===6?(us($u,wu.sibling),wu=$a(wu,_u),wu.return=$u,$u=wu):(us($u,wu),wu=Qg(_u,$u.mode,Mu),wu.return=$u,$u=wu),tu($u)):us($u,wu)}return xu}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g$1(){Zg=Yg=Xg=null}function ah(ss){var as=Wg.current;E$5(Wg),ss._currentValue=as}function bh(ss,as,us){for(;ss!==null;){var cs=ss.alternate;if((ss.childLanes&as)!==as?(ss.childLanes|=as,cs!==null&&(cs.childLanes|=as)):cs!==null&&(cs.childLanes&as)!==as&&(cs.childLanes|=as),ss===us)break;ss=ss.return}}function ch$1(ss,as){Xg=ss,Zg=Yg=null,ss=ss.dependencies,ss!==null&&ss.firstContext!==null&&(ss.lanes&as&&(dh$1=!0),ss.firstContext=null)}function eh(ss){var as=ss._currentValue;if(Zg!==ss)if(ss={context:ss,memoizedValue:as,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=ss,Xg.dependencies={lanes:0,firstContext:ss}}else Yg=Yg.next=ss;return as}var fh=null;function gh(ss){fh===null?fh=[ss]:fh.push(ss)}function hh(ss,as,us,cs){var $a=as.interleaved;return $a===null?(us.next=us,gh(as)):(us.next=$a.next,$a.next=us),as.interleaved=us,ih(ss,cs)}function ih(ss,as){ss.lanes|=as;var us=ss.alternate;for(us!==null&&(us.lanes|=as),us=ss,ss=ss.return;ss!==null;)ss.childLanes|=as,us=ss.alternate,us!==null&&(us.childLanes|=as),us=ss,ss=ss.return;return us.tag===3?us.stateNode:null}var jh=!1;function kh(ss){ss.updateQueue={baseState:ss.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(ss,as){ss=ss.updateQueue,as.updateQueue===ss&&(as.updateQueue={baseState:ss.baseState,firstBaseUpdate:ss.firstBaseUpdate,lastBaseUpdate:ss.lastBaseUpdate,shared:ss.shared,effects:ss.effects})}function mh(ss,as){return{eventTime:ss,lane:as,tag:0,payload:null,callback:null,next:null}}function nh(ss,as,us){var cs=ss.updateQueue;if(cs===null)return null;if(cs=cs.shared,K$8&2){var $a=cs.pending;return $a===null?as.next=as:(as.next=$a.next,$a.next=as),cs.pending=as,ih(ss,us)}return $a=cs.interleaved,$a===null?(as.next=as,gh(cs)):(as.next=$a.next,$a.next=as),cs.interleaved=as,ih(ss,us)}function oh(ss,as,us){if(as=as.updateQueue,as!==null&&(as=as.shared,(us&4194240)!==0)){var cs=as.lanes;cs&=ss.pendingLanes,us|=cs,as.lanes=us,Cc$1(ss,us)}}function ph(ss,as){var us=ss.updateQueue,cs=ss.alternate;if(cs!==null&&(cs=cs.updateQueue,us===cs)){var $a=null,na=null;if(us=us.firstBaseUpdate,us!==null){do{var tu={eventTime:us.eventTime,lane:us.lane,tag:us.tag,payload:us.payload,callback:us.callback,next:null};na===null?$a=na=tu:na=na.next=tu,us=us.next}while(us!==null);na===null?$a=na=as:na=na.next=as}else $a=na=as;us={baseState:cs.baseState,firstBaseUpdate:$a,lastBaseUpdate:na,shared:cs.shared,effects:cs.effects},ss.updateQueue=us;return}ss=us.lastBaseUpdate,ss===null?us.firstBaseUpdate=as:ss.next=as,us.lastBaseUpdate=as}function qh(ss,as,us,cs){var $a=ss.updateQueue;jh=!1;var na=$a.firstBaseUpdate,tu=$a.lastBaseUpdate,iu=$a.shared.pending;if(iu!==null){$a.shared.pending=null;var su=iu,au=su.next;su.next=null,tu===null?na=au:tu.next=au,tu=su;var ou=ss.alternate;ou!==null&&(ou=ou.updateQueue,iu=ou.lastBaseUpdate,iu!==tu&&(iu===null?ou.firstBaseUpdate=au:iu.next=au,ou.lastBaseUpdate=su))}if(na!==null){var fu=$a.baseState;tu=0,ou=au=su=null,iu=na;do{var pu=iu.lane,vu=iu.eventTime;if((cs&pu)===pu){ou!==null&&(ou=ou.next={eventTime:vu,lane:0,tag:iu.tag,payload:iu.payload,callback:iu.callback,next:null});e:{var gu=ss,bu=iu;switch(pu=as,vu=us,bu.tag){case 1:if(gu=bu.payload,typeof gu=="function"){fu=gu.call(vu,fu,pu);break e}fu=gu;break e;case 3:gu.flags=gu.flags&-65537|128;case 0:if(gu=bu.payload,pu=typeof gu=="function"?gu.call(vu,fu,pu):gu,pu==null)break e;fu=A$3({},fu,pu);break e;case 2:jh=!0}}iu.callback!==null&&iu.lane!==0&&(ss.flags|=64,pu=$a.effects,pu===null?$a.effects=[iu]:pu.push(iu))}else vu={eventTime:vu,lane:pu,tag:iu.tag,payload:iu.payload,callback:iu.callback,next:null},ou===null?(au=ou=vu,su=fu):ou=ou.next=vu,tu|=pu;if(iu=iu.next,iu===null){if(iu=$a.shared.pending,iu===null)break;pu=iu,iu=pu.next,pu.next=null,$a.lastBaseUpdate=pu,$a.shared.pending=null}}while(!0);if(ou===null&&(su=fu),$a.baseState=su,$a.firstBaseUpdate=au,$a.lastBaseUpdate=ou,as=$a.shared.interleaved,as!==null){$a=as;do tu|=$a.lane,$a=$a.next;while($a!==as)}else na===null&&($a.shared.lanes=0);rh|=tu,ss.lanes=tu,ss.memoizedState=fu}}function sh(ss,as,us){if(ss=as.effects,as.effects=null,ss!==null)for(as=0;as<ss.length;as++){var cs=ss[as],$a=cs.callback;if($a!==null){if(cs.callback=null,cs=us,typeof $a!="function")throw Error(p$4(191,$a));$a.call(cs)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(ss){if(ss===th)throw Error(p$4(174));return ss}function yh(ss,as){switch(G$3(wh,as),G$3(vh,ss),G$3(uh,th),ss=as.nodeType,ss){case 9:case 11:as=(as=as.documentElement)?as.namespaceURI:lb(null,"");break;default:ss=ss===8?as.parentNode:as,as=ss.namespaceURI||null,ss=ss.tagName,as=lb(as,ss)}E$5(uh),G$3(uh,as)}function zh(){E$5(uh),E$5(vh),E$5(wh)}function Ah(ss){xh(wh.current);var as=xh(uh.current),us=lb(as,ss.type);as!==us&&(G$3(vh,ss),G$3(uh,us))}function Bh(ss){vh.current===ss&&(E$5(uh),E$5(vh))}var L$3=Uf(0);function Ch$1(ss){for(var as=ss;as!==null;){if(as.tag===13){var us=as.memoizedState;if(us!==null&&(us=us.dehydrated,us===null||us.data==="$?"||us.data==="$!"))return as}else if(as.tag===19&&as.memoizedProps.revealOrder!==void 0){if(as.flags&128)return as}else if(as.child!==null){as.child.return=as,as=as.child;continue}if(as===ss)break;for(;as.sibling===null;){if(as.return===null||as.return===ss)return null;as=as.return}as.sibling.return=as.return,as=as.sibling}return null}var Dh=[];function Eh(){for(var ss=0;ss<Dh.length;ss++)Dh[ss]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$1.ReactCurrentDispatcher,Gh=ua$1.ReactCurrentBatchConfig,Hh=0,M$3=null,N$4=null,O$4=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(ss,as){if(as===null)return!1;for(var us=0;us<as.length&&us<ss.length;us++)if(!He$3(ss[us],as[us]))return!1;return!0}function Nh(ss,as,us,cs,$a,na){if(Hh=na,M$3=as,as.memoizedState=null,as.updateQueue=null,as.lanes=0,Fh.current=ss===null||ss.memoizedState===null?Oh:Ph,ss=us(cs,$a),Jh){na=0;do{if(Jh=!1,Kh=0,25<=na)throw Error(p$4(301));na+=1,O$4=N$4=null,as.updateQueue=null,Fh.current=Qh,ss=us(cs,$a)}while(Jh)}if(Fh.current=Rh,as=N$4!==null&&N$4.next!==null,Hh=0,O$4=N$4=M$3=null,Ih=!1,as)throw Error(p$4(300));return ss}function Sh(){var ss=Kh!==0;return Kh=0,ss}function Th(){var ss={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$4===null?M$3.memoizedState=O$4=ss:O$4=O$4.next=ss,O$4}function Uh(){if(N$4===null){var ss=M$3.alternate;ss=ss!==null?ss.memoizedState:null}else ss=N$4.next;var as=O$4===null?M$3.memoizedState:O$4.next;if(as!==null)O$4=as,N$4=ss;else{if(ss===null)throw Error(p$4(310));N$4=ss,ss={memoizedState:N$4.memoizedState,baseState:N$4.baseState,baseQueue:N$4.baseQueue,queue:N$4.queue,next:null},O$4===null?M$3.memoizedState=O$4=ss:O$4=O$4.next=ss}return O$4}function Vh(ss,as){return typeof as=="function"?as(ss):as}function Wh(ss){var as=Uh(),us=as.queue;if(us===null)throw Error(p$4(311));us.lastRenderedReducer=ss;var cs=N$4,$a=cs.baseQueue,na=us.pending;if(na!==null){if($a!==null){var tu=$a.next;$a.next=na.next,na.next=tu}cs.baseQueue=$a=na,us.pending=null}if($a!==null){na=$a.next,cs=cs.baseState;var iu=tu=null,su=null,au=na;do{var ou=au.lane;if((Hh&ou)===ou)su!==null&&(su=su.next={lane:0,action:au.action,hasEagerState:au.hasEagerState,eagerState:au.eagerState,next:null}),cs=au.hasEagerState?au.eagerState:ss(cs,au.action);else{var fu={lane:ou,action:au.action,hasEagerState:au.hasEagerState,eagerState:au.eagerState,next:null};su===null?(iu=su=fu,tu=cs):su=su.next=fu,M$3.lanes|=ou,rh|=ou}au=au.next}while(au!==null&&au!==na);su===null?tu=cs:su.next=iu,He$3(cs,as.memoizedState)||(dh$1=!0),as.memoizedState=cs,as.baseState=tu,as.baseQueue=su,us.lastRenderedState=cs}if(ss=us.interleaved,ss!==null){$a=ss;do na=$a.lane,M$3.lanes|=na,rh|=na,$a=$a.next;while($a!==ss)}else $a===null&&(us.lanes=0);return[as.memoizedState,us.dispatch]}function Xh(ss){var as=Uh(),us=as.queue;if(us===null)throw Error(p$4(311));us.lastRenderedReducer=ss;var cs=us.dispatch,$a=us.pending,na=as.memoizedState;if($a!==null){us.pending=null;var tu=$a=$a.next;do na=ss(na,tu.action),tu=tu.next;while(tu!==$a);He$3(na,as.memoizedState)||(dh$1=!0),as.memoizedState=na,as.baseQueue===null&&(as.baseState=na),us.lastRenderedState=na}return[na,cs]}function Yh(){}function Zh(ss,as){var us=M$3,cs=Uh(),$a=as(),na=!He$3(cs.memoizedState,$a);if(na&&(cs.memoizedState=$a,dh$1=!0),cs=cs.queue,$h(ai$1.bind(null,us,cs,ss),[ss]),cs.getSnapshot!==as||na||O$4!==null&&O$4.memoizedState.tag&1){if(us.flags|=2048,bi$2(9,ci$1.bind(null,us,cs,$a,as),void 0,null),Q$3===null)throw Error(p$4(349));Hh&30||di$1(us,as,$a)}return $a}function di$1(ss,as,us){ss.flags|=16384,ss={getSnapshot:as,value:us},as=M$3.updateQueue,as===null?(as={lastEffect:null,stores:null},M$3.updateQueue=as,as.stores=[ss]):(us=as.stores,us===null?as.stores=[ss]:us.push(ss))}function ci$1(ss,as,us,cs){as.value=us,as.getSnapshot=cs,ei$2(as)&&fi$2(ss)}function ai$1(ss,as,us){return us(function(){ei$2(as)&&fi$2(ss)})}function ei$2(ss){var as=ss.getSnapshot;ss=ss.value;try{var us=as();return!He$3(ss,us)}catch{return!0}}function fi$2(ss){var as=ih(ss,1);as!==null&&gi$2(as,ss,1,-1)}function hi$1(ss){var as=Th();return typeof ss=="function"&&(ss=ss()),as.memoizedState=as.baseState=ss,ss={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:ss},as.queue=ss,ss=ss.dispatch=ii$1.bind(null,M$3,ss),[as.memoizedState,ss]}function bi$2(ss,as,us,cs){return ss={tag:ss,create:as,destroy:us,deps:cs,next:null},as=M$3.updateQueue,as===null?(as={lastEffect:null,stores:null},M$3.updateQueue=as,as.lastEffect=ss.next=ss):(us=as.lastEffect,us===null?as.lastEffect=ss.next=ss:(cs=us.next,us.next=ss,ss.next=cs,as.lastEffect=ss)),ss}function ji$2(){return Uh().memoizedState}function ki$2(ss,as,us,cs){var $a=Th();M$3.flags|=ss,$a.memoizedState=bi$2(1|as,us,void 0,cs===void 0?null:cs)}function li$2(ss,as,us,cs){var $a=Uh();cs=cs===void 0?null:cs;var na=void 0;if(N$4!==null){var tu=N$4.memoizedState;if(na=tu.destroy,cs!==null&&Mh(cs,tu.deps)){$a.memoizedState=bi$2(as,us,na,cs);return}}M$3.flags|=ss,$a.memoizedState=bi$2(1|as,us,na,cs)}function mi$2(ss,as){return ki$2(8390656,8,ss,as)}function $h(ss,as){return li$2(2048,8,ss,as)}function ni$2(ss,as){return li$2(4,2,ss,as)}function oi$2(ss,as){return li$2(4,4,ss,as)}function pi$1(ss,as){if(typeof as=="function")return ss=ss(),as(ss),function(){as(null)};if(as!=null)return ss=ss(),as.current=ss,function(){as.current=null}}function qi$2(ss,as,us){return us=us!=null?us.concat([ss]):null,li$2(4,4,pi$1.bind(null,as,ss),us)}function ri$2(){}function si$2(ss,as){var us=Uh();as=as===void 0?null:as;var cs=us.memoizedState;return cs!==null&&as!==null&&Mh(as,cs[1])?cs[0]:(us.memoizedState=[ss,as],ss)}function ti$1(ss,as){var us=Uh();as=as===void 0?null:as;var cs=us.memoizedState;return cs!==null&&as!==null&&Mh(as,cs[1])?cs[0]:(ss=ss(),us.memoizedState=[ss,as],ss)}function ui$1(ss,as,us){return Hh&21?(He$3(us,as)||(us=yc$1(),M$3.lanes|=us,rh|=us,ss.baseState=!0),as):(ss.baseState&&(ss.baseState=!1,dh$1=!0),ss.memoizedState=us)}function vi$2(ss,as){var us=C$4;C$4=us!==0&&4>us?us:4,ss(!0);var cs=Gh.transition;Gh.transition={};try{ss(!1),as()}finally{C$4=us,Gh.transition=cs}}function wi$2(){return Uh().memoizedState}function xi$2(ss,as,us){var cs=yi$2(ss);if(us={lane:cs,action:us,hasEagerState:!1,eagerState:null,next:null},zi$2(ss))Ai$2(as,us);else if(us=hh(ss,as,us,cs),us!==null){var $a=R$4();gi$2(us,ss,cs,$a),Bi$2(us,as,cs)}}function ii$1(ss,as,us){var cs=yi$2(ss),$a={lane:cs,action:us,hasEagerState:!1,eagerState:null,next:null};if(zi$2(ss))Ai$2(as,$a);else{var na=ss.alternate;if(ss.lanes===0&&(na===null||na.lanes===0)&&(na=as.lastRenderedReducer,na!==null))try{var tu=as.lastRenderedState,iu=na(tu,us);if($a.hasEagerState=!0,$a.eagerState=iu,He$3(iu,tu)){var su=as.interleaved;su===null?($a.next=$a,gh(as)):($a.next=su.next,su.next=$a),as.interleaved=$a;return}}catch{}finally{}us=hh(ss,as,$a,cs),us!==null&&($a=R$4(),gi$2(us,ss,cs,$a),Bi$2(us,as,cs))}}function zi$2(ss){var as=ss.alternate;return ss===M$3||as!==null&&as===M$3}function Ai$2(ss,as){Jh=Ih=!0;var us=ss.pending;us===null?as.next=as:(as.next=us.next,us.next=as),ss.pending=as}function Bi$2(ss,as,us){if(us&4194240){var cs=as.lanes;cs&=ss.pendingLanes,us|=cs,as.lanes=us,Cc$1(ss,us)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(ss,as){return Th().memoizedState=[ss,as===void 0?null:as],ss},useContext:eh,useEffect:mi$2,useImperativeHandle:function(ss,as,us){return us=us!=null?us.concat([ss]):null,ki$2(4194308,4,pi$1.bind(null,as,ss),us)},useLayoutEffect:function(ss,as){return ki$2(4194308,4,ss,as)},useInsertionEffect:function(ss,as){return ki$2(4,2,ss,as)},useMemo:function(ss,as){var us=Th();return as=as===void 0?null:as,ss=ss(),us.memoizedState=[ss,as],ss},useReducer:function(ss,as,us){var cs=Th();return as=us!==void 0?us(as):as,cs.memoizedState=cs.baseState=as,ss={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:as},cs.queue=ss,ss=ss.dispatch=xi$2.bind(null,M$3,ss),[cs.memoizedState,ss]},useRef:function(ss){var as=Th();return ss={current:ss},as.memoizedState=ss},useState:hi$1,useDebugValue:ri$2,useDeferredValue:function(ss){return Th().memoizedState=ss},useTransition:function(){var ss=hi$1(!1),as=ss[0];return ss=vi$2.bind(null,ss[1]),Th().memoizedState=ss,[as,ss]},useMutableSource:function(){},useSyncExternalStore:function(ss,as,us){var cs=M$3,$a=Th();if(I$2){if(us===void 0)throw Error(p$4(407));us=us()}else{if(us=as(),Q$3===null)throw Error(p$4(349));Hh&30||di$1(cs,as,us)}$a.memoizedState=us;var na={value:us,getSnapshot:as};return $a.queue=na,mi$2(ai$1.bind(null,cs,na,ss),[ss]),cs.flags|=2048,bi$2(9,ci$1.bind(null,cs,na,us,as),void 0,null),us},useId:function(){var ss=Th(),as=Q$3.identifierPrefix;if(I$2){var us=sg,cs=rg;us=(cs&~(1<<32-oc$1(cs)-1)).toString(32)+us,as=":"+as+"R"+us,us=Kh++,0<us&&(as+="H"+us.toString(32)),as+=":"}else us=Lh++,as=":"+as+"r"+us.toString(32)+":";return ss.memoizedState=as},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$2,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$2,useLayoutEffect:oi$2,useMemo:ti$1,useReducer:Wh,useRef:ji$2,useState:function(){return Wh(Vh)},useDebugValue:ri$2,useDeferredValue:function(ss){var as=Uh();return ui$1(as,N$4.memoizedState,ss)},useTransition:function(){var ss=Wh(Vh)[0],as=Uh().memoizedState;return[ss,as]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$2,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$2,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$2,useLayoutEffect:oi$2,useMemo:ti$1,useReducer:Xh,useRef:ji$2,useState:function(){return Xh(Vh)},useDebugValue:ri$2,useDeferredValue:function(ss){var as=Uh();return N$4===null?as.memoizedState=ss:ui$1(as,N$4.memoizedState,ss)},useTransition:function(){var ss=Xh(Vh)[0],as=Uh().memoizedState;return[ss,as]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$2,unstable_isNewReconciler:!1};function Ci$2(ss,as){if(ss&&ss.defaultProps){as=A$3({},as),ss=ss.defaultProps;for(var us in ss)as[us]===void 0&&(as[us]=ss[us]);return as}return as}function Di$2(ss,as,us,cs){as=ss.memoizedState,us=us(cs,as),us=us==null?as:A$3({},as,us),ss.memoizedState=us,ss.lanes===0&&(ss.updateQueue.baseState=us)}var Ei$2={isMounted:function(ss){return(ss=ss._reactInternals)?Vb(ss)===ss:!1},enqueueSetState:function(ss,as,us){ss=ss._reactInternals;var cs=R$4(),$a=yi$2(ss),na=mh(cs,$a);na.payload=as,us!=null&&(na.callback=us),as=nh(ss,na,$a),as!==null&&(gi$2(as,ss,$a,cs),oh(as,ss,$a))},enqueueReplaceState:function(ss,as,us){ss=ss._reactInternals;var cs=R$4(),$a=yi$2(ss),na=mh(cs,$a);na.tag=1,na.payload=as,us!=null&&(na.callback=us),as=nh(ss,na,$a),as!==null&&(gi$2(as,ss,$a,cs),oh(as,ss,$a))},enqueueForceUpdate:function(ss,as){ss=ss._reactInternals;var us=R$4(),cs=yi$2(ss),$a=mh(us,cs);$a.tag=2,as!=null&&($a.callback=as),as=nh(ss,$a,cs),as!==null&&(gi$2(as,ss,cs,us),oh(as,ss,cs))}};function Fi$2(ss,as,us,cs,$a,na,tu){return ss=ss.stateNode,typeof ss.shouldComponentUpdate=="function"?ss.shouldComponentUpdate(cs,na,tu):as.prototype&&as.prototype.isPureReactComponent?!Ie$3(us,cs)||!Ie$3($a,na):!0}function Gi$1(ss,as,us){var cs=!1,$a=Vf,na=as.contextType;return typeof na=="object"&&na!==null?na=eh(na):($a=Zf(as)?Xf:H$2.current,cs=as.contextTypes,na=(cs=cs!=null)?Yf(ss,$a):Vf),as=new as(us,na),ss.memoizedState=as.state!==null&&as.state!==void 0?as.state:null,as.updater=Ei$2,ss.stateNode=as,as._reactInternals=ss,cs&&(ss=ss.stateNode,ss.__reactInternalMemoizedUnmaskedChildContext=$a,ss.__reactInternalMemoizedMaskedChildContext=na),as}function Hi$1(ss,as,us,cs){ss=as.state,typeof as.componentWillReceiveProps=="function"&&as.componentWillReceiveProps(us,cs),typeof as.UNSAFE_componentWillReceiveProps=="function"&&as.UNSAFE_componentWillReceiveProps(us,cs),as.state!==ss&&Ei$2.enqueueReplaceState(as,as.state,null)}function Ii$2(ss,as,us,cs){var $a=ss.stateNode;$a.props=us,$a.state=ss.memoizedState,$a.refs={},kh(ss);var na=as.contextType;typeof na=="object"&&na!==null?$a.context=eh(na):(na=Zf(as)?Xf:H$2.current,$a.context=Yf(ss,na)),$a.state=ss.memoizedState,na=as.getDerivedStateFromProps,typeof na=="function"&&(Di$2(ss,as,na,us),$a.state=ss.memoizedState),typeof as.getDerivedStateFromProps=="function"||typeof $a.getSnapshotBeforeUpdate=="function"||typeof $a.UNSAFE_componentWillMount!="function"&&typeof $a.componentWillMount!="function"||(as=$a.state,typeof $a.componentWillMount=="function"&&$a.componentWillMount(),typeof $a.UNSAFE_componentWillMount=="function"&&$a.UNSAFE_componentWillMount(),as!==$a.state&&Ei$2.enqueueReplaceState($a,$a.state,null),qh(ss,us,$a,cs),$a.state=ss.memoizedState),typeof $a.componentDidMount=="function"&&(ss.flags|=4194308)}function Ji$1(ss,as){try{var us="",cs=as;do us+=Pa(cs),cs=cs.return;while(cs);var $a=us}catch(na){$a=`
Error generating stack: `+na.message+`
`+na.stack}return{value:ss,source:as,stack:$a,digest:null}}function Ki$2(ss,as,us){return{value:ss,source:null,stack:us??null,digest:as??null}}function Li$2(ss,as){try{console.error(as.value)}catch(us){setTimeout(function(){throw us})}}var Mi$2=typeof WeakMap=="function"?WeakMap:Map;function Ni$2(ss,as,us){us=mh(-1,us),us.tag=3,us.payload={element:null};var cs=as.value;return us.callback=function(){Oi$2||(Oi$2=!0,Pi$2=cs),Li$2(ss,as)},us}function Qi$1(ss,as,us){us=mh(-1,us),us.tag=3;var cs=ss.type.getDerivedStateFromError;if(typeof cs=="function"){var $a=as.value;us.payload=function(){return cs($a)},us.callback=function(){Li$2(ss,as)}}var na=ss.stateNode;return na!==null&&typeof na.componentDidCatch=="function"&&(us.callback=function(){Li$2(ss,as),typeof cs!="function"&&(Ri$2===null?Ri$2=new Set([this]):Ri$2.add(this));var tu=as.stack;this.componentDidCatch(as.value,{componentStack:tu!==null?tu:""})}),us}function Si$2(ss,as,us){var cs=ss.pingCache;if(cs===null){cs=ss.pingCache=new Mi$2;var $a=new Set;cs.set(as,$a)}else $a=cs.get(as),$a===void 0&&($a=new Set,cs.set(as,$a));$a.has(us)||($a.add(us),ss=Ti$2.bind(null,ss,as,us),as.then(ss,ss))}function Ui$2(ss){do{var as;if((as=ss.tag===13)&&(as=ss.memoizedState,as=as!==null?as.dehydrated!==null:!0),as)return ss;ss=ss.return}while(ss!==null);return null}function Vi$2(ss,as,us,cs,$a){return ss.mode&1?(ss.flags|=65536,ss.lanes=$a,ss):(ss===as?ss.flags|=65536:(ss.flags|=128,us.flags|=131072,us.flags&=-52805,us.tag===1&&(us.alternate===null?us.tag=17:(as=mh(-1,1),as.tag=2,nh(us,as,1))),us.lanes|=1),ss)}var Wi$1=ua$1.ReactCurrentOwner,dh$1=!1;function Xi$1(ss,as,us,cs){as.child=ss===null?Vg(as,null,us,cs):Ug(as,ss.child,us,cs)}function Yi$1(ss,as,us,cs,$a){us=us.render;var na=as.ref;return ch$1(as,$a),cs=Nh(ss,as,us,cs,na,$a),us=Sh(),ss!==null&&!dh$1?(as.updateQueue=ss.updateQueue,as.flags&=-2053,ss.lanes&=~$a,Zi$1(ss,as,$a)):(I$2&&us&&vg(as),as.flags|=1,Xi$1(ss,as,cs,$a),as.child)}function $i$2(ss,as,us,cs,$a){if(ss===null){var na=us.type;return typeof na=="function"&&!aj(na)&&na.defaultProps===void 0&&us.compare===null&&us.defaultProps===void 0?(as.tag=15,as.type=na,bj(ss,as,na,cs,$a)):(ss=Rg(us.type,null,cs,as,as.mode,$a),ss.ref=as.ref,ss.return=as,as.child=ss)}if(na=ss.child,!(ss.lanes&$a)){var tu=na.memoizedProps;if(us=us.compare,us=us!==null?us:Ie$3,us(tu,cs)&&ss.ref===as.ref)return Zi$1(ss,as,$a)}return as.flags|=1,ss=Pg(na,cs),ss.ref=as.ref,ss.return=as,as.child=ss}function bj(ss,as,us,cs,$a){if(ss!==null){var na=ss.memoizedProps;if(Ie$3(na,cs)&&ss.ref===as.ref)if(dh$1=!1,as.pendingProps=cs=na,(ss.lanes&$a)!==0)ss.flags&131072&&(dh$1=!0);else return as.lanes=ss.lanes,Zi$1(ss,as,$a)}return cj(ss,as,us,cs,$a)}function dj(ss,as,us){var cs=as.pendingProps,$a=cs.children,na=ss!==null?ss.memoizedState:null;if(cs.mode==="hidden")if(!(as.mode&1))as.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$3(ej,fj),fj|=us;else{if(!(us&1073741824))return ss=na!==null?na.baseLanes|us:us,as.lanes=as.childLanes=1073741824,as.memoizedState={baseLanes:ss,cachePool:null,transitions:null},as.updateQueue=null,G$3(ej,fj),fj|=ss,null;as.memoizedState={baseLanes:0,cachePool:null,transitions:null},cs=na!==null?na.baseLanes:us,G$3(ej,fj),fj|=cs}else na!==null?(cs=na.baseLanes|us,as.memoizedState=null):cs=us,G$3(ej,fj),fj|=cs;return Xi$1(ss,as,$a,us),as.child}function gj(ss,as){var us=as.ref;(ss===null&&us!==null||ss!==null&&ss.ref!==us)&&(as.flags|=512,as.flags|=2097152)}function cj(ss,as,us,cs,$a){var na=Zf(us)?Xf:H$2.current;return na=Yf(as,na),ch$1(as,$a),us=Nh(ss,as,us,cs,na,$a),cs=Sh(),ss!==null&&!dh$1?(as.updateQueue=ss.updateQueue,as.flags&=-2053,ss.lanes&=~$a,Zi$1(ss,as,$a)):(I$2&&cs&&vg(as),as.flags|=1,Xi$1(ss,as,us,$a),as.child)}function hj(ss,as,us,cs,$a){if(Zf(us)){var na=!0;cg(as)}else na=!1;if(ch$1(as,$a),as.stateNode===null)ij(ss,as),Gi$1(as,us,cs),Ii$2(as,us,cs,$a),cs=!0;else if(ss===null){var tu=as.stateNode,iu=as.memoizedProps;tu.props=iu;var su=tu.context,au=us.contextType;typeof au=="object"&&au!==null?au=eh(au):(au=Zf(us)?Xf:H$2.current,au=Yf(as,au));var ou=us.getDerivedStateFromProps,fu=typeof ou=="function"||typeof tu.getSnapshotBeforeUpdate=="function";fu||typeof tu.UNSAFE_componentWillReceiveProps!="function"&&typeof tu.componentWillReceiveProps!="function"||(iu!==cs||su!==au)&&Hi$1(as,tu,cs,au),jh=!1;var pu=as.memoizedState;tu.state=pu,qh(as,cs,tu,$a),su=as.memoizedState,iu!==cs||pu!==su||Wf.current||jh?(typeof ou=="function"&&(Di$2(as,us,ou,cs),su=as.memoizedState),(iu=jh||Fi$2(as,us,iu,cs,pu,su,au))?(fu||typeof tu.UNSAFE_componentWillMount!="function"&&typeof tu.componentWillMount!="function"||(typeof tu.componentWillMount=="function"&&tu.componentWillMount(),typeof tu.UNSAFE_componentWillMount=="function"&&tu.UNSAFE_componentWillMount()),typeof tu.componentDidMount=="function"&&(as.flags|=4194308)):(typeof tu.componentDidMount=="function"&&(as.flags|=4194308),as.memoizedProps=cs,as.memoizedState=su),tu.props=cs,tu.state=su,tu.context=au,cs=iu):(typeof tu.componentDidMount=="function"&&(as.flags|=4194308),cs=!1)}else{tu=as.stateNode,lh(ss,as),iu=as.memoizedProps,au=as.type===as.elementType?iu:Ci$2(as.type,iu),tu.props=au,fu=as.pendingProps,pu=tu.context,su=us.contextType,typeof su=="object"&&su!==null?su=eh(su):(su=Zf(us)?Xf:H$2.current,su=Yf(as,su));var vu=us.getDerivedStateFromProps;(ou=typeof vu=="function"||typeof tu.getSnapshotBeforeUpdate=="function")||typeof tu.UNSAFE_componentWillReceiveProps!="function"&&typeof tu.componentWillReceiveProps!="function"||(iu!==fu||pu!==su)&&Hi$1(as,tu,cs,su),jh=!1,pu=as.memoizedState,tu.state=pu,qh(as,cs,tu,$a);var gu=as.memoizedState;iu!==fu||pu!==gu||Wf.current||jh?(typeof vu=="function"&&(Di$2(as,us,vu,cs),gu=as.memoizedState),(au=jh||Fi$2(as,us,au,cs,pu,gu,su)||!1)?(ou||typeof tu.UNSAFE_componentWillUpdate!="function"&&typeof tu.componentWillUpdate!="function"||(typeof tu.componentWillUpdate=="function"&&tu.componentWillUpdate(cs,gu,su),typeof tu.UNSAFE_componentWillUpdate=="function"&&tu.UNSAFE_componentWillUpdate(cs,gu,su)),typeof tu.componentDidUpdate=="function"&&(as.flags|=4),typeof tu.getSnapshotBeforeUpdate=="function"&&(as.flags|=1024)):(typeof tu.componentDidUpdate!="function"||iu===ss.memoizedProps&&pu===ss.memoizedState||(as.flags|=4),typeof tu.getSnapshotBeforeUpdate!="function"||iu===ss.memoizedProps&&pu===ss.memoizedState||(as.flags|=1024),as.memoizedProps=cs,as.memoizedState=gu),tu.props=cs,tu.state=gu,tu.context=su,cs=au):(typeof tu.componentDidUpdate!="function"||iu===ss.memoizedProps&&pu===ss.memoizedState||(as.flags|=4),typeof tu.getSnapshotBeforeUpdate!="function"||iu===ss.memoizedProps&&pu===ss.memoizedState||(as.flags|=1024),cs=!1)}return jj(ss,as,us,cs,na,$a)}function jj(ss,as,us,cs,$a,na){gj(ss,as);var tu=(as.flags&128)!==0;if(!cs&&!tu)return $a&&dg(as,us,!1),Zi$1(ss,as,na);cs=as.stateNode,Wi$1.current=as;var iu=tu&&typeof us.getDerivedStateFromError!="function"?null:cs.render();return as.flags|=1,ss!==null&&tu?(as.child=Ug(as,ss.child,null,na),as.child=Ug(as,null,iu,na)):Xi$1(ss,as,iu,na),as.memoizedState=cs.state,$a&&dg(as,us,!0),as.child}function kj(ss){var as=ss.stateNode;as.pendingContext?ag(ss,as.pendingContext,as.pendingContext!==as.context):as.context&&ag(ss,as.context,!1),yh(ss,as.containerInfo)}function lj(ss,as,us,cs,$a){return Ig(),Jg($a),as.flags|=256,Xi$1(ss,as,us,cs),as.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(ss){return{baseLanes:ss,cachePool:null,transitions:null}}function oj(ss,as,us){var cs=as.pendingProps,$a=L$3.current,na=!1,tu=(as.flags&128)!==0,iu;if((iu=tu)||(iu=ss!==null&&ss.memoizedState===null?!1:($a&2)!==0),iu?(na=!0,as.flags&=-129):(ss===null||ss.memoizedState!==null)&&($a|=1),G$3(L$3,$a&1),ss===null)return Eg(as),ss=as.memoizedState,ss!==null&&(ss=ss.dehydrated,ss!==null)?(as.mode&1?ss.data==="$!"?as.lanes=8:as.lanes=1073741824:as.lanes=1,null):(tu=cs.children,ss=cs.fallback,na?(cs=as.mode,na=as.child,tu={mode:"hidden",children:tu},!(cs&1)&&na!==null?(na.childLanes=0,na.pendingProps=tu):na=pj(tu,cs,0,null),ss=Tg(ss,cs,us,null),na.return=as,ss.return=as,na.sibling=ss,as.child=na,as.child.memoizedState=nj(us),as.memoizedState=mj,ss):qj(as,tu));if($a=ss.memoizedState,$a!==null&&(iu=$a.dehydrated,iu!==null))return rj(ss,as,tu,cs,iu,$a,us);if(na){na=cs.fallback,tu=as.mode,$a=ss.child,iu=$a.sibling;var su={mode:"hidden",children:cs.children};return!(tu&1)&&as.child!==$a?(cs=as.child,cs.childLanes=0,cs.pendingProps=su,as.deletions=null):(cs=Pg($a,su),cs.subtreeFlags=$a.subtreeFlags&14680064),iu!==null?na=Pg(iu,na):(na=Tg(na,tu,us,null),na.flags|=2),na.return=as,cs.return=as,cs.sibling=na,as.child=cs,cs=na,na=as.child,tu=ss.child.memoizedState,tu=tu===null?nj(us):{baseLanes:tu.baseLanes|us,cachePool:null,transitions:tu.transitions},na.memoizedState=tu,na.childLanes=ss.childLanes&~us,as.memoizedState=mj,cs}return na=ss.child,ss=na.sibling,cs=Pg(na,{mode:"visible",children:cs.children}),!(as.mode&1)&&(cs.lanes=us),cs.return=as,cs.sibling=null,ss!==null&&(us=as.deletions,us===null?(as.deletions=[ss],as.flags|=16):us.push(ss)),as.child=cs,as.memoizedState=null,cs}function qj(ss,as){return as=pj({mode:"visible",children:as},ss.mode,0,null),as.return=ss,ss.child=as}function sj(ss,as,us,cs){return cs!==null&&Jg(cs),Ug(as,ss.child,null,us),ss=qj(as,as.pendingProps.children),ss.flags|=2,as.memoizedState=null,ss}function rj(ss,as,us,cs,$a,na,tu){if(us)return as.flags&256?(as.flags&=-257,cs=Ki$2(Error(p$4(422))),sj(ss,as,tu,cs)):as.memoizedState!==null?(as.child=ss.child,as.flags|=128,null):(na=cs.fallback,$a=as.mode,cs=pj({mode:"visible",children:cs.children},$a,0,null),na=Tg(na,$a,tu,null),na.flags|=2,cs.return=as,na.return=as,cs.sibling=na,as.child=cs,as.mode&1&&Ug(as,ss.child,null,tu),as.child.memoizedState=nj(tu),as.memoizedState=mj,na);if(!(as.mode&1))return sj(ss,as,tu,null);if($a.data==="$!"){if(cs=$a.nextSibling&&$a.nextSibling.dataset,cs)var iu=cs.dgst;return cs=iu,na=Error(p$4(419)),cs=Ki$2(na,cs,void 0),sj(ss,as,tu,cs)}if(iu=(tu&ss.childLanes)!==0,dh$1||iu){if(cs=Q$3,cs!==null){switch(tu&-tu){case 4:$a=2;break;case 16:$a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$a=32;break;case 536870912:$a=268435456;break;default:$a=0}$a=$a&(cs.suspendedLanes|tu)?0:$a,$a!==0&&$a!==na.retryLane&&(na.retryLane=$a,ih(ss,$a),gi$2(cs,ss,$a,-1))}return tj(),cs=Ki$2(Error(p$4(421))),sj(ss,as,tu,cs)}return $a.data==="$?"?(as.flags|=128,as.child=ss.child,as=uj.bind(null,ss),$a._reactRetry=as,null):(ss=na.treeContext,yg=Lf($a.nextSibling),xg=as,I$2=!0,zg=null,ss!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=ss.id,sg=ss.overflow,qg=as),as=qj(as,cs.children),as.flags|=4096,as)}function vj(ss,as,us){ss.lanes|=as;var cs=ss.alternate;cs!==null&&(cs.lanes|=as),bh(ss.return,as,us)}function wj(ss,as,us,cs,$a){var na=ss.memoizedState;na===null?ss.memoizedState={isBackwards:as,rendering:null,renderingStartTime:0,last:cs,tail:us,tailMode:$a}:(na.isBackwards=as,na.rendering=null,na.renderingStartTime=0,na.last=cs,na.tail=us,na.tailMode=$a)}function xj(ss,as,us){var cs=as.pendingProps,$a=cs.revealOrder,na=cs.tail;if(Xi$1(ss,as,cs.children,us),cs=L$3.current,cs&2)cs=cs&1|2,as.flags|=128;else{if(ss!==null&&ss.flags&128)e:for(ss=as.child;ss!==null;){if(ss.tag===13)ss.memoizedState!==null&&vj(ss,us,as);else if(ss.tag===19)vj(ss,us,as);else if(ss.child!==null){ss.child.return=ss,ss=ss.child;continue}if(ss===as)break e;for(;ss.sibling===null;){if(ss.return===null||ss.return===as)break e;ss=ss.return}ss.sibling.return=ss.return,ss=ss.sibling}cs&=1}if(G$3(L$3,cs),!(as.mode&1))as.memoizedState=null;else switch($a){case"forwards":for(us=as.child,$a=null;us!==null;)ss=us.alternate,ss!==null&&Ch$1(ss)===null&&($a=us),us=us.sibling;us=$a,us===null?($a=as.child,as.child=null):($a=us.sibling,us.sibling=null),wj(as,!1,$a,us,na);break;case"backwards":for(us=null,$a=as.child,as.child=null;$a!==null;){if(ss=$a.alternate,ss!==null&&Ch$1(ss)===null){as.child=$a;break}ss=$a.sibling,$a.sibling=us,us=$a,$a=ss}wj(as,!0,us,null,na);break;case"together":wj(as,!1,null,null,void 0);break;default:as.memoizedState=null}return as.child}function ij(ss,as){!(as.mode&1)&&ss!==null&&(ss.alternate=null,as.alternate=null,as.flags|=2)}function Zi$1(ss,as,us){if(ss!==null&&(as.dependencies=ss.dependencies),rh|=as.lanes,!(us&as.childLanes))return null;if(ss!==null&&as.child!==ss.child)throw Error(p$4(153));if(as.child!==null){for(ss=as.child,us=Pg(ss,ss.pendingProps),as.child=us,us.return=as;ss.sibling!==null;)ss=ss.sibling,us=us.sibling=Pg(ss,ss.pendingProps),us.return=as;us.sibling=null}return as.child}function yj(ss,as,us){switch(as.tag){case 3:kj(as),Ig();break;case 5:Ah(as);break;case 1:Zf(as.type)&&cg(as);break;case 4:yh(as,as.stateNode.containerInfo);break;case 10:var cs=as.type._context,$a=as.memoizedProps.value;G$3(Wg,cs._currentValue),cs._currentValue=$a;break;case 13:if(cs=as.memoizedState,cs!==null)return cs.dehydrated!==null?(G$3(L$3,L$3.current&1),as.flags|=128,null):us&as.child.childLanes?oj(ss,as,us):(G$3(L$3,L$3.current&1),ss=Zi$1(ss,as,us),ss!==null?ss.sibling:null);G$3(L$3,L$3.current&1);break;case 19:if(cs=(us&as.childLanes)!==0,ss.flags&128){if(cs)return xj(ss,as,us);as.flags|=128}if($a=as.memoizedState,$a!==null&&($a.rendering=null,$a.tail=null,$a.lastEffect=null),G$3(L$3,L$3.current),cs)break;return null;case 22:case 23:return as.lanes=0,dj(ss,as,us)}return Zi$1(ss,as,us)}var zj,Aj,Bj,Cj;zj=function(ss,as){for(var us=as.child;us!==null;){if(us.tag===5||us.tag===6)ss.appendChild(us.stateNode);else if(us.tag!==4&&us.child!==null){us.child.return=us,us=us.child;continue}if(us===as)break;for(;us.sibling===null;){if(us.return===null||us.return===as)return;us=us.return}us.sibling.return=us.return,us=us.sibling}};Aj=function(){};Bj=function(ss,as,us,cs){var $a=ss.memoizedProps;if($a!==cs){ss=as.stateNode,xh(uh.current);var na=null;switch(us){case"input":$a=Ya(ss,$a),cs=Ya(ss,cs),na=[];break;case"select":$a=A$3({},$a,{value:void 0}),cs=A$3({},cs,{value:void 0}),na=[];break;case"textarea":$a=gb(ss,$a),cs=gb(ss,cs),na=[];break;default:typeof $a.onClick!="function"&&typeof cs.onClick=="function"&&(ss.onclick=Bf)}ub(us,cs);var tu;us=null;for(au in $a)if(!cs.hasOwnProperty(au)&&$a.hasOwnProperty(au)&&$a[au]!=null)if(au==="style"){var iu=$a[au];for(tu in iu)iu.hasOwnProperty(tu)&&(us||(us={}),us[tu]="")}else au!=="dangerouslySetInnerHTML"&&au!=="children"&&au!=="suppressContentEditableWarning"&&au!=="suppressHydrationWarning"&&au!=="autoFocus"&&(ea.hasOwnProperty(au)?na||(na=[]):(na=na||[]).push(au,null));for(au in cs){var su=cs[au];if(iu=$a!=null?$a[au]:void 0,cs.hasOwnProperty(au)&&su!==iu&&(su!=null||iu!=null))if(au==="style")if(iu){for(tu in iu)!iu.hasOwnProperty(tu)||su&&su.hasOwnProperty(tu)||(us||(us={}),us[tu]="");for(tu in su)su.hasOwnProperty(tu)&&iu[tu]!==su[tu]&&(us||(us={}),us[tu]=su[tu])}else us||(na||(na=[]),na.push(au,us)),us=su;else au==="dangerouslySetInnerHTML"?(su=su?su.__html:void 0,iu=iu?iu.__html:void 0,su!=null&&iu!==su&&(na=na||[]).push(au,su)):au==="children"?typeof su!="string"&&typeof su!="number"||(na=na||[]).push(au,""+su):au!=="suppressContentEditableWarning"&&au!=="suppressHydrationWarning"&&(ea.hasOwnProperty(au)?(su!=null&&au==="onScroll"&&D$2("scroll",ss),na||iu===su||(na=[])):(na=na||[]).push(au,su))}us&&(na=na||[]).push("style",us);var au=na;(as.updateQueue=au)&&(as.flags|=4)}};Cj=function(ss,as,us,cs){us!==cs&&(as.flags|=4)};function Dj(ss,as){if(!I$2)switch(ss.tailMode){case"hidden":as=ss.tail;for(var us=null;as!==null;)as.alternate!==null&&(us=as),as=as.sibling;us===null?ss.tail=null:us.sibling=null;break;case"collapsed":us=ss.tail;for(var cs=null;us!==null;)us.alternate!==null&&(cs=us),us=us.sibling;cs===null?as||ss.tail===null?ss.tail=null:ss.tail.sibling=null:cs.sibling=null}}function S$5(ss){var as=ss.alternate!==null&&ss.alternate.child===ss.child,us=0,cs=0;if(as)for(var $a=ss.child;$a!==null;)us|=$a.lanes|$a.childLanes,cs|=$a.subtreeFlags&14680064,cs|=$a.flags&14680064,$a.return=ss,$a=$a.sibling;else for($a=ss.child;$a!==null;)us|=$a.lanes|$a.childLanes,cs|=$a.subtreeFlags,cs|=$a.flags,$a.return=ss,$a=$a.sibling;return ss.subtreeFlags|=cs,ss.childLanes=us,as}function Ej(ss,as,us){var cs=as.pendingProps;switch(wg(as),as.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$5(as),null;case 1:return Zf(as.type)&&$f(),S$5(as),null;case 3:return cs=as.stateNode,zh(),E$5(Wf),E$5(H$2),Eh(),cs.pendingContext&&(cs.context=cs.pendingContext,cs.pendingContext=null),(ss===null||ss.child===null)&&(Gg(as)?as.flags|=4:ss===null||ss.memoizedState.isDehydrated&&!(as.flags&256)||(as.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(ss,as),S$5(as),null;case 5:Bh(as);var $a=xh(wh.current);if(us=as.type,ss!==null&&as.stateNode!=null)Bj(ss,as,us,cs,$a),ss.ref!==as.ref&&(as.flags|=512,as.flags|=2097152);else{if(!cs){if(as.stateNode===null)throw Error(p$4(166));return S$5(as),null}if(ss=xh(uh.current),Gg(as)){cs=as.stateNode,us=as.type;var na=as.memoizedProps;switch(cs[Of]=as,cs[Pf]=na,ss=(as.mode&1)!==0,us){case"dialog":D$2("cancel",cs),D$2("close",cs);break;case"iframe":case"object":case"embed":D$2("load",cs);break;case"video":case"audio":for($a=0;$a<lf.length;$a++)D$2(lf[$a],cs);break;case"source":D$2("error",cs);break;case"img":case"image":case"link":D$2("error",cs),D$2("load",cs);break;case"details":D$2("toggle",cs);break;case"input":Za(cs,na),D$2("invalid",cs);break;case"select":cs._wrapperState={wasMultiple:!!na.multiple},D$2("invalid",cs);break;case"textarea":hb(cs,na),D$2("invalid",cs)}ub(us,na),$a=null;for(var tu in na)if(na.hasOwnProperty(tu)){var iu=na[tu];tu==="children"?typeof iu=="string"?cs.textContent!==iu&&(na.suppressHydrationWarning!==!0&&Af(cs.textContent,iu,ss),$a=["children",iu]):typeof iu=="number"&&cs.textContent!==""+iu&&(na.suppressHydrationWarning!==!0&&Af(cs.textContent,iu,ss),$a=["children",""+iu]):ea.hasOwnProperty(tu)&&iu!=null&&tu==="onScroll"&&D$2("scroll",cs)}switch(us){case"input":Va(cs),db(cs,na,!0);break;case"textarea":Va(cs),jb(cs);break;case"select":case"option":break;default:typeof na.onClick=="function"&&(cs.onclick=Bf)}cs=$a,as.updateQueue=cs,cs!==null&&(as.flags|=4)}else{tu=$a.nodeType===9?$a:$a.ownerDocument,ss==="http://www.w3.org/1999/xhtml"&&(ss=kb(us)),ss==="http://www.w3.org/1999/xhtml"?us==="script"?(ss=tu.createElement("div"),ss.innerHTML="<script><\/script>",ss=ss.removeChild(ss.firstChild)):typeof cs.is=="string"?ss=tu.createElement(us,{is:cs.is}):(ss=tu.createElement(us),us==="select"&&(tu=ss,cs.multiple?tu.multiple=!0:cs.size&&(tu.size=cs.size))):ss=tu.createElementNS(ss,us),ss[Of]=as,ss[Pf]=cs,zj(ss,as,!1,!1),as.stateNode=ss;e:{switch(tu=vb(us,cs),us){case"dialog":D$2("cancel",ss),D$2("close",ss),$a=cs;break;case"iframe":case"object":case"embed":D$2("load",ss),$a=cs;break;case"video":case"audio":for($a=0;$a<lf.length;$a++)D$2(lf[$a],ss);$a=cs;break;case"source":D$2("error",ss),$a=cs;break;case"img":case"image":case"link":D$2("error",ss),D$2("load",ss),$a=cs;break;case"details":D$2("toggle",ss),$a=cs;break;case"input":Za(ss,cs),$a=Ya(ss,cs),D$2("invalid",ss);break;case"option":$a=cs;break;case"select":ss._wrapperState={wasMultiple:!!cs.multiple},$a=A$3({},cs,{value:void 0}),D$2("invalid",ss);break;case"textarea":hb(ss,cs),$a=gb(ss,cs),D$2("invalid",ss);break;default:$a=cs}ub(us,$a),iu=$a;for(na in iu)if(iu.hasOwnProperty(na)){var su=iu[na];na==="style"?sb(ss,su):na==="dangerouslySetInnerHTML"?(su=su?su.__html:void 0,su!=null&&nb(ss,su)):na==="children"?typeof su=="string"?(us!=="textarea"||su!=="")&&ob(ss,su):typeof su=="number"&&ob(ss,""+su):na!=="suppressContentEditableWarning"&&na!=="suppressHydrationWarning"&&na!=="autoFocus"&&(ea.hasOwnProperty(na)?su!=null&&na==="onScroll"&&D$2("scroll",ss):su!=null&&ta(ss,na,su,tu))}switch(us){case"input":Va(ss),db(ss,cs,!1);break;case"textarea":Va(ss),jb(ss);break;case"option":cs.value!=null&&ss.setAttribute("value",""+Sa$1(cs.value));break;case"select":ss.multiple=!!cs.multiple,na=cs.value,na!=null?fb(ss,!!cs.multiple,na,!1):cs.defaultValue!=null&&fb(ss,!!cs.multiple,cs.defaultValue,!0);break;default:typeof $a.onClick=="function"&&(ss.onclick=Bf)}switch(us){case"button":case"input":case"select":case"textarea":cs=!!cs.autoFocus;break e;case"img":cs=!0;break e;default:cs=!1}}cs&&(as.flags|=4)}as.ref!==null&&(as.flags|=512,as.flags|=2097152)}return S$5(as),null;case 6:if(ss&&as.stateNode!=null)Cj(ss,as,ss.memoizedProps,cs);else{if(typeof cs!="string"&&as.stateNode===null)throw Error(p$4(166));if(us=xh(wh.current),xh(uh.current),Gg(as)){if(cs=as.stateNode,us=as.memoizedProps,cs[Of]=as,(na=cs.nodeValue!==us)&&(ss=xg,ss!==null))switch(ss.tag){case 3:Af(cs.nodeValue,us,(ss.mode&1)!==0);break;case 5:ss.memoizedProps.suppressHydrationWarning!==!0&&Af(cs.nodeValue,us,(ss.mode&1)!==0)}na&&(as.flags|=4)}else cs=(us.nodeType===9?us:us.ownerDocument).createTextNode(cs),cs[Of]=as,as.stateNode=cs}return S$5(as),null;case 13:if(E$5(L$3),cs=as.memoizedState,ss===null||ss.memoizedState!==null&&ss.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&as.mode&1&&!(as.flags&128))Hg(),Ig(),as.flags|=98560,na=!1;else if(na=Gg(as),cs!==null&&cs.dehydrated!==null){if(ss===null){if(!na)throw Error(p$4(318));if(na=as.memoizedState,na=na!==null?na.dehydrated:null,!na)throw Error(p$4(317));na[Of]=as}else Ig(),!(as.flags&128)&&(as.memoizedState=null),as.flags|=4;S$5(as),na=!1}else zg!==null&&(Fj(zg),zg=null),na=!0;if(!na)return as.flags&65536?as:null}return as.flags&128?(as.lanes=us,as):(cs=cs!==null,cs!==(ss!==null&&ss.memoizedState!==null)&&cs&&(as.child.flags|=8192,as.mode&1&&(ss===null||L$3.current&1?T$3===0&&(T$3=3):tj())),as.updateQueue!==null&&(as.flags|=4),S$5(as),null);case 4:return zh(),Aj(ss,as),ss===null&&sf(as.stateNode.containerInfo),S$5(as),null;case 10:return ah(as.type._context),S$5(as),null;case 17:return Zf(as.type)&&$f(),S$5(as),null;case 19:if(E$5(L$3),na=as.memoizedState,na===null)return S$5(as),null;if(cs=(as.flags&128)!==0,tu=na.rendering,tu===null)if(cs)Dj(na,!1);else{if(T$3!==0||ss!==null&&ss.flags&128)for(ss=as.child;ss!==null;){if(tu=Ch$1(ss),tu!==null){for(as.flags|=128,Dj(na,!1),cs=tu.updateQueue,cs!==null&&(as.updateQueue=cs,as.flags|=4),as.subtreeFlags=0,cs=us,us=as.child;us!==null;)na=us,ss=cs,na.flags&=14680066,tu=na.alternate,tu===null?(na.childLanes=0,na.lanes=ss,na.child=null,na.subtreeFlags=0,na.memoizedProps=null,na.memoizedState=null,na.updateQueue=null,na.dependencies=null,na.stateNode=null):(na.childLanes=tu.childLanes,na.lanes=tu.lanes,na.child=tu.child,na.subtreeFlags=0,na.deletions=null,na.memoizedProps=tu.memoizedProps,na.memoizedState=tu.memoizedState,na.updateQueue=tu.updateQueue,na.type=tu.type,ss=tu.dependencies,na.dependencies=ss===null?null:{lanes:ss.lanes,firstContext:ss.firstContext}),us=us.sibling;return G$3(L$3,L$3.current&1|2),as.child}ss=ss.sibling}na.tail!==null&&B$4()>Gj&&(as.flags|=128,cs=!0,Dj(na,!1),as.lanes=4194304)}else{if(!cs)if(ss=Ch$1(tu),ss!==null){if(as.flags|=128,cs=!0,us=ss.updateQueue,us!==null&&(as.updateQueue=us,as.flags|=4),Dj(na,!0),na.tail===null&&na.tailMode==="hidden"&&!tu.alternate&&!I$2)return S$5(as),null}else 2*B$4()-na.renderingStartTime>Gj&&us!==1073741824&&(as.flags|=128,cs=!0,Dj(na,!1),as.lanes=4194304);na.isBackwards?(tu.sibling=as.child,as.child=tu):(us=na.last,us!==null?us.sibling=tu:as.child=tu,na.last=tu)}return na.tail!==null?(as=na.tail,na.rendering=as,na.tail=as.sibling,na.renderingStartTime=B$4(),as.sibling=null,us=L$3.current,G$3(L$3,cs?us&1|2:us&1),as):(S$5(as),null);case 22:case 23:return Hj(),cs=as.memoizedState!==null,ss!==null&&ss.memoizedState!==null!==cs&&(as.flags|=8192),cs&&as.mode&1?fj&1073741824&&(S$5(as),as.subtreeFlags&6&&(as.flags|=8192)):S$5(as),null;case 24:return null;case 25:return null}throw Error(p$4(156,as.tag))}function Ij(ss,as){switch(wg(as),as.tag){case 1:return Zf(as.type)&&$f(),ss=as.flags,ss&65536?(as.flags=ss&-65537|128,as):null;case 3:return zh(),E$5(Wf),E$5(H$2),Eh(),ss=as.flags,ss&65536&&!(ss&128)?(as.flags=ss&-65537|128,as):null;case 5:return Bh(as),null;case 13:if(E$5(L$3),ss=as.memoizedState,ss!==null&&ss.dehydrated!==null){if(as.alternate===null)throw Error(p$4(340));Ig()}return ss=as.flags,ss&65536?(as.flags=ss&-65537|128,as):null;case 19:return E$5(L$3),null;case 4:return zh(),null;case 10:return ah(as.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$4=null;function Lj(ss,as){var us=ss.ref;if(us!==null)if(typeof us=="function")try{us(null)}catch(cs){W$9(ss,as,cs)}else us.current=null}function Mj(ss,as,us){try{us()}catch(cs){W$9(ss,as,cs)}}var Nj=!1;function Oj(ss,as){if(Cf=dd,ss=Me$4(),Ne$1(ss)){if("selectionStart"in ss)var us={start:ss.selectionStart,end:ss.selectionEnd};else e:{us=(us=ss.ownerDocument)&&us.defaultView||window;var cs=us.getSelection&&us.getSelection();if(cs&&cs.rangeCount!==0){us=cs.anchorNode;var $a=cs.anchorOffset,na=cs.focusNode;cs=cs.focusOffset;try{us.nodeType,na.nodeType}catch{us=null;break e}var tu=0,iu=-1,su=-1,au=0,ou=0,fu=ss,pu=null;t:for(;;){for(var vu;fu!==us||$a!==0&&fu.nodeType!==3||(iu=tu+$a),fu!==na||cs!==0&&fu.nodeType!==3||(su=tu+cs),fu.nodeType===3&&(tu+=fu.nodeValue.length),(vu=fu.firstChild)!==null;)pu=fu,fu=vu;for(;;){if(fu===ss)break t;if(pu===us&&++au===$a&&(iu=tu),pu===na&&++ou===cs&&(su=tu),(vu=fu.nextSibling)!==null)break;fu=pu,pu=fu.parentNode}fu=vu}us=iu===-1||su===-1?null:{start:iu,end:su}}else us=null}us=us||{start:0,end:0}}else us=null;for(Df={focusedElem:ss,selectionRange:us},dd=!1,V$4=as;V$4!==null;)if(as=V$4,ss=as.child,(as.subtreeFlags&1028)!==0&&ss!==null)ss.return=as,V$4=ss;else for(;V$4!==null;){as=V$4;try{var gu=as.alternate;if(as.flags&1024)switch(as.tag){case 0:case 11:case 15:break;case 1:if(gu!==null){var bu=gu.memoizedProps,xu=gu.memoizedState,$u=as.stateNode,wu=$u.getSnapshotBeforeUpdate(as.elementType===as.type?bu:Ci$2(as.type,bu),xu);$u.__reactInternalSnapshotBeforeUpdate=wu}break;case 3:var _u=as.stateNode.containerInfo;_u.nodeType===1?_u.textContent="":_u.nodeType===9&&_u.documentElement&&_u.removeChild(_u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(Mu){W$9(as,as.return,Mu)}if(ss=as.sibling,ss!==null){ss.return=as.return,V$4=ss;break}V$4=as.return}return gu=Nj,Nj=!1,gu}function Pj(ss,as,us){var cs=as.updateQueue;if(cs=cs!==null?cs.lastEffect:null,cs!==null){var $a=cs=cs.next;do{if(($a.tag&ss)===ss){var na=$a.destroy;$a.destroy=void 0,na!==void 0&&Mj(as,us,na)}$a=$a.next}while($a!==cs)}}function Qj(ss,as){if(as=as.updateQueue,as=as!==null?as.lastEffect:null,as!==null){var us=as=as.next;do{if((us.tag&ss)===ss){var cs=us.create;us.destroy=cs()}us=us.next}while(us!==as)}}function Rj(ss){var as=ss.ref;if(as!==null){var us=ss.stateNode;switch(ss.tag){case 5:ss=us;break;default:ss=us}typeof as=="function"?as(ss):as.current=ss}}function Sj(ss){var as=ss.alternate;as!==null&&(ss.alternate=null,Sj(as)),ss.child=null,ss.deletions=null,ss.sibling=null,ss.tag===5&&(as=ss.stateNode,as!==null&&(delete as[Of],delete as[Pf],delete as[of],delete as[Qf],delete as[Rf])),ss.stateNode=null,ss.return=null,ss.dependencies=null,ss.memoizedProps=null,ss.memoizedState=null,ss.pendingProps=null,ss.stateNode=null,ss.updateQueue=null}function Tj(ss){return ss.tag===5||ss.tag===3||ss.tag===4}function Uj(ss){e:for(;;){for(;ss.sibling===null;){if(ss.return===null||Tj(ss.return))return null;ss=ss.return}for(ss.sibling.return=ss.return,ss=ss.sibling;ss.tag!==5&&ss.tag!==6&&ss.tag!==18;){if(ss.flags&2||ss.child===null||ss.tag===4)continue e;ss.child.return=ss,ss=ss.child}if(!(ss.flags&2))return ss.stateNode}}function Vj(ss,as,us){var cs=ss.tag;if(cs===5||cs===6)ss=ss.stateNode,as?us.nodeType===8?us.parentNode.insertBefore(ss,as):us.insertBefore(ss,as):(us.nodeType===8?(as=us.parentNode,as.insertBefore(ss,us)):(as=us,as.appendChild(ss)),us=us._reactRootContainer,us!=null||as.onclick!==null||(as.onclick=Bf));else if(cs!==4&&(ss=ss.child,ss!==null))for(Vj(ss,as,us),ss=ss.sibling;ss!==null;)Vj(ss,as,us),ss=ss.sibling}function Wj(ss,as,us){var cs=ss.tag;if(cs===5||cs===6)ss=ss.stateNode,as?us.insertBefore(ss,as):us.appendChild(ss);else if(cs!==4&&(ss=ss.child,ss!==null))for(Wj(ss,as,us),ss=ss.sibling;ss!==null;)Wj(ss,as,us),ss=ss.sibling}var X$1=null,Xj=!1;function Yj(ss,as,us){for(us=us.child;us!==null;)Zj(ss,as,us),us=us.sibling}function Zj(ss,as,us){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,us)}catch{}switch(us.tag){case 5:U||Lj(us,as);case 6:var cs=X$1,$a=Xj;X$1=null,Yj(ss,as,us),X$1=cs,Xj=$a,X$1!==null&&(Xj?(ss=X$1,us=us.stateNode,ss.nodeType===8?ss.parentNode.removeChild(us):ss.removeChild(us)):X$1.removeChild(us.stateNode));break;case 18:X$1!==null&&(Xj?(ss=X$1,us=us.stateNode,ss.nodeType===8?Kf(ss.parentNode,us):ss.nodeType===1&&Kf(ss,us),bd(ss)):Kf(X$1,us.stateNode));break;case 4:cs=X$1,$a=Xj,X$1=us.stateNode.containerInfo,Xj=!0,Yj(ss,as,us),X$1=cs,Xj=$a;break;case 0:case 11:case 14:case 15:if(!U&&(cs=us.updateQueue,cs!==null&&(cs=cs.lastEffect,cs!==null))){$a=cs=cs.next;do{var na=$a,tu=na.destroy;na=na.tag,tu!==void 0&&(na&2||na&4)&&Mj(us,as,tu),$a=$a.next}while($a!==cs)}Yj(ss,as,us);break;case 1:if(!U&&(Lj(us,as),cs=us.stateNode,typeof cs.componentWillUnmount=="function"))try{cs.props=us.memoizedProps,cs.state=us.memoizedState,cs.componentWillUnmount()}catch(iu){W$9(us,as,iu)}Yj(ss,as,us);break;case 21:Yj(ss,as,us);break;case 22:us.mode&1?(U=(cs=U)||us.memoizedState!==null,Yj(ss,as,us),U=cs):Yj(ss,as,us);break;default:Yj(ss,as,us)}}function ak(ss){var as=ss.updateQueue;if(as!==null){ss.updateQueue=null;var us=ss.stateNode;us===null&&(us=ss.stateNode=new Kj),as.forEach(function(cs){var $a=bk.bind(null,ss,cs);us.has(cs)||(us.add(cs),cs.then($a,$a))})}}function ck(ss,as){var us=as.deletions;if(us!==null)for(var cs=0;cs<us.length;cs++){var $a=us[cs];try{var na=ss,tu=as,iu=tu;e:for(;iu!==null;){switch(iu.tag){case 5:X$1=iu.stateNode,Xj=!1;break e;case 3:X$1=iu.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=iu.stateNode.containerInfo,Xj=!0;break e}iu=iu.return}if(X$1===null)throw Error(p$4(160));Zj(na,tu,$a),X$1=null,Xj=!1;var su=$a.alternate;su!==null&&(su.return=null),$a.return=null}catch(au){W$9($a,as,au)}}if(as.subtreeFlags&12854)for(as=as.child;as!==null;)dk(as,ss),as=as.sibling}function dk(ss,as){var us=ss.alternate,cs=ss.flags;switch(ss.tag){case 0:case 11:case 14:case 15:if(ck(as,ss),ek(ss),cs&4){try{Pj(3,ss,ss.return),Qj(3,ss)}catch(bu){W$9(ss,ss.return,bu)}try{Pj(5,ss,ss.return)}catch(bu){W$9(ss,ss.return,bu)}}break;case 1:ck(as,ss),ek(ss),cs&512&&us!==null&&Lj(us,us.return);break;case 5:if(ck(as,ss),ek(ss),cs&512&&us!==null&&Lj(us,us.return),ss.flags&32){var $a=ss.stateNode;try{ob($a,"")}catch(bu){W$9(ss,ss.return,bu)}}if(cs&4&&($a=ss.stateNode,$a!=null)){var na=ss.memoizedProps,tu=us!==null?us.memoizedProps:na,iu=ss.type,su=ss.updateQueue;if(ss.updateQueue=null,su!==null)try{iu==="input"&&na.type==="radio"&&na.name!=null&&ab($a,na),vb(iu,tu);var au=vb(iu,na);for(tu=0;tu<su.length;tu+=2){var ou=su[tu],fu=su[tu+1];ou==="style"?sb($a,fu):ou==="dangerouslySetInnerHTML"?nb($a,fu):ou==="children"?ob($a,fu):ta($a,ou,fu,au)}switch(iu){case"input":bb($a,na);break;case"textarea":ib($a,na);break;case"select":var pu=$a._wrapperState.wasMultiple;$a._wrapperState.wasMultiple=!!na.multiple;var vu=na.value;vu!=null?fb($a,!!na.multiple,vu,!1):pu!==!!na.multiple&&(na.defaultValue!=null?fb($a,!!na.multiple,na.defaultValue,!0):fb($a,!!na.multiple,na.multiple?[]:"",!1))}$a[Pf]=na}catch(bu){W$9(ss,ss.return,bu)}}break;case 6:if(ck(as,ss),ek(ss),cs&4){if(ss.stateNode===null)throw Error(p$4(162));$a=ss.stateNode,na=ss.memoizedProps;try{$a.nodeValue=na}catch(bu){W$9(ss,ss.return,bu)}}break;case 3:if(ck(as,ss),ek(ss),cs&4&&us!==null&&us.memoizedState.isDehydrated)try{bd(as.containerInfo)}catch(bu){W$9(ss,ss.return,bu)}break;case 4:ck(as,ss),ek(ss);break;case 13:ck(as,ss),ek(ss),$a=ss.child,$a.flags&8192&&(na=$a.memoizedState!==null,$a.stateNode.isHidden=na,!na||$a.alternate!==null&&$a.alternate.memoizedState!==null||(fk=B$4())),cs&4&&ak(ss);break;case 22:if(ou=us!==null&&us.memoizedState!==null,ss.mode&1?(U=(au=U)||ou,ck(as,ss),U=au):ck(as,ss),ek(ss),cs&8192){if(au=ss.memoizedState!==null,(ss.stateNode.isHidden=au)&&!ou&&ss.mode&1)for(V$4=ss,ou=ss.child;ou!==null;){for(fu=V$4=ou;V$4!==null;){switch(pu=V$4,vu=pu.child,pu.tag){case 0:case 11:case 14:case 15:Pj(4,pu,pu.return);break;case 1:Lj(pu,pu.return);var gu=pu.stateNode;if(typeof gu.componentWillUnmount=="function"){cs=pu,us=pu.return;try{as=cs,gu.props=as.memoizedProps,gu.state=as.memoizedState,gu.componentWillUnmount()}catch(bu){W$9(cs,us,bu)}}break;case 5:Lj(pu,pu.return);break;case 22:if(pu.memoizedState!==null){gk(fu);continue}}vu!==null?(vu.return=pu,V$4=vu):gk(fu)}ou=ou.sibling}e:for(ou=null,fu=ss;;){if(fu.tag===5){if(ou===null){ou=fu;try{$a=fu.stateNode,au?(na=$a.style,typeof na.setProperty=="function"?na.setProperty("display","none","important"):na.display="none"):(iu=fu.stateNode,su=fu.memoizedProps.style,tu=su!=null&&su.hasOwnProperty("display")?su.display:null,iu.style.display=rb("display",tu))}catch(bu){W$9(ss,ss.return,bu)}}}else if(fu.tag===6){if(ou===null)try{fu.stateNode.nodeValue=au?"":fu.memoizedProps}catch(bu){W$9(ss,ss.return,bu)}}else if((fu.tag!==22&&fu.tag!==23||fu.memoizedState===null||fu===ss)&&fu.child!==null){fu.child.return=fu,fu=fu.child;continue}if(fu===ss)break e;for(;fu.sibling===null;){if(fu.return===null||fu.return===ss)break e;ou===fu&&(ou=null),fu=fu.return}ou===fu&&(ou=null),fu.sibling.return=fu.return,fu=fu.sibling}}break;case 19:ck(as,ss),ek(ss),cs&4&&ak(ss);break;case 21:break;default:ck(as,ss),ek(ss)}}function ek(ss){var as=ss.flags;if(as&2){try{e:{for(var us=ss.return;us!==null;){if(Tj(us)){var cs=us;break e}us=us.return}throw Error(p$4(160))}switch(cs.tag){case 5:var $a=cs.stateNode;cs.flags&32&&(ob($a,""),cs.flags&=-33);var na=Uj(ss);Wj(ss,na,$a);break;case 3:case 4:var tu=cs.stateNode.containerInfo,iu=Uj(ss);Vj(ss,iu,tu);break;default:throw Error(p$4(161))}}catch(su){W$9(ss,ss.return,su)}ss.flags&=-3}as&4096&&(ss.flags&=-4097)}function hk(ss,as,us){V$4=ss,ik(ss)}function ik(ss,as,us){for(var cs=(ss.mode&1)!==0;V$4!==null;){var $a=V$4,na=$a.child;if($a.tag===22&&cs){var tu=$a.memoizedState!==null||Jj;if(!tu){var iu=$a.alternate,su=iu!==null&&iu.memoizedState!==null||U;iu=Jj;var au=U;if(Jj=tu,(U=su)&&!au)for(V$4=$a;V$4!==null;)tu=V$4,su=tu.child,tu.tag===22&&tu.memoizedState!==null?jk($a):su!==null?(su.return=tu,V$4=su):jk($a);for(;na!==null;)V$4=na,ik(na),na=na.sibling;V$4=$a,Jj=iu,U=au}kk(ss)}else $a.subtreeFlags&8772&&na!==null?(na.return=$a,V$4=na):kk(ss)}}function kk(ss){for(;V$4!==null;){var as=V$4;if(as.flags&8772){var us=as.alternate;try{if(as.flags&8772)switch(as.tag){case 0:case 11:case 15:U||Qj(5,as);break;case 1:var cs=as.stateNode;if(as.flags&4&&!U)if(us===null)cs.componentDidMount();else{var $a=as.elementType===as.type?us.memoizedProps:Ci$2(as.type,us.memoizedProps);cs.componentDidUpdate($a,us.memoizedState,cs.__reactInternalSnapshotBeforeUpdate)}var na=as.updateQueue;na!==null&&sh(as,na,cs);break;case 3:var tu=as.updateQueue;if(tu!==null){if(us=null,as.child!==null)switch(as.child.tag){case 5:us=as.child.stateNode;break;case 1:us=as.child.stateNode}sh(as,tu,us)}break;case 5:var iu=as.stateNode;if(us===null&&as.flags&4){us=iu;var su=as.memoizedProps;switch(as.type){case"button":case"input":case"select":case"textarea":su.autoFocus&&us.focus();break;case"img":su.src&&(us.src=su.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(as.memoizedState===null){var au=as.alternate;if(au!==null){var ou=au.memoizedState;if(ou!==null){var fu=ou.dehydrated;fu!==null&&bd(fu)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U||as.flags&512&&Rj(as)}catch(pu){W$9(as,as.return,pu)}}if(as===ss){V$4=null;break}if(us=as.sibling,us!==null){us.return=as.return,V$4=us;break}V$4=as.return}}function gk(ss){for(;V$4!==null;){var as=V$4;if(as===ss){V$4=null;break}var us=as.sibling;if(us!==null){us.return=as.return,V$4=us;break}V$4=as.return}}function jk(ss){for(;V$4!==null;){var as=V$4;try{switch(as.tag){case 0:case 11:case 15:var us=as.return;try{Qj(4,as)}catch(su){W$9(as,us,su)}break;case 1:var cs=as.stateNode;if(typeof cs.componentDidMount=="function"){var $a=as.return;try{cs.componentDidMount()}catch(su){W$9(as,$a,su)}}var na=as.return;try{Rj(as)}catch(su){W$9(as,na,su)}break;case 5:var tu=as.return;try{Rj(as)}catch(su){W$9(as,tu,su)}}}catch(su){W$9(as,as.return,su)}if(as===ss){V$4=null;break}var iu=as.sibling;if(iu!==null){iu.return=as.return,V$4=iu;break}V$4=as.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K$8=0,Q$3=null,Y$3=null,Z$1=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$2=!1,Pi$2=null,Ri$2=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$4(){return K$8&6?B$4():Ak!==-1?Ak:Ak=B$4()}function yi$2(ss){return ss.mode&1?K$8&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc$1()),Bk):(ss=C$4,ss!==0||(ss=window.event,ss=ss===void 0?16:jd(ss.type)),ss):1}function gi$2(ss,as,us,cs){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac$1(ss,us,cs),(!(K$8&2)||ss!==Q$3)&&(ss===Q$3&&(!(K$8&2)&&(qk|=us),T$3===4&&Ck(ss,Z$1)),Dk(ss,cs),us===1&&K$8===0&&!(as.mode&1)&&(Gj=B$4()+500,fg&&jg()))}function Dk(ss,as){var us=ss.callbackNode;wc$1(ss,as);var cs=uc$1(ss,ss===Q$3?Z$1:0);if(cs===0)us!==null&&bc$1(us),ss.callbackNode=null,ss.callbackPriority=0;else if(as=cs&-cs,ss.callbackPriority!==as){if(us!=null&&bc$1(us),as===1)ss.tag===0?ig(Ek.bind(null,ss)):hg(Ek.bind(null,ss)),Jf(function(){!(K$8&6)&&jg()}),us=null;else{switch(Dc$1(cs)){case 1:us=fc$1;break;case 4:us=gc$1;break;case 16:us=hc$1;break;case 536870912:us=jc$1;break;default:us=hc$1}us=Fk(us,Gk.bind(null,ss))}ss.callbackPriority=as,ss.callbackNode=us}}function Gk(ss,as){if(Ak=-1,Bk=0,K$8&6)throw Error(p$4(327));var us=ss.callbackNode;if(Hk()&&ss.callbackNode!==us)return null;var cs=uc$1(ss,ss===Q$3?Z$1:0);if(cs===0)return null;if(cs&30||cs&ss.expiredLanes||as)as=Ik(ss,cs);else{as=cs;var $a=K$8;K$8|=2;var na=Jk();(Q$3!==ss||Z$1!==as)&&(uk=null,Gj=B$4()+500,Kk(ss,as));do try{Lk();break}catch(iu){Mk(ss,iu)}while(!0);$g$1(),mk.current=na,K$8=$a,Y$3!==null?as=0:(Q$3=null,Z$1=0,as=T$3)}if(as!==0){if(as===2&&($a=xc$1(ss),$a!==0&&(cs=$a,as=Nk(ss,$a))),as===1)throw us=pk,Kk(ss,0),Ck(ss,cs),Dk(ss,B$4()),us;if(as===6)Ck(ss,cs);else{if($a=ss.current.alternate,!(cs&30)&&!Ok($a)&&(as=Ik(ss,cs),as===2&&(na=xc$1(ss),na!==0&&(cs=na,as=Nk(ss,na))),as===1))throw us=pk,Kk(ss,0),Ck(ss,cs),Dk(ss,B$4()),us;switch(ss.finishedWork=$a,ss.finishedLanes=cs,as){case 0:case 1:throw Error(p$4(345));case 2:Pk(ss,tk,uk);break;case 3:if(Ck(ss,cs),(cs&130023424)===cs&&(as=fk+500-B$4(),10<as)){if(uc$1(ss,0)!==0)break;if($a=ss.suspendedLanes,($a&cs)!==cs){R$4(),ss.pingedLanes|=ss.suspendedLanes&$a;break}ss.timeoutHandle=Ff(Pk.bind(null,ss,tk,uk),as);break}Pk(ss,tk,uk);break;case 4:if(Ck(ss,cs),(cs&4194240)===cs)break;for(as=ss.eventTimes,$a=-1;0<cs;){var tu=31-oc$1(cs);na=1<<tu,tu=as[tu],tu>$a&&($a=tu),cs&=~na}if(cs=$a,cs=B$4()-cs,cs=(120>cs?120:480>cs?480:1080>cs?1080:1920>cs?1920:3e3>cs?3e3:4320>cs?4320:1960*lk(cs/1960))-cs,10<cs){ss.timeoutHandle=Ff(Pk.bind(null,ss,tk,uk),cs);break}Pk(ss,tk,uk);break;case 5:Pk(ss,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(ss,B$4()),ss.callbackNode===us?Gk.bind(null,ss):null}function Nk(ss,as){var us=sk;return ss.current.memoizedState.isDehydrated&&(Kk(ss,as).flags|=256),ss=Ik(ss,as),ss!==2&&(as=tk,tk=us,as!==null&&Fj(as)),ss}function Fj(ss){tk===null?tk=ss:tk.push.apply(tk,ss)}function Ok(ss){for(var as=ss;;){if(as.flags&16384){var us=as.updateQueue;if(us!==null&&(us=us.stores,us!==null))for(var cs=0;cs<us.length;cs++){var $a=us[cs],na=$a.getSnapshot;$a=$a.value;try{if(!He$3(na(),$a))return!1}catch{return!1}}}if(us=as.child,as.subtreeFlags&16384&&us!==null)us.return=as,as=us;else{if(as===ss)break;for(;as.sibling===null;){if(as.return===null||as.return===ss)return!0;as=as.return}as.sibling.return=as.return,as=as.sibling}}return!0}function Ck(ss,as){for(as&=~rk,as&=~qk,ss.suspendedLanes|=as,ss.pingedLanes&=~as,ss=ss.expirationTimes;0<as;){var us=31-oc$1(as),cs=1<<us;ss[us]=-1,as&=~cs}}function Ek(ss){if(K$8&6)throw Error(p$4(327));Hk();var as=uc$1(ss,0);if(!(as&1))return Dk(ss,B$4()),null;var us=Ik(ss,as);if(ss.tag!==0&&us===2){var cs=xc$1(ss);cs!==0&&(as=cs,us=Nk(ss,cs))}if(us===1)throw us=pk,Kk(ss,0),Ck(ss,as),Dk(ss,B$4()),us;if(us===6)throw Error(p$4(345));return ss.finishedWork=ss.current.alternate,ss.finishedLanes=as,Pk(ss,tk,uk),Dk(ss,B$4()),null}function Qk(ss,as){var us=K$8;K$8|=1;try{return ss(as)}finally{K$8=us,K$8===0&&(Gj=B$4()+500,fg&&jg())}}function Rk(ss){wk!==null&&wk.tag===0&&!(K$8&6)&&Hk();var as=K$8;K$8|=1;var us=ok.transition,cs=C$4;try{if(ok.transition=null,C$4=1,ss)return ss()}finally{C$4=cs,ok.transition=us,K$8=as,!(K$8&6)&&jg()}}function Hj(){fj=ej.current,E$5(ej)}function Kk(ss,as){ss.finishedWork=null,ss.finishedLanes=0;var us=ss.timeoutHandle;if(us!==-1&&(ss.timeoutHandle=-1,Gf(us)),Y$3!==null)for(us=Y$3.return;us!==null;){var cs=us;switch(wg(cs),cs.tag){case 1:cs=cs.type.childContextTypes,cs!=null&&$f();break;case 3:zh(),E$5(Wf),E$5(H$2),Eh();break;case 5:Bh(cs);break;case 4:zh();break;case 13:E$5(L$3);break;case 19:E$5(L$3);break;case 10:ah(cs.type._context);break;case 22:case 23:Hj()}us=us.return}if(Q$3=ss,Y$3=ss=Pg(ss.current,null),Z$1=fj=as,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(as=0;as<fh.length;as++)if(us=fh[as],cs=us.interleaved,cs!==null){us.interleaved=null;var $a=cs.next,na=us.pending;if(na!==null){var tu=na.next;na.next=$a,cs.next=tu}us.pending=cs}fh=null}return ss}function Mk(ss,as){do{var us=Y$3;try{if($g$1(),Fh.current=Rh,Ih){for(var cs=M$3.memoizedState;cs!==null;){var $a=cs.queue;$a!==null&&($a.pending=null),cs=cs.next}Ih=!1}if(Hh=0,O$4=N$4=M$3=null,Jh=!1,Kh=0,nk.current=null,us===null||us.return===null){T$3=1,pk=as,Y$3=null;break}e:{var na=ss,tu=us.return,iu=us,su=as;if(as=Z$1,iu.flags|=32768,su!==null&&typeof su=="object"&&typeof su.then=="function"){var au=su,ou=iu,fu=ou.tag;if(!(ou.mode&1)&&(fu===0||fu===11||fu===15)){var pu=ou.alternate;pu?(ou.updateQueue=pu.updateQueue,ou.memoizedState=pu.memoizedState,ou.lanes=pu.lanes):(ou.updateQueue=null,ou.memoizedState=null)}var vu=Ui$2(tu);if(vu!==null){vu.flags&=-257,Vi$2(vu,tu,iu,na,as),vu.mode&1&&Si$2(na,au,as),as=vu,su=au;var gu=as.updateQueue;if(gu===null){var bu=new Set;bu.add(su),as.updateQueue=bu}else gu.add(su);break e}else{if(!(as&1)){Si$2(na,au,as),tj();break e}su=Error(p$4(426))}}else if(I$2&&iu.mode&1){var xu=Ui$2(tu);if(xu!==null){!(xu.flags&65536)&&(xu.flags|=256),Vi$2(xu,tu,iu,na,as),Jg(Ji$1(su,iu));break e}}na=su=Ji$1(su,iu),T$3!==4&&(T$3=2),sk===null?sk=[na]:sk.push(na),na=tu;do{switch(na.tag){case 3:na.flags|=65536,as&=-as,na.lanes|=as;var $u=Ni$2(na,su,as);ph(na,$u);break e;case 1:iu=su;var wu=na.type,_u=na.stateNode;if(!(na.flags&128)&&(typeof wu.getDerivedStateFromError=="function"||_u!==null&&typeof _u.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(_u)))){na.flags|=65536,as&=-as,na.lanes|=as;var Mu=Qi$1(na,iu,as);ph(na,Mu);break e}}na=na.return}while(na!==null)}Sk(us)}catch(Au){as=Au,Y$3===us&&us!==null&&(Y$3=us=us.return);continue}break}while(!0)}function Jk(){var ss=mk.current;return mk.current=Rh,ss===null?Rh:ss}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q$3===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$3,Z$1)}function Ik(ss,as){var us=K$8;K$8|=2;var cs=Jk();(Q$3!==ss||Z$1!==as)&&(uk=null,Kk(ss,as));do try{Tk();break}catch($a){Mk(ss,$a)}while(!0);if($g$1(),K$8=us,mk.current=cs,Y$3!==null)throw Error(p$4(261));return Q$3=null,Z$1=0,T$3}function Tk(){for(;Y$3!==null;)Uk(Y$3)}function Lk(){for(;Y$3!==null&&!cc$1();)Uk(Y$3)}function Uk(ss){var as=Vk(ss.alternate,ss,fj);ss.memoizedProps=ss.pendingProps,as===null?Sk(ss):Y$3=as,nk.current=null}function Sk(ss){var as=ss;do{var us=as.alternate;if(ss=as.return,as.flags&32768){if(us=Ij(us,as),us!==null){us.flags&=32767,Y$3=us;return}if(ss!==null)ss.flags|=32768,ss.subtreeFlags=0,ss.deletions=null;else{T$3=6,Y$3=null;return}}else if(us=Ej(us,as,fj),us!==null){Y$3=us;return}if(as=as.sibling,as!==null){Y$3=as;return}Y$3=as=ss}while(as!==null);T$3===0&&(T$3=5)}function Pk(ss,as,us){var cs=C$4,$a=ok.transition;try{ok.transition=null,C$4=1,Wk(ss,as,us,cs)}finally{ok.transition=$a,C$4=cs}return null}function Wk(ss,as,us,cs){do Hk();while(wk!==null);if(K$8&6)throw Error(p$4(327));us=ss.finishedWork;var $a=ss.finishedLanes;if(us===null)return null;if(ss.finishedWork=null,ss.finishedLanes=0,us===ss.current)throw Error(p$4(177));ss.callbackNode=null,ss.callbackPriority=0;var na=us.lanes|us.childLanes;if(Bc$1(ss,na),ss===Q$3&&(Y$3=Q$3=null,Z$1=0),!(us.subtreeFlags&2064)&&!(us.flags&2064)||vk||(vk=!0,Fk(hc$1,function(){return Hk(),null})),na=(us.flags&15990)!==0,us.subtreeFlags&15990||na){na=ok.transition,ok.transition=null;var tu=C$4;C$4=1;var iu=K$8;K$8|=4,nk.current=null,Oj(ss,us),dk(us,ss),Oe$1(Df),dd=!!Cf,Df=Cf=null,ss.current=us,hk(us),dc$1(),K$8=iu,C$4=tu,ok.transition=na}else ss.current=us;if(vk&&(vk=!1,wk=ss,xk=$a),na=ss.pendingLanes,na===0&&(Ri$2=null),mc$1(us.stateNode),Dk(ss,B$4()),as!==null)for(cs=ss.onRecoverableError,us=0;us<as.length;us++)$a=as[us],cs($a.value,{componentStack:$a.stack,digest:$a.digest});if(Oi$2)throw Oi$2=!1,ss=Pi$2,Pi$2=null,ss;return xk&1&&ss.tag!==0&&Hk(),na=ss.pendingLanes,na&1?ss===zk?yk++:(yk=0,zk=ss):yk=0,jg(),null}function Hk(){if(wk!==null){var ss=Dc$1(xk),as=ok.transition,us=C$4;try{if(ok.transition=null,C$4=16>ss?16:ss,wk===null)var cs=!1;else{if(ss=wk,wk=null,xk=0,K$8&6)throw Error(p$4(331));var $a=K$8;for(K$8|=4,V$4=ss.current;V$4!==null;){var na=V$4,tu=na.child;if(V$4.flags&16){var iu=na.deletions;if(iu!==null){for(var su=0;su<iu.length;su++){var au=iu[su];for(V$4=au;V$4!==null;){var ou=V$4;switch(ou.tag){case 0:case 11:case 15:Pj(8,ou,na)}var fu=ou.child;if(fu!==null)fu.return=ou,V$4=fu;else for(;V$4!==null;){ou=V$4;var pu=ou.sibling,vu=ou.return;if(Sj(ou),ou===au){V$4=null;break}if(pu!==null){pu.return=vu,V$4=pu;break}V$4=vu}}}var gu=na.alternate;if(gu!==null){var bu=gu.child;if(bu!==null){gu.child=null;do{var xu=bu.sibling;bu.sibling=null,bu=xu}while(bu!==null)}}V$4=na}}if(na.subtreeFlags&2064&&tu!==null)tu.return=na,V$4=tu;else e:for(;V$4!==null;){if(na=V$4,na.flags&2048)switch(na.tag){case 0:case 11:case 15:Pj(9,na,na.return)}var $u=na.sibling;if($u!==null){$u.return=na.return,V$4=$u;break e}V$4=na.return}}var wu=ss.current;for(V$4=wu;V$4!==null;){tu=V$4;var _u=tu.child;if(tu.subtreeFlags&2064&&_u!==null)_u.return=tu,V$4=_u;else e:for(tu=wu;V$4!==null;){if(iu=V$4,iu.flags&2048)try{switch(iu.tag){case 0:case 11:case 15:Qj(9,iu)}}catch(Au){W$9(iu,iu.return,Au)}if(iu===tu){V$4=null;break e}var Mu=iu.sibling;if(Mu!==null){Mu.return=iu.return,V$4=Mu;break e}V$4=iu.return}}if(K$8=$a,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,ss)}catch{}cs=!0}return cs}finally{C$4=us,ok.transition=as}}return!1}function Xk(ss,as,us){as=Ji$1(us,as),as=Ni$2(ss,as,1),ss=nh(ss,as,1),as=R$4(),ss!==null&&(Ac$1(ss,1,as),Dk(ss,as))}function W$9(ss,as,us){if(ss.tag===3)Xk(ss,ss,us);else for(;as!==null;){if(as.tag===3){Xk(as,ss,us);break}else if(as.tag===1){var cs=as.stateNode;if(typeof as.type.getDerivedStateFromError=="function"||typeof cs.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(cs))){ss=Ji$1(us,ss),ss=Qi$1(as,ss,1),as=nh(as,ss,1),ss=R$4(),as!==null&&(Ac$1(as,1,ss),Dk(as,ss));break}}as=as.return}}function Ti$2(ss,as,us){var cs=ss.pingCache;cs!==null&&cs.delete(as),as=R$4(),ss.pingedLanes|=ss.suspendedLanes&us,Q$3===ss&&(Z$1&us)===us&&(T$3===4||T$3===3&&(Z$1&130023424)===Z$1&&500>B$4()-fk?Kk(ss,0):rk|=us),Dk(ss,as)}function Yk(ss,as){as===0&&(ss.mode&1?(as=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):as=1);var us=R$4();ss=ih(ss,as),ss!==null&&(Ac$1(ss,as,us),Dk(ss,us))}function uj(ss){var as=ss.memoizedState,us=0;as!==null&&(us=as.retryLane),Yk(ss,us)}function bk(ss,as){var us=0;switch(ss.tag){case 13:var cs=ss.stateNode,$a=ss.memoizedState;$a!==null&&(us=$a.retryLane);break;case 19:cs=ss.stateNode;break;default:throw Error(p$4(314))}cs!==null&&cs.delete(as),Yk(ss,us)}var Vk;Vk=function(ss,as,us){if(ss!==null)if(ss.memoizedProps!==as.pendingProps||Wf.current)dh$1=!0;else{if(!(ss.lanes&us)&&!(as.flags&128))return dh$1=!1,yj(ss,as,us);dh$1=!!(ss.flags&131072)}else dh$1=!1,I$2&&as.flags&1048576&&ug(as,ng,as.index);switch(as.lanes=0,as.tag){case 2:var cs=as.type;ij(ss,as),ss=as.pendingProps;var $a=Yf(as,H$2.current);ch$1(as,us),$a=Nh(null,as,cs,ss,$a,us);var na=Sh();return as.flags|=1,typeof $a=="object"&&$a!==null&&typeof $a.render=="function"&&$a.$$typeof===void 0?(as.tag=1,as.memoizedState=null,as.updateQueue=null,Zf(cs)?(na=!0,cg(as)):na=!1,as.memoizedState=$a.state!==null&&$a.state!==void 0?$a.state:null,kh(as),$a.updater=Ei$2,as.stateNode=$a,$a._reactInternals=as,Ii$2(as,cs,ss,us),as=jj(null,as,cs,!0,na,us)):(as.tag=0,I$2&&na&&vg(as),Xi$1(null,as,$a,us),as=as.child),as;case 16:cs=as.elementType;e:{switch(ij(ss,as),ss=as.pendingProps,$a=cs._init,cs=$a(cs._payload),as.type=cs,$a=as.tag=Zk(cs),ss=Ci$2(cs,ss),$a){case 0:as=cj(null,as,cs,ss,us);break e;case 1:as=hj(null,as,cs,ss,us);break e;case 11:as=Yi$1(null,as,cs,ss,us);break e;case 14:as=$i$2(null,as,cs,Ci$2(cs.type,ss),us);break e}throw Error(p$4(306,cs,""))}return as;case 0:return cs=as.type,$a=as.pendingProps,$a=as.elementType===cs?$a:Ci$2(cs,$a),cj(ss,as,cs,$a,us);case 1:return cs=as.type,$a=as.pendingProps,$a=as.elementType===cs?$a:Ci$2(cs,$a),hj(ss,as,cs,$a,us);case 3:e:{if(kj(as),ss===null)throw Error(p$4(387));cs=as.pendingProps,na=as.memoizedState,$a=na.element,lh(ss,as),qh(as,cs,null,us);var tu=as.memoizedState;if(cs=tu.element,na.isDehydrated)if(na={element:cs,isDehydrated:!1,cache:tu.cache,pendingSuspenseBoundaries:tu.pendingSuspenseBoundaries,transitions:tu.transitions},as.updateQueue.baseState=na,as.memoizedState=na,as.flags&256){$a=Ji$1(Error(p$4(423)),as),as=lj(ss,as,cs,us,$a);break e}else if(cs!==$a){$a=Ji$1(Error(p$4(424)),as),as=lj(ss,as,cs,us,$a);break e}else for(yg=Lf(as.stateNode.containerInfo.firstChild),xg=as,I$2=!0,zg=null,us=Vg(as,null,cs,us),as.child=us;us;)us.flags=us.flags&-3|4096,us=us.sibling;else{if(Ig(),cs===$a){as=Zi$1(ss,as,us);break e}Xi$1(ss,as,cs,us)}as=as.child}return as;case 5:return Ah(as),ss===null&&Eg(as),cs=as.type,$a=as.pendingProps,na=ss!==null?ss.memoizedProps:null,tu=$a.children,Ef(cs,$a)?tu=null:na!==null&&Ef(cs,na)&&(as.flags|=32),gj(ss,as),Xi$1(ss,as,tu,us),as.child;case 6:return ss===null&&Eg(as),null;case 13:return oj(ss,as,us);case 4:return yh(as,as.stateNode.containerInfo),cs=as.pendingProps,ss===null?as.child=Ug(as,null,cs,us):Xi$1(ss,as,cs,us),as.child;case 11:return cs=as.type,$a=as.pendingProps,$a=as.elementType===cs?$a:Ci$2(cs,$a),Yi$1(ss,as,cs,$a,us);case 7:return Xi$1(ss,as,as.pendingProps,us),as.child;case 8:return Xi$1(ss,as,as.pendingProps.children,us),as.child;case 12:return Xi$1(ss,as,as.pendingProps.children,us),as.child;case 10:e:{if(cs=as.type._context,$a=as.pendingProps,na=as.memoizedProps,tu=$a.value,G$3(Wg,cs._currentValue),cs._currentValue=tu,na!==null)if(He$3(na.value,tu)){if(na.children===$a.children&&!Wf.current){as=Zi$1(ss,as,us);break e}}else for(na=as.child,na!==null&&(na.return=as);na!==null;){var iu=na.dependencies;if(iu!==null){tu=na.child;for(var su=iu.firstContext;su!==null;){if(su.context===cs){if(na.tag===1){su=mh(-1,us&-us),su.tag=2;var au=na.updateQueue;if(au!==null){au=au.shared;var ou=au.pending;ou===null?su.next=su:(su.next=ou.next,ou.next=su),au.pending=su}}na.lanes|=us,su=na.alternate,su!==null&&(su.lanes|=us),bh(na.return,us,as),iu.lanes|=us;break}su=su.next}}else if(na.tag===10)tu=na.type===as.type?null:na.child;else if(na.tag===18){if(tu=na.return,tu===null)throw Error(p$4(341));tu.lanes|=us,iu=tu.alternate,iu!==null&&(iu.lanes|=us),bh(tu,us,as),tu=na.sibling}else tu=na.child;if(tu!==null)tu.return=na;else for(tu=na;tu!==null;){if(tu===as){tu=null;break}if(na=tu.sibling,na!==null){na.return=tu.return,tu=na;break}tu=tu.return}na=tu}Xi$1(ss,as,$a.children,us),as=as.child}return as;case 9:return $a=as.type,cs=as.pendingProps.children,ch$1(as,us),$a=eh($a),cs=cs($a),as.flags|=1,Xi$1(ss,as,cs,us),as.child;case 14:return cs=as.type,$a=Ci$2(cs,as.pendingProps),$a=Ci$2(cs.type,$a),$i$2(ss,as,cs,$a,us);case 15:return bj(ss,as,as.type,as.pendingProps,us);case 17:return cs=as.type,$a=as.pendingProps,$a=as.elementType===cs?$a:Ci$2(cs,$a),ij(ss,as),as.tag=1,Zf(cs)?(ss=!0,cg(as)):ss=!1,ch$1(as,us),Gi$1(as,cs,$a),Ii$2(as,cs,$a,us),jj(null,as,cs,!0,ss,us);case 19:return xj(ss,as,us);case 22:return dj(ss,as,us)}throw Error(p$4(156,as.tag))};function Fk(ss,as){return ac$1(ss,as)}function $k(ss,as,us,cs){this.tag=ss,this.key=us,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=as,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=cs,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(ss,as,us,cs){return new $k(ss,as,us,cs)}function aj(ss){return ss=ss.prototype,!(!ss||!ss.isReactComponent)}function Zk(ss){if(typeof ss=="function")return aj(ss)?1:0;if(ss!=null){if(ss=ss.$$typeof,ss===Da)return 11;if(ss===Ga)return 14}return 2}function Pg(ss,as){var us=ss.alternate;return us===null?(us=Bg(ss.tag,as,ss.key,ss.mode),us.elementType=ss.elementType,us.type=ss.type,us.stateNode=ss.stateNode,us.alternate=ss,ss.alternate=us):(us.pendingProps=as,us.type=ss.type,us.flags=0,us.subtreeFlags=0,us.deletions=null),us.flags=ss.flags&14680064,us.childLanes=ss.childLanes,us.lanes=ss.lanes,us.child=ss.child,us.memoizedProps=ss.memoizedProps,us.memoizedState=ss.memoizedState,us.updateQueue=ss.updateQueue,as=ss.dependencies,us.dependencies=as===null?null:{lanes:as.lanes,firstContext:as.firstContext},us.sibling=ss.sibling,us.index=ss.index,us.ref=ss.ref,us}function Rg(ss,as,us,cs,$a,na){var tu=2;if(cs=ss,typeof ss=="function")aj(ss)&&(tu=1);else if(typeof ss=="string")tu=5;else e:switch(ss){case ya$1:return Tg(us.children,$a,na,as);case za:tu=8,$a|=8;break;case Aa$1:return ss=Bg(12,us,as,$a|2),ss.elementType=Aa$1,ss.lanes=na,ss;case Ea$1:return ss=Bg(13,us,as,$a),ss.elementType=Ea$1,ss.lanes=na,ss;case Fa:return ss=Bg(19,us,as,$a),ss.elementType=Fa,ss.lanes=na,ss;case Ia$1:return pj(us,$a,na,as);default:if(typeof ss=="object"&&ss!==null)switch(ss.$$typeof){case Ba$1:tu=10;break e;case Ca:tu=9;break e;case Da:tu=11;break e;case Ga:tu=14;break e;case Ha:tu=16,cs=null;break e}throw Error(p$4(130,ss==null?ss:typeof ss,""))}return as=Bg(tu,us,as,$a),as.elementType=ss,as.type=cs,as.lanes=na,as}function Tg(ss,as,us,cs){return ss=Bg(7,ss,cs,as),ss.lanes=us,ss}function pj(ss,as,us,cs){return ss=Bg(22,ss,cs,as),ss.elementType=Ia$1,ss.lanes=us,ss.stateNode={isHidden:!1},ss}function Qg(ss,as,us){return ss=Bg(6,ss,null,as),ss.lanes=us,ss}function Sg(ss,as,us){return as=Bg(4,ss.children!==null?ss.children:[],ss.key,as),as.lanes=us,as.stateNode={containerInfo:ss.containerInfo,pendingChildren:null,implementation:ss.implementation},as}function al(ss,as,us,cs,$a){this.tag=as,this.containerInfo=ss,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=cs,this.onRecoverableError=$a,this.mutableSourceEagerHydrationData=null}function bl(ss,as,us,cs,$a,na,tu,iu,su){return ss=new al(ss,as,us,iu,su),as===1?(as=1,na===!0&&(as|=8)):as=0,na=Bg(3,null,null,as),ss.current=na,na.stateNode=ss,na.memoizedState={element:cs,isDehydrated:us,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(na),ss}function cl(ss,as,us){var cs=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:cs==null?null:""+cs,children:ss,containerInfo:as,implementation:us}}function dl(ss){if(!ss)return Vf;ss=ss._reactInternals;e:{if(Vb(ss)!==ss||ss.tag!==1)throw Error(p$4(170));var as=ss;do{switch(as.tag){case 3:as=as.stateNode.context;break e;case 1:if(Zf(as.type)){as=as.stateNode.__reactInternalMemoizedMergedChildContext;break e}}as=as.return}while(as!==null);throw Error(p$4(171))}if(ss.tag===1){var us=ss.type;if(Zf(us))return bg(ss,us,as)}return as}function el(ss,as,us,cs,$a,na,tu,iu,su){return ss=bl(us,cs,!0,ss,$a,na,tu,iu,su),ss.context=dl(null),us=ss.current,cs=R$4(),$a=yi$2(us),na=mh(cs,$a),na.callback=as??null,nh(us,na,$a),ss.current.lanes=$a,Ac$1(ss,$a,cs),Dk(ss,cs),ss}function fl(ss,as,us,cs){var $a=as.current,na=R$4(),tu=yi$2($a);return us=dl(us),as.context===null?as.context=us:as.pendingContext=us,as=mh(na,tu),as.payload={element:ss},cs=cs===void 0?null:cs,cs!==null&&(as.callback=cs),ss=nh($a,as,tu),ss!==null&&(gi$2(ss,$a,tu,na),oh(ss,$a,tu)),tu}function gl(ss){if(ss=ss.current,!ss.child)return null;switch(ss.child.tag){case 5:return ss.child.stateNode;default:return ss.child.stateNode}}function hl(ss,as){if(ss=ss.memoizedState,ss!==null&&ss.dehydrated!==null){var us=ss.retryLane;ss.retryLane=us!==0&&us<as?us:as}}function il(ss,as){hl(ss,as),(ss=ss.alternate)&&hl(ss,as)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(ss){console.error(ss)};function ll(ss){this._internalRoot=ss}ml.prototype.render=ll.prototype.render=function(ss){var as=this._internalRoot;if(as===null)throw Error(p$4(409));fl(ss,as,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var ss=this._internalRoot;if(ss!==null){this._internalRoot=null;var as=ss.containerInfo;Rk(function(){fl(null,ss,null,null)}),as[uf]=null}};function ml(ss){this._internalRoot=ss}ml.prototype.unstable_scheduleHydration=function(ss){if(ss){var as=Hc$1();ss={blockedOn:null,target:ss,priority:as};for(var us=0;us<Qc.length&&as!==0&&as<Qc[us].priority;us++);Qc.splice(us,0,ss),us===0&&Vc$1(ss)}};function nl(ss){return!(!ss||ss.nodeType!==1&&ss.nodeType!==9&&ss.nodeType!==11)}function ol(ss){return!(!ss||ss.nodeType!==1&&ss.nodeType!==9&&ss.nodeType!==11&&(ss.nodeType!==8||ss.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(ss,as,us,cs,$a){if($a){if(typeof cs=="function"){var na=cs;cs=function(){var au=gl(tu);na.call(au)}}var tu=el(as,cs,ss,0,null,!1,!1,"",pl);return ss._reactRootContainer=tu,ss[uf]=tu.current,sf(ss.nodeType===8?ss.parentNode:ss),Rk(),tu}for(;$a=ss.lastChild;)ss.removeChild($a);if(typeof cs=="function"){var iu=cs;cs=function(){var au=gl(su);iu.call(au)}}var su=bl(ss,0,!1,null,null,!1,!1,"",pl);return ss._reactRootContainer=su,ss[uf]=su.current,sf(ss.nodeType===8?ss.parentNode:ss),Rk(function(){fl(as,su,us,cs)}),su}function rl(ss,as,us,cs,$a){var na=us._reactRootContainer;if(na){var tu=na;if(typeof $a=="function"){var iu=$a;$a=function(){var su=gl(tu);iu.call(su)}}fl(as,tu,ss,$a)}else tu=ql(us,as,ss,$a,cs);return gl(tu)}Ec$1=function(ss){switch(ss.tag){case 3:var as=ss.stateNode;if(as.current.memoizedState.isDehydrated){var us=tc$1(as.pendingLanes);us!==0&&(Cc$1(as,us|1),Dk(as,B$4()),!(K$8&6)&&(Gj=B$4()+500,jg()))}break;case 13:Rk(function(){var cs=ih(ss,1);if(cs!==null){var $a=R$4();gi$2(cs,ss,1,$a)}}),il(ss,1)}};Fc$1=function(ss){if(ss.tag===13){var as=ih(ss,134217728);if(as!==null){var us=R$4();gi$2(as,ss,134217728,us)}il(ss,134217728)}};Gc$1=function(ss){if(ss.tag===13){var as=yi$2(ss),us=ih(ss,as);if(us!==null){var cs=R$4();gi$2(us,ss,as,cs)}il(ss,as)}};Hc$1=function(){return C$4};Ic$1=function(ss,as){var us=C$4;try{return C$4=ss,as()}finally{C$4=us}};yb=function(ss,as,us){switch(as){case"input":if(bb(ss,us),as=us.name,us.type==="radio"&&as!=null){for(us=ss;us.parentNode;)us=us.parentNode;for(us=us.querySelectorAll("input[name="+JSON.stringify(""+as)+'][type="radio"]'),as=0;as<us.length;as++){var cs=us[as];if(cs!==ss&&cs.form===ss.form){var $a=Db(cs);if(!$a)throw Error(p$4(90));Wa(cs),bb(cs,$a)}}}break;case"textarea":ib(ss,us);break;case"select":as=us.value,as!=null&&fb(ss,!!us.multiple,as,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(ss){return ss=Zb(ss),ss===null?null:ss.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc$1=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(ss,as){var us=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(as))throw Error(p$4(200));return cl(ss,as,null,us)};reactDom_production_min.createRoot=function(ss,as){if(!nl(ss))throw Error(p$4(299));var us=!1,cs="",$a=kl;return as!=null&&(as.unstable_strictMode===!0&&(us=!0),as.identifierPrefix!==void 0&&(cs=as.identifierPrefix),as.onRecoverableError!==void 0&&($a=as.onRecoverableError)),as=bl(ss,1,!1,null,null,us,!1,cs,$a),ss[uf]=as.current,sf(ss.nodeType===8?ss.parentNode:ss),new ll(as)};reactDom_production_min.findDOMNode=function(ss){if(ss==null)return null;if(ss.nodeType===1)return ss;var as=ss._reactInternals;if(as===void 0)throw typeof ss.render=="function"?Error(p$4(188)):(ss=Object.keys(ss).join(","),Error(p$4(268,ss)));return ss=Zb(as),ss=ss===null?null:ss.stateNode,ss};reactDom_production_min.flushSync=function(ss){return Rk(ss)};reactDom_production_min.hydrate=function(ss,as,us){if(!ol(as))throw Error(p$4(200));return rl(null,ss,as,!0,us)};reactDom_production_min.hydrateRoot=function(ss,as,us){if(!nl(ss))throw Error(p$4(405));var cs=us!=null&&us.hydratedSources||null,$a=!1,na="",tu=kl;if(us!=null&&(us.unstable_strictMode===!0&&($a=!0),us.identifierPrefix!==void 0&&(na=us.identifierPrefix),us.onRecoverableError!==void 0&&(tu=us.onRecoverableError)),as=el(as,null,ss,1,us??null,$a,!1,na,tu),ss[uf]=as.current,sf(ss),cs)for(ss=0;ss<cs.length;ss++)us=cs[ss],$a=us._getVersion,$a=$a(us._source),as.mutableSourceEagerHydrationData==null?as.mutableSourceEagerHydrationData=[us,$a]:as.mutableSourceEagerHydrationData.push(us,$a);return new ml(as)};reactDom_production_min.render=function(ss,as,us){if(!ol(as))throw Error(p$4(200));return rl(null,ss,as,!1,us)};reactDom_production_min.unmountComponentAtNode=function(ss){if(!ol(ss))throw Error(p$4(40));return ss._reactRootContainer?(Rk(function(){rl(null,null,ss,!1,function(){ss._reactRootContainer=null,ss[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ss,as,us,cs){if(!ol(us))throw Error(p$4(200));if(ss==null||ss._reactInternals===void 0)throw Error(p$4(38));return rl(ss,as,us,!1,cs)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ss){console.error(ss)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(ss){for(var as=1;as<arguments.length;as++){var us=arguments[as];for(var cs in us)Object.prototype.hasOwnProperty.call(us,cs)&&(ss[cs]=us[cs])}return ss},_extends$2.apply(this,arguments)}var Action;(function(ss){ss.Pop="POP",ss.Push="PUSH",ss.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(ss){ss===void 0&&(ss={});function as(cs,$a){let{pathname:na,search:tu,hash:iu}=cs.location;return createLocation("",{pathname:na,search:tu,hash:iu},$a.state&&$a.state.usr||null,$a.state&&$a.state.key||"default")}function us(cs,$a){return typeof $a=="string"?$a:createPath($a)}return getUrlBasedHistory(as,us,null,ss)}function invariant(ss,as){if(ss===!1||ss===null||typeof ss>"u")throw new Error(as)}function warning(ss,as){if(!ss){typeof console<"u"&&console.warn(as);try{throw new Error(as)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(ss,as){return{usr:ss.state,key:ss.key,idx:as}}function createLocation(ss,as,us,cs){return us===void 0&&(us=null),_extends$2({pathname:typeof ss=="string"?ss:ss.pathname,search:"",hash:""},typeof as=="string"?parsePath(as):as,{state:us,key:as&&as.key||cs||createKey()})}function createPath(ss){let{pathname:as="/",search:us="",hash:cs=""}=ss;return us&&us!=="?"&&(as+=us.charAt(0)==="?"?us:"?"+us),cs&&cs!=="#"&&(as+=cs.charAt(0)==="#"?cs:"#"+cs),as}function parsePath(ss){let as={};if(ss){let us=ss.indexOf("#");us>=0&&(as.hash=ss.substr(us),ss=ss.substr(0,us));let cs=ss.indexOf("?");cs>=0&&(as.search=ss.substr(cs),ss=ss.substr(0,cs)),ss&&(as.pathname=ss)}return as}function getUrlBasedHistory(ss,as,us,cs){cs===void 0&&(cs={});let{window:$a=document.defaultView,v5Compat:na=!1}=cs,tu=$a.history,iu=Action.Pop,su=null,au=ou();au==null&&(au=0,tu.replaceState(_extends$2({},tu.state,{idx:au}),""));function ou(){return(tu.state||{idx:null}).idx}function fu(){iu=Action.Pop;let xu=ou(),$u=xu==null?null:xu-au;au=xu,su&&su({action:iu,location:bu.location,delta:$u})}function pu(xu,$u){iu=Action.Push;let wu=createLocation(bu.location,xu,$u);au=ou()+1;let _u=getHistoryState(wu,au),Mu=bu.createHref(wu);try{tu.pushState(_u,"",Mu)}catch(Au){if(Au instanceof DOMException&&Au.name==="DataCloneError")throw Au;$a.location.assign(Mu)}na&&su&&su({action:iu,location:bu.location,delta:1})}function vu(xu,$u){iu=Action.Replace;let wu=createLocation(bu.location,xu,$u);au=ou();let _u=getHistoryState(wu,au),Mu=bu.createHref(wu);tu.replaceState(_u,"",Mu),na&&su&&su({action:iu,location:bu.location,delta:0})}function gu(xu){let $u=$a.location.origin!=="null"?$a.location.origin:$a.location.href,wu=typeof xu=="string"?xu:createPath(xu);return wu=wu.replace(/ $/,"%20"),invariant($u,"No window.location.(origin|href) available to create URL for href: "+wu),new URL(wu,$u)}let bu={get action(){return iu},get location(){return ss($a,tu)},listen(xu){if(su)throw new Error("A history only accepts one active listener");return $a.addEventListener(PopStateEventType,fu),su=xu,()=>{$a.removeEventListener(PopStateEventType,fu),su=null}},createHref(xu){return as($a,xu)},createURL:gu,encodeLocation(xu){let $u=gu(xu);return{pathname:$u.pathname,search:$u.search,hash:$u.hash}},push:pu,replace:vu,go(xu){return tu.go(xu)}};return bu}var ResultType;(function(ss){ss.data="data",ss.deferred="deferred",ss.redirect="redirect",ss.error="error"})(ResultType||(ResultType={}));function matchRoutes(ss,as,us){return us===void 0&&(us="/"),matchRoutesImpl(ss,as,us)}function matchRoutesImpl(ss,as,us,cs){let $a=typeof as=="string"?parsePath(as):as,na=stripBasename($a.pathname||"/",us);if(na==null)return null;let tu=flattenRoutes(ss);rankRouteBranches(tu);let iu=null;for(let su=0;iu==null&&su<tu.length;++su){let au=decodePath(na);iu=matchRouteBranch(tu[su],au)}return iu}function flattenRoutes(ss,as,us,cs){as===void 0&&(as=[]),us===void 0&&(us=[]),cs===void 0&&(cs="");let $a=(na,tu,iu)=>{let su={relativePath:iu===void 0?na.path||"":iu,caseSensitive:na.caseSensitive===!0,childrenIndex:tu,route:na};su.relativePath.startsWith("/")&&(invariant(su.relativePath.startsWith(cs),'Absolute route path "'+su.relativePath+'" nested under path '+('"'+cs+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),su.relativePath=su.relativePath.slice(cs.length));let au=joinPaths([cs,su.relativePath]),ou=us.concat(su);na.children&&na.children.length>0&&(invariant(na.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+au+'".')),flattenRoutes(na.children,as,ou,au)),!(na.path==null&&!na.index)&&as.push({path:au,score:computeScore(au,na.index),routesMeta:ou})};return ss.forEach((na,tu)=>{var iu;if(na.path===""||!((iu=na.path)!=null&&iu.includes("?")))$a(na,tu);else for(let su of explodeOptionalSegments(na.path))$a(na,tu,su)}),as}function explodeOptionalSegments(ss){let as=ss.split("/");if(as.length===0)return[];let[us,...cs]=as,$a=us.endsWith("?"),na=us.replace(/\?$/,"");if(cs.length===0)return $a?[na,""]:[na];let tu=explodeOptionalSegments(cs.join("/")),iu=[];return iu.push(...tu.map(su=>su===""?na:[na,su].join("/"))),$a&&iu.push(...tu),iu.map(su=>ss.startsWith("/")&&su===""?"/":su)}function rankRouteBranches(ss){ss.sort((as,us)=>as.score!==us.score?us.score-as.score:compareIndexes(as.routesMeta.map(cs=>cs.childrenIndex),us.routesMeta.map(cs=>cs.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=ss=>ss==="*";function computeScore(ss,as){let us=ss.split("/"),cs=us.length;return us.some(isSplat)&&(cs+=splatPenalty),as&&(cs+=indexRouteValue),us.filter($a=>!isSplat($a)).reduce(($a,na)=>$a+(paramRe.test(na)?dynamicSegmentValue:na===""?emptySegmentValue:staticSegmentValue),cs)}function compareIndexes(ss,as){return ss.length===as.length&&ss.slice(0,-1).every((cs,$a)=>cs===as[$a])?ss[ss.length-1]-as[as.length-1]:0}function matchRouteBranch(ss,as,us){let{routesMeta:cs}=ss,$a={},na="/",tu=[];for(let iu=0;iu<cs.length;++iu){let su=cs[iu],au=iu===cs.length-1,ou=na==="/"?as:as.slice(na.length)||"/",fu=matchPath({path:su.relativePath,caseSensitive:su.caseSensitive,end:au},ou),pu=su.route;if(!fu)return null;Object.assign($a,fu.params),tu.push({params:$a,pathname:joinPaths([na,fu.pathname]),pathnameBase:normalizePathname(joinPaths([na,fu.pathnameBase])),route:pu}),fu.pathnameBase!=="/"&&(na=joinPaths([na,fu.pathnameBase]))}return tu}function matchPath(ss,as){typeof ss=="string"&&(ss={path:ss,caseSensitive:!1,end:!0});let[us,cs]=compilePath(ss.path,ss.caseSensitive,ss.end),$a=as.match(us);if(!$a)return null;let na=$a[0],tu=na.replace(/(.)\/+$/,"$1"),iu=$a.slice(1);return{params:cs.reduce((au,ou,fu)=>{let{paramName:pu,isOptional:vu}=ou;if(pu==="*"){let bu=iu[fu]||"";tu=na.slice(0,na.length-bu.length).replace(/(.)\/+$/,"$1")}const gu=iu[fu];return vu&&!gu?au[pu]=void 0:au[pu]=(gu||"").replace(/%2F/g,"/"),au},{}),pathname:na,pathnameBase:tu,pattern:ss}}function compilePath(ss,as,us){as===void 0&&(as=!1),us===void 0&&(us=!0),warning(ss==="*"||!ss.endsWith("*")||ss.endsWith("/*"),'Route path "'+ss+'" will be treated as if it were '+('"'+ss.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+ss.replace(/\*$/,"/*")+'".'));let cs=[],$a="^"+ss.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(tu,iu,su)=>(cs.push({paramName:iu,isOptional:su!=null}),su?"/?([^\\/]+)?":"/([^\\/]+)"));return ss.endsWith("*")?(cs.push({paramName:"*"}),$a+=ss==="*"||ss==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):us?$a+="\\/*$":ss!==""&&ss!=="/"&&($a+="(?:(?=\\/|$))"),[new RegExp($a,as?void 0:"i"),cs]}function decodePath(ss){try{return ss.split("/").map(as=>decodeURIComponent(as).replace(/\//g,"%2F")).join("/")}catch(as){return warning(!1,'The URL path "'+ss+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+as+").")),ss}}function stripBasename(ss,as){if(as==="/")return ss;if(!ss.toLowerCase().startsWith(as.toLowerCase()))return null;let us=as.endsWith("/")?as.length-1:as.length,cs=ss.charAt(us);return cs&&cs!=="/"?null:ss.slice(us)||"/"}function resolvePath(ss,as){as===void 0&&(as="/");let{pathname:us,search:cs="",hash:$a=""}=typeof ss=="string"?parsePath(ss):ss;return{pathname:us?us.startsWith("/")?us:resolvePathname(us,as):as,search:normalizeSearch(cs),hash:normalizeHash($a)}}function resolvePathname(ss,as){let us=as.replace(/\/+$/,"").split("/");return ss.split("/").forEach($a=>{$a===".."?us.length>1&&us.pop():$a!=="."&&us.push($a)}),us.length>1?us.join("/"):"/"}function getInvalidPathError(ss,as,us,cs){return"Cannot include a '"+ss+"' character in a manually specified "+("`to."+as+"` field ["+JSON.stringify(cs)+"].  Please separate it out to the ")+("`to."+us+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(ss){return ss.filter((as,us)=>us===0||as.route.path&&as.route.path.length>0)}function getResolveToMatches(ss,as){let us=getPathContributingMatches(ss);return as?us.map((cs,$a)=>$a===us.length-1?cs.pathname:cs.pathnameBase):us.map(cs=>cs.pathnameBase)}function resolveTo(ss,as,us,cs){cs===void 0&&(cs=!1);let $a;typeof ss=="string"?$a=parsePath(ss):($a=_extends$2({},ss),invariant(!$a.pathname||!$a.pathname.includes("?"),getInvalidPathError("?","pathname","search",$a)),invariant(!$a.pathname||!$a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",$a)),invariant(!$a.search||!$a.search.includes("#"),getInvalidPathError("#","search","hash",$a)));let na=ss===""||$a.pathname==="",tu=na?"/":$a.pathname,iu;if(tu==null)iu=us;else{let fu=as.length-1;if(!cs&&tu.startsWith("..")){let pu=tu.split("/");for(;pu[0]==="..";)pu.shift(),fu-=1;$a.pathname=pu.join("/")}iu=fu>=0?as[fu]:"/"}let su=resolvePath($a,iu),au=tu&&tu!=="/"&&tu.endsWith("/"),ou=(na||tu===".")&&us.endsWith("/");return!su.pathname.endsWith("/")&&(au||ou)&&(su.pathname+="/"),su}const joinPaths=ss=>ss.join("/").replace(/\/\/+/g,"/"),normalizePathname=ss=>ss.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=ss=>!ss||ss==="?"?"":ss.startsWith("?")?ss:"?"+ss,normalizeHash=ss=>!ss||ss==="#"?"":ss.startsWith("#")?ss:"#"+ss;function isRouteErrorResponse(ss){return ss!=null&&typeof ss.status=="number"&&typeof ss.statusText=="string"&&typeof ss.internal=="boolean"&&"data"in ss}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(ss){for(var as=1;as<arguments.length;as++){var us=arguments[as];for(var cs in us)Object.prototype.hasOwnProperty.call(us,cs)&&(ss[cs]=us[cs])}return ss},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(ss,as){let{relative:us}=as===void 0?{}:as;useInRouterContext()||invariant(!1);let{basename:cs,navigator:$a}=reactExports.useContext(NavigationContext),{hash:na,pathname:tu,search:iu}=useResolvedPath(ss,{relative:us}),su=tu;return cs!=="/"&&(su=tu==="/"?cs:joinPaths([cs,tu])),$a.createHref({pathname:su,search:iu,hash:na})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(ss){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(ss)}function useNavigate(){let{isDataRoute:ss}=reactExports.useContext(RouteContext);return ss?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let ss=reactExports.useContext(DataRouterContext),{basename:as,future:us,navigator:cs}=reactExports.useContext(NavigationContext),{matches:$a}=reactExports.useContext(RouteContext),{pathname:na}=useLocation(),tu=JSON.stringify(getResolveToMatches($a,us.v7_relativeSplatPath)),iu=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{iu.current=!0}),reactExports.useCallback(function(au,ou){if(ou===void 0&&(ou={}),!iu.current)return;if(typeof au=="number"){cs.go(au);return}let fu=resolveTo(au,JSON.parse(tu),na,ou.relative==="path");ss==null&&as!=="/"&&(fu.pathname=fu.pathname==="/"?as:joinPaths([as,fu.pathname])),(ou.replace?cs.replace:cs.push)(fu,ou.state,ou)},[as,cs,tu,na,ss])}function useParams(){let{matches:ss}=reactExports.useContext(RouteContext),as=ss[ss.length-1];return as?as.params:{}}function useResolvedPath(ss,as){let{relative:us}=as===void 0?{}:as,{future:cs}=reactExports.useContext(NavigationContext),{matches:$a}=reactExports.useContext(RouteContext),{pathname:na}=useLocation(),tu=JSON.stringify(getResolveToMatches($a,cs.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(ss,JSON.parse(tu),na,us==="path"),[ss,tu,na,us])}function useRoutes(ss,as){return useRoutesImpl(ss,as)}function useRoutesImpl(ss,as,us,cs){useInRouterContext()||invariant(!1);let{navigator:$a,static:na}=reactExports.useContext(NavigationContext),{matches:tu}=reactExports.useContext(RouteContext),iu=tu[tu.length-1],su=iu?iu.params:{};iu&&iu.pathname;let au=iu?iu.pathnameBase:"/";iu&&iu.route;let ou=useLocation(),fu;if(as){var pu;let $u=typeof as=="string"?parsePath(as):as;au==="/"||(pu=$u.pathname)!=null&&pu.startsWith(au)||invariant(!1),fu=$u}else fu=ou;let vu=fu.pathname||"/",gu=vu;if(au!=="/"){let $u=au.replace(/^\//,"").split("/");gu="/"+vu.replace(/^\//,"").split("/").slice($u.length).join("/")}let bu=matchRoutes(ss,{pathname:gu}),xu=_renderMatches(bu&&bu.map($u=>Object.assign({},$u,{params:Object.assign({},su,$u.params),pathname:joinPaths([au,$a.encodeLocation?$a.encodeLocation($u.pathname).pathname:$u.pathname]),pathnameBase:$u.pathnameBase==="/"?au:joinPaths([au,$a.encodeLocation?$a.encodeLocation($u.pathnameBase).pathname:$u.pathnameBase])})),tu,us,cs);return as&&xu?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},fu),navigationType:Action.Pop}},xu):xu}function DefaultErrorComponent(){let ss=useRouteError(),as=isRouteErrorResponse(ss)?ss.status+" "+ss.statusText:ss instanceof Error?ss.message:JSON.stringify(ss),us=ss instanceof Error?ss.stack:null,$a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},as),us?reactExports.createElement("pre",{style:$a},us):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(as){super(as),this.state={location:as.location,revalidation:as.revalidation,error:as.error}}static getDerivedStateFromError(as){return{error:as}}static getDerivedStateFromProps(as,us){return us.location!==as.location||us.revalidation!=="idle"&&as.revalidation==="idle"?{error:as.error,location:as.location,revalidation:as.revalidation}:{error:as.error!==void 0?as.error:us.error,location:us.location,revalidation:as.revalidation||us.revalidation}}componentDidCatch(as,us){console.error("React Router caught the following error during render",as,us)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(ss){let{routeContext:as,match:us,children:cs}=ss,$a=reactExports.useContext(DataRouterContext);return $a&&$a.static&&$a.staticContext&&(us.route.errorElement||us.route.ErrorBoundary)&&($a.staticContext._deepestRenderedBoundaryId=us.route.id),reactExports.createElement(RouteContext.Provider,{value:as},cs)}function _renderMatches(ss,as,us,cs){var $a;if(as===void 0&&(as=[]),us===void 0&&(us=null),cs===void 0&&(cs=null),ss==null){var na;if(!us)return null;if(us.errors)ss=us.matches;else if((na=cs)!=null&&na.v7_partialHydration&&as.length===0&&!us.initialized&&us.matches.length>0)ss=us.matches;else return null}let tu=ss,iu=($a=us)==null?void 0:$a.errors;if(iu!=null){let ou=tu.findIndex(fu=>fu.route.id&&(iu==null?void 0:iu[fu.route.id])!==void 0);ou>=0||invariant(!1),tu=tu.slice(0,Math.min(tu.length,ou+1))}let su=!1,au=-1;if(us&&cs&&cs.v7_partialHydration)for(let ou=0;ou<tu.length;ou++){let fu=tu[ou];if((fu.route.HydrateFallback||fu.route.hydrateFallbackElement)&&(au=ou),fu.route.id){let{loaderData:pu,errors:vu}=us,gu=fu.route.loader&&pu[fu.route.id]===void 0&&(!vu||vu[fu.route.id]===void 0);if(fu.route.lazy||gu){su=!0,au>=0?tu=tu.slice(0,au+1):tu=[tu[0]];break}}}return tu.reduceRight((ou,fu,pu)=>{let vu,gu=!1,bu=null,xu=null;us&&(vu=iu&&fu.route.id?iu[fu.route.id]:void 0,bu=fu.route.errorElement||defaultErrorElement,su&&(au<0&&pu===0?(warningOnce("route-fallback"),gu=!0,xu=null):au===pu&&(gu=!0,xu=fu.route.hydrateFallbackElement||null)));let $u=as.concat(tu.slice(0,pu+1)),wu=()=>{let _u;return vu?_u=bu:gu?_u=xu:fu.route.Component?_u=reactExports.createElement(fu.route.Component,null):fu.route.element?_u=fu.route.element:_u=ou,reactExports.createElement(RenderedRoute,{match:fu,routeContext:{outlet:ou,matches:$u,isDataRoute:us!=null},children:_u})};return us&&(fu.route.ErrorBoundary||fu.route.errorElement||pu===0)?reactExports.createElement(RenderErrorBoundary,{location:us.location,revalidation:us.revalidation,component:bu,error:vu,children:wu(),routeContext:{outlet:null,matches:$u,isDataRoute:!0}}):wu()},null)}var DataRouterHook$1=function(ss){return ss.UseBlocker="useBlocker",ss.UseRevalidator="useRevalidator",ss.UseNavigateStable="useNavigate",ss}(DataRouterHook$1||{}),DataRouterStateHook$1=function(ss){return ss.UseBlocker="useBlocker",ss.UseLoaderData="useLoaderData",ss.UseActionData="useActionData",ss.UseRouteError="useRouteError",ss.UseNavigation="useNavigation",ss.UseRouteLoaderData="useRouteLoaderData",ss.UseMatches="useMatches",ss.UseRevalidator="useRevalidator",ss.UseNavigateStable="useNavigate",ss.UseRouteId="useRouteId",ss}(DataRouterStateHook$1||{});function useDataRouterContext(ss){let as=reactExports.useContext(DataRouterContext);return as||invariant(!1),as}function useDataRouterState(ss){let as=reactExports.useContext(DataRouterStateContext);return as||invariant(!1),as}function useRouteContext(ss){let as=reactExports.useContext(RouteContext);return as||invariant(!1),as}function useCurrentRouteId(ss){let as=useRouteContext(),us=as.matches[as.matches.length-1];return us.route.id||invariant(!1),us.route.id}function useRouteError(){var ss;let as=reactExports.useContext(RouteErrorContext),us=useDataRouterState(),cs=useCurrentRouteId();return as!==void 0?as:(ss=us.errors)==null?void 0:ss[cs]}function useNavigateStable(){let{router:ss}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),as=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),us=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{us.current=!0}),reactExports.useCallback(function($a,na){na===void 0&&(na={}),us.current&&(typeof $a=="number"?ss.navigate($a):ss.navigate($a,_extends$1({fromRouteId:as},na)))},[ss,as])}const alreadyWarned$1={};function warningOnce(ss,as,us){alreadyWarned$1[ss]||(alreadyWarned$1[ss]=!0)}function logV6DeprecationWarnings(ss,as){ss==null||ss.v7_startTransition,ss==null||ss.v7_relativeSplatPath}function Route(ss){invariant(!1)}function Router(ss){let{basename:as="/",children:us=null,location:cs,navigationType:$a=Action.Pop,navigator:na,static:tu=!1,future:iu}=ss;useInRouterContext()&&invariant(!1);let su=as.replace(/^\/*/,"/"),au=reactExports.useMemo(()=>({basename:su,navigator:na,static:tu,future:_extends$1({v7_relativeSplatPath:!1},iu)}),[su,iu,na,tu]);typeof cs=="string"&&(cs=parsePath(cs));let{pathname:ou="/",search:fu="",hash:pu="",state:vu=null,key:gu="default"}=cs,bu=reactExports.useMemo(()=>{let xu=stripBasename(ou,su);return xu==null?null:{location:{pathname:xu,search:fu,hash:pu,state:vu,key:gu},navigationType:$a}},[su,ou,fu,pu,vu,gu,$a]);return bu==null?null:reactExports.createElement(NavigationContext.Provider,{value:au},reactExports.createElement(LocationContext.Provider,{children:us,value:bu}))}function Routes(ss){let{children:as,location:us}=ss;return useRoutes(createRoutesFromChildren(as),us)}new Promise(()=>{});function createRoutesFromChildren(ss,as){as===void 0&&(as=[]);let us=[];return reactExports.Children.forEach(ss,(cs,$a)=>{if(!reactExports.isValidElement(cs))return;let na=[...as,$a];if(cs.type===reactExports.Fragment){us.push.apply(us,createRoutesFromChildren(cs.props.children,na));return}cs.type!==Route&&invariant(!1),!cs.props.index||!cs.props.children||invariant(!1);let tu={id:cs.props.id||na.join("-"),caseSensitive:cs.props.caseSensitive,element:cs.props.element,Component:cs.props.Component,index:cs.props.index,path:cs.props.path,loader:cs.props.loader,action:cs.props.action,errorElement:cs.props.errorElement,ErrorBoundary:cs.props.ErrorBoundary,hasErrorBoundary:cs.props.ErrorBoundary!=null||cs.props.errorElement!=null,shouldRevalidate:cs.props.shouldRevalidate,handle:cs.props.handle,lazy:cs.props.lazy};cs.props.children&&(tu.children=createRoutesFromChildren(cs.props.children,na)),us.push(tu)}),us}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(ss){for(var as=1;as<arguments.length;as++){var us=arguments[as];for(var cs in us)Object.prototype.hasOwnProperty.call(us,cs)&&(ss[cs]=us[cs])}return ss},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(ss,as){if(ss==null)return{};var us={},cs=Object.keys(ss),$a,na;for(na=0;na<cs.length;na++)$a=cs[na],!(as.indexOf($a)>=0)&&(us[$a]=ss[$a]);return us}function isModifiedEvent(ss){return!!(ss.metaKey||ss.altKey||ss.ctrlKey||ss.shiftKey)}function shouldProcessLinkClick(ss,as){return ss.button===0&&(!as||as==="_self")&&!isModifiedEvent(ss)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function BrowserRouter(ss){let{basename:as,children:us,future:cs,window:$a}=ss,na=reactExports.useRef();na.current==null&&(na.current=createBrowserHistory({window:$a,v5Compat:!0}));let tu=na.current,[iu,su]=reactExports.useState({action:tu.action,location:tu.location}),{v7_startTransition:au}=cs||{},ou=reactExports.useCallback(fu=>{au&&startTransitionImpl?startTransitionImpl(()=>su(fu)):su(fu)},[su,au]);return reactExports.useLayoutEffect(()=>tu.listen(ou),[tu,ou]),reactExports.useEffect(()=>logV6DeprecationWarnings(cs),[cs]),reactExports.createElement(Router,{basename:as,children:us,location:iu.location,navigationType:iu.action,navigator:tu,future:cs})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(as,us){let{onClick:cs,relative:$a,reloadDocument:na,replace:tu,state:iu,target:su,to:au,preventScrollReset:ou,viewTransition:fu}=as,pu=_objectWithoutPropertiesLoose(as,_excluded),{basename:vu}=reactExports.useContext(NavigationContext),gu,bu=!1;if(typeof au=="string"&&ABSOLUTE_URL_REGEX.test(au)&&(gu=au,isBrowser))try{let _u=new URL(window.location.href),Mu=au.startsWith("//")?new URL(_u.protocol+au):new URL(au),Au=stripBasename(Mu.pathname,vu);Mu.origin===_u.origin&&Au!=null?au=Au+Mu.search+Mu.hash:bu=!0}catch{}let xu=useHref(au,{relative:$a}),$u=useLinkClickHandler(au,{replace:tu,state:iu,target:su,preventScrollReset:ou,relative:$a,viewTransition:fu});function wu(_u){cs&&cs(_u),_u.defaultPrevented||$u(_u)}return reactExports.createElement("a",_extends({},pu,{href:gu||xu,onClick:bu||na?cs:wu,ref:us,target:su}))});var DataRouterHook;(function(ss){ss.UseScrollRestoration="useScrollRestoration",ss.UseSubmit="useSubmit",ss.UseSubmitFetcher="useSubmitFetcher",ss.UseFetcher="useFetcher",ss.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(ss){ss.UseFetcher="useFetcher",ss.UseFetchers="useFetchers",ss.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(ss,as){let{target:us,replace:cs,state:$a,preventScrollReset:na,relative:tu,viewTransition:iu}=as===void 0?{}:as,su=useNavigate(),au=useLocation(),ou=useResolvedPath(ss,{relative:tu});return reactExports.useCallback(fu=>{if(shouldProcessLinkClick(fu,us)){fu.preventDefault();let pu=cs!==void 0?cs:createPath(au)===createPath(ou);su(ss,{replace:pu,state:$a,preventScrollReset:na,relative:tu,viewTransition:iu})}},[au,su,ou,cs,$a,us,ss,na,tu,iu])}function createSyncStoragePersister({storage:ss,key:as="REACT_QUERY_OFFLINE_CACHE",throttleTime:us=1e3,serialize:cs=JSON.stringify,deserialize:$a=JSON.parse,retry:na}){if(ss){const tu=iu=>{try{ss.setItem(as,cs(iu));return}catch(su){return su}};return{persistClient:throttle(iu=>{let su=iu,au=tu(su),ou=0;for(;au&&su;)ou++,su=na==null?void 0:na({persistedClient:su,error:au,errorCount:ou}),su&&(au=tu(su))},us),restoreClient:()=>{const iu=ss.getItem(as);if(iu)return $a(iu)},removeClient:()=>{ss.removeItem(as)}}}return{persistClient:noop$7,restoreClient:()=>{},removeClient:noop$7}}function throttle(ss,as=100){let us=null,cs;return function(...$a){cs=$a,us===null&&(us=setTimeout(()=>{ss(...cs),us=null},as))}}function noop$7(){}let Subscribable$1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(as){const us={listener:as};return this.listeners.add(us),this.onSubscribe(),()=>{this.listeners.delete(us),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};const isServer$1=typeof window>"u"||"Deno"in window;function noop$6(){}function functionalUpdate$1(ss,as){return typeof ss=="function"?ss(as):ss}function isValidTimeout$1(ss){return typeof ss=="number"&&ss>=0&&ss!==1/0}function timeUntilStale$1(ss,as){return Math.max(ss+(as||0)-Date.now(),0)}function parseQueryArgs$1(ss,as,us){return isQueryKey$1(ss)?typeof as=="function"?{...us,queryKey:ss,queryFn:as}:{...as,queryKey:ss}:ss}function parseMutationArgs(ss,as,us){return isQueryKey$1(ss)?typeof as=="function"?{...us,mutationKey:ss,mutationFn:as}:{...as,mutationKey:ss}:typeof ss=="function"?{...as,mutationFn:ss}:{...ss}}function parseFilterArgs(ss,as,us){return isQueryKey$1(ss)?[{...as,queryKey:ss},us]:[ss||{},as]}function matchQuery$1(ss,as){const{type:us="all",exact:cs,fetchStatus:$a,predicate:na,queryKey:tu,stale:iu}=ss;if(isQueryKey$1(tu)){if(cs){if(as.queryHash!==hashQueryKeyByOptions$1(tu,as.options))return!1}else if(!partialMatchKey$1(as.queryKey,tu))return!1}if(us!=="all"){const su=as.isActive();if(us==="active"&&!su||us==="inactive"&&su)return!1}return!(typeof iu=="boolean"&&as.isStale()!==iu||typeof $a<"u"&&$a!==as.state.fetchStatus||na&&!na(as))}function matchMutation$1(ss,as){const{exact:us,fetching:cs,predicate:$a,mutationKey:na}=ss;if(isQueryKey$1(na)){if(!as.options.mutationKey)return!1;if(us){if(hashQueryKey(as.options.mutationKey)!==hashQueryKey(na))return!1}else if(!partialMatchKey$1(as.options.mutationKey,na))return!1}return!(typeof cs=="boolean"&&as.state.status==="loading"!==cs||$a&&!$a(as))}function hashQueryKeyByOptions$1(ss,as){return((as==null?void 0:as.queryKeyHashFn)||hashQueryKey)(ss)}function hashQueryKey(ss){return JSON.stringify(ss,(as,us)=>isPlainObject$2(us)?Object.keys(us).sort().reduce((cs,$a)=>(cs[$a]=us[$a],cs),{}):us)}function partialMatchKey$1(ss,as){return partialDeepEqual(ss,as)}function partialDeepEqual(ss,as){return ss===as?!0:typeof ss!=typeof as?!1:ss&&as&&typeof ss=="object"&&typeof as=="object"?!Object.keys(as).some(us=>!partialDeepEqual(ss[us],as[us])):!1}function replaceEqualDeep$1(ss,as){if(ss===as)return ss;const us=isPlainArray$1(ss)&&isPlainArray$1(as);if(us||isPlainObject$2(ss)&&isPlainObject$2(as)){const cs=us?ss.length:Object.keys(ss).length,$a=us?as:Object.keys(as),na=$a.length,tu=us?[]:{};let iu=0;for(let su=0;su<na;su++){const au=us?su:$a[su];tu[au]=replaceEqualDeep$1(ss[au],as[au]),tu[au]===ss[au]&&iu++}return cs===na&&iu===cs?ss:tu}return as}function shallowEqualObjects(ss,as){if(ss&&!as||as&&!ss)return!1;for(const us in ss)if(ss[us]!==as[us])return!1;return!0}function isPlainArray$1(ss){return Array.isArray(ss)&&ss.length===Object.keys(ss).length}function isPlainObject$2(ss){if(!hasObjectPrototype$2(ss))return!1;const as=ss.constructor;if(typeof as>"u")return!0;const us=as.prototype;return!(!hasObjectPrototype$2(us)||!us.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype$2(ss){return Object.prototype.toString.call(ss)==="[object Object]"}function isQueryKey$1(ss){return Array.isArray(ss)}function sleep$1(ss){return new Promise(as=>{setTimeout(as,ss)})}function scheduleMicrotask(ss){sleep$1(0).then(ss)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData$1(ss,as,us){return us.isDataEqual!=null&&us.isDataEqual(ss,as)?ss:typeof us.structuralSharing=="function"?us.structuralSharing(ss,as):us.structuralSharing!==!1?replaceEqualDeep$1(ss,as):as}let FocusManager$1=class extends Subscribable$1{constructor(){super(),this.setup=as=>{if(!isServer$1&&window.addEventListener){const us=()=>as();return window.addEventListener("visibilitychange",us,!1),window.addEventListener("focus",us,!1),()=>{window.removeEventListener("visibilitychange",us),window.removeEventListener("focus",us)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var as;(as=this.cleanup)==null||as.call(this),this.cleanup=void 0}}setEventListener(as){var us;this.setup=as,(us=this.cleanup)==null||us.call(this),this.cleanup=as(cs=>{typeof cs=="boolean"?this.setFocused(cs):this.onFocus()})}setFocused(as){this.focused!==as&&(this.focused=as,this.onFocus())}onFocus(){this.listeners.forEach(({listener:as})=>{as()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}};const focusManager$1=new FocusManager$1,onlineEvents=["online","offline"];let OnlineManager$1=class extends Subscribable$1{constructor(){super(),this.setup=as=>{if(!isServer$1&&window.addEventListener){const us=()=>as();return onlineEvents.forEach(cs=>{window.addEventListener(cs,us,!1)}),()=>{onlineEvents.forEach(cs=>{window.removeEventListener(cs,us)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var as;(as=this.cleanup)==null||as.call(this),this.cleanup=void 0}}setEventListener(as){var us;this.setup=as,(us=this.cleanup)==null||us.call(this),this.cleanup=as(cs=>{typeof cs=="boolean"?this.setOnline(cs):this.onOnline()})}setOnline(as){this.online!==as&&(this.online=as,this.onOnline())}onOnline(){this.listeners.forEach(({listener:as})=>{as()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}};const onlineManager$1=new OnlineManager$1;function defaultRetryDelay$1(ss){return Math.min(1e3*2**ss,3e4)}function canFetch$1(ss){return(ss??"online")==="online"?onlineManager$1.isOnline():!0}let CancelledError$1=class{constructor(as){this.revert=as==null?void 0:as.revert,this.silent=as==null?void 0:as.silent}};function isCancelledError$1(ss){return ss instanceof CancelledError$1}function createRetryer$1(ss){let as=!1,us=0,cs=!1,$a,na,tu;const iu=new Promise((xu,$u)=>{na=xu,tu=$u}),su=xu=>{cs||(vu(new CancelledError$1(xu)),ss.abort==null||ss.abort())},au=()=>{as=!0},ou=()=>{as=!1},fu=()=>!focusManager$1.isFocused()||ss.networkMode!=="always"&&!onlineManager$1.isOnline(),pu=xu=>{cs||(cs=!0,ss.onSuccess==null||ss.onSuccess(xu),$a==null||$a(),na(xu))},vu=xu=>{cs||(cs=!0,ss.onError==null||ss.onError(xu),$a==null||$a(),tu(xu))},gu=()=>new Promise(xu=>{$a=$u=>{const wu=cs||!fu();return wu&&xu($u),wu},ss.onPause==null||ss.onPause()}).then(()=>{$a=void 0,cs||ss.onContinue==null||ss.onContinue()}),bu=()=>{if(cs)return;let xu;try{xu=ss.fn()}catch($u){xu=Promise.reject($u)}Promise.resolve(xu).then(pu).catch($u=>{var wu,_u;if(cs)return;const Mu=(wu=ss.retry)!=null?wu:3,Au=(_u=ss.retryDelay)!=null?_u:defaultRetryDelay$1,Pu=typeof Au=="function"?Au(us,$u):Au,Su=Mu===!0||typeof Mu=="number"&&us<Mu||typeof Mu=="function"&&Mu(us,$u);if(as||!Su){vu($u);return}us++,ss.onFail==null||ss.onFail(us,$u),sleep$1(Pu).then(()=>{if(fu())return gu()}).then(()=>{as?vu($u):bu()})})};return canFetch$1(ss.networkMode)?bu():gu().then(bu),{promise:iu,cancel:su,continue:()=>($a==null?void 0:$a())?iu:Promise.resolve(),cancelRetry:au,continueRetry:ou}}const defaultLogger=console;function createNotifyManager$1(){let ss=[],as=0,us=ou=>{ou()},cs=ou=>{ou()};const $a=ou=>{let fu;as++;try{fu=ou()}finally{as--,as||iu()}return fu},na=ou=>{as?ss.push(ou):scheduleMicrotask(()=>{us(ou)})},tu=ou=>(...fu)=>{na(()=>{ou(...fu)})},iu=()=>{const ou=ss;ss=[],ou.length&&scheduleMicrotask(()=>{cs(()=>{ou.forEach(fu=>{us(fu)})})})};return{batch:$a,batchCalls:tu,schedule:na,setNotifyFunction:ou=>{us=ou},setBatchNotifyFunction:ou=>{cs=ou}}}const notifyManager$1=createNotifyManager$1();let Removable$1=class{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout$1(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(as){this.cacheTime=Math.max(this.cacheTime||0,as??(isServer$1?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}},Query$1=class extends Removable$1{constructor(as){super(),this.abortSignalConsumed=!1,this.defaultOptions=as.defaultOptions,this.setOptions(as.options),this.observers=[],this.cache=as.cache,this.logger=as.logger||defaultLogger,this.queryKey=as.queryKey,this.queryHash=as.queryHash,this.initialState=as.state||getDefaultState$3(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(as){this.options={...this.defaultOptions,...as},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(as,us){const cs=replaceData$1(this.state.data,as,this.options);return this.dispatch({data:cs,type:"success",dataUpdatedAt:us==null?void 0:us.updatedAt,manual:us==null?void 0:us.manual}),cs}setState(as,us){this.dispatch({type:"setState",state:as,setStateOptions:us})}cancel(as){var us;const cs=this.promise;return(us=this.retryer)==null||us.cancel(as),cs?cs.then(noop$6).catch(noop$6):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(as=>as.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(as=>as.getCurrentResult().isStale)}isStaleByTime(as=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale$1(this.state.dataUpdatedAt,as)}onFocus(){var as;const us=this.observers.find(cs=>cs.shouldFetchOnWindowFocus());us&&us.refetch({cancelRefetch:!1}),(as=this.retryer)==null||as.continue()}onOnline(){var as;const us=this.observers.find(cs=>cs.shouldFetchOnReconnect());us&&us.refetch({cancelRefetch:!1}),(as=this.retryer)==null||as.continue()}addObserver(as){this.observers.includes(as)||(this.observers.push(as),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:as}))}removeObserver(as){this.observers.includes(as)&&(this.observers=this.observers.filter(us=>us!==as),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:as}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(as,us){var cs,$a;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&us!=null&&us.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var na;return(na=this.retryer)==null||na.continueRetry(),this.promise}}if(as&&this.setOptions(as),!this.options.queryFn){const vu=this.observers.find(gu=>gu.options.queryFn);vu&&this.setOptions(vu.options)}const tu=getAbortController(),iu={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},su=vu=>{Object.defineProperty(vu,"signal",{enumerable:!0,get:()=>{if(tu)return this.abortSignalConsumed=!0,tu.signal}})};su(iu);const au=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(iu)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),ou={fetchOptions:us,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:au};if(su(ou),(cs=this.options.behavior)==null||cs.onFetch(ou),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==(($a=ou.fetchOptions)==null?void 0:$a.meta)){var fu;this.dispatch({type:"fetch",meta:(fu=ou.fetchOptions)==null?void 0:fu.meta})}const pu=vu=>{if(isCancelledError$1(vu)&&vu.silent||this.dispatch({type:"error",error:vu}),!isCancelledError$1(vu)){var gu,bu,xu,$u;(gu=(bu=this.cache.config).onError)==null||gu.call(bu,vu,this),(xu=($u=this.cache.config).onSettled)==null||xu.call($u,this.state.data,vu,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer$1({fn:ou.fetchFn,abort:tu==null?void 0:tu.abort.bind(tu),onSuccess:vu=>{var gu,bu,xu,$u;if(typeof vu>"u"){pu(new Error(this.queryHash+" data is undefined"));return}this.setData(vu),(gu=(bu=this.cache.config).onSuccess)==null||gu.call(bu,vu,this),(xu=($u=this.cache.config).onSettled)==null||xu.call($u,vu,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:pu,onFail:(vu,gu)=>{this.dispatch({type:"failed",failureCount:vu,error:gu})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:ou.options.retry,retryDelay:ou.options.retryDelay,networkMode:ou.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(as){const us=cs=>{var $a,na;switch(as.type){case"failed":return{...cs,fetchFailureCount:as.failureCount,fetchFailureReason:as.error};case"pause":return{...cs,fetchStatus:"paused"};case"continue":return{...cs,fetchStatus:"fetching"};case"fetch":return{...cs,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:($a=as.meta)!=null?$a:null,fetchStatus:canFetch$1(this.options.networkMode)?"fetching":"paused",...!cs.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...cs,data:as.data,dataUpdateCount:cs.dataUpdateCount+1,dataUpdatedAt:(na=as.dataUpdatedAt)!=null?na:Date.now(),error:null,isInvalidated:!1,status:"success",...!as.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const tu=as.error;return isCancelledError$1(tu)&&tu.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...cs,error:tu,errorUpdateCount:cs.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:cs.fetchFailureCount+1,fetchFailureReason:tu,fetchStatus:"idle",status:"error"};case"invalidate":return{...cs,isInvalidated:!0};case"setState":return{...cs,...as.state}}};this.state=us(this.state),notifyManager$1.batch(()=>{this.observers.forEach(cs=>{cs.onQueryUpdate(as)}),this.cache.notify({query:this,type:"updated",action:as})})}};function getDefaultState$3(ss){const as=typeof ss.initialData=="function"?ss.initialData():ss.initialData,us=typeof as<"u",cs=us?typeof ss.initialDataUpdatedAt=="function"?ss.initialDataUpdatedAt():ss.initialDataUpdatedAt:0;return{data:as,dataUpdateCount:0,dataUpdatedAt:us?cs??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:us?"success":"loading",fetchStatus:"idle"}}let QueryCache$1=class extends Subscribable$1{constructor(as){super(),this.config=as||{},this.queries=[],this.queriesMap={}}build(as,us,cs){var $a;const na=us.queryKey,tu=($a=us.queryHash)!=null?$a:hashQueryKeyByOptions$1(na,us);let iu=this.get(tu);return iu||(iu=new Query$1({cache:this,logger:as.getLogger(),queryKey:na,queryHash:tu,options:as.defaultQueryOptions(us),state:cs,defaultOptions:as.getQueryDefaults(na)}),this.add(iu)),iu}add(as){this.queriesMap[as.queryHash]||(this.queriesMap[as.queryHash]=as,this.queries.push(as),this.notify({type:"added",query:as}))}remove(as){const us=this.queriesMap[as.queryHash];us&&(as.destroy(),this.queries=this.queries.filter(cs=>cs!==as),us===as&&delete this.queriesMap[as.queryHash],this.notify({type:"removed",query:as}))}clear(){notifyManager$1.batch(()=>{this.queries.forEach(as=>{this.remove(as)})})}get(as){return this.queriesMap[as]}getAll(){return this.queries}find(as,us){const[cs]=parseFilterArgs(as,us);return typeof cs.exact>"u"&&(cs.exact=!0),this.queries.find($a=>matchQuery$1(cs,$a))}findAll(as,us){const[cs]=parseFilterArgs(as,us);return Object.keys(cs).length>0?this.queries.filter($a=>matchQuery$1(cs,$a)):this.queries}notify(as){notifyManager$1.batch(()=>{this.listeners.forEach(({listener:us})=>{us(as)})})}onFocus(){notifyManager$1.batch(()=>{this.queries.forEach(as=>{as.onFocus()})})}onOnline(){notifyManager$1.batch(()=>{this.queries.forEach(as=>{as.onOnline()})})}},Mutation$1=class extends Removable$1{constructor(as){super(),this.defaultOptions=as.defaultOptions,this.mutationId=as.mutationId,this.mutationCache=as.mutationCache,this.logger=as.logger||defaultLogger,this.observers=[],this.state=as.state||getDefaultState$2(),this.setOptions(as.options),this.scheduleGc()}setOptions(as){this.options={...this.defaultOptions,...as},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(as){this.dispatch({type:"setState",state:as})}addObserver(as){this.observers.includes(as)||(this.observers.push(as),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:as}))}removeObserver(as){this.observers=this.observers.filter(us=>us!==as),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:as})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var as,us;return(as=(us=this.retryer)==null?void 0:us.continue())!=null?as:this.execute()}async execute(){const as=()=>{var Su;return this.retryer=createRetryer$1({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(Bu,Ou)=>{this.dispatch({type:"failed",failureCount:Bu,error:Ou})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(Su=this.options.retry)!=null?Su:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},us=this.state.status==="loading";try{var cs,$a,na,tu,iu,su,au,ou;if(!us){var fu,pu,vu,gu;this.dispatch({type:"loading",variables:this.options.variables}),await((fu=(pu=this.mutationCache.config).onMutate)==null?void 0:fu.call(pu,this.state.variables,this));const Bu=await((vu=(gu=this.options).onMutate)==null?void 0:vu.call(gu,this.state.variables));Bu!==this.state.context&&this.dispatch({type:"loading",context:Bu,variables:this.state.variables})}const Su=await as();return await((cs=($a=this.mutationCache.config).onSuccess)==null?void 0:cs.call($a,Su,this.state.variables,this.state.context,this)),await((na=(tu=this.options).onSuccess)==null?void 0:na.call(tu,Su,this.state.variables,this.state.context)),await((iu=(su=this.mutationCache.config).onSettled)==null?void 0:iu.call(su,Su,null,this.state.variables,this.state.context,this)),await((au=(ou=this.options).onSettled)==null?void 0:au.call(ou,Su,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:Su}),Su}catch(Su){try{var bu,xu,$u,wu,_u,Mu,Au,Pu;throw await((bu=(xu=this.mutationCache.config).onError)==null?void 0:bu.call(xu,Su,this.state.variables,this.state.context,this)),await(($u=(wu=this.options).onError)==null?void 0:$u.call(wu,Su,this.state.variables,this.state.context)),await((_u=(Mu=this.mutationCache.config).onSettled)==null?void 0:_u.call(Mu,void 0,Su,this.state.variables,this.state.context,this)),await((Au=(Pu=this.options).onSettled)==null?void 0:Au.call(Pu,void 0,Su,this.state.variables,this.state.context)),Su}finally{this.dispatch({type:"error",error:Su})}}}dispatch(as){const us=cs=>{switch(as.type){case"failed":return{...cs,failureCount:as.failureCount,failureReason:as.error};case"pause":return{...cs,isPaused:!0};case"continue":return{...cs,isPaused:!1};case"loading":return{...cs,context:as.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch$1(this.options.networkMode),status:"loading",variables:as.variables};case"success":return{...cs,data:as.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...cs,data:void 0,error:as.error,failureCount:cs.failureCount+1,failureReason:as.error,isPaused:!1,status:"error"};case"setState":return{...cs,...as.state}}};this.state=us(this.state),notifyManager$1.batch(()=>{this.observers.forEach(cs=>{cs.onMutationUpdate(as)}),this.mutationCache.notify({mutation:this,type:"updated",action:as})})}};function getDefaultState$2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}let MutationCache$1=class extends Subscribable$1{constructor(as){super(),this.config=as||{},this.mutations=[],this.mutationId=0}build(as,us,cs){const $a=new Mutation$1({mutationCache:this,logger:as.getLogger(),mutationId:++this.mutationId,options:as.defaultMutationOptions(us),state:cs,defaultOptions:us.mutationKey?as.getMutationDefaults(us.mutationKey):void 0});return this.add($a),$a}add(as){this.mutations.push(as),this.notify({type:"added",mutation:as})}remove(as){this.mutations=this.mutations.filter(us=>us!==as),this.notify({type:"removed",mutation:as})}clear(){notifyManager$1.batch(()=>{this.mutations.forEach(as=>{this.remove(as)})})}getAll(){return this.mutations}find(as){return typeof as.exact>"u"&&(as.exact=!0),this.mutations.find(us=>matchMutation$1(as,us))}findAll(as){return this.mutations.filter(us=>matchMutation$1(as,us))}notify(as){notifyManager$1.batch(()=>{this.listeners.forEach(({listener:us})=>{us(as)})})}resumePausedMutations(){var as;return this.resuming=((as=this.resuming)!=null?as:Promise.resolve()).then(()=>{const us=this.mutations.filter(cs=>cs.state.isPaused);return notifyManager$1.batch(()=>us.reduce((cs,$a)=>cs.then(()=>$a.continue().catch(noop$6)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}};function infiniteQueryBehavior$1(){return{onFetch:ss=>{ss.fetchFn=()=>{var as,us,cs,$a,na,tu;const iu=(as=ss.fetchOptions)==null||(us=as.meta)==null?void 0:us.refetchPage,su=(cs=ss.fetchOptions)==null||($a=cs.meta)==null?void 0:$a.fetchMore,au=su==null?void 0:su.pageParam,ou=(su==null?void 0:su.direction)==="forward",fu=(su==null?void 0:su.direction)==="backward",pu=((na=ss.state.data)==null?void 0:na.pages)||[],vu=((tu=ss.state.data)==null?void 0:tu.pageParams)||[];let gu=vu,bu=!1;const xu=Pu=>{Object.defineProperty(Pu,"signal",{enumerable:!0,get:()=>{var Su;if((Su=ss.signal)!=null&&Su.aborted)bu=!0;else{var Bu;(Bu=ss.signal)==null||Bu.addEventListener("abort",()=>{bu=!0})}return ss.signal}})},$u=ss.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+ss.options.queryHash+"'")),wu=(Pu,Su,Bu,Ou)=>(gu=Ou?[Su,...gu]:[...gu,Su],Ou?[Bu,...Pu]:[...Pu,Bu]),_u=(Pu,Su,Bu,Ou)=>{if(bu)return Promise.reject("Cancelled");if(typeof Bu>"u"&&!Su&&Pu.length)return Promise.resolve(Pu);const Vu={queryKey:ss.queryKey,pageParam:Bu,meta:ss.options.meta};xu(Vu);const yu=$u(Vu);return Promise.resolve(yu).then(ru=>wu(Pu,Bu,ru,Ou))};let Mu;if(!pu.length)Mu=_u([]);else if(ou){const Pu=typeof au<"u",Su=Pu?au:getNextPageParam$1(ss.options,pu);Mu=_u(pu,Pu,Su)}else if(fu){const Pu=typeof au<"u",Su=Pu?au:getPreviousPageParam$1(ss.options,pu);Mu=_u(pu,Pu,Su,!0)}else{gu=[];const Pu=typeof ss.options.getNextPageParam>"u";Mu=(iu&&pu[0]?iu(pu[0],0,pu):!0)?_u([],Pu,vu[0]):Promise.resolve(wu([],vu[0],pu[0]));for(let Bu=1;Bu<pu.length;Bu++)Mu=Mu.then(Ou=>{if(iu&&pu[Bu]?iu(pu[Bu],Bu,pu):!0){const yu=Pu?vu[Bu]:getNextPageParam$1(ss.options,Ou);return _u(Ou,Pu,yu)}return Promise.resolve(wu(Ou,vu[Bu],pu[Bu]))})}return Mu.then(Pu=>({pages:Pu,pageParams:gu}))}}}}function getNextPageParam$1(ss,as){return ss.getNextPageParam==null?void 0:ss.getNextPageParam(as[as.length-1],as)}function getPreviousPageParam$1(ss,as){return ss.getPreviousPageParam==null?void 0:ss.getPreviousPageParam(as[0],as)}let QueryClient$1=class{constructor(as={}){this.queryCache=as.queryCache||new QueryCache$1,this.mutationCache=as.mutationCache||new MutationCache$1,this.logger=as.logger||defaultLogger,this.defaultOptions=as.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager$1.subscribe(()=>{focusManager$1.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager$1.subscribe(()=>{onlineManager$1.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var as,us;this.mountCount--,this.mountCount===0&&((as=this.unsubscribeFocus)==null||as.call(this),this.unsubscribeFocus=void 0,(us=this.unsubscribeOnline)==null||us.call(this),this.unsubscribeOnline=void 0)}isFetching(as,us){const[cs]=parseFilterArgs(as,us);return cs.fetchStatus="fetching",this.queryCache.findAll(cs).length}isMutating(as){return this.mutationCache.findAll({...as,fetching:!0}).length}getQueryData(as,us){var cs;return(cs=this.queryCache.find(as,us))==null?void 0:cs.state.data}ensureQueryData(as,us,cs){const $a=parseQueryArgs$1(as,us,cs),na=this.getQueryData($a.queryKey);return na?Promise.resolve(na):this.fetchQuery($a)}getQueriesData(as){return this.getQueryCache().findAll(as).map(({queryKey:us,state:cs})=>{const $a=cs.data;return[us,$a]})}setQueryData(as,us,cs){const $a=this.queryCache.find(as),na=$a==null?void 0:$a.state.data,tu=functionalUpdate$1(us,na);if(typeof tu>"u")return;const iu=parseQueryArgs$1(as),su=this.defaultQueryOptions(iu);return this.queryCache.build(this,su).setData(tu,{...cs,manual:!0})}setQueriesData(as,us,cs){return notifyManager$1.batch(()=>this.getQueryCache().findAll(as).map(({queryKey:$a})=>[$a,this.setQueryData($a,us,cs)]))}getQueryState(as,us){var cs;return(cs=this.queryCache.find(as,us))==null?void 0:cs.state}removeQueries(as,us){const[cs]=parseFilterArgs(as,us),$a=this.queryCache;notifyManager$1.batch(()=>{$a.findAll(cs).forEach(na=>{$a.remove(na)})})}resetQueries(as,us,cs){const[$a,na]=parseFilterArgs(as,us,cs),tu=this.queryCache,iu={type:"active",...$a};return notifyManager$1.batch(()=>(tu.findAll($a).forEach(su=>{su.reset()}),this.refetchQueries(iu,na)))}cancelQueries(as,us,cs){const[$a,na={}]=parseFilterArgs(as,us,cs);typeof na.revert>"u"&&(na.revert=!0);const tu=notifyManager$1.batch(()=>this.queryCache.findAll($a).map(iu=>iu.cancel(na)));return Promise.all(tu).then(noop$6).catch(noop$6)}invalidateQueries(as,us,cs){const[$a,na]=parseFilterArgs(as,us,cs);return notifyManager$1.batch(()=>{var tu,iu;if(this.queryCache.findAll($a).forEach(au=>{au.invalidate()}),$a.refetchType==="none")return Promise.resolve();const su={...$a,type:(tu=(iu=$a.refetchType)!=null?iu:$a.type)!=null?tu:"active"};return this.refetchQueries(su,na)})}refetchQueries(as,us,cs){const[$a,na]=parseFilterArgs(as,us,cs),tu=notifyManager$1.batch(()=>this.queryCache.findAll($a).filter(su=>!su.isDisabled()).map(su=>{var au;return su.fetch(void 0,{...na,cancelRefetch:(au=na==null?void 0:na.cancelRefetch)!=null?au:!0,meta:{refetchPage:$a.refetchPage}})}));let iu=Promise.all(tu).then(noop$6);return na!=null&&na.throwOnError||(iu=iu.catch(noop$6)),iu}fetchQuery(as,us,cs){const $a=parseQueryArgs$1(as,us,cs),na=this.defaultQueryOptions($a);typeof na.retry>"u"&&(na.retry=!1);const tu=this.queryCache.build(this,na);return tu.isStaleByTime(na.staleTime)?tu.fetch(na):Promise.resolve(tu.state.data)}prefetchQuery(as,us,cs){return this.fetchQuery(as,us,cs).then(noop$6).catch(noop$6)}fetchInfiniteQuery(as,us,cs){const $a=parseQueryArgs$1(as,us,cs);return $a.behavior=infiniteQueryBehavior$1(),this.fetchQuery($a)}prefetchInfiniteQuery(as,us,cs){return this.fetchInfiniteQuery(as,us,cs).then(noop$6).catch(noop$6)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(as){this.defaultOptions=as}setQueryDefaults(as,us){const cs=this.queryDefaults.find($a=>hashQueryKey(as)===hashQueryKey($a.queryKey));cs?cs.defaultOptions=us:this.queryDefaults.push({queryKey:as,defaultOptions:us})}getQueryDefaults(as){if(!as)return;const us=this.queryDefaults.find(cs=>partialMatchKey$1(as,cs.queryKey));return us==null?void 0:us.defaultOptions}setMutationDefaults(as,us){const cs=this.mutationDefaults.find($a=>hashQueryKey(as)===hashQueryKey($a.mutationKey));cs?cs.defaultOptions=us:this.mutationDefaults.push({mutationKey:as,defaultOptions:us})}getMutationDefaults(as){if(!as)return;const us=this.mutationDefaults.find(cs=>partialMatchKey$1(as,cs.mutationKey));return us==null?void 0:us.defaultOptions}defaultQueryOptions(as){if(as!=null&&as._defaulted)return as;const us={...this.defaultOptions.queries,...this.getQueryDefaults(as==null?void 0:as.queryKey),...as,_defaulted:!0};return!us.queryHash&&us.queryKey&&(us.queryHash=hashQueryKeyByOptions$1(us.queryKey,us)),typeof us.refetchOnReconnect>"u"&&(us.refetchOnReconnect=us.networkMode!=="always"),typeof us.useErrorBoundary>"u"&&(us.useErrorBoundary=!!us.suspense),us}defaultMutationOptions(as){return as!=null&&as._defaulted?as:{...this.defaultOptions.mutations,...this.getMutationDefaults(as==null?void 0:as.mutationKey),...as,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}};class QueryObserver extends Subscribable$1{constructor(as,us){super(),this.client=as,this.options=us,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(us)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(as,us){const cs=this.options,$a=this.currentQuery;if(this.options=this.client.defaultQueryOptions(as),shallowEqualObjects(cs,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=cs.queryKey),this.updateQuery();const na=this.hasListeners();na&&shouldFetchOptionally(this.currentQuery,$a,this.options,cs)&&this.executeFetch(),this.updateResult(us),na&&(this.currentQuery!==$a||this.options.enabled!==cs.enabled||this.options.staleTime!==cs.staleTime)&&this.updateStaleTimeout();const tu=this.computeRefetchInterval();na&&(this.currentQuery!==$a||this.options.enabled!==cs.enabled||tu!==this.currentRefetchInterval)&&this.updateRefetchInterval(tu)}getOptimisticResult(as){const us=this.client.getQueryCache().build(this.client,as),cs=this.createResult(us,as);return shouldAssignObserverCurrentProperties(this,cs,as)&&(this.currentResult=cs,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),cs}getCurrentResult(){return this.currentResult}trackResult(as){const us={};return Object.keys(as).forEach(cs=>{Object.defineProperty(us,cs,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(cs),as[cs])})}),us}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:as,...us}={}){return this.fetch({...us,meta:{refetchPage:as}})}fetchOptimistic(as){const us=this.client.defaultQueryOptions(as),cs=this.client.getQueryCache().build(this.client,us);return cs.isFetchingOptimistic=!0,cs.fetch().then(()=>this.createResult(cs,us))}fetch(as){var us;return this.executeFetch({...as,cancelRefetch:(us=as.cancelRefetch)!=null?us:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(as){this.updateQuery();let us=this.currentQuery.fetch(this.options,as);return as!=null&&as.throwOnError||(us=us.catch(noop$6)),us}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer$1||this.currentResult.isStale||!isValidTimeout$1(this.options.staleTime))return;const us=timeUntilStale$1(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},us)}computeRefetchInterval(){var as;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(as=this.options.refetchInterval)!=null?as:!1}updateRefetchInterval(as){this.clearRefetchInterval(),this.currentRefetchInterval=as,!(isServer$1||this.options.enabled===!1||!isValidTimeout$1(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager$1.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(as,us){const cs=this.currentQuery,$a=this.options,na=this.currentResult,tu=this.currentResultState,iu=this.currentResultOptions,su=as!==cs,au=su?as.state:this.currentQueryInitialState,ou=su?this.currentResult:this.previousQueryResult,{state:fu}=as;let{dataUpdatedAt:pu,error:vu,errorUpdatedAt:gu,fetchStatus:bu,status:xu}=fu,$u=!1,wu=!1,_u;if(us._optimisticResults){const Bu=this.hasListeners(),Ou=!Bu&&shouldFetchOnMount(as,us),Vu=Bu&&shouldFetchOptionally(as,cs,us,$a);(Ou||Vu)&&(bu=canFetch$1(as.options.networkMode)?"fetching":"paused",pu||(xu="loading")),us._optimisticResults==="isRestoring"&&(bu="idle")}if(us.keepPreviousData&&!fu.dataUpdatedAt&&ou!=null&&ou.isSuccess&&xu!=="error")_u=ou.data,pu=ou.dataUpdatedAt,xu=ou.status,$u=!0;else if(us.select&&typeof fu.data<"u")if(na&&fu.data===(tu==null?void 0:tu.data)&&us.select===this.selectFn)_u=this.selectResult;else try{this.selectFn=us.select,_u=us.select(fu.data),_u=replaceData$1(na==null?void 0:na.data,_u,us),this.selectResult=_u,this.selectError=null}catch(Bu){this.selectError=Bu}else _u=fu.data;if(typeof us.placeholderData<"u"&&typeof _u>"u"&&xu==="loading"){let Bu;if(na!=null&&na.isPlaceholderData&&us.placeholderData===(iu==null?void 0:iu.placeholderData))Bu=na.data;else if(Bu=typeof us.placeholderData=="function"?us.placeholderData():us.placeholderData,us.select&&typeof Bu<"u")try{Bu=us.select(Bu),this.selectError=null}catch(Ou){this.selectError=Ou}typeof Bu<"u"&&(xu="success",_u=replaceData$1(na==null?void 0:na.data,Bu,us),wu=!0)}this.selectError&&(vu=this.selectError,_u=this.selectResult,gu=Date.now(),xu="error");const Mu=bu==="fetching",Au=xu==="loading",Pu=xu==="error";return{status:xu,fetchStatus:bu,isLoading:Au,isSuccess:xu==="success",isError:Pu,isInitialLoading:Au&&Mu,data:_u,dataUpdatedAt:pu,error:vu,errorUpdatedAt:gu,failureCount:fu.fetchFailureCount,failureReason:fu.fetchFailureReason,errorUpdateCount:fu.errorUpdateCount,isFetched:fu.dataUpdateCount>0||fu.errorUpdateCount>0,isFetchedAfterMount:fu.dataUpdateCount>au.dataUpdateCount||fu.errorUpdateCount>au.errorUpdateCount,isFetching:Mu,isRefetching:Mu&&!Au,isLoadingError:Pu&&fu.dataUpdatedAt===0,isPaused:bu==="paused",isPlaceholderData:wu,isPreviousData:$u,isRefetchError:Pu&&fu.dataUpdatedAt!==0,isStale:isStale(as,us),refetch:this.refetch,remove:this.remove}}updateResult(as){const us=this.currentResult,cs=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(cs,us))return;this.currentResult=cs;const $a={cache:!0},na=()=>{if(!us)return!0;const{notifyOnChangeProps:tu}=this.options,iu=typeof tu=="function"?tu():tu;if(iu==="all"||!iu&&!this.trackedProps.size)return!0;const su=new Set(iu??this.trackedProps);return this.options.useErrorBoundary&&su.add("error"),Object.keys(this.currentResult).some(au=>{const ou=au;return this.currentResult[ou]!==us[ou]&&su.has(ou)})};(as==null?void 0:as.listeners)!==!1&&na()&&($a.listeners=!0),this.notify({...$a,...as})}updateQuery(){const as=this.client.getQueryCache().build(this.client,this.options);if(as===this.currentQuery)return;const us=this.currentQuery;this.currentQuery=as,this.currentQueryInitialState=as.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(us==null||us.removeObserver(this),as.addObserver(this))}onQueryUpdate(as){const us={};as.type==="success"?us.onSuccess=!as.manual:as.type==="error"&&!isCancelledError$1(as.error)&&(us.onError=!0),this.updateResult(us),this.hasListeners()&&this.updateTimers()}notify(as){notifyManager$1.batch(()=>{if(as.onSuccess){var us,cs,$a,na;(us=(cs=this.options).onSuccess)==null||us.call(cs,this.currentResult.data),($a=(na=this.options).onSettled)==null||$a.call(na,this.currentResult.data,null)}else if(as.onError){var tu,iu,su,au;(tu=(iu=this.options).onError)==null||tu.call(iu,this.currentResult.error),(su=(au=this.options).onSettled)==null||su.call(au,void 0,this.currentResult.error)}as.listeners&&this.listeners.forEach(({listener:ou})=>{ou(this.currentResult)}),as.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(ss,as){return as.enabled!==!1&&!ss.state.dataUpdatedAt&&!(ss.state.status==="error"&&as.retryOnMount===!1)}function shouldFetchOnMount(ss,as){return shouldLoadOnMount(ss,as)||ss.state.dataUpdatedAt>0&&shouldFetchOn(ss,as,as.refetchOnMount)}function shouldFetchOn(ss,as,us){if(as.enabled!==!1){const cs=typeof us=="function"?us(ss):us;return cs==="always"||cs!==!1&&isStale(ss,as)}return!1}function shouldFetchOptionally(ss,as,us,cs){return us.enabled!==!1&&(ss!==as||cs.enabled===!1)&&(!us.suspense||ss.state.status!=="error")&&isStale(ss,us)}function isStale(ss,as){return ss.isStaleByTime(as.staleTime)}function shouldAssignObserverCurrentProperties(ss,as,us){return us.keepPreviousData?!1:us.placeholderData!==void 0?as.isPlaceholderData:!shallowEqualObjects(ss.getCurrentResult(),as)}let MutationObserver$1=class extends Subscribable$1{constructor(as,us){super(),this.client=as,this.setOptions(us),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(as){var us;const cs=this.options;this.options=this.client.defaultMutationOptions(as),shallowEqualObjects(cs,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(us=this.currentMutation)==null||us.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var as;(as=this.currentMutation)==null||as.removeObserver(this)}}onMutationUpdate(as){this.updateResult();const us={listeners:!0};as.type==="success"?us.onSuccess=!0:as.type==="error"&&(us.onError=!0),this.notify(us)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(as,us){return this.mutateOptions=us,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof as<"u"?as:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const as=this.currentMutation?this.currentMutation.state:getDefaultState$2(),us={...as,isLoading:as.status==="loading",isSuccess:as.status==="success",isError:as.status==="error",isIdle:as.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=us}notify(as){notifyManager$1.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(as.onSuccess){var us,cs,$a,na;(us=(cs=this.mutateOptions).onSuccess)==null||us.call(cs,this.currentResult.data,this.currentResult.variables,this.currentResult.context),($a=(na=this.mutateOptions).onSettled)==null||$a.call(na,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(as.onError){var tu,iu,su,au;(tu=(iu=this.mutateOptions).onError)==null||tu.call(iu,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(su=(au=this.mutateOptions).onSettled)==null||su.call(au,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}as.listeners&&this.listeners.forEach(({listener:ou})=>{ou(this.currentResult)})})}};var shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$2(ss,as){return ss===as&&(ss!==0||1/ss===1/as)||ss!==ss&&as!==as}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$1=React$1.useDebugValue;function useSyncExternalStore$2(ss,as){var us=as(),cs=useState({inst:{value:us,getSnapshot:as}}),$a=cs[0].inst,na=cs[1];return useLayoutEffect(function(){$a.value=us,$a.getSnapshot=as,checkIfSnapshotChanged($a)&&na({inst:$a})},[ss,us,as]),useEffect$1(function(){return checkIfSnapshotChanged($a)&&na({inst:$a}),ss(function(){checkIfSnapshotChanged($a)&&na({inst:$a})})},[ss]),useDebugValue$1(us),us}function checkIfSnapshotChanged(ss){var as=ss.getSnapshot;ss=ss.value;try{var us=as();return!objectIs$1(ss,us)}catch{return!0}}function useSyncExternalStore$1$1(ss,as){return as()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;const useSyncExternalStore$1=shimExports.useSyncExternalStore,defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(ss,as){return ss||(as&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:ss}={})=>{const as=reactExports.useContext(getQueryClientContext(ss,reactExports.useContext(QueryClientSharingContext)));if(!as)throw new Error("No QueryClient set, use QueryClientProvider to set one");return as},QueryClientProvider$1=({client:ss,children:as,context:us,contextSharing:cs=!1})=>{reactExports.useEffect(()=>(ss.mount(),()=>{ss.unmount()}),[ss]);const $a=getQueryClientContext(us,cs);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!us&&cs},reactExports.createElement($a.Provider,{value:ss},as))},IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let ss=!1;return{clearReset:()=>{ss=!1},reset:()=>{ss=!0},isReset:()=>ss}}const QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError$1(ss,as){return typeof ss=="function"?ss(...as):!!ss}function useMutation$1(ss,as,us){const cs=parseMutationArgs(ss,as,us),$a=useQueryClient({context:cs.context}),[na]=reactExports.useState(()=>new MutationObserver$1($a,cs));reactExports.useEffect(()=>{na.setOptions(cs)},[na,cs]);const tu=useSyncExternalStore$1(reactExports.useCallback(su=>na.subscribe(notifyManager$1.batchCalls(su)),[na]),()=>na.getCurrentResult(),()=>na.getCurrentResult()),iu=reactExports.useCallback((su,au)=>{na.mutate(su,au).catch(noop$5)},[na]);if(tu.error&&shouldThrowError$1(na.options.useErrorBoundary,[tu.error]))throw tu.error;return{...tu,mutate:iu,mutateAsync:tu.mutate}}function noop$5(){}function dehydrateMutation(ss){return{mutationKey:ss.options.mutationKey,state:ss.state}}function dehydrateQuery(ss){return{state:ss.state,queryKey:ss.queryKey,queryHash:ss.queryHash}}function defaultShouldDehydrateMutation(ss){return ss.state.isPaused}function defaultShouldDehydrateQuery(ss){return ss.state.status==="success"}function dehydrate(ss,as={}){const us=[],cs=[];if(as.dehydrateMutations!==!1){const $a=as.shouldDehydrateMutation||defaultShouldDehydrateMutation;ss.getMutationCache().getAll().forEach(na=>{$a(na)&&us.push(dehydrateMutation(na))})}if(as.dehydrateQueries!==!1){const $a=as.shouldDehydrateQuery||defaultShouldDehydrateQuery;ss.getQueryCache().getAll().forEach(na=>{$a(na)&&cs.push(dehydrateQuery(na))})}return{mutations:us,queries:cs}}function hydrate(ss,as,us){if(typeof as!="object"||as===null)return;const cs=ss.getMutationCache(),$a=ss.getQueryCache(),na=as.mutations||[],tu=as.queries||[];na.forEach(iu=>{var su;cs.build(ss,{...us==null||(su=us.defaultOptions)==null?void 0:su.mutations,mutationKey:iu.mutationKey},iu.state)}),tu.forEach(({queryKey:iu,state:su,queryHash:au})=>{var ou;const fu=$a.get(au);if(fu){if(fu.state.dataUpdatedAt<su.dataUpdatedAt){const{fetchStatus:pu,...vu}=su;fu.setState(vu)}return}$a.build(ss,{...us==null||(ou=us.defaultOptions)==null?void 0:ou.queries,queryKey:iu,queryHash:au},{...su,fetchStatus:"idle"})})}const cacheableEventTypes=["added","removed","updated"];function isCacheableEventType(ss){return cacheableEventTypes.includes(ss)}async function persistQueryClientRestore({queryClient:ss,persister:as,maxAge:us=1e3*60*60*24,buster:cs="",hydrateOptions:$a}){try{const na=await as.restoreClient();if(na)if(na.timestamp){const tu=Date.now()-na.timestamp>us,iu=na.buster!==cs;tu||iu?as.removeClient():hydrate(ss,na.clientState,$a)}else as.removeClient()}catch{as.removeClient()}}async function persistQueryClientSave({queryClient:ss,persister:as,buster:us="",dehydrateOptions:cs}){const $a={buster:us,timestamp:Date.now(),clientState:dehydrate(ss,cs)};await as.persistClient($a)}function persistQueryClientSubscribe(ss){const as=ss.queryClient.getQueryCache().subscribe(cs=>{isCacheableEventType(cs.type)&&persistQueryClientSave(ss)}),us=ss.queryClient.getMutationCache().subscribe(cs=>{isCacheableEventType(cs.type)&&persistQueryClientSave(ss)});return()=>{as(),us()}}function persistQueryClient(ss){let as=!1,us;const cs=()=>{as=!0,us==null||us()},$a=persistQueryClientRestore(ss).then(()=>{as||(us=persistQueryClientSubscribe(ss))});return[cs,$a]}function defineChain(ss,as={}){const{fees:us=ss.fees,formatters:cs=ss.formatters,serializers:$a=ss.serializers}=as;return{...ss,fees:us,formatters:cs,serializers:$a}}const version$2="1.21.3",getContractAddress=ss=>ss,getUrl=ss=>ss,getVersion=()=>`viem@${version$2}`;let BaseError$1=class up extends Error{constructor(as,us={}){var na;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const cs=us.cause instanceof up?us.cause.details:(na=us.cause)!=null&&na.message?us.cause.message:us.details,$a=us.cause instanceof up&&us.cause.docsPath||us.docsPath;this.message=[as||"An error occurred.","",...us.metaMessages?[...us.metaMessages,""]:[],...$a?[`Docs: https://viem.sh${$a}.html${us.docsSlug?`#${us.docsSlug}`:""}`]:[],...cs?[`Details: ${cs}`]:[],`Version: ${this.version}`].join(`
`),us.cause&&(this.cause=us.cause),this.details=cs,this.docsPath=$a,this.metaMessages=us.metaMessages,this.shortMessage=as}walk(as){return walk$1(this,as)}};function walk$1(ss,as){return as!=null&&as(ss)?ss:ss&&typeof ss=="object"&&"cause"in ss?walk$1(ss.cause,as):as?null:ss}let IntegerOutOfRangeError$1=class extends BaseError$1{constructor({max:as,min:us,signed:cs,size:$a,value:na}){super(`Number "${na}" is not in safe ${$a?`${$a*8}-bit ${cs?"signed":"unsigned"} `:""}integer range ${as?`(${us} to ${as})`:`(above ${us})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}};class InvalidHexBooleanError extends BaseError$1{constructor(as){super(`Hex value "${as}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}let SizeOverflowError$1=class extends BaseError$1{constructor({givenSize:as,maxSize:us}){super(`Size cannot exceed ${us} bytes. Given size: ${as} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}};function isHex$1(ss,{strict:as=!0}={}){return!ss||typeof ss!="string"?!1:as?/^0x[0-9a-fA-F]*$/.test(ss):ss.startsWith("0x")}function size$2(ss){return isHex$1(ss,{strict:!1})?Math.ceil((ss.length-2)/2):ss.length}function trim(ss,{dir:as="left"}={}){let us=typeof ss=="string"?ss.replace("0x",""):ss,cs=0;for(let $a=0;$a<us.length-1&&us[as==="left"?$a:us.length-$a-1].toString()==="0";$a++)cs++;return us=as==="left"?us.slice(cs):us.slice(0,us.length-cs),typeof ss=="string"?(us.length===1&&as==="right"&&(us=`${us}0`),`0x${us.length%2===1?`0${us}`:us}`):us}class SliceOffsetOutOfBoundsError extends BaseError$1{constructor({offset:as,position:us,size:cs}){super(`Slice ${us==="start"?"starting":"ending"} at offset "${as}" is out-of-bounds (size: ${cs}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}let SizeExceedsPaddingSizeError$1=class extends BaseError$1{constructor({size:as,targetSize:us,type:cs}){super(`${cs.charAt(0).toUpperCase()}${cs.slice(1).toLowerCase()} size (${as}) exceeds padding size (${us}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}};function pad$1(ss,{dir:as,size:us=32}={}){return typeof ss=="string"?padHex$1(ss,{dir:as,size:us}):padBytes$1(ss,{dir:as,size:us})}function padHex$1(ss,{dir:as,size:us=32}={}){if(us===null)return ss;const cs=ss.replace("0x","");if(cs.length>us*2)throw new SizeExceedsPaddingSizeError$1({size:Math.ceil(cs.length/2),targetSize:us,type:"hex"});return`0x${cs[as==="right"?"padEnd":"padStart"](us*2,"0")}`}function padBytes$1(ss,{dir:as,size:us=32}={}){if(us===null)return ss;if(ss.length>us)throw new SizeExceedsPaddingSizeError$1({size:ss.length,targetSize:us,type:"bytes"});const cs=new Uint8Array(us);for(let $a=0;$a<us;$a++){const na=as==="right";cs[na?$a:us-$a-1]=ss[na?$a:ss.length-$a-1]}return cs}const hexes$1=Array.from({length:256},(ss,as)=>as.toString(16).padStart(2,"0"));function toHex$1(ss,as={}){return typeof ss=="number"||typeof ss=="bigint"?numberToHex$1(ss,as):typeof ss=="string"?stringToHex$1(ss,as):typeof ss=="boolean"?boolToHex$1(ss,as):bytesToHex$1(ss,as)}function boolToHex$1(ss,as={}){const us=`0x${Number(ss)}`;return typeof as.size=="number"?(assertSize$1(us,{size:as.size}),pad$1(us,{size:as.size})):us}function bytesToHex$1(ss,as={}){let us="";for(let $a=0;$a<ss.length;$a++)us+=hexes$1[ss[$a]];const cs=`0x${us}`;return typeof as.size=="number"?(assertSize$1(cs,{size:as.size}),pad$1(cs,{dir:"right",size:as.size})):cs}function numberToHex$1(ss,as={}){const{signed:us,size:cs}=as,$a=BigInt(ss);let na;cs?us?na=(1n<<BigInt(cs)*8n-1n)-1n:na=2n**(BigInt(cs)*8n)-1n:typeof ss=="number"&&(na=BigInt(Number.MAX_SAFE_INTEGER));const tu=typeof na=="bigint"&&us?-na-1n:0;if(na&&$a>na||$a<tu){const su=typeof ss=="bigint"?"n":"";throw new IntegerOutOfRangeError$1({max:na?`${na}${su}`:void 0,min:`${tu}${su}`,signed:us,size:cs,value:`${ss}${su}`})}const iu=`0x${(us&&$a<0?(1n<<BigInt(cs*8))+BigInt($a):$a).toString(16)}`;return cs?pad$1(iu,{size:cs}):iu}const encoder$3=new TextEncoder;function stringToHex$1(ss,as={}){const us=encoder$3.encode(ss);return bytesToHex$1(us,as)}const encoder$2=new TextEncoder;function toBytes$3(ss,as={}){return typeof ss=="number"||typeof ss=="bigint"?numberToBytes$1(ss,as):typeof ss=="boolean"?boolToBytes$1(ss,as):isHex$1(ss)?hexToBytes$1(ss,as):stringToBytes$1(ss,as)}function boolToBytes$1(ss,as={}){const us=new Uint8Array(1);return us[0]=Number(ss),typeof as.size=="number"?(assertSize$1(us,{size:as.size}),pad$1(us,{size:as.size})):us}const charCodeMap$1={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16$1(ss){if(ss>=charCodeMap$1.zero&&ss<=charCodeMap$1.nine)return ss-charCodeMap$1.zero;if(ss>=charCodeMap$1.A&&ss<=charCodeMap$1.F)return ss-(charCodeMap$1.A-10);if(ss>=charCodeMap$1.a&&ss<=charCodeMap$1.f)return ss-(charCodeMap$1.a-10)}function hexToBytes$1(ss,as={}){let us=ss;as.size&&(assertSize$1(us,{size:as.size}),us=pad$1(us,{dir:"right",size:as.size}));let cs=us.slice(2);cs.length%2&&(cs=`0${cs}`);const $a=cs.length/2,na=new Uint8Array($a);for(let tu=0,iu=0;tu<$a;tu++){const su=charCodeToBase16$1(cs.charCodeAt(iu++)),au=charCodeToBase16$1(cs.charCodeAt(iu++));if(su===void 0||au===void 0)throw new BaseError$1(`Invalid byte sequence ("${cs[iu-2]}${cs[iu-1]}" in "${cs}").`);na[tu]=su*16+au}return na}function numberToBytes$1(ss,as){const us=numberToHex$1(ss,as);return hexToBytes$1(us)}function stringToBytes$1(ss,as={}){const us=encoder$2.encode(ss);return typeof as.size=="number"?(assertSize$1(us,{size:as.size}),pad$1(us,{dir:"right",size:as.size})):us}function assertSize$1(ss,{size:as}){if(size$2(ss)>as)throw new SizeOverflowError$1({givenSize:size$2(ss),maxSize:as})}function hexToBigInt$1(ss,as={}){const{signed:us}=as;as.size&&assertSize$1(ss,{size:as.size});const cs=BigInt(ss);if(!us)return cs;const $a=(ss.length-2)/2,na=(1n<<BigInt($a)*8n-1n)-1n;return cs<=na?cs:cs-BigInt(`0x${"f".padStart($a*2,"f")}`)-1n}function hexToBool(ss,as={}){let us=ss;if(as.size&&(assertSize$1(us,{size:as.size}),us=trim(us)),trim(us)==="0x00")return!1;if(trim(us)==="0x01")return!0;throw new InvalidHexBooleanError(us)}function hexToNumber$1(ss,as={}){return Number(hexToBigInt$1(ss,as))}function hexToString(ss,as={}){let us=hexToBytes$1(ss);return as.size&&(assertSize$1(us,{size:as.size}),us=trim(us,{dir:"right"})),new TextDecoder().decode(us)}function defineFormatter(ss,as){return({exclude:us,format:cs})=>({exclude:us,format:$a=>{const na=as($a);if(us)for(const tu of us)delete na[tu];return{...na,...cs($a)}},type:ss})}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(ss){const as={...ss,blockHash:ss.blockHash?ss.blockHash:null,blockNumber:ss.blockNumber?BigInt(ss.blockNumber):null,chainId:ss.chainId?hexToNumber$1(ss.chainId):void 0,gas:ss.gas?BigInt(ss.gas):void 0,gasPrice:ss.gasPrice?BigInt(ss.gasPrice):void 0,maxFeePerGas:ss.maxFeePerGas?BigInt(ss.maxFeePerGas):void 0,maxPriorityFeePerGas:ss.maxPriorityFeePerGas?BigInt(ss.maxPriorityFeePerGas):void 0,nonce:ss.nonce?hexToNumber$1(ss.nonce):void 0,to:ss.to?ss.to:null,transactionIndex:ss.transactionIndex?Number(ss.transactionIndex):null,type:ss.type?transactionType[ss.type]:void 0,typeHex:ss.type?ss.type:void 0,value:ss.value?BigInt(ss.value):void 0,v:ss.v?BigInt(ss.v):void 0};return as.yParity=(()=>{if(ss.yParity)return Number(ss.yParity);if(typeof as.v=="bigint"){if(as.v===0n||as.v===27n)return 0;if(as.v===1n||as.v===28n)return 1;if(as.v>=35n)return as.v%2n===0n?1:0}})(),as.type==="legacy"&&(delete as.accessList,delete as.maxFeePerGas,delete as.maxPriorityFeePerGas,delete as.yParity),as.type==="eip2930"&&(delete as.maxFeePerGas,delete as.maxPriorityFeePerGas),as}const defineTransaction=defineFormatter("transaction",formatTransaction);function formatBlock(ss){var us;const as=(us=ss.transactions)==null?void 0:us.map(cs=>typeof cs=="string"?cs:formatTransaction(cs));return{...ss,baseFeePerGas:ss.baseFeePerGas?BigInt(ss.baseFeePerGas):null,difficulty:ss.difficulty?BigInt(ss.difficulty):void 0,gasLimit:ss.gasLimit?BigInt(ss.gasLimit):void 0,gasUsed:ss.gasUsed?BigInt(ss.gasUsed):void 0,hash:ss.hash?ss.hash:null,logsBloom:ss.logsBloom?ss.logsBloom:null,nonce:ss.nonce?ss.nonce:null,number:ss.number?BigInt(ss.number):null,size:ss.size?BigInt(ss.size):void 0,timestamp:ss.timestamp?BigInt(ss.timestamp):void 0,transactions:as,totalDifficulty:ss.totalDifficulty?BigInt(ss.totalDifficulty):null}}const defineBlock=defineFormatter("block",formatBlock);function formatLog(ss,{args:as,eventName:us}={}){return{...ss,blockHash:ss.blockHash?ss.blockHash:null,blockNumber:ss.blockNumber?BigInt(ss.blockNumber):null,logIndex:ss.logIndex?Number(ss.logIndex):null,transactionHash:ss.transactionHash?ss.transactionHash:null,transactionIndex:ss.transactionIndex?Number(ss.transactionIndex):null,...us?{args:as,eventName:us}:{}}}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(ss){return{...ss,blockNumber:ss.blockNumber?BigInt(ss.blockNumber):null,contractAddress:ss.contractAddress?ss.contractAddress:null,cumulativeGasUsed:ss.cumulativeGasUsed?BigInt(ss.cumulativeGasUsed):null,effectiveGasPrice:ss.effectiveGasPrice?BigInt(ss.effectiveGasPrice):null,gasUsed:ss.gasUsed?BigInt(ss.gasUsed):null,logs:ss.logs?ss.logs.map(as=>formatLog(as)):null,to:ss.to?ss.to:null,transactionIndex:ss.transactionIndex?hexToNumber$1(ss.transactionIndex):null,status:ss.status?statuses[ss.status]:null,type:ss.type?transactionType[ss.type]||ss.type:null}}const defineTransactionReceipt=defineFormatter("transactionReceipt",formatTransactionReceipt),formattersOptimism={block:defineBlock({format(ss){var us;return{transactions:(us=ss.transactions)==null?void 0:us.map(cs=>{if(typeof cs=="string")return cs;const $a=formatTransaction(cs);return $a.typeHex==="0x7e"&&($a.isSystemTx=cs.isSystemTx,$a.mint=cs.mint?hexToBigInt$1(cs.mint):void 0,$a.sourceHash=cs.sourceHash,$a.type="deposit"),$a}),stateRoot:ss.stateRoot}}}),transaction:defineTransaction({format(ss){const as={};return ss.type==="0x7e"&&(as.isSystemTx=ss.isSystemTx,as.mint=ss.mint?hexToBigInt$1(ss.mint):void 0,as.sourceHash=ss.sourceHash,as.type="deposit"),as}}),transactionReceipt:defineTransactionReceipt({format(ss){return{l1GasPrice:ss.l1GasPrice?hexToBigInt$1(ss.l1GasPrice):null,l1GasUsed:ss.l1GasUsed?hexToBigInt$1(ss.l1GasUsed):null,l1Fee:ss.l1Fee?hexToBigInt$1(ss.l1Fee):null,l1FeeScalar:ss.l1FeeScalar?Number(ss.l1FeeScalar):null}}})},base$4=defineChain({id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-mainnet.g.alchemy.com/v2"],webSocket:["wss://base-mainnet.g.alchemy.com/v2"]},infura:{http:["https://base-mainnet.infura.io/v3"],webSocket:["wss://base-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{blockscout:{name:"Basescout",url:"https://base.blockscout.com"},default:{name:"Basescan",url:"https://basescan.org"},etherscan:{name:"Basescan",url:"https://basescan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022}}},{formatters:formattersOptimism}),baseSepolia=defineChain({id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://base-sepolia.g.alchemy.com/v2"],webSocket:["wss://base-sepolia.g.alchemy.com/v2"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{blockscout:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"},default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0,sourceId:11155111},{formatters:formattersOptimism}),rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function formatTransactionRequest(ss){return{...ss,gas:typeof ss.gas<"u"?numberToHex$1(ss.gas):void 0,gasPrice:typeof ss.gasPrice<"u"?numberToHex$1(ss.gasPrice):void 0,maxFeePerGas:typeof ss.maxFeePerGas<"u"?numberToHex$1(ss.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof ss.maxPriorityFeePerGas<"u"?numberToHex$1(ss.maxPriorityFeePerGas):void 0,nonce:typeof ss.nonce<"u"?numberToHex$1(ss.nonce):void 0,type:typeof ss.type<"u"?rpcTransactionType[ss.type]:void 0,value:typeof ss.value<"u"?numberToHex$1(ss.value):void 0}}class InvalidAddressError extends BaseError$1{constructor({address:as}){super(`Address "${as}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class ChainDoesNotSupportContract extends BaseError$1{constructor({blockNumber:as,chain:us,contract:cs}){super(`Chain "${us.name}" does not support contract "${cs.name}".`,{metaMessages:["This could be due to any of the following:",...as&&cs.blockCreated&&cs.blockCreated>as?[`- The contract "${cs.name}" was not deployed until block ${cs.blockCreated} (current block ${as}).`]:[`- The chain does not have the contract "${cs.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}let ChainMismatchError$1=class extends BaseError$1{constructor({chain:as,currentChainId:us}){super(`The current chain of the wallet (id: ${us}) does not match the target chain for the transaction (id: ${as.id}  ${as.name}).`,{metaMessages:[`Current Chain ID:  ${us}`,`Expected Chain ID: ${as.id}  ${as.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}};class ChainNotFoundError extends BaseError$1{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError$1{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(ss,as){let us=ss.toString();const cs=us.startsWith("-");cs&&(us=us.slice(1)),us=us.padStart(as,"0");let[$a,na]=[us.slice(0,us.length-as),us.slice(us.length-as)];return na=na.replace(/(0+)$/,""),`${cs?"-":""}${$a||"0"}${na?`.${na}`:""}`}function formatGwei(ss,as="wei"){return formatUnits(ss,gweiUnits[as])}class ExecutionRevertedError extends BaseError$1{constructor({cause:as,message:us}={}){var $a;const cs=($a=us==null?void 0:us.replace("execution reverted: ",""))==null?void 0:$a.replace("execution reverted","");super(`Execution reverted ${cs?`with reason: ${cs}`:"for an unknown reason"}.`,{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError$1{constructor({cause:as,maxFeePerGas:us}={}){super(`The fee cap (\`maxFeePerGas\`${us?` = ${formatGwei(us)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError$1{constructor({cause:as,maxFeePerGas:us}={}){super(`The fee cap (\`maxFeePerGas\`${us?` = ${formatGwei(us)}`:""} gwei) cannot be lower than the block base fee.`,{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError$1{constructor({cause:as,nonce:us}={}){super(`Nonce provided for the transaction ${us?`(${us}) `:""}is higher than the next one expected.`,{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError$1{constructor({cause:as,nonce:us}={}){super([`Nonce provided for the transaction ${us?`(${us}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError$1{constructor({cause:as,nonce:us}={}){super(`Nonce provided for the transaction ${us?`(${us}) `:""}exceeds the maximum allowed nonce.`,{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError$1{constructor({cause:as}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:as,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError$1{constructor({cause:as,gas:us}={}){super(`The amount of gas ${us?`(${us}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError$1{constructor({cause:as,gas:us}={}){super(`The amount of gas ${us?`(${us}) `:""}provided for the transaction is too low.`,{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError$1{constructor({cause:as}){super("The transaction type is not supported for this chain.",{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError$1{constructor({cause:as,maxPriorityFeePerGas:us,maxFeePerGas:cs}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${us?` = ${formatGwei(us)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${cs?` = ${formatGwei(cs)} gwei`:""}).`].join(`
`),{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError$1{constructor({cause:as}){super(`An error occurred while executing: ${as==null?void 0:as.shortMessage}`,{cause:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(ss){return addressRegex.test(ss)}function concat$1(ss){return typeof ss[0]=="string"?concatHex(ss):concatBytes$1(ss)}function concatBytes$1(ss){let as=0;for(const $a of ss)as+=$a.length;const us=new Uint8Array(as);let cs=0;for(const $a of ss)us.set($a,cs),cs+=$a.length;return us}function concatHex(ss){return`0x${ss.reduce((as,us)=>as+us.replace("0x",""),"")}`}function execTyped(ss,as){const us=ss.exec(as);return us==null?void 0:us.groups}const tupleRegex=/^tuple(?<array>(\[(\d*)\])*)$/;function formatAbiParameter(ss){let as=ss.type;if(tupleRegex.test(ss.type)&&"components"in ss){as="(";const us=ss.components.length;for(let $a=0;$a<us;$a++){const na=ss.components[$a];as+=formatAbiParameter(na),$a<us-1&&(as+=", ")}const cs=execTyped(tupleRegex,ss.type);return as+=`)${(cs==null?void 0:cs.array)??""}`,formatAbiParameter({...ss,type:as})}return"indexed"in ss&&ss.indexed&&(as=`${as} indexed`),ss.name?`${as} ${ss.name}`:as}function formatAbiParameters(ss){let as="";const us=ss.length;for(let cs=0;cs<us;cs++){const $a=ss[cs];as+=formatAbiParameter($a),cs!==us-1&&(as+=", ")}return as}function formatAbiItem$1(ss){return ss.type==="function"?`function ${ss.name}(${formatAbiParameters(ss.inputs)})${ss.stateMutability&&ss.stateMutability!=="nonpayable"?` ${ss.stateMutability}`:""}${ss.outputs.length?` returns (${formatAbiParameters(ss.outputs)})`:""}`:ss.type==="event"?`event ${ss.name}(${formatAbiParameters(ss.inputs)})`:ss.type==="error"?`error ${ss.name}(${formatAbiParameters(ss.inputs)})`:ss.type==="constructor"?`constructor(${formatAbiParameters(ss.inputs)})${ss.stateMutability==="payable"?" payable":""}`:ss.type==="fallback"?"fallback()":"receive() external payable"}function getAction(ss,as,us){return cs=>{var $a;return(($a=ss[as.name||us])==null?void 0:$a.call(ss,cs))??as(ss,cs)}}function formatAbiItem(ss,{includeName:as=!1}={}){if(ss.type!=="function"&&ss.type!=="event"&&ss.type!=="error")throw new InvalidDefinitionTypeError(ss.type);return`${ss.name}(${formatAbiParams(ss.inputs,{includeName:as})})`}function formatAbiParams(ss,{includeName:as=!1}={}){return ss?ss.map(us=>formatAbiParam(us,{includeName:as})).join(as?", ":","):""}function formatAbiParam(ss,{includeName:as}){return ss.type.startsWith("tuple")?`(${formatAbiParams(ss.components,{includeName:as})})${ss.type.slice(5)}`:ss.type+(as&&ss.name?` ${ss.name}`:"")}class AbiConstructorNotFoundError extends BaseError$1{constructor({docsPath:as}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError$1{constructor({docsPath:as}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError$1{constructor({data:as,params:us,size:cs}){super([`Data size of ${cs} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(us,{includeName:!0})})`,`Data:   ${as} (${cs} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=as,this.params=us,this.size=cs}}class AbiDecodingZeroDataError extends BaseError$1{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError$1{constructor({expectedLength:as,givenLength:us,type:cs}){super([`ABI encoding array length mismatch for type ${cs}.`,`Expected length: ${as}`,`Given length: ${us}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError$1{constructor({expectedSize:as,value:us}){super(`Size of bytes "${us}" (bytes${size$2(us)}) does not match expected size (bytes${as}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError$1{constructor({expectedLength:as,givenLength:us}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${as}`,`Given length (values): ${us}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError$1{constructor(as,{docsPath:us}){super([`Encoded error signature "${as}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${as}.`].join(`
`),{docsPath:us}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=as}}class AbiEventSignatureEmptyTopicsError extends BaseError$1{constructor({docsPath:as}){super("Cannot extract event signature from empty topics.",{docsPath:as}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError$1{constructor(as,{docsPath:us}){super([`Encoded event signature "${as}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${as}.`].join(`
`),{docsPath:us}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError$1{constructor(as,{docsPath:us}={}){super([`Event ${as?`"${as}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:us}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError$1{constructor(as,{docsPath:us}={}){super([`Function ${as?`"${as}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:us}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError$1{constructor(as,{docsPath:us}){super([`Function "${as}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:us}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class AbiItemAmbiguityError extends BaseError$1{constructor(as,us){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${as.type}\` in \`${formatAbiItem(as.abiItem)}\`, and`,`\`${us.type}\` in \`${formatAbiItem(us.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class BytesSizeMismatchError extends BaseError$1{constructor({expectedSize:as,givenSize:us}){super(`Expected bytes${as}, got bytes${us}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError$1{constructor({abiItem:as,data:us,params:cs,size:$a}){super([`Data size of ${$a} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(cs,{includeName:!0})})`,`Data:   ${us} (${$a} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=as,this.data=us,this.params=cs,this.size=$a}}class DecodeLogTopicsMismatch extends BaseError$1{constructor({abiItem:as,param:us}){super([`Expected a topic for indexed event parameter${us.name?` "${us.name}"`:""} on event "${formatAbiItem(as,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=as}}class InvalidAbiEncodingTypeError extends BaseError$1{constructor(as,{docsPath:us}){super([`Type "${as}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:us}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError$1{constructor(as,{docsPath:us}){super([`Type "${as}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:us}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError$1{constructor(as){super([`Value "${as}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError$1{constructor(as){super([`"${as}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class FilterTypeNotSupportedError extends BaseError$1{constructor(as){super(`Filter type "${as}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}function normalizeSignature(ss){let as=!0,us="",cs=0,$a="",na=!1;for(let tu=0;tu<ss.length;tu++){const iu=ss[tu];if(["(",")",","].includes(iu)&&(as=!0),iu==="("&&cs++,iu===")"&&cs--,!!as){if(cs===0){if(iu===" "&&["event","function",""].includes($a))$a="";else if($a+=iu,iu===")"){na=!0;break}continue}if(iu===" "){ss[tu-1]!==","&&us!==","&&us!==",("&&(us="",as=!1);continue}$a+=iu,us+=iu}}if(!na)throw new BaseError$1("Unable to normalize signature.");return $a}const getFunctionSignature=ss=>{const as=typeof ss=="string"?ss:formatAbiItem$1(ss);return normalizeSignature(as)},getEventSignature=ss=>getFunctionSignature(ss);function number(ss){if(!Number.isSafeInteger(ss)||ss<0)throw new Error(`Wrong positive integer: ${ss}`)}function bytes(ss,...as){if(!(ss instanceof Uint8Array))throw new Error("Expected Uint8Array");if(as.length>0&&!as.includes(ss.length))throw new Error(`Expected Uint8Array of length ${as}, not of length=${ss.length}`)}function exists(ss,as=!0){if(ss.destroyed)throw new Error("Hash instance has been destroyed");if(as&&ss.finished)throw new Error("Hash#digest() has already been called")}function output(ss,as){bytes(ss);const us=as.outputLen;if(ss.length<us)throw new Error(`digestInto() expects output buffer of length at least ${us}`)}const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(ss,as=!1){return as?{h:Number(ss&U32_MASK64$1),l:Number(ss>>_32n$1&U32_MASK64$1)}:{h:Number(ss>>_32n$1&U32_MASK64$1)|0,l:Number(ss&U32_MASK64$1)|0}}function split$1(ss,as=!1){let us=new Uint32Array(ss.length),cs=new Uint32Array(ss.length);for(let $a=0;$a<ss.length;$a++){const{h:na,l:tu}=fromBig$1(ss[$a],as);[us[$a],cs[$a]]=[na,tu]}return[us,cs]}const rotlSH$1=(ss,as,us)=>ss<<us|as>>>32-us,rotlSL$1=(ss,as,us)=>as<<us|ss>>>32-us,rotlBH$1=(ss,as,us)=>as<<us-32|ss>>>64-us,rotlBL$1=(ss,as,us)=>ss<<us-32|as>>>64-us;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a=ss=>ss instanceof Uint8Array,u32$1=ss=>new Uint32Array(ss.buffer,ss.byteOffset,Math.floor(ss.byteLength/4)),isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$1(ss){if(typeof ss!="string")throw new Error(`utf8ToBytes expected string, got ${typeof ss}`);return new Uint8Array(new TextEncoder().encode(ss))}function toBytes$2(ss){if(typeof ss=="string"&&(ss=utf8ToBytes$1(ss)),!u8a(ss))throw new Error(`expected Uint8Array, got ${typeof ss}`);return ss}let Hash$8=class{clone(){return this._cloneInto()}};function wrapConstructor$1(ss){const as=cs=>ss().update(toBytes$2(cs)).digest(),us=ss();return as.outputLen=us.outputLen,as.blockLen=us.blockLen,as.create=()=>ss(),as}const[SHA3_PI$1,SHA3_ROTL$1,_SHA3_IOTA$1]=[[],[],[]],_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_7n$1=BigInt(7),_256n$1=BigInt(256),_0x71n$1=BigInt(113);for(let ss=0,as=_1n$1,us=1,cs=0;ss<24;ss++){[us,cs]=[cs,(2*us+3*cs)%5],SHA3_PI$1.push(2*(5*cs+us)),SHA3_ROTL$1.push((ss+1)*(ss+2)/2%64);let $a=_0n$1;for(let na=0;na<7;na++)as=(as<<_1n$1^(as>>_7n$1)*_0x71n$1)%_256n$1,as&_2n$1&&($a^=_1n$1<<(_1n$1<<BigInt(na))-_1n$1);_SHA3_IOTA$1.push($a)}const[SHA3_IOTA_H$1,SHA3_IOTA_L$1]=split$1(_SHA3_IOTA$1,!0),rotlH$1=(ss,as,us)=>us>32?rotlBH$1(ss,as,us):rotlSH$1(ss,as,us),rotlL$1=(ss,as,us)=>us>32?rotlBL$1(ss,as,us):rotlSL$1(ss,as,us);function keccakP$1(ss,as=24){const us=new Uint32Array(10);for(let cs=24-as;cs<24;cs++){for(let tu=0;tu<10;tu++)us[tu]=ss[tu]^ss[tu+10]^ss[tu+20]^ss[tu+30]^ss[tu+40];for(let tu=0;tu<10;tu+=2){const iu=(tu+8)%10,su=(tu+2)%10,au=us[su],ou=us[su+1],fu=rotlH$1(au,ou,1)^us[iu],pu=rotlL$1(au,ou,1)^us[iu+1];for(let vu=0;vu<50;vu+=10)ss[tu+vu]^=fu,ss[tu+vu+1]^=pu}let $a=ss[2],na=ss[3];for(let tu=0;tu<24;tu++){const iu=SHA3_ROTL$1[tu],su=rotlH$1($a,na,iu),au=rotlL$1($a,na,iu),ou=SHA3_PI$1[tu];$a=ss[ou],na=ss[ou+1],ss[ou]=su,ss[ou+1]=au}for(let tu=0;tu<50;tu+=10){for(let iu=0;iu<10;iu++)us[iu]=ss[tu+iu];for(let iu=0;iu<10;iu++)ss[tu+iu]^=~us[(iu+2)%10]&us[(iu+4)%10]}ss[0]^=SHA3_IOTA_H$1[cs],ss[1]^=SHA3_IOTA_L$1[cs]}us.fill(0)}let Keccak$1=class yp extends Hash$8{constructor(as,us,cs,$a=!1,na=24){if(super(),this.blockLen=as,this.suffix=us,this.outputLen=cs,this.enableXOF=$a,this.rounds=na,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(cs),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$1(this.state)}keccak(){keccakP$1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(as){exists(this);const{blockLen:us,state:cs}=this;as=toBytes$2(as);const $a=as.length;for(let na=0;na<$a;){const tu=Math.min(us-this.pos,$a-na);for(let iu=0;iu<tu;iu++)cs[this.pos++]^=as[na++];this.pos===us&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:as,suffix:us,pos:cs,blockLen:$a}=this;as[cs]^=us,us&128&&cs===$a-1&&this.keccak(),as[$a-1]^=128,this.keccak()}writeInto(as){exists(this,!1),bytes(as),this.finish();const us=this.state,{blockLen:cs}=this;for(let $a=0,na=as.length;$a<na;){this.posOut>=cs&&this.keccak();const tu=Math.min(cs-this.posOut,na-$a);as.set(us.subarray(this.posOut,this.posOut+tu),$a),this.posOut+=tu,$a+=tu}return as}xofInto(as){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(as)}xof(as){return number(as),this.xofInto(new Uint8Array(as))}digestInto(as){if(output(as,this),this.finished)throw new Error("digest() was already called");return this.writeInto(as),this.destroy(),as}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(as){const{blockLen:us,suffix:cs,outputLen:$a,rounds:na,enableXOF:tu}=this;return as||(as=new yp(us,cs,$a,tu,na)),as.state32.set(this.state32),as.pos=this.pos,as.posOut=this.posOut,as.finished=this.finished,as.rounds=na,as.suffix=cs,as.outputLen=$a,as.enableXOF=tu,as.destroyed=this.destroyed,as}};const gen$1=(ss,as,us)=>wrapConstructor$1(()=>new Keccak$1(as,ss,us)),keccak_256$1=gen$1(1,136,256/8);function keccak256$1(ss,as){const us=as||"hex",cs=keccak_256$1(isHex$1(ss,{strict:!1})?toBytes$3(ss):ss);return us==="bytes"?cs:toHex$1(cs)}const hash$4=ss=>keccak256$1(toBytes$3(ss)),getEventSelector=ss=>hash$4(getEventSignature(ss));function slice(ss,as,us,{strict:cs}={}){return isHex$1(ss,{strict:!1})?sliceHex(ss,as,us,{strict:cs}):sliceBytes(ss,as,us,{strict:cs})}function assertStartOffset(ss,as){if(typeof as=="number"&&as>0&&as>size$2(ss)-1)throw new SliceOffsetOutOfBoundsError({offset:as,position:"start",size:size$2(ss)})}function assertEndOffset(ss,as,us){if(typeof as=="number"&&typeof us=="number"&&size$2(ss)!==us-as)throw new SliceOffsetOutOfBoundsError({offset:us,position:"end",size:size$2(ss)})}function sliceBytes(ss,as,us,{strict:cs}={}){assertStartOffset(ss,as);const $a=ss.slice(as,us);return cs&&assertEndOffset($a,as,us),$a}function sliceHex(ss,as,us,{strict:cs}={}){assertStartOffset(ss,as);const $a=`0x${ss.replace("0x","").slice((as??0)*2,(us??ss.length)*2)}`;return cs&&assertEndOffset($a,as,us),$a}function encodeAbiParameters(ss,as){if(ss.length!==as.length)throw new AbiEncodingLengthMismatchError({expectedLength:ss.length,givenLength:as.length});const us=prepareParams({params:ss,values:as}),cs=encodeParams(us);return cs.length===0?"0x":cs}function prepareParams({params:ss,values:as}){const us=[];for(let cs=0;cs<ss.length;cs++)us.push(prepareParam({param:ss[cs],value:as[cs]}));return us}function prepareParam({param:ss,value:as}){const us=getArrayComponents(ss.type);if(us){const[cs,$a]=us;return encodeArray(as,{length:cs,param:{...ss,type:$a}})}if(ss.type==="tuple")return encodeTuple(as,{param:ss});if(ss.type==="address")return encodeAddress(as);if(ss.type==="bool")return encodeBool(as);if(ss.type.startsWith("uint")||ss.type.startsWith("int")){const cs=ss.type.startsWith("int");return encodeNumber(as,{signed:cs})}if(ss.type.startsWith("bytes"))return encodeBytes(as,{param:ss});if(ss.type==="string")return encodeString(as);throw new InvalidAbiEncodingTypeError(ss.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(ss){let as=0;for(let na=0;na<ss.length;na++){const{dynamic:tu,encoded:iu}=ss[na];tu?as+=32:as+=size$2(iu)}const us=[],cs=[];let $a=0;for(let na=0;na<ss.length;na++){const{dynamic:tu,encoded:iu}=ss[na];tu?(us.push(numberToHex$1(as+$a,{size:32})),cs.push(iu),$a+=size$2(iu)):us.push(iu)}return concat$1([...us,...cs])}function encodeAddress(ss){if(!isAddress(ss))throw new InvalidAddressError({address:ss});return{dynamic:!1,encoded:padHex$1(ss.toLowerCase())}}function encodeArray(ss,{length:as,param:us}){const cs=as===null;if(!Array.isArray(ss))throw new InvalidArrayError(ss);if(!cs&&ss.length!==as)throw new AbiEncodingArrayLengthMismatchError({expectedLength:as,givenLength:ss.length,type:`${us.type}[${as}]`});let $a=!1;const na=[];for(let tu=0;tu<ss.length;tu++){const iu=prepareParam({param:us,value:ss[tu]});iu.dynamic&&($a=!0),na.push(iu)}if(cs||$a){const tu=encodeParams(na);if(cs){const iu=numberToHex$1(na.length,{size:32});return{dynamic:!0,encoded:na.length>0?concat$1([iu,tu]):iu}}if($a)return{dynamic:!0,encoded:tu}}return{dynamic:!1,encoded:concat$1(na.map(({encoded:tu})=>tu))}}function encodeBytes(ss,{param:as}){const[,us]=as.type.split("bytes"),cs=size$2(ss);if(!us){let $a=ss;return cs%32!==0&&($a=padHex$1($a,{dir:"right",size:Math.ceil((ss.length-2)/2/32)*32})),{dynamic:!0,encoded:concat$1([padHex$1(numberToHex$1(cs,{size:32})),$a])}}if(cs!==parseInt(us))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(us),value:ss});return{dynamic:!1,encoded:padHex$1(ss,{dir:"right"})}}function encodeBool(ss){return{dynamic:!1,encoded:padHex$1(boolToHex$1(ss))}}function encodeNumber(ss,{signed:as}){return{dynamic:!1,encoded:numberToHex$1(ss,{size:32,signed:as})}}function encodeString(ss){const as=stringToHex$1(ss),us=Math.ceil(size$2(as)/32),cs=[];for(let $a=0;$a<us;$a++)cs.push(padHex$1(slice(as,$a*32,($a+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat$1([padHex$1(numberToHex$1(size$2(as),{size:32})),...cs])}}function encodeTuple(ss,{param:as}){let us=!1;const cs=[];for(let $a=0;$a<as.components.length;$a++){const na=as.components[$a],tu=Array.isArray(ss)?$a:na.name,iu=prepareParam({param:na,value:ss[tu]});cs.push(iu),iu.dynamic&&(us=!0)}return{dynamic:us,encoded:us?encodeParams(cs):concat$1(cs.map(({encoded:$a})=>$a))}}function getArrayComponents(ss){const as=ss.match(/^(.*)\[(\d+)?\]$/);return as?[as[2]?Number(as[2]):null,as[1]]:void 0}const hash$3=ss=>keccak256$1(toBytes$3(ss)),getFunctionSelector=ss=>slice(hash$3(getFunctionSignature(ss)),0,4);function getAbiItem({abi:ss,args:as=[],name:us}){const cs=isHex$1(us,{strict:!1}),$a=ss.filter(tu=>cs?tu.type==="function"?getFunctionSelector(tu)===us:tu.type==="event"?getEventSelector(tu)===us:!1:"name"in tu&&tu.name===us);if($a.length===0)return;if($a.length===1)return $a[0];let na;for(const tu of $a){if(!("inputs"in tu))continue;if(!as||as.length===0){if(!tu.inputs||tu.inputs.length===0)return tu;continue}if(!tu.inputs||tu.inputs.length===0||tu.inputs.length!==as.length)continue;if(as.every((su,au)=>{const ou="inputs"in tu&&tu.inputs[au];return ou?isArgOfType(su,ou):!1})){if(na&&"inputs"in na&&na.inputs){const su=getAmbiguousTypes(tu.inputs,na.inputs,as);if(su)throw new AbiItemAmbiguityError({abiItem:tu,type:su[0]},{abiItem:na,type:su[1]})}na=tu}}return na||$a[0]}function isArgOfType(ss,as){const us=typeof ss,cs=as.type;switch(cs){case"address":return isAddress(ss);case"bool":return us==="boolean";case"function":return us==="string";case"string":return us==="string";default:return cs==="tuple"&&"components"in as?Object.values(as.components).every(($a,na)=>isArgOfType(Object.values(ss)[na],$a)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(cs)?us==="number"||us==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(cs)?us==="string"||ss instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(cs)?Array.isArray(ss)&&ss.every($a=>isArgOfType($a,{...as,type:cs.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function getAmbiguousTypes(ss,as,us){for(const cs in ss){const $a=ss[cs],na=as[cs];if($a.type==="tuple"&&na.type==="tuple"&&"components"in $a&&"components"in na)return getAmbiguousTypes($a.components,na.components,us[cs]);const tu=[$a.type,na.type];if(tu.includes("address")&&tu.includes("bytes20")?!0:tu.includes("address")&&tu.includes("string")||tu.includes("address")&&tu.includes("bytes")?isAddress(us[cs]):!1)return tu}}function encodeEventTopics({abi:ss,eventName:as,args:us}){var iu;let cs=ss[0];if(as&&(cs=getAbiItem({abi:ss,args:us,name:as}),!cs))throw new AbiEventNotFoundError(as,{docsPath:"/docs/contract/encodeEventTopics"});if(cs.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const $a=formatAbiItem(cs),na=getEventSelector($a);let tu=[];if(us&&"inputs"in cs){const su=(iu=cs.inputs)==null?void 0:iu.filter(ou=>"indexed"in ou&&ou.indexed),au=Array.isArray(us)?us:Object.values(us).length>0?(su==null?void 0:su.map(ou=>us[ou.name]))??[]:[];au.length>0&&(tu=(su==null?void 0:su.map((ou,fu)=>Array.isArray(au[fu])?au[fu].map((pu,vu)=>encodeArg({param:ou,value:au[fu][vu]})):au[fu]?encodeArg({param:ou,value:au[fu]}):null))??[])}return[na,...tu]}function encodeArg({param:ss,value:as}){if(ss.type==="string"||ss.type==="bytes")return keccak256$1(toBytes$3(as));if(ss.type==="tuple"||ss.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(ss.type);return encodeAbiParameters([ss],[as])}function createFilterRequestScope(ss,{method:as}){var cs,$a;const us={};return ss.transport.type==="fallback"&&(($a=(cs=ss.transport).onResponse)==null||$a.call(cs,({method:na,response:tu,status:iu,transport:su})=>{iu==="success"&&as===na&&(us[tu]=su.request)})),na=>us[na]||ss.request}async function createContractEventFilter(ss,{address:as,abi:us,args:cs,eventName:$a,fromBlock:na,strict:tu,toBlock:iu}){const su=createFilterRequestScope(ss,{method:"eth_newFilter"}),au=$a?encodeEventTopics({abi:us,args:cs,eventName:$a}):void 0,ou=await ss.request({method:"eth_newFilter",params:[{address:as,fromBlock:typeof na=="bigint"?numberToHex$1(na):na,toBlock:typeof iu=="bigint"?numberToHex$1(iu):iu,topics:au}]});return{abi:us,args:cs,eventName:$a,id:ou,request:su(ou),strict:tu,type:"event"}}function parseAccount(ss){return typeof ss=="string"?{address:ss,type:"json-rpc"}:ss}function encodeFunctionData({abi:ss,args:as,functionName:us}){let cs=ss[0];if(us&&(cs=getAbiItem({abi:ss,args:as,name:us}),!cs))throw new AbiFunctionNotFoundError(us,{docsPath:"/docs/contract/encodeFunctionData"});if(cs.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const $a=formatAbiItem(cs),na=getFunctionSelector($a),tu="inputs"in cs&&cs.inputs?encodeAbiParameters(cs.inputs,as??[]):void 0;return concatHex([na,tu??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress$1(ss,as){const us=ss.substring(2).toLowerCase(),cs=keccak256$1(stringToBytes$1(us),"bytes"),$a=us.split("");for(let na=0;na<40;na+=2)cs[na>>1]>>4>=8&&$a[na]&&($a[na]=$a[na].toUpperCase()),(cs[na>>1]&15)>=8&&$a[na+1]&&($a[na+1]=$a[na+1].toUpperCase());return`0x${$a.join("")}`}function getAddress(ss,as){if(!isAddress(ss))throw new InvalidAddressError({address:ss});return checksumAddress$1(ss)}function decodeAbiParameters(ss,as){if(as==="0x"&&ss.length>0)throw new AbiDecodingZeroDataError;if(size$2(as)&&size$2(as)<32)throw new AbiDecodingDataSizeTooSmallError({data:as,params:ss,size:size$2(as)});return decodeParams({data:as,params:ss})}function decodeParams({data:ss,params:as}){const us=[];let cs=0;for(let $a=0;$a<as.length;$a++){if(cs>=size$2(ss))throw new AbiDecodingDataSizeTooSmallError({data:ss,params:as,size:size$2(ss)});const na=as[$a],{consumed:tu,value:iu}=decodeParam({data:ss,param:na,position:cs});us.push(iu),cs+=tu}return us}function decodeParam({data:ss,param:as,position:us}){const cs=getArrayComponents(as.type);if(cs){const[na,tu]=cs;return decodeArray(ss,{length:na,param:{...as,type:tu},position:us})}if(as.type==="tuple")return decodeTuple(ss,{param:as,position:us});if(as.type==="string")return decodeString(ss,{position:us});if(as.type.startsWith("bytes"))return decodeBytes(ss,{param:as,position:us});const $a=slice(ss,us,us+32,{strict:!0});if(as.type.startsWith("uint")||as.type.startsWith("int"))return decodeNumber($a,{param:as});if(as.type==="address")return decodeAddress($a);if(as.type==="bool")return decodeBool($a);throw new InvalidAbiDecodingTypeError(as.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(ss){return{consumed:32,value:checksumAddress$1(slice(ss,-20))}}function decodeArray(ss,{param:as,length:us,position:cs}){if(!us){const tu=hexToNumber$1(slice(ss,cs,cs+32,{strict:!0})),iu=hexToNumber$1(slice(ss,tu,tu+32,{strict:!0}));let su=0;const au=[];for(let ou=0;ou<iu;++ou){const fu=decodeParam({data:slice(ss,tu+32),param:as,position:su});su+=fu.consumed,au.push(fu.value)}return{value:au,consumed:32}}if(hasDynamicChild(as)){const tu=getArrayComponents(as.type),iu=!(tu!=null&&tu[0]);let su=0;const au=[];for(let ou=0;ou<us;++ou){const fu=hexToNumber$1(slice(ss,cs,cs+32,{strict:!0})),pu=decodeParam({data:slice(ss,fu),param:as,position:iu?su:ou*32});su+=pu.consumed,au.push(pu.value)}return{value:au,consumed:32}}let $a=0;const na=[];for(let tu=0;tu<us;++tu){const iu=decodeParam({data:ss,param:as,position:cs+$a});$a+=iu.consumed,na.push(iu.value)}return{value:na,consumed:$a}}function decodeBool(ss){return{consumed:32,value:hexToBool(ss)}}function decodeBytes(ss,{param:as,position:us}){const[cs,$a]=as.type.split("bytes");if(!$a){const tu=hexToNumber$1(slice(ss,us,us+32,{strict:!0})),iu=hexToNumber$1(slice(ss,tu,tu+32,{strict:!0}));return iu===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(ss,tu+32,tu+32+iu,{strict:!0})}}return{consumed:32,value:slice(ss,us,us+parseInt($a),{strict:!0})}}function decodeNumber(ss,{param:as}){const us=as.type.startsWith("int");return{consumed:32,value:parseInt(as.type.split("int")[1]||"256")>48?hexToBigInt$1(ss,{signed:us}):hexToNumber$1(ss,{signed:us})}}function decodeString(ss,{position:as}){const us=hexToNumber$1(slice(ss,as,as+32,{strict:!0})),cs=hexToNumber$1(slice(ss,us,us+32,{strict:!0}));return cs===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(ss,us+32,us+32+cs,{strict:!0})))}}function decodeTuple(ss,{param:as,position:us}){const cs=as.components.length===0||as.components.some(({name:tu})=>!tu),$a=cs?[]:{};let na=0;if(hasDynamicChild(as)){const tu=hexToNumber$1(slice(ss,us,us+32,{strict:!0}));for(let iu=0;iu<as.components.length;++iu){const su=as.components[iu],au=decodeParam({data:slice(ss,tu),param:su,position:na});na+=au.consumed,$a[cs?iu:su==null?void 0:su.name]=au.value}return{consumed:32,value:$a}}for(let tu=0;tu<as.components.length;++tu){const iu=as.components[tu],su=decodeParam({data:ss,param:iu,position:us+na});na+=su.consumed,$a[cs?tu:iu==null?void 0:iu.name]=su.value}return{consumed:na,value:$a}}function hasDynamicChild(ss){var cs;const{type:as}=ss;if(as==="string"||as==="bytes"||as.endsWith("[]"))return!0;if(as==="tuple")return(cs=ss.components)==null?void 0:cs.some(hasDynamicChild);const us=getArrayComponents(ss.type);return!!(us&&hasDynamicChild({...ss,type:us[1]}))}function decodeErrorResult({abi:ss,data:as}){const us=slice(as,0,4);if(us==="0x")throw new AbiDecodingZeroDataError;const $a=[...ss||[],solidityError,solidityPanic].find(na=>na.type==="error"&&us===getFunctionSelector(formatAbiItem(na)));if(!$a)throw new AbiErrorSignatureNotFoundError(us,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:$a,args:"inputs"in $a&&$a.inputs&&$a.inputs.length>0?decodeAbiParameters($a.inputs,slice(as,4)):void 0,errorName:$a.name}}const stringify$1=(ss,as,us)=>JSON.stringify(ss,(cs,$a)=>{const na=typeof $a=="bigint"?$a.toString():$a;return typeof as=="function"?as(cs,na):na},us);function formatAbiItemWithArgs({abiItem:ss,args:as,includeFunctionName:us=!0,includeName:cs=!1}){if("name"in ss&&"inputs"in ss&&ss.inputs)return`${us?ss.name:""}(${ss.inputs.map(($a,na)=>`${cs&&$a.name?`${$a.name}: `:""}${typeof as[na]=="object"?stringify$1(as[na]):as[na]}`).join(", ")})`}function formatEther(ss,as="wei"){return formatUnits(ss,etherUnits[as])}function prettyPrint(ss){const as=Object.entries(ss).map(([cs,$a])=>$a===void 0||$a===!1?null:[cs,$a]).filter(Boolean),us=as.reduce((cs,[$a])=>Math.max(cs,$a.length),0);return as.map(([cs,$a])=>`  ${`${cs}:`.padEnd(us+1)}  ${$a}`).join(`
`)}class FeeConflictError extends BaseError$1{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class InvalidSerializableTransactionError extends BaseError$1{constructor({transaction:as}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(as),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class TransactionExecutionError extends BaseError$1{constructor(as,{account:us,docsPath:cs,chain:$a,data:na,gas:tu,gasPrice:iu,maxFeePerGas:su,maxPriorityFeePerGas:au,nonce:ou,to:fu,value:pu}){var gu;const vu=prettyPrint({chain:$a&&`${$a==null?void 0:$a.name} (id: ${$a==null?void 0:$a.id})`,from:us==null?void 0:us.address,to:fu,value:typeof pu<"u"&&`${formatEther(pu)} ${((gu=$a==null?void 0:$a.nativeCurrency)==null?void 0:gu.symbol)||"ETH"}`,data:na,gas:tu,gasPrice:typeof iu<"u"&&`${formatGwei(iu)} gwei`,maxFeePerGas:typeof su<"u"&&`${formatGwei(su)} gwei`,maxPriorityFeePerGas:typeof au<"u"&&`${formatGwei(au)} gwei`,nonce:ou});super(as.shortMessage,{cause:as,docsPath:cs,metaMessages:[...as.metaMessages?[...as.metaMessages," "]:[],"Request Arguments:",vu].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=as}}class TransactionNotFoundError extends BaseError$1{constructor({blockHash:as,blockNumber:us,blockTag:cs,hash:$a,index:na}){let tu="Transaction";cs&&na!==void 0&&(tu=`Transaction at block time "${cs}" at index "${na}"`),as&&na!==void 0&&(tu=`Transaction at block hash "${as}" at index "${na}"`),us&&na!==void 0&&(tu=`Transaction at block number "${us}" at index "${na}"`),$a&&(tu=`Transaction with hash "${$a}"`),super(`${tu} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError$1{constructor({hash:as}){super(`Transaction receipt with hash "${as}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError$1{constructor({hash:as}){super(`Timed out while waiting for transaction with hash "${as}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError$1{constructor(as,{account:us,docsPath:cs,chain:$a,data:na,gas:tu,gasPrice:iu,maxFeePerGas:su,maxPriorityFeePerGas:au,nonce:ou,to:fu,value:pu}){var bu;const vu=us?parseAccount(us):void 0,gu=prettyPrint({from:vu==null?void 0:vu.address,to:fu,value:typeof pu<"u"&&`${formatEther(pu)} ${((bu=$a==null?void 0:$a.nativeCurrency)==null?void 0:bu.symbol)||"ETH"}`,data:na,gas:tu,gasPrice:typeof iu<"u"&&`${formatGwei(iu)} gwei`,maxFeePerGas:typeof su<"u"&&`${formatGwei(su)} gwei`,maxPriorityFeePerGas:typeof au<"u"&&`${formatGwei(au)} gwei`,nonce:ou});super(as.shortMessage,{cause:as,docsPath:cs,metaMessages:[...as.metaMessages?[...as.metaMessages," "]:[],"Raw Call Arguments:",gu].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=as}}class ContractFunctionExecutionError extends BaseError$1{constructor(as,{abi:us,args:cs,contractAddress:$a,docsPath:na,functionName:tu,sender:iu}){const su=getAbiItem({abi:us,args:cs,name:tu}),au=su?formatAbiItemWithArgs({abiItem:su,args:cs,includeFunctionName:!1,includeName:!1}):void 0,ou=su?formatAbiItem(su,{includeName:!0}):void 0,fu=prettyPrint({address:$a&&getContractAddress($a),function:ou,args:au&&au!=="()"&&`${[...Array((tu==null?void 0:tu.length)??0).keys()].map(()=>" ").join("")}${au}`,sender:iu});super(as.shortMessage||`An unknown error occurred while executing the contract function "${tu}".`,{cause:as,docsPath:na,metaMessages:[...as.metaMessages?[...as.metaMessages," "]:[],"Contract Call:",fu].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=us,this.args=cs,this.cause=as,this.contractAddress=$a,this.functionName=tu,this.sender=iu}}class ContractFunctionRevertedError extends BaseError$1{constructor({abi:as,data:us,functionName:cs,message:$a}){let na,tu,iu,su;if(us&&us!=="0x")try{tu=decodeErrorResult({abi:as,data:us});const{abiItem:ou,errorName:fu,args:pu}=tu;if(fu==="Error")su=pu[0];else if(fu==="Panic"){const[vu]=pu;su=panicReasons[vu]}else{const vu=ou?formatAbiItem(ou,{includeName:!0}):void 0,gu=ou&&pu?formatAbiItemWithArgs({abiItem:ou,args:pu,includeFunctionName:!1,includeName:!1}):void 0;iu=[vu?`Error: ${vu}`:"",gu&&gu!=="()"?`       ${[...Array((fu==null?void 0:fu.length)??0).keys()].map(()=>" ").join("")}${gu}`:""]}}catch(ou){na=ou}else $a&&(su=$a);let au;na instanceof AbiErrorSignatureNotFoundError&&(au=na.signature,iu=[`Unable to decode signature "${au}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${au}.`]),super(su&&su!=="execution reverted"||au?[`The contract function "${cs}" reverted with the following ${au?"signature":"reason"}:`,su||au].join(`
`):`The contract function "${cs}" reverted.`,{cause:na,metaMessages:iu}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=tu,this.reason=su,this.signature=au}}class ContractFunctionZeroDataError extends BaseError$1{constructor({functionName:as}){super(`The contract function "${as}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${as}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError$1{constructor({data:as,message:us}){super(us||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=as}}class HttpRequestError extends BaseError$1{constructor({body:as,details:us,headers:cs,status:$a,url:na}){super("HTTP request failed.",{details:us,metaMessages:[$a&&`Status: ${$a}`,`URL: ${getUrl(na)}`,as&&`Request body: ${stringify$1(as)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=as,this.headers=cs,this.status=$a,this.url=na}}class WebSocketRequestError extends BaseError$1{constructor({body:as,details:us,url:cs}){super("WebSocket request failed.",{details:us,metaMessages:[`URL: ${getUrl(cs)}`,`Request body: ${stringify$1(as)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError$1{constructor({body:as,error:us,url:cs}){super("RPC Request failed.",{cause:us,details:us.message,metaMessages:[`URL: ${getUrl(cs)}`,`Request body: ${stringify$1(as)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=us.code}}class TimeoutError extends BaseError$1{constructor({body:as,url:us}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl(us)}`,`Request body: ${stringify$1(as)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError$1{constructor(as,{code:us,docsPath:cs,metaMessages:$a,shortMessage:na}){super(na,{cause:as,docsPath:cs,metaMessages:$a||(as==null?void 0:as.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=as.name,this.code=as instanceof RpcRequestError?as.code:us??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(as,us){super(as,us),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=us.data}}class ParseRpcError extends RpcError{constructor(as){super(as,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(as){super(as,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(as){super(as,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(as){super(as,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(as){super(as,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(as){super(as,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(as){super(as,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(as){super(as,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(as){super(as,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(as){super(as,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(as){super(as,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(as){super(as,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(as){super(as,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(as){super(as,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(as){super(as,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(as){super(as,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(as){super(as,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(as){super(as,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(as){super(as,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(ss,{abi:as,address:us,args:cs,docsPath:$a,functionName:na,sender:tu}){const{code:iu,data:su,message:au,shortMessage:ou}=ss instanceof RawContractError?ss:ss instanceof BaseError$1?ss.walk(pu=>"data"in pu)||ss.walk():{},fu=ss instanceof AbiDecodingZeroDataError?new ContractFunctionZeroDataError({functionName:na}):[EXECUTION_REVERTED_ERROR_CODE,InternalRpcError.code].includes(iu)&&(su||au||ou)?new ContractFunctionRevertedError({abi:as,data:typeof su=="object"?su.data:su,functionName:na,message:ou??au}):ss;return new ContractFunctionExecutionError(fu,{abi:as,args:cs,contractAddress:us,docsPath:$a,functionName:na,sender:tu})}class AccountNotFoundError extends BaseError$1{constructor({docsPath:as}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:as,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError$1{constructor(as,{account:us,docsPath:cs,chain:$a,data:na,gas:tu,gasPrice:iu,maxFeePerGas:su,maxPriorityFeePerGas:au,nonce:ou,to:fu,value:pu}){var gu;const vu=prettyPrint({from:us==null?void 0:us.address,to:fu,value:typeof pu<"u"&&`${formatEther(pu)} ${((gu=$a==null?void 0:$a.nativeCurrency)==null?void 0:gu.symbol)||"ETH"}`,data:na,gas:tu,gasPrice:typeof iu<"u"&&`${formatGwei(iu)} gwei`,maxFeePerGas:typeof su<"u"&&`${formatGwei(su)} gwei`,maxPriorityFeePerGas:typeof au<"u"&&`${formatGwei(au)} gwei`,nonce:ou});super(as.shortMessage,{cause:as,docsPath:cs,metaMessages:[...as.metaMessages?[...as.metaMessages," "]:[],"Estimate Gas Arguments:",vu].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=as}}function getNodeError(ss,as){const us=(ss.details||"").toLowerCase(),cs=ss.walk($a=>$a.code===ExecutionRevertedError.code);return cs instanceof BaseError$1?new ExecutionRevertedError({cause:ss,message:cs.details}):ExecutionRevertedError.nodeMessage.test(us)?new ExecutionRevertedError({cause:ss,message:ss.details}):FeeCapTooHighError.nodeMessage.test(us)?new FeeCapTooHighError({cause:ss,maxFeePerGas:as==null?void 0:as.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(us)?new FeeCapTooLowError({cause:ss,maxFeePerGas:as==null?void 0:as.maxFeePerGas}):NonceTooHighError.nodeMessage.test(us)?new NonceTooHighError({cause:ss,nonce:as==null?void 0:as.nonce}):NonceTooLowError.nodeMessage.test(us)?new NonceTooLowError({cause:ss,nonce:as==null?void 0:as.nonce}):NonceMaxValueError.nodeMessage.test(us)?new NonceMaxValueError({cause:ss,nonce:as==null?void 0:as.nonce}):InsufficientFundsError.nodeMessage.test(us)?new InsufficientFundsError({cause:ss}):IntrinsicGasTooHighError.nodeMessage.test(us)?new IntrinsicGasTooHighError({cause:ss,gas:as==null?void 0:as.gas}):IntrinsicGasTooLowError.nodeMessage.test(us)?new IntrinsicGasTooLowError({cause:ss,gas:as==null?void 0:as.gas}):TransactionTypeNotSupportedError.nodeMessage.test(us)?new TransactionTypeNotSupportedError({cause:ss}):TipAboveFeeCapError.nodeMessage.test(us)?new TipAboveFeeCapError({cause:ss,maxFeePerGas:as==null?void 0:as.maxFeePerGas,maxPriorityFeePerGas:as==null?void 0:as.maxPriorityFeePerGas}):new UnknownNodeError({cause:ss})}function getEstimateGasError(ss,{docsPath:as,...us}){const cs=(()=>{const $a=getNodeError(ss,us);return $a instanceof UnknownNodeError?ss:$a})();return new EstimateGasExecutionError(cs,{docsPath:as,...us})}function extract(ss,{format:as}){if(!as)return{};const us={};function cs(na){const tu=Object.keys(na);for(const iu of tu)iu in ss&&(us[iu]=ss[iu]),na[iu]&&typeof na[iu]=="object"&&!Array.isArray(na[iu])&&cs(na[iu])}const $a=as(ss||{});return cs($a),us}function assertRequest(ss){const{account:as,gasPrice:us,maxFeePerGas:cs,maxPriorityFeePerGas:$a,to:na}=ss,tu=as?parseAccount(as):void 0;if(tu&&!isAddress(tu.address))throw new InvalidAddressError({address:tu.address});if(na&&!isAddress(na))throw new InvalidAddressError({address:na});if(typeof us<"u"&&(typeof cs<"u"||typeof $a<"u"))throw new FeeConflictError;if(cs&&cs>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:cs});if($a&&cs&&$a>cs)throw new TipAboveFeeCapError({maxFeePerGas:cs,maxPriorityFeePerGas:$a})}class BaseFeeScalarError extends BaseError$1{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Eip1559FeesNotSupportedError extends BaseError$1{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class MaxFeePerGasTooLowError extends BaseError$1{constructor({maxPriorityFeePerGas:as}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${formatGwei(as)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class BlockNotFoundError extends BaseError$1{constructor({blockHash:as,blockNumber:us}){let cs="Block";as&&(cs=`Block at hash "${as}"`),us&&(cs=`Block at number "${us}"`),super(`${cs} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function getBlock(ss,{blockHash:as,blockNumber:us,blockTag:cs,includeTransactions:$a}={}){var ou,fu,pu;const na=cs??"latest",tu=$a??!1,iu=us!==void 0?numberToHex$1(us):void 0;let su=null;if(as?su=await ss.request({method:"eth_getBlockByHash",params:[as,tu]}):su=await ss.request({method:"eth_getBlockByNumber",params:[iu||na,tu]}),!su)throw new BlockNotFoundError({blockHash:as,blockNumber:us});return(((pu=(fu=(ou=ss.chain)==null?void 0:ou.formatters)==null?void 0:fu.block)==null?void 0:pu.format)||formatBlock)(su)}async function getGasPrice(ss){const as=await ss.request({method:"eth_gasPrice"});return BigInt(as)}async function estimateMaxPriorityFeePerGas(ss,as){return internal_estimateMaxPriorityFeePerGas(ss,as)}async function internal_estimateMaxPriorityFeePerGas(ss,as){var na,tu,iu;const{block:us,chain:cs=ss.chain,request:$a}=as||{};if(typeof((na=cs==null?void 0:cs.fees)==null?void 0:na.defaultPriorityFee)=="function"){const su=us||await getAction(ss,getBlock,"getBlock")({});return cs.fees.defaultPriorityFee({block:su,client:ss,request:$a})}if(typeof((tu=cs==null?void 0:cs.fees)==null?void 0:tu.defaultPriorityFee)<"u")return(iu=cs==null?void 0:cs.fees)==null?void 0:iu.defaultPriorityFee;try{const su=await ss.request({method:"eth_maxPriorityFeePerGas"});return hexToBigInt$1(su)}catch{const[su,au]=await Promise.all([us?Promise.resolve(us):getAction(ss,getBlock,"getBlock")({}),getAction(ss,getGasPrice,"getGasPrice")({})]);if(typeof su.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const ou=au-su.baseFeePerGas;return ou<0n?0n:ou}}async function estimateFeesPerGas(ss,as){return internal_estimateFeesPerGas(ss,as)}async function internal_estimateFeesPerGas(ss,as){var pu,vu;const{block:us,chain:cs=ss.chain,request:$a,type:na="eip1559"}=as||{},tu=await(async()=>{var gu,bu;return typeof((gu=cs==null?void 0:cs.fees)==null?void 0:gu.baseFeeMultiplier)=="function"?cs.fees.baseFeeMultiplier({block:us,client:ss,request:$a}):((bu=cs==null?void 0:cs.fees)==null?void 0:bu.baseFeeMultiplier)??1.2})();if(tu<1)throw new BaseFeeScalarError;const su=10**(((pu=tu.toString().split(".")[1])==null?void 0:pu.length)??0),au=gu=>gu*BigInt(Math.ceil(tu*su))/BigInt(su),ou=us||await getAction(ss,getBlock,"getBlock")({});if(typeof((vu=cs==null?void 0:cs.fees)==null?void 0:vu.estimateFeesPerGas)=="function")return cs.fees.estimateFeesPerGas({block:us,client:ss,multiply:au,request:$a,type:na});if(na==="eip1559"){if(typeof ou.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const gu=$a!=null&&$a.maxPriorityFeePerGas?$a.maxPriorityFeePerGas:await internal_estimateMaxPriorityFeePerGas(ss,{block:ou,chain:cs,request:$a}),bu=au(ou.baseFeePerGas);return{maxFeePerGas:($a==null?void 0:$a.maxFeePerGas)??bu+gu,maxPriorityFeePerGas:gu}}return{gasPrice:($a==null?void 0:$a.gasPrice)??au(await getAction(ss,getGasPrice,"getGasPrice")({}))}}async function getTransactionCount(ss,{address:as,blockTag:us="latest",blockNumber:cs}){const $a=await ss.request({method:"eth_getTransactionCount",params:[as,cs?numberToHex$1(cs):us]});return hexToNumber$1($a)}function getTransactionType(ss){if(ss.type)return ss.type;if(typeof ss.maxFeePerGas<"u"||typeof ss.maxPriorityFeePerGas<"u")return"eip1559";if(typeof ss.gasPrice<"u")return typeof ss.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:ss})}async function prepareTransactionRequest(ss,as){const{account:us=ss.account,chain:cs,gas:$a,nonce:na,type:tu}=as;if(!us)throw new AccountNotFoundError;const iu=parseAccount(us),su=await getAction(ss,getBlock,"getBlock")({blockTag:"latest"}),au={...as,from:iu.address};if(typeof na>"u"&&(au.nonce=await getAction(ss,getTransactionCount,"getTransactionCount")({address:iu.address,blockTag:"pending"})),typeof tu>"u")try{au.type=getTransactionType(au)}catch{au.type=typeof su.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(au.type==="eip1559"){const{maxFeePerGas:ou,maxPriorityFeePerGas:fu}=await internal_estimateFeesPerGas(ss,{block:su,chain:cs,request:au});if(typeof as.maxPriorityFeePerGas>"u"&&as.maxFeePerGas&&as.maxFeePerGas<fu)throw new MaxFeePerGasTooLowError({maxPriorityFeePerGas:fu});au.maxPriorityFeePerGas=fu,au.maxFeePerGas=ou}else{if(typeof as.maxFeePerGas<"u"||typeof as.maxPriorityFeePerGas<"u")throw new Eip1559FeesNotSupportedError;const{gasPrice:ou}=await internal_estimateFeesPerGas(ss,{block:su,chain:cs,request:au,type:"legacy"});au.gasPrice=ou}return typeof $a>"u"&&(au.gas=await getAction(ss,estimateGas,"estimateGas")({...au,account:{address:iu.address,type:"json-rpc"}})),assertRequest(au),au}async function estimateGas(ss,as){var $a,na,tu;const us=as.account??ss.account;if(!us)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const cs=parseAccount(us);try{const{accessList:iu,blockNumber:su,blockTag:au,data:ou,gas:fu,gasPrice:pu,maxFeePerGas:vu,maxPriorityFeePerGas:gu,nonce:bu,to:xu,value:$u,...wu}=cs.type==="local"?await prepareTransactionRequest(ss,as):as,Mu=(su?numberToHex$1(su):void 0)||au;assertRequest(as);const Au=(tu=(na=($a=ss.chain)==null?void 0:$a.formatters)==null?void 0:na.transactionRequest)==null?void 0:tu.format,Su=(Au||formatTransactionRequest)({...extract(wu,{format:Au}),from:cs.address,accessList:iu,data:ou,gas:fu,gasPrice:pu,maxFeePerGas:vu,maxPriorityFeePerGas:gu,nonce:bu,to:xu,value:$u}),Bu=await ss.request({method:"eth_estimateGas",params:Mu?[Su,Mu]:[Su]});return BigInt(Bu)}catch(iu){throw getEstimateGasError(iu,{...as,account:cs,chain:ss.chain})}}async function estimateContractGas(ss,{abi:as,address:us,args:cs,functionName:$a,...na}){const tu=encodeFunctionData({abi:as,args:cs,functionName:$a});try{return await getAction(ss,estimateGas,"estimateGas")({data:tu,to:us,...na})}catch(iu){const su=na.account?parseAccount(na.account):void 0;throw getContractError(iu,{abi:as,address:us,args:cs,docsPath:"/docs/contract/estimateContractGas",functionName:$a,sender:su==null?void 0:su.address})}}const docsPath$2="/docs/contract/decodeEventLog";function decodeEventLog({abi:ss,data:as,strict:us,topics:cs}){const $a=us??!0,[na,...tu]=cs;if(!na)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$2});const iu=ss.find(gu=>gu.type==="event"&&na===getEventSelector(formatAbiItem(gu)));if(!(iu&&"name"in iu)||iu.type!=="event")throw new AbiEventSignatureNotFoundError(na,{docsPath:docsPath$2});const{name:su,inputs:au}=iu,ou=au==null?void 0:au.some(gu=>!("name"in gu&&gu.name));let fu=ou?[]:{};const pu=au.filter(gu=>"indexed"in gu&&gu.indexed);for(let gu=0;gu<pu.length;gu++){const bu=pu[gu],xu=tu[gu];if(!xu)throw new DecodeLogTopicsMismatch({abiItem:iu,param:bu});fu[bu.name||gu]=decodeTopic({param:bu,value:xu})}const vu=au.filter(gu=>!("indexed"in gu&&gu.indexed));if(vu.length>0){if(as&&as!=="0x")try{const gu=decodeAbiParameters(vu,as);if(gu)if(ou)fu=[...fu,...gu];else for(let bu=0;bu<vu.length;bu++)fu[vu[bu].name]=gu[bu]}catch(gu){if($a)throw gu instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({abiItem:iu,data:gu.data,params:gu.params,size:gu.size}):gu}else if($a)throw new DecodeLogDataMismatch({abiItem:iu,data:"0x",params:vu,size:0})}return{eventName:su,args:Object.values(fu).length>0?fu:void 0}}function decodeTopic({param:ss,value:as}){return ss.type==="string"||ss.type==="bytes"||ss.type==="tuple"||ss.type.match(/^(.*)\[(\d+)?\]$/)?as:(decodeAbiParameters([ss],as)||[])[0]}async function getLogs(ss,{address:as,blockHash:us,fromBlock:cs,toBlock:$a,event:na,events:tu,args:iu,strict:su}={}){const au=su??!1,ou=tu??(na?[na]:void 0);let fu=[];ou&&(fu=[ou.flatMap(vu=>encodeEventTopics({abi:[vu],eventName:vu.name,args:iu}))],na&&(fu=fu[0]));let pu;return us?pu=await ss.request({method:"eth_getLogs",params:[{address:as,topics:fu,blockHash:us}]}):pu=await ss.request({method:"eth_getLogs",params:[{address:as,topics:fu,fromBlock:typeof cs=="bigint"?numberToHex$1(cs):cs,toBlock:typeof $a=="bigint"?numberToHex$1($a):$a}]}),pu.map(vu=>{var gu;try{const{eventName:bu,args:xu}=ou?decodeEventLog({abi:ou,data:vu.data,topics:vu.topics,strict:au}):{eventName:void 0,args:void 0};return formatLog(vu,{args:xu,eventName:bu})}catch(bu){let xu,$u;if(bu instanceof DecodeLogDataMismatch||bu instanceof DecodeLogTopicsMismatch){if(au)return;xu=bu.abiItem.name,$u=(gu=bu.abiItem.inputs)==null?void 0:gu.some(wu=>!("name"in wu&&wu.name))}return formatLog(vu,{args:$u?[]:{},eventName:xu})}}).filter(Boolean)}async function getContractEvents(ss,{abi:as,address:us,args:cs,blockHash:$a,eventName:na,fromBlock:tu,toBlock:iu,strict:su}){const au=na?getAbiItem({abi:as,name:na}):void 0,ou=au?void 0:as.filter(fu=>fu.type==="event");return getAction(ss,getLogs,"getLogs")({address:us,args:cs,blockHash:$a,event:au,events:ou,fromBlock:tu,toBlock:iu,strict:su})}const docsPath$1="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:ss,args:as,functionName:us,data:cs}){let $a=ss[0];if(us&&($a=getAbiItem({abi:ss,args:as,name:us}),!$a))throw new AbiFunctionNotFoundError(us,{docsPath:docsPath$1});if($a.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$1});if(!$a.outputs)throw new AbiFunctionOutputsNotFoundError($a.name,{docsPath:docsPath$1});const na=decodeAbiParameters($a.outputs,cs);if(na&&na.length>1)return na;if(na&&na.length===1)return na[0]}const scriptRel="modulepreload",assetsURL=function(ss){return"/"+ss},seen={},__vitePreload=function(as,us,cs){let $a=Promise.resolve();if(us&&us.length>0){document.getElementsByTagName("link");const tu=document.querySelector("meta[property=csp-nonce]"),iu=(tu==null?void 0:tu.nonce)||(tu==null?void 0:tu.getAttribute("nonce"));$a=Promise.allSettled(us.map(su=>{if(su=assetsURL(su),su in seen)return;seen[su]=!0;const au=su.endsWith(".css"),ou=au?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${su}"]${ou}`))return;const fu=document.createElement("link");if(fu.rel=au?"stylesheet":scriptRel,au||(fu.as="script"),fu.crossOrigin="",fu.href=su,iu&&fu.setAttribute("nonce",iu),document.head.appendChild(fu),au)return new Promise((pu,vu)=>{fu.addEventListener("load",pu),fu.addEventListener("error",()=>vu(new Error(`Unable to preload CSS for ${su}`)))})}))}function na(tu){const iu=new Event("vite:preloadError",{cancelable:!0});if(iu.payload=tu,window.dispatchEvent(iu),!iu.defaultPrevented)throw tu}return $a.then(tu=>{for(const iu of tu||[])iu.status==="rejected"&&na(iu.reason);return as().catch(na)})},multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";function getChainContractAddress({blockNumber:ss,chain:as,contract:us}){var $a;const cs=($a=as==null?void 0:as.contracts)==null?void 0:$a[us];if(!cs)throw new ChainDoesNotSupportContract({chain:as,contract:{name:us}});if(ss&&cs.blockCreated&&cs.blockCreated>ss)throw new ChainDoesNotSupportContract({blockNumber:ss,chain:as,contract:{name:us,blockCreated:cs.blockCreated}});return cs.address}function getCallError(ss,{docsPath:as,...us}){const cs=(()=>{const $a=getNodeError(ss,us);return $a instanceof UnknownNodeError?ss:$a})();return new CallExecutionError(cs,{docsPath:as,...us})}const schedulerCache=new Map;function createBatchScheduler({fn:ss,id:as,shouldSplitBatch:us,wait:cs=0,sort:$a}){const na=async()=>{const ou=su();tu();const fu=ou.map(({args:pu})=>pu);fu.length!==0&&ss(fu).then(pu=>{var vu;$a&&Array.isArray(pu)&&pu.sort($a);for(let gu=0;gu<ou.length;gu++){const{pendingPromise:bu}=ou[gu];(vu=bu.resolve)==null||vu.call(bu,[pu[gu],pu])}}).catch(pu=>{var vu;for(let gu=0;gu<ou.length;gu++){const{pendingPromise:bu}=ou[gu];(vu=bu.reject)==null||vu.call(bu,pu)}})},tu=()=>schedulerCache.delete(as),iu=()=>su().map(({args:ou})=>ou),su=()=>schedulerCache.get(as)||[],au=ou=>schedulerCache.set(as,[...su(),ou]);return{flush:tu,async schedule(ou){const fu={},pu=new Promise((bu,xu)=>{fu.resolve=bu,fu.reject=xu});return(us==null?void 0:us([...iu(),ou]))&&na(),su().length>0?(au({args:ou,pendingPromise:fu}),pu):(au({args:ou,pendingPromise:fu}),setTimeout(na,cs),pu)}}}async function call$2(ss,as){var $u,wu,_u,Mu;const{account:us=ss.account,batch:cs=!!(($u=ss.batch)!=null&&$u.multicall),blockNumber:$a,blockTag:na="latest",accessList:tu,data:iu,gas:su,gasPrice:au,maxFeePerGas:ou,maxPriorityFeePerGas:fu,nonce:pu,to:vu,value:gu,...bu}=as,xu=us?parseAccount(us):void 0;try{assertRequest(as);const Pu=($a?numberToHex$1($a):void 0)||na,Su=(Mu=(_u=(wu=ss.chain)==null?void 0:wu.formatters)==null?void 0:_u.transactionRequest)==null?void 0:Mu.format,Ou=(Su||formatTransactionRequest)({...extract(bu,{format:Su}),from:xu==null?void 0:xu.address,accessList:tu,data:iu,gas:su,gasPrice:au,maxFeePerGas:ou,maxPriorityFeePerGas:fu,nonce:pu,to:vu,value:gu});if(cs&&shouldPerformMulticall({request:Ou}))try{return await scheduleMulticall(ss,{...Ou,blockNumber:$a,blockTag:na})}catch(yu){if(!(yu instanceof ClientChainNotConfiguredError)&&!(yu instanceof ChainDoesNotSupportContract))throw yu}const Vu=await ss.request({method:"eth_call",params:Pu?[Ou,Pu]:[Ou]});return Vu==="0x"?{data:void 0}:{data:Vu}}catch(Au){const Pu=getRevertErrorData(Au),{offchainLookup:Su,offchainLookupSignature:Bu}=await __vitePreload(async()=>{const{offchainLookup:Ou,offchainLookupSignature:Vu}=await import("./ccip-DEKCluO7.js");return{offchainLookup:Ou,offchainLookupSignature:Vu}},[]);if((Pu==null?void 0:Pu.slice(0,10))===Bu&&vu)return{data:await Su(ss,{data:Pu,to:vu})};throw getCallError(Au,{...as,account:xu,chain:ss.chain})}}function shouldPerformMulticall({request:ss}){const{data:as,to:us,...cs}=ss;return!(!as||as.startsWith(aggregate3Signature)||!us||Object.values(cs).filter($a=>typeof $a<"u").length>0)}async function scheduleMulticall(ss,as){var bu;const{batchSize:us=1024,wait:cs=0}=typeof((bu=ss.batch)==null?void 0:bu.multicall)=="object"?ss.batch.multicall:{},{blockNumber:$a,blockTag:na="latest",data:tu,multicallAddress:iu,to:su}=as;let au=iu;if(!au){if(!ss.chain)throw new ClientChainNotConfiguredError;au=getChainContractAddress({blockNumber:$a,chain:ss.chain,contract:"multicall3"})}const fu=($a?numberToHex$1($a):void 0)||na,{schedule:pu}=createBatchScheduler({id:`${ss.uid}.${fu}`,wait:cs,shouldSplitBatch(xu){return xu.reduce((wu,{data:_u})=>wu+(_u.length-2),0)>us*2},fn:async xu=>{const $u=xu.map(Mu=>({allowFailure:!0,callData:Mu.data,target:Mu.to})),wu=encodeFunctionData({abi:multicall3Abi,args:[$u],functionName:"aggregate3"}),_u=await ss.request({method:"eth_call",params:[{data:wu,to:au},fu]});return decodeFunctionResult({abi:multicall3Abi,args:[$u],functionName:"aggregate3",data:_u||"0x"})}}),[{returnData:vu,success:gu}]=await pu({data:tu,to:su});if(!gu)throw new RawContractError({data:vu});return vu==="0x"?{data:void 0}:{data:vu}}function getRevertErrorData(ss){if(!(ss instanceof BaseError$1))return;const as=ss.walk();return typeof as.data=="object"?as.data.data:as.data}async function readContract$1(ss,{abi:as,address:us,args:cs,functionName:$a,...na}){const tu=encodeFunctionData({abi:as,args:cs,functionName:$a});try{const{data:iu}=await getAction(ss,call$2,"call")({data:tu,to:us,...na});return decodeFunctionResult({abi:as,args:cs,functionName:$a,data:iu||"0x"})}catch(iu){throw getContractError(iu,{abi:as,address:us,args:cs,docsPath:"/docs/contract/readContract",functionName:$a})}}async function simulateContract(ss,{abi:as,address:us,args:cs,dataSuffix:$a,functionName:na,...tu}){const iu=tu.account?parseAccount(tu.account):void 0,su=encodeFunctionData({abi:as,args:cs,functionName:na});try{const{data:au}=await getAction(ss,call$2,"call")({batch:!1,data:`${su}${$a?$a.replace("0x",""):""}`,to:us,...tu});return{result:decodeFunctionResult({abi:as,args:cs,functionName:na,data:au||"0x"}),request:{abi:as,address:us,args:cs,dataSuffix:$a,functionName:na,...tu}}}catch(au){throw getContractError(au,{abi:as,address:us,args:cs,docsPath:"/docs/contract/simulateContract",functionName:na,sender:iu==null?void 0:iu.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(ss,as,us){const cs=++callbackCount,$a=()=>listenersCache.get(ss)||[],na=()=>{const ou=$a();listenersCache.set(ss,ou.filter(fu=>fu.id!==cs))},tu=()=>{const ou=cleanupCache.get(ss);$a().length===1&&ou&&ou(),na()},iu=$a();if(listenersCache.set(ss,[...iu,{id:cs,fns:as}]),iu&&iu.length>0)return tu;const su={};for(const ou in as)su[ou]=(...fu)=>{var vu,gu;const pu=$a();if(pu.length!==0)for(const bu of pu)(gu=(vu=bu.fns)[ou])==null||gu.call(vu,...fu)};const au=us(su);return typeof au=="function"&&cleanupCache.set(ss,au),tu}async function wait(ss){return new Promise(as=>setTimeout(as,ss))}function poll(ss,{emitOnBegin:as,initialWaitTime:us,interval:cs}){let $a=!0;const na=()=>$a=!1;return(async()=>{let iu;as&&(iu=await ss({unpoll:na}));const su=await(us==null?void 0:us(iu))??cs;await wait(su);const au=async()=>{$a&&(await ss({unpoll:na}),await wait(cs),au())};au()})(),na}const promiseCache=new Map,responseCache=new Map;function getCache(ss){const as=($a,na)=>({clear:()=>na.delete($a),get:()=>na.get($a),set:tu=>na.set($a,tu)}),us=as(ss,promiseCache),cs=as(ss,responseCache);return{clear:()=>{us.clear(),cs.clear()},promise:us,response:cs}}async function withCache(ss,{cacheKey:as,cacheTime:us=1/0}){const cs=getCache(as),$a=cs.response.get();if($a&&us>0&&new Date().getTime()-$a.created.getTime()<us)return $a.data;let na=cs.promise.get();na||(na=ss(),cs.promise.set(na));try{const tu=await na;return cs.response.set({created:new Date,data:tu}),tu}finally{cs.promise.clear()}}const cacheKey=ss=>`blockNumber.${ss}`;async function getBlockNumber(ss,{cacheTime:as=ss.cacheTime,maxAge:us}={}){const cs=await withCache(()=>ss.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(ss.uid),cacheTime:us??as});return BigInt(cs)}async function getFilterChanges(ss,{filter:as}){const us="strict"in as&&as.strict;return(await as.request({method:"eth_getFilterChanges",params:[as.id]})).map($a=>{var na;if(typeof $a=="string")return $a;try{const{eventName:tu,args:iu}="abi"in as&&as.abi?decodeEventLog({abi:as.abi,data:$a.data,topics:$a.topics,strict:us}):{eventName:void 0,args:void 0};return formatLog($a,{args:iu,eventName:tu})}catch(tu){let iu,su;if(tu instanceof DecodeLogDataMismatch||tu instanceof DecodeLogTopicsMismatch){if("strict"in as&&as.strict)return;iu=tu.abiItem.name,su=(na=tu.abiItem.inputs)==null?void 0:na.some(au=>!("name"in au&&au.name))}return formatLog($a,{args:su?[]:{},eventName:iu})}}).filter(Boolean)}async function uninstallFilter(ss,{filter:as}){return as.request({method:"eth_uninstallFilter",params:[as.id]})}function watchContractEvent(ss,{abi:as,address:us,args:cs,batch:$a=!0,eventName:na,onError:tu,onLogs:iu,poll:su,pollingInterval:au=ss.pollingInterval,strict:ou}){return(typeof su<"u"?su:ss.transport.type!=="webSocket")?(()=>{const gu=stringify$1(["watchContractEvent",us,cs,$a,ss.uid,na,au]),bu=ou??!1;return observe(gu,{onLogs:iu,onError:tu},xu=>{let $u,wu,_u=!1;const Mu=poll(async()=>{var Au;if(!_u){try{wu=await getAction(ss,createContractEventFilter,"createContractEventFilter")({abi:as,address:us,args:cs,eventName:na,strict:bu})}catch{}_u=!0;return}try{let Pu;if(wu)Pu=await getAction(ss,getFilterChanges,"getFilterChanges")({filter:wu});else{const Su=await getAction(ss,getBlockNumber,"getBlockNumber")({});$u&&$u!==Su?Pu=await getAction(ss,getContractEvents,"getContractEvents")({abi:as,address:us,args:cs,eventName:na,fromBlock:$u+1n,toBlock:Su,strict:bu}):Pu=[],$u=Su}if(Pu.length===0)return;if($a)xu.onLogs(Pu);else for(const Su of Pu)xu.onLogs([Su])}catch(Pu){wu&&Pu instanceof InvalidInputRpcError&&(_u=!1),(Au=xu.onError)==null||Au.call(xu,Pu)}},{emitOnBegin:!0,interval:au});return async()=>{wu&&await getAction(ss,uninstallFilter,"uninstallFilter")({filter:wu}),Mu()}})})():(()=>{let gu=!0,bu=()=>gu=!1;return(async()=>{try{const xu=na?encodeEventTopics({abi:as,eventName:na,args:cs}):[],{unsubscribe:$u}=await ss.transport.subscribe({params:["logs",{address:us,topics:xu}],onData(wu){var Mu;if(!gu)return;const _u=wu.result;try{const{eventName:Au,args:Pu}=decodeEventLog({abi:as,data:_u.data,topics:_u.topics,strict:ou}),Su=formatLog(_u,{args:Pu,eventName:Au});iu([Su])}catch(Au){let Pu,Su;if(Au instanceof DecodeLogDataMismatch||Au instanceof DecodeLogTopicsMismatch){if(ou)return;Pu=Au.abiItem.name,Su=(Mu=Au.abiItem.inputs)==null?void 0:Mu.some(Ou=>!("name"in Ou&&Ou.name))}const Bu=formatLog(_u,{args:Su?[]:{},eventName:Pu});iu([Bu])}},onError(wu){tu==null||tu(wu)}});bu=$u,gu||bu()}catch(xu){tu==null||tu(xu)}})(),bu})()}function assertCurrentChain({chain:ss,currentChainId:as}){if(!ss)throw new ChainNotFoundError;if(as!==ss.id)throw new ChainMismatchError$1({chain:ss,currentChainId:as})}function getTransactionError(ss,{docsPath:as,...us}){const cs=(()=>{const $a=getNodeError(ss,us);return $a instanceof UnknownNodeError?ss:$a})();return new TransactionExecutionError(cs,{docsPath:as,...us})}async function getChainId(ss){const as=await ss.request({method:"eth_chainId"});return hexToNumber$1(as)}async function sendRawTransaction(ss,{serializedTransaction:as}){return ss.request({method:"eth_sendRawTransaction",params:[as]})}async function sendTransaction(ss,as){var bu,xu,$u,wu;const{account:us=ss.account,chain:cs=ss.chain,accessList:$a,data:na,gas:tu,gasPrice:iu,maxFeePerGas:su,maxPriorityFeePerGas:au,nonce:ou,to:fu,value:pu,...vu}=as;if(!us)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const gu=parseAccount(us);try{assertRequest(as);let _u;if(cs!==null&&(_u=await getAction(ss,getChainId,"getChainId")({}),assertCurrentChain({currentChainId:_u,chain:cs})),gu.type==="local"){const Su=await getAction(ss,prepareTransactionRequest,"prepareTransactionRequest")({account:gu,accessList:$a,chain:cs,data:na,gas:tu,gasPrice:iu,maxFeePerGas:su,maxPriorityFeePerGas:au,nonce:ou,to:fu,value:pu,...vu});_u||(_u=await getAction(ss,getChainId,"getChainId")({}));const Bu=(bu=cs==null?void 0:cs.serializers)==null?void 0:bu.transaction,Ou=await gu.signTransaction({...Su,chainId:_u},{serializer:Bu});return await getAction(ss,sendRawTransaction,"sendRawTransaction")({serializedTransaction:Ou})}const Mu=(wu=($u=(xu=ss.chain)==null?void 0:xu.formatters)==null?void 0:$u.transactionRequest)==null?void 0:wu.format,Pu=(Mu||formatTransactionRequest)({...extract(vu,{format:Mu}),accessList:$a,data:na,from:gu.address,gas:tu,gasPrice:iu,maxFeePerGas:su,maxPriorityFeePerGas:au,nonce:ou,to:fu,value:pu});return await ss.request({method:"eth_sendTransaction",params:[Pu]})}catch(_u){throw getTransactionError(_u,{...as,account:gu,chain:as.chain||void 0})}}async function writeContract$1(ss,{abi:as,address:us,args:cs,dataSuffix:$a,functionName:na,...tu}){const iu=encodeFunctionData({abi:as,args:cs,functionName:na});return await getAction(ss,sendTransaction,"sendTransaction")({data:`${iu}${$a?$a.replace("0x",""):""}`,to:us,...tu})}async function addChain(ss,{chain:as}){const{id:us,name:cs,nativeCurrency:$a,rpcUrls:na,blockExplorers:tu}=as;await ss.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex$1(us),chainName:cs,nativeCurrency:$a,rpcUrls:na.default.http,blockExplorerUrls:tu?Object.values(tu).map(({url:iu})=>iu):void 0}]})}const size$1=256;let index=size$1,buffer$2;function uid(ss=11){if(!buffer$2||index+ss>size$1*2){buffer$2="",index=0;for(let as=0;as<size$1;as++)buffer$2+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer$2.substring(index,index+++ss)}function createClient(ss){const{batch:as,cacheTime:us=ss.pollingInterval??4e3,key:cs="base",name:$a="Base Client",pollingInterval:na=4e3,type:tu="base"}=ss,iu=ss.chain,su=ss.account?parseAccount(ss.account):void 0,{config:au,request:ou,value:fu}=ss.transport({chain:iu,pollingInterval:na}),pu={...au,...fu},vu={account:su,batch:as,cacheTime:us,chain:iu,key:cs,name:$a,pollingInterval:na,request:ou,transport:pu,type:tu,uid:uid()};function gu(bu){return xu=>{const $u=xu(bu);for(const _u in vu)delete $u[_u];const wu={...bu,...$u};return Object.assign(wu,{extend:gu(wu)})}}return Object.assign(vu,{extend:gu(vu)})}function withRetry(ss,{delay:as=100,retryCount:us=2,shouldRetry:cs=()=>!0}={}){return new Promise(($a,na)=>{const tu=async({count:iu=0}={})=>{const su=async({error:au})=>{const ou=typeof as=="function"?as({count:iu,error:au}):as;ou&&await wait(ou),tu({count:iu+1})};try{const au=await ss();$a(au)}catch(au){if(iu<us&&await cs({count:iu,error:au}))return su({error:au});na(au)}};tu()})}const isDeterministicError=ss=>"code"in ss?ss.code!==-1&&ss.code!==-32004&&ss.code!==-32005&&ss.code!==-32042&&ss.code!==-32603:ss instanceof HttpRequestError&&ss.status?ss.status!==403&&ss.status!==408&&ss.status!==413&&ss.status!==429&&ss.status!==500&&ss.status!==502&&ss.status!==503&&ss.status!==504:!1;function buildRequest(ss,{retryDelay:as=150,retryCount:us=3}={}){return async cs=>withRetry(async()=>{try{return await ss(cs)}catch($a){const na=$a;switch(na.code){case ParseRpcError.code:throw new ParseRpcError(na);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(na);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(na);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(na);case InternalRpcError.code:throw new InternalRpcError(na);case InvalidInputRpcError.code:throw new InvalidInputRpcError(na);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(na);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(na);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(na);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(na);case LimitExceededRpcError.code:throw new LimitExceededRpcError(na);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(na);case UserRejectedRequestError.code:throw new UserRejectedRequestError(na);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(na);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(na);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(na);case ChainDisconnectedError.code:throw new ChainDisconnectedError(na);case SwitchChainError.code:throw new SwitchChainError(na);case 5e3:throw new UserRejectedRequestError(na);default:throw $a instanceof BaseError$1?$a:new UnknownRpcError(na)}}},{delay:({count:$a,error:na})=>{var tu;if(na&&na instanceof HttpRequestError){const iu=(tu=na==null?void 0:na.headers)==null?void 0:tu.get("Retry-After");if(iu!=null&&iu.match(/\d/))return parseInt(iu)*1e3}return~~(1<<$a)*as},retryCount:us,shouldRetry:({error:$a})=>!isDeterministicError($a)})}function createTransport({key:ss,name:as,request:us,retryCount:cs=3,retryDelay:$a=150,timeout:na,type:tu},iu){return{config:{key:ss,name:as,request:us,retryCount:cs,retryDelay:$a,timeout:na,type:tu},request:buildRequest(us,{retryCount:cs,retryDelay:$a}),value:iu}}function custom(ss,as={}){const{key:us="custom",name:cs="Custom Provider",retryDelay:$a}=as;return({retryCount:na})=>createTransport({key:us,name:cs,request:ss.request.bind(ss),retryCount:as.retryCount??na,retryDelay:$a,type:"custom"})}function fallback(ss,as={}){const{key:us="fallback",name:cs="Fallback",rank:$a=!1,retryCount:na,retryDelay:tu}=as;return({chain:iu,pollingInterval:su=4e3,timeout:au})=>{let ou=ss,fu=()=>{};const pu=createTransport({key:us,name:cs,async request({method:vu,params:gu}){const bu=async(xu=0)=>{const $u=ou[xu]({chain:iu,retryCount:0,timeout:au});try{const wu=await $u.request({method:vu,params:gu});return fu({method:vu,params:gu,response:wu,transport:$u,status:"success"}),wu}catch(wu){if(fu({error:wu,method:vu,params:gu,transport:$u,status:"error"}),isDeterministicError(wu)||xu===ou.length-1)throw wu;return bu(xu+1)}};return bu()},retryCount:na,retryDelay:tu,type:"fallback"},{onResponse:vu=>fu=vu,transports:ou.map(vu=>vu({chain:iu,retryCount:0}))});if($a){const vu=typeof $a=="object"?$a:{};rankTransports({chain:iu,interval:vu.interval??su,onTransports:gu=>ou=gu,sampleCount:vu.sampleCount,timeout:vu.timeout,transports:ou,weights:vu.weights})}return pu}}function rankTransports({chain:ss,interval:as=4e3,onTransports:us,sampleCount:cs=10,timeout:$a=1e3,transports:na,weights:tu={}}){const{stability:iu=.7,latency:su=.3}=tu,au=[],ou=async()=>{const fu=await Promise.all(na.map(async gu=>{const bu=gu({chain:ss,retryCount:0,timeout:$a}),xu=Date.now();let $u,wu;try{await bu.request({method:"net_listening"}),wu=1}catch{wu=0}finally{$u=Date.now()}return{latency:$u-xu,success:wu}}));au.push(fu),au.length>cs&&au.shift();const pu=Math.max(...au.map(gu=>Math.max(...gu.map(({latency:bu})=>bu)))),vu=na.map((gu,bu)=>{const xu=au.map(Au=>Au[bu].latency),wu=1-xu.reduce((Au,Pu)=>Au+Pu,0)/xu.length/pu,_u=au.map(Au=>Au[bu].success),Mu=_u.reduce((Au,Pu)=>Au+Pu,0)/_u.length;return Mu===0?[0,bu]:[su*wu+iu*Mu,bu]}).sort((gu,bu)=>bu[0]-gu[0]);us(vu.map(([,gu])=>na[gu])),await wait(as),ou()};ou()}class UrlRequiredError extends BaseError$1{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}const global$1=globalThis||void 0||self;function getNativeWebSocket(){if(typeof WebSocket<"u")return WebSocket;if(typeof global$1.WebSocket<"u")return global$1.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const WebSocket$1=getNativeWebSocket();function withTimeout(ss,{errorInstance:as=new Error("timed out"),timeout:us,signal:cs}){return new Promise(($a,na)=>{(async()=>{let tu;try{const iu=new AbortController;us>0&&(tu=setTimeout(()=>{cs?iu.abort():na(as)},us)),$a(await ss({signal:iu==null?void 0:iu.signal}))}catch(iu){iu.name==="AbortError"&&na(as),na(iu)}finally{clearTimeout(tu)}})()})}let id=0;async function http$1(ss,{body:as,fetchOptions:us={},timeout:cs=1e4}){var iu;const{headers:$a,method:na,signal:tu}=us;try{const su=await withTimeout(async({signal:ou})=>await fetch(ss,{...us,body:Array.isArray(as)?stringify$1(as.map(pu=>({jsonrpc:"2.0",id:pu.id??id++,...pu}))):stringify$1({jsonrpc:"2.0",id:as.id??id++,...as}),headers:{...$a,"Content-Type":"application/json"},method:na||"POST",signal:tu||(cs>0?ou:void 0)}),{errorInstance:new TimeoutError({body:as,url:ss}),timeout:cs,signal:!0});let au;if((iu=su.headers.get("Content-Type"))!=null&&iu.startsWith("application/json")?au=await su.json():au=await su.text(),!su.ok)throw new HttpRequestError({body:as,details:stringify$1(au.error)||su.statusText,headers:su.headers,status:su.status,url:ss});return au}catch(su){throw su instanceof HttpRequestError||su instanceof TimeoutError?su:new HttpRequestError({body:as,details:su.message,url:ss})}}const socketsCache=new Map;async function getSocket(ss){let as=socketsCache.get(ss);if(as)return as;const{schedule:us}=createBatchScheduler({id:ss,fn:async()=>{const na=new WebSocket$1(ss),tu=new Map,iu=new Map,su=({data:ou})=>{const fu=JSON.parse(ou),pu=fu.method==="eth_subscription",vu=pu?fu.params.subscription:fu.id,gu=pu?iu:tu,bu=gu.get(vu);bu&&bu({data:ou}),pu||gu.delete(vu)},au=()=>{socketsCache.delete(ss),na.removeEventListener("close",au),na.removeEventListener("message",su)};return na.addEventListener("close",au),na.addEventListener("message",su),na.readyState===WebSocket$1.CONNECTING&&await new Promise((ou,fu)=>{na&&(na.onopen=ou,na.onerror=fu)}),as=Object.assign(na,{requests:tu,subscriptions:iu}),socketsCache.set(ss,as),[as]}}),[cs,[$a]]=await us();return $a}function webSocket$1(ss,{body:as,onResponse:us}){if(ss.readyState===ss.CLOSED||ss.readyState===ss.CLOSING)throw new WebSocketRequestError({body:as,url:ss.url,details:"Socket is closed."});const cs=id++,$a=({data:na})=>{var iu;const tu=JSON.parse(na);typeof tu.id=="number"&&cs!==tu.id||(us==null||us(tu),as.method==="eth_subscribe"&&typeof tu.result=="string"&&ss.subscriptions.set(tu.result,$a),as.method==="eth_unsubscribe"&&ss.subscriptions.delete((iu=as.params)==null?void 0:iu[0]))};return ss.requests.set(cs,$a),ss.send(JSON.stringify({jsonrpc:"2.0",...as,id:cs})),ss}async function webSocketAsync(ss,{body:as,timeout:us=1e4}){return withTimeout(()=>new Promise(cs=>rpc.webSocket(ss,{body:as,onResponse:cs})),{errorInstance:new TimeoutError({body:as,url:ss.url}),timeout:us})}const rpc={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(ss,as={}){const{batch:us,fetchOptions:cs,key:$a="http",name:na="HTTP JSON-RPC",retryDelay:tu}=as;return({chain:iu,retryCount:su,timeout:au})=>{const{batchSize:ou=1e3,wait:fu=0}=typeof us=="object"?us:{},pu=as.retryCount??su,vu=au??as.timeout??1e4,gu=ss||(iu==null?void 0:iu.rpcUrls.default.http[0]);if(!gu)throw new UrlRequiredError;return createTransport({key:$a,name:na,async request({method:bu,params:xu}){const $u={method:bu,params:xu},{schedule:wu}=createBatchScheduler({id:`${ss}`,wait:fu,shouldSplitBatch(Pu){return Pu.length>ou},fn:Pu=>rpc.http(gu,{body:Pu,fetchOptions:cs,timeout:vu}),sort:(Pu,Su)=>Pu.id-Su.id}),_u=async Pu=>us?wu(Pu):[await rpc.http(gu,{body:Pu,fetchOptions:cs,timeout:vu})],[{error:Mu,result:Au}]=await _u($u);if(Mu)throw new RpcRequestError({body:$u,error:Mu,url:gu});return Au},retryCount:pu,retryDelay:tu,timeout:vu,type:"http"},{fetchOptions:cs,url:ss})}}function isNullUniversalResolverError(ss,as){var cs,$a,na;if(!(ss instanceof BaseError$1))return!1;const us=ss.walk(tu=>tu instanceof ContractFunctionRevertedError);return us instanceof ContractFunctionRevertedError?!!(((cs=us.data)==null?void 0:cs.errorName)==="ResolverNotFound"||(($a=us.data)==null?void 0:$a.errorName)==="ResolverWildcardNotSupported"||(na=us.reason)!=null&&na.includes("Wildcard on non-extended resolvers is not supported")||as==="reverse"&&us.reason===panicReasons[50]):!1}function encodedLabelToLabelhash(ss){if(ss.length!==66||ss.indexOf("[")!==0||ss.indexOf("]")!==65)return null;const as=`0x${ss.slice(1,65)}`;return isHex$1(as)?as:null}function namehash(ss){let as=new Uint8Array(32).fill(0);if(!ss)return bytesToHex$1(as);const us=ss.split(".");for(let cs=us.length-1;cs>=0;cs-=1){const $a=encodedLabelToLabelhash(us[cs]),na=$a?toBytes$3($a):keccak256$1(stringToBytes$1(us[cs]),"bytes");as=keccak256$1(concat$1([as,na]),"bytes")}return bytesToHex$1(as)}function encodeLabelhash(ss){return`[${ss.slice(2)}]`}function labelhash(ss){const as=new Uint8Array(32).fill(0);return ss?encodedLabelToLabelhash(ss)||keccak256$1(stringToBytes$1(ss)):bytesToHex$1(as)}function packetToBytes(ss){const as=ss.replace(/^\.|\.$/gm,"");if(as.length===0)return new Uint8Array(1);const us=new Uint8Array(stringToBytes$1(as).byteLength+2);let cs=0;const $a=as.split(".");for(let na=0;na<$a.length;na++){let tu=stringToBytes$1($a[na]);tu.byteLength>255&&(tu=stringToBytes$1(encodeLabelhash(labelhash($a[na])))),us[cs]=tu.length,us.set(tu,cs+1),cs+=tu.length+1}return us.byteLength!==cs+1?us.slice(0,cs+1):us}async function getEnsAddress(ss,{blockNumber:as,blockTag:us,coinType:cs,name:$a,universalResolverAddress:na}){let tu=na;if(!tu){if(!ss.chain)throw new Error("client chain not configured. universalResolverAddress is required.");tu=getChainContractAddress({blockNumber:as,chain:ss.chain,contract:"ensUniversalResolver"})}try{const iu=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...cs!=null?{args:[namehash($a),BigInt(cs)]}:{args:[namehash($a)]}}),su=await getAction(ss,readContract$1,"readContract")({address:tu,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex$1(packetToBytes($a)),iu],blockNumber:as,blockTag:us});if(su[0]==="0x")return null;const au=decodeFunctionResult({abi:addressResolverAbi,args:cs!=null?[namehash($a),BigInt(cs)]:void 0,functionName:"addr",data:su[0]});return au==="0x"||trim(au)==="0x00"?null:au}catch(iu){if(isNullUniversalResolverError(iu,"resolve"))return null;throw iu}}class EnsAvatarInvalidMetadataError extends BaseError$1{constructor({data:as}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(as)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError$1{constructor({reason:as}){super(`ENS NFT avatar URI is invalid. ${as}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError$1{constructor({uri:as}){super(`Unable to resolve ENS avatar URI "${as}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError$1{constructor({namespace:as}){super(`ENS NFT avatar namespace "${as}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(ss){try{const as=await fetch(ss,{method:"HEAD"});if(as.status===200){const us=as.headers.get("content-type");return us==null?void 0:us.startsWith("image/")}return!1}catch(as){return typeof as=="object"&&typeof as.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(us=>{const cs=new Image;cs.onload=()=>{us(!0)},cs.onerror=()=>{us(!1)},cs.src=ss})}}function getGateway(ss,as){return ss?ss.endsWith("/")?ss.slice(0,-1):ss:as}function resolveAvatarUri({uri:ss,gatewayUrls:as}){const us=base64Regex.test(ss);if(us)return{uri:ss,isOnChain:!0,isEncoded:us};const cs=getGateway(as==null?void 0:as.ipfs,"https://ipfs.io"),$a=getGateway(as==null?void 0:as.arweave,"https://arweave.net"),na=ss.match(networkRegex),{protocol:tu,subpath:iu,target:su,subtarget:au=""}=(na==null?void 0:na.groups)||{},ou=tu==="ipns:/"||iu==="ipns/",fu=tu==="ipfs:/"||iu==="ipfs/"||ipfsHashRegex.test(ss);if(ss.startsWith("http")&&!ou&&!fu){let vu=ss;return as!=null&&as.arweave&&(vu=ss.replace(/https:\/\/arweave.net/g,as==null?void 0:as.arweave)),{uri:vu,isOnChain:!1,isEncoded:!1}}if((ou||fu)&&su)return{uri:`${cs}/${ou?"ipns":"ipfs"}/${su}${au}`,isOnChain:!1,isEncoded:!1};if(tu==="ar:/"&&su)return{uri:`${$a}/${su}${au||""}`,isOnChain:!1,isEncoded:!1};let pu=ss.replace(dataURIRegex,"");if(pu.startsWith("<svg")&&(pu=`data:image/svg+xml;base64,${btoa(pu)}`),pu.startsWith("data:")||pu.startsWith("{"))return{uri:pu,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:ss})}function getJsonImage(ss){if(typeof ss!="object"||!("image"in ss)&&!("image_url"in ss)&&!("image_data"in ss))throw new EnsAvatarInvalidMetadataError({data:ss});return ss.image||ss.image_url||ss.image_data}async function getMetadataAvatarUri({gatewayUrls:ss,uri:as}){try{const us=await fetch(as).then($a=>$a.json());return await parseAvatarUri({gatewayUrls:ss,uri:getJsonImage(us)})}catch{throw new EnsAvatarUriResolutionError({uri:as})}}async function parseAvatarUri({gatewayUrls:ss,uri:as}){const{uri:us,isOnChain:cs}=resolveAvatarUri({uri:as,gatewayUrls:ss});if(cs||await isImageUri(us))return us;throw new EnsAvatarUriResolutionError({uri:as})}function parseNftUri(ss){let as=ss;as.startsWith("did:nft:")&&(as=as.replace("did:nft:","").replace(/_/g,"/"));const[us,cs,$a]=as.split("/"),[na,tu]=us.split(":"),[iu,su]=cs.split(":");if(!na||na.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!tu)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!su)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!$a)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!iu)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(tu),namespace:iu.toLowerCase(),contractAddress:su,tokenID:$a}}async function getNftTokenUri(ss,{nft:as}){if(as.namespace==="erc721")return readContract$1(ss,{address:as.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(as.tokenID)]});if(as.namespace==="erc1155")return readContract$1(ss,{address:as.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(as.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:as.namespace})}async function parseAvatarRecord(ss,{gatewayUrls:as,record:us}){return/eip155:/i.test(us)?parseNftAvatarUri(ss,{gatewayUrls:as,record:us}):parseAvatarUri({uri:us,gatewayUrls:as})}async function parseNftAvatarUri(ss,{gatewayUrls:as,record:us}){const cs=parseNftUri(us),$a=await getNftTokenUri(ss,{nft:cs}),{uri:na,isOnChain:tu,isEncoded:iu}=resolveAvatarUri({uri:$a,gatewayUrls:as});if(tu&&(na.includes("data:application/json;base64,")||na.startsWith("{"))){const au=iu?atob(na.replace("data:application/json;base64,","")):na,ou=JSON.parse(au);return parseAvatarUri({uri:getJsonImage(ou),gatewayUrls:as})}let su=cs.tokenID;return cs.namespace==="erc1155"&&(su=su.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:as,uri:na.replace(/(?:0x)?{id}/,su)})}async function getEnsText(ss,{blockNumber:as,blockTag:us,name:cs,key:$a,universalResolverAddress:na}){let tu=na;if(!tu){if(!ss.chain)throw new Error("client chain not configured. universalResolverAddress is required.");tu=getChainContractAddress({blockNumber:as,chain:ss.chain,contract:"ensUniversalResolver"})}try{const iu=await getAction(ss,readContract$1,"readContract")({address:tu,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex$1(packetToBytes(cs)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(cs),$a]})],blockNumber:as,blockTag:us});if(iu[0]==="0x")return null;const su=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:iu[0]});return su===""?null:su}catch(iu){if(isNullUniversalResolverError(iu,"resolve"))return null;throw iu}}async function getEnsAvatar(ss,{blockNumber:as,blockTag:us,gatewayUrls:cs,name:$a,universalResolverAddress:na}){const tu=await getAction(ss,getEnsText,"getEnsText")({blockNumber:as,blockTag:us,key:"avatar",name:$a,universalResolverAddress:na});if(!tu)return null;try{return await parseAvatarRecord(ss,{record:tu,gatewayUrls:cs})}catch{return null}}async function getEnsName(ss,{address:as,blockNumber:us,blockTag:cs,universalResolverAddress:$a}){let na=$a;if(!na){if(!ss.chain)throw new Error("client chain not configured. universalResolverAddress is required.");na=getChainContractAddress({blockNumber:us,chain:ss.chain,contract:"ensUniversalResolver"})}const tu=`${as.toLowerCase().substring(2)}.addr.reverse`;try{const[iu,su]=await getAction(ss,readContract$1,"readContract")({address:na,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex$1(packetToBytes(tu))],blockNumber:us,blockTag:cs});return as.toLowerCase()!==su.toLowerCase()?null:iu}catch(iu){if(isNullUniversalResolverError(iu,"reverse"))return null;throw iu}}async function getEnsResolver(ss,{blockNumber:as,blockTag:us,name:cs,universalResolverAddress:$a}){let na=$a;if(!na){if(!ss.chain)throw new Error("client chain not configured. universalResolverAddress is required.");na=getChainContractAddress({blockNumber:as,chain:ss.chain,contract:"ensUniversalResolver"})}const[tu]=await getAction(ss,readContract$1,"readContract")({address:na,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex$1(packetToBytes(cs))],blockNumber:as,blockTag:us});return tu}async function createBlockFilter(ss){const as=createFilterRequestScope(ss,{method:"eth_newBlockFilter"}),us=await ss.request({method:"eth_newBlockFilter"});return{id:us,request:as(us),type:"block"}}async function createEventFilter(ss,{address:as,args:us,event:cs,events:$a,fromBlock:na,strict:tu,toBlock:iu}={}){const su=$a??(cs?[cs]:void 0),au=createFilterRequestScope(ss,{method:"eth_newFilter"});let ou=[];su&&(ou=[su.flatMap(pu=>encodeEventTopics({abi:[pu],eventName:pu.name,args:us}))],cs&&(ou=ou[0]));const fu=await ss.request({method:"eth_newFilter",params:[{address:as,fromBlock:typeof na=="bigint"?numberToHex$1(na):na,toBlock:typeof iu=="bigint"?numberToHex$1(iu):iu,...ou.length?{topics:ou}:{}}]});return{abi:su,args:us,eventName:cs?cs.name:void 0,fromBlock:na,id:fu,request:au(fu),strict:tu,toBlock:iu,type:"event"}}async function createPendingTransactionFilter(ss){const as=createFilterRequestScope(ss,{method:"eth_newPendingTransactionFilter"}),us=await ss.request({method:"eth_newPendingTransactionFilter"});return{id:us,request:as(us),type:"transaction"}}async function getBalance(ss,{address:as,blockNumber:us,blockTag:cs="latest"}){const $a=us?numberToHex$1(us):void 0,na=await ss.request({method:"eth_getBalance",params:[as,$a||cs]});return BigInt(na)}async function getBlockTransactionCount(ss,{blockHash:as,blockNumber:us,blockTag:cs="latest"}={}){const $a=us!==void 0?numberToHex$1(us):void 0;let na;return as?na=await ss.request({method:"eth_getBlockTransactionCountByHash",params:[as]}):na=await ss.request({method:"eth_getBlockTransactionCountByNumber",params:[$a||cs]}),hexToNumber$1(na)}async function getBytecode(ss,{address:as,blockNumber:us,blockTag:cs="latest"}){const $a=us!==void 0?numberToHex$1(us):void 0,na=await ss.request({method:"eth_getCode",params:[as,$a||cs]});if(na!=="0x")return na}function formatFeeHistory(ss){var as;return{baseFeePerGas:ss.baseFeePerGas.map(us=>BigInt(us)),gasUsedRatio:ss.gasUsedRatio,oldestBlock:BigInt(ss.oldestBlock),reward:(as=ss.reward)==null?void 0:as.map(us=>us.map(cs=>BigInt(cs)))}}async function getFeeHistory(ss,{blockCount:as,blockNumber:us,blockTag:cs="latest",rewardPercentiles:$a}){const na=us?numberToHex$1(us):void 0,tu=await ss.request({method:"eth_feeHistory",params:[numberToHex$1(as),na||cs,$a]});return formatFeeHistory(tu)}async function getFilterLogs(ss,{filter:as}){const us=as.strict??!1;return(await as.request({method:"eth_getFilterLogs",params:[as.id]})).map($a=>{var na;try{const{eventName:tu,args:iu}="abi"in as&&as.abi?decodeEventLog({abi:as.abi,data:$a.data,topics:$a.topics,strict:us}):{eventName:void 0,args:void 0};return formatLog($a,{args:iu,eventName:tu})}catch(tu){let iu,su;if(tu instanceof DecodeLogDataMismatch||tu instanceof DecodeLogTopicsMismatch){if("strict"in as&&as.strict)return;iu=tu.abiItem.name,su=(na=tu.abiItem.inputs)==null?void 0:na.some(au=>!("name"in au&&au.name))}return formatLog($a,{args:su?[]:{},eventName:iu})}}).filter(Boolean)}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function hashTypedData({domain:ss,message:as,primaryType:us,types:cs}){const $a=typeof ss>"u"?{}:ss,na={EIP712Domain:getTypesForEIP712Domain({domain:$a}),...cs};validateTypedData({domain:$a,message:as,primaryType:us,types:na});const tu=["0x1901"];return $a&&tu.push(hashDomain({domain:$a,types:na})),us!=="EIP712Domain"&&tu.push(hashStruct({data:as,primaryType:us,types:na})),keccak256$1(concat$1(tu))}function hashDomain({domain:ss,types:as}){return hashStruct({data:ss,primaryType:"EIP712Domain",types:as})}function hashStruct({data:ss,primaryType:as,types:us}){const cs=encodeData({data:ss,primaryType:as,types:us});return keccak256$1(cs)}function encodeData({data:ss,primaryType:as,types:us}){const cs=[{type:"bytes32"}],$a=[hashType({primaryType:as,types:us})];for(const na of us[as]){const[tu,iu]=encodeField({types:us,name:na.name,type:na.type,value:ss[na.name]});cs.push(tu),$a.push(iu)}return encodeAbiParameters(cs,$a)}function hashType({primaryType:ss,types:as}){const us=toHex$1(encodeType({primaryType:ss,types:as}));return keccak256$1(us)}function encodeType({primaryType:ss,types:as}){let us="";const cs=findTypeDependencies({primaryType:ss,types:as});cs.delete(ss);const $a=[ss,...Array.from(cs).sort()];for(const na of $a)us+=`${na}(${as[na].map(({name:tu,type:iu})=>`${iu} ${tu}`).join(",")})`;return us}function findTypeDependencies({primaryType:ss,types:as},us=new Set){const cs=ss.match(/^\w*/u),$a=cs==null?void 0:cs[0];if(us.has($a)||as[$a]===void 0)return us;us.add($a);for(const na of as[$a])findTypeDependencies({primaryType:na.type,types:as},us);return us}function encodeField({types:ss,name:as,type:us,value:cs}){if(ss[us]!==void 0)return[{type:"bytes32"},keccak256$1(encodeData({data:cs,primaryType:us,types:ss}))];if(us==="bytes")return cs=`0x${(cs.length%2?"0":"")+cs.slice(2)}`,[{type:"bytes32"},keccak256$1(cs)];if(us==="string")return[{type:"bytes32"},keccak256$1(toHex$1(cs))];if(us.lastIndexOf("]")===us.length-1){const $a=us.slice(0,us.lastIndexOf("[")),na=cs.map(tu=>encodeField({name:as,type:$a,types:ss,value:tu}));return[{type:"bytes32"},keccak256$1(encodeAbiParameters(na.map(([tu])=>tu),na.map(([,tu])=>tu)))]}return[{type:us},cs]}function validateTypedData({domain:ss,message:as,primaryType:us,types:cs}){const $a=cs,na=(tu,iu)=>{for(const su of tu){const{name:au,type:ou}=su,fu=ou,pu=iu[au],vu=fu.match(integerRegex);if(vu&&(typeof pu=="number"||typeof pu=="bigint")){const[xu,$u,wu]=vu;numberToHex$1(pu,{signed:$u==="int",size:parseInt(wu)/8})}if(fu==="address"&&typeof pu=="string"&&!isAddress(pu))throw new InvalidAddressError({address:pu});const gu=fu.match(bytesRegex);if(gu){const[xu,$u]=gu;if($u&&size$2(pu)!==parseInt($u))throw new BytesSizeMismatchError({expectedSize:parseInt($u),givenSize:size$2(pu)})}const bu=$a[fu];bu&&na(bu,pu)}};if($a.EIP712Domain&&ss&&na($a.EIP712Domain,ss),us!=="EIP712Domain"){const tu=$a[us];na(tu,as)}}function getTypesForEIP712Domain({domain:ss}){return[typeof(ss==null?void 0:ss.name)=="string"&&{name:"name",type:"string"},(ss==null?void 0:ss.version)&&{name:"version",type:"string"},typeof(ss==null?void 0:ss.chainId)=="number"&&{name:"chainId",type:"uint256"},(ss==null?void 0:ss.verifyingContract)&&{name:"verifyingContract",type:"address"},(ss==null?void 0:ss.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:ss,args:as,bytecode:us}){if(!as||as.length===0)return us;const cs=ss.find(na=>"type"in na&&na.type==="constructor");if(!cs)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in cs))throw new AbiConstructorParamsNotFoundError({docsPath});if(!cs.inputs||cs.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const $a=encodeAbiParameters(cs.inputs,as);return concatHex([us,$a])}const presignMessagePrefix=`Ethereum Signed Message:
`;function hashMessage(ss,as){const us=typeof ss=="string"?stringToBytes$1(ss):ss.raw instanceof Uint8Array?ss.raw:toBytes$3(ss.raw),cs=stringToBytes$1(`${presignMessagePrefix}${us.length}`);return keccak256$1(concat$1([cs,us]),as)}function formatStorageProof(ss){return ss.map(as=>({...as,value:BigInt(as.value)}))}function formatProof(ss){return{...ss,balance:ss.balance?BigInt(ss.balance):void 0,nonce:ss.nonce?hexToNumber$1(ss.nonce):void 0,storageProof:ss.storageProof?formatStorageProof(ss.storageProof):void 0}}async function getProof(ss,{address:as,blockNumber:us,blockTag:cs,storageKeys:$a}){const na=cs??"latest",tu=us!==void 0?numberToHex$1(us):void 0,iu=await ss.request({method:"eth_getProof",params:[as,$a,tu||na]});return formatProof(iu)}async function getStorageAt(ss,{address:as,blockNumber:us,blockTag:cs="latest",slot:$a}){const na=us!==void 0?numberToHex$1(us):void 0;return await ss.request({method:"eth_getStorageAt",params:[as,$a,na||cs]})}async function getTransaction(ss,{blockHash:as,blockNumber:us,blockTag:cs,hash:$a,index:na}){var ou,fu,pu;const tu=cs||"latest",iu=us!==void 0?numberToHex$1(us):void 0;let su=null;if($a?su=await ss.request({method:"eth_getTransactionByHash",params:[$a]}):as?su=await ss.request({method:"eth_getTransactionByBlockHashAndIndex",params:[as,numberToHex$1(na)]}):su=await ss.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[iu||tu,numberToHex$1(na)]}),!su)throw new TransactionNotFoundError({blockHash:as,blockNumber:us,blockTag:tu,hash:$a,index:na});return(((pu=(fu=(ou=ss.chain)==null?void 0:ou.formatters)==null?void 0:fu.transaction)==null?void 0:pu.format)||formatTransaction)(su)}async function getTransactionConfirmations(ss,{hash:as,transactionReceipt:us}){const[cs,$a]=await Promise.all([getAction(ss,getBlockNumber,"getBlockNumber")({}),as?getAction(ss,getTransaction,"getBlockNumber")({hash:as}):void 0]),na=(us==null?void 0:us.blockNumber)||($a==null?void 0:$a.blockNumber);return na?cs-na+1n:0n}async function getTransactionReceipt(ss,{hash:as}){var $a,na,tu;const us=await ss.request({method:"eth_getTransactionReceipt",params:[as]});if(!us)throw new TransactionReceiptNotFoundError({hash:as});return(((tu=(na=($a=ss.chain)==null?void 0:$a.formatters)==null?void 0:na.transactionReceipt)==null?void 0:tu.format)||formatTransactionReceipt)(us)}async function multicall$1(ss,as){var bu;const{allowFailure:us=!0,batchSize:cs,blockNumber:$a,blockTag:na,contracts:tu,multicallAddress:iu}=as,su=cs??(typeof((bu=ss.batch)==null?void 0:bu.multicall)=="object"&&ss.batch.multicall.batchSize||1024);let au=iu;if(!au){if(!ss.chain)throw new Error("client chain not configured. multicallAddress is required.");au=getChainContractAddress({blockNumber:$a,chain:ss.chain,contract:"multicall3"})}const ou=[[]];let fu=0,pu=0;for(let xu=0;xu<tu.length;xu++){const{abi:$u,address:wu,args:_u,functionName:Mu}=tu[xu];try{const Au=encodeFunctionData({abi:$u,args:_u,functionName:Mu});pu+=(Au.length-2)/2,su>0&&pu>su&&ou[fu].length>0&&(fu++,pu=(Au.length-2)/2,ou[fu]=[]),ou[fu]=[...ou[fu],{allowFailure:!0,callData:Au,target:wu}]}catch(Au){const Pu=getContractError(Au,{abi:$u,address:wu,args:_u,docsPath:"/docs/contract/multicall",functionName:Mu});if(!us)throw Pu;ou[fu]=[...ou[fu],{allowFailure:!0,callData:"0x",target:wu}]}}const vu=await Promise.allSettled(ou.map(xu=>getAction(ss,readContract$1,"readContract")({abi:multicall3Abi,address:au,args:[xu],blockNumber:$a,blockTag:na,functionName:"aggregate3"}))),gu=[];for(let xu=0;xu<vu.length;xu++){const $u=vu[xu];if($u.status==="rejected"){if(!us)throw $u.reason;for(let _u=0;_u<ou[xu].length;_u++)gu.push({status:"failure",error:$u.reason,result:void 0});continue}const wu=$u.value;for(let _u=0;_u<wu.length;_u++){const{returnData:Mu,success:Au}=wu[_u],{callData:Pu}=ou[xu][_u],{abi:Su,address:Bu,functionName:Ou,args:Vu}=tu[gu.length];try{if(Pu==="0x")throw new AbiDecodingZeroDataError;if(!Au)throw new RawContractError({data:Mu});const yu=decodeFunctionResult({abi:Su,args:Vu,data:Mu,functionName:Ou});gu.push(us?{result:yu,status:"success"}:yu)}catch(yu){const _a=getContractError(yu,{abi:Su,address:Bu,args:Vu,docsPath:"/docs/contract/multicall",functionName:Ou});if(!us)throw _a;gu.push({error:_a,result:void 0,status:"failure"})}}}if(gu.length!==tu.length)throw new BaseError$1("multicall results mismatch");return gu}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);function equalBytes(ss,as){if(ss.length!==as.length)return!1;for(let us=0;us<ss.length;us++)if(ss[us]!==as[us])return!1;return!0}function isBytesEqual(ss,as){const us=isHex$1(ss)?toBytes$3(ss):ss,cs=isHex$1(as)?toBytes$3(as):as;return equalBytes(us,cs)}async function verifyHash(ss,{address:as,hash:us,signature:cs,...$a}){const na=isHex$1(cs)?cs:toHex$1(cs);try{const{data:tu}=await getAction(ss,call$2,"call")({data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[as,us,na],bytecode:universalSignatureValidatorByteCode}),...$a});return isBytesEqual(tu??"0x0","0x1")}catch(tu){if(tu instanceof CallExecutionError)return!1;throw tu}}async function verifyMessage(ss,{address:as,message:us,signature:cs,...$a}){const na=hashMessage(us);return verifyHash(ss,{address:as,hash:na,signature:cs,...$a})}async function verifyTypedData(ss,{address:as,signature:us,message:cs,primaryType:$a,types:na,domain:tu,...iu}){const su=hashTypedData({message:cs,primaryType:$a,types:na,domain:tu});return verifyHash(ss,{address:as,hash:su,signature:us,...iu})}function watchBlockNumber(ss,{emitOnBegin:as=!1,emitMissed:us=!1,onBlockNumber:cs,onError:$a,poll:na,pollingInterval:tu=ss.pollingInterval}){const iu=typeof na<"u"?na:ss.transport.type!=="webSocket";let su;return iu?(()=>{const fu=stringify$1(["watchBlockNumber",ss.uid,as,us,tu]);return observe(fu,{onBlockNumber:cs,onError:$a},pu=>poll(async()=>{var vu;try{const gu=await getAction(ss,getBlockNumber,"getBlockNumber")({cacheTime:0});if(su){if(gu===su)return;if(gu-su>1&&us)for(let bu=su+1n;bu<gu;bu++)pu.onBlockNumber(bu,su),su=bu}(!su||gu>su)&&(pu.onBlockNumber(gu,su),su=gu)}catch(gu){(vu=pu.onError)==null||vu.call(pu,gu)}},{emitOnBegin:as,interval:tu}))})():(()=>{let fu=!0,pu=()=>fu=!1;return(async()=>{try{const{unsubscribe:vu}=await ss.transport.subscribe({params:["newHeads"],onData(gu){var xu;if(!fu)return;const bu=hexToBigInt$1((xu=gu.result)==null?void 0:xu.number);cs(bu,su),su=bu},onError(gu){$a==null||$a(gu)}});pu=vu,fu||pu()}catch(vu){$a==null||$a(vu)}})(),pu})()}async function waitForTransactionReceipt(ss,{confirmations:as=1,hash:us,onReplaced:cs,pollingInterval:$a=ss.pollingInterval,timeout:na}){const tu=stringify$1(["waitForTransactionReceipt",ss.uid,us]);let iu,su,au,ou=!1;return new Promise((fu,pu)=>{na&&setTimeout(()=>pu(new WaitForTransactionReceiptTimeoutError({hash:us})),na);const vu=observe(tu,{onReplaced:cs,resolve:fu,reject:pu},gu=>{const bu=getAction(ss,watchBlockNumber,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:$a,async onBlockNumber(xu){if(ou)return;let $u=xu;const wu=_u=>{bu(),_u(),vu()};try{if(au){if(as>1&&(!au.blockNumber||$u-au.blockNumber+1n<as))return;wu(()=>gu.resolve(au));return}if(iu||(ou=!0,await withRetry(async()=>{iu=await getAction(ss,getTransaction,"getTransaction")({hash:us}),iu.blockNumber&&($u=iu.blockNumber)},{delay:({count:_u})=>~~(1<<_u)*200,retryCount:6}),ou=!1),au=await getAction(ss,getTransactionReceipt,"getTransactionReceipt")({hash:us}),as>1&&(!au.blockNumber||$u-au.blockNumber+1n<as))return;wu(()=>gu.resolve(au))}catch(_u){if(iu&&(_u instanceof TransactionNotFoundError||_u instanceof TransactionReceiptNotFoundError))try{su=iu,ou=!0;const Mu=await withRetry(()=>getAction(ss,getBlock,"getBlock")({blockNumber:$u,includeTransactions:!0}),{delay:({count:Su})=>~~(1<<Su)*200,retryCount:6,shouldRetry:({error:Su})=>Su instanceof BlockNotFoundError});ou=!1;const Au=Mu.transactions.find(({from:Su,nonce:Bu})=>Su===su.from&&Bu===su.nonce);if(!Au||(au=await getAction(ss,getTransactionReceipt,"getTransactionReceipt")({hash:Au.hash}),as>1&&(!au.blockNumber||$u-au.blockNumber+1n<as)))return;let Pu="replaced";Au.to===su.to&&Au.value===su.value?Pu="repriced":Au.from===Au.to&&Au.value===0n&&(Pu="cancelled"),wu(()=>{var Su;(Su=gu.onReplaced)==null||Su.call(gu,{reason:Pu,replacedTransaction:su,transaction:Au,transactionReceipt:au}),gu.resolve(au)})}catch(Mu){wu(()=>gu.reject(Mu))}else wu(()=>gu.reject(_u))}}})})})}function watchBlocks(ss,{blockTag:as="latest",emitMissed:us=!1,emitOnBegin:cs=!1,onBlock:$a,onError:na,includeTransactions:tu,poll:iu,pollingInterval:su=ss.pollingInterval}){const au=typeof iu<"u"?iu:ss.transport.type!=="webSocket",ou=tu??!1;let fu;return au?(()=>{const gu=stringify$1(["watchBlocks",ss.uid,us,cs,ou,su]);return observe(gu,{onBlock:$a,onError:na},bu=>poll(async()=>{var xu;try{const $u=await getAction(ss,getBlock,"getBlock")({blockTag:as,includeTransactions:ou});if($u.number&&(fu!=null&&fu.number)){if($u.number===fu.number)return;if($u.number-fu.number>1&&us)for(let wu=(fu==null?void 0:fu.number)+1n;wu<$u.number;wu++){const _u=await getAction(ss,getBlock,"getBlock")({blockNumber:wu,includeTransactions:ou});bu.onBlock(_u,fu),fu=_u}}(!(fu!=null&&fu.number)||as==="pending"&&!($u!=null&&$u.number)||$u.number&&$u.number>fu.number)&&(bu.onBlock($u,fu),fu=$u)}catch($u){(xu=bu.onError)==null||xu.call(bu,$u)}},{emitOnBegin:cs,interval:su}))})():(()=>{let gu=!0,bu=()=>gu=!1;return(async()=>{try{const{unsubscribe:xu}=await ss.transport.subscribe({params:["newHeads"],onData($u){var Mu,Au,Pu;if(!gu)return;const _u=(((Pu=(Au=(Mu=ss.chain)==null?void 0:Mu.formatters)==null?void 0:Au.block)==null?void 0:Pu.format)||formatBlock)($u.result);$a(_u,fu),fu=_u},onError($u){na==null||na($u)}});bu=xu,gu||bu()}catch(xu){na==null||na(xu)}})(),bu})()}function watchEvent(ss,{address:as,args:us,batch:cs=!0,event:$a,events:na,onError:tu,onLogs:iu,poll:su,pollingInterval:au=ss.pollingInterval,strict:ou}){const fu=typeof su<"u"?su:ss.transport.type!=="webSocket",pu=ou??!1;return fu?(()=>{const bu=stringify$1(["watchEvent",as,us,cs,ss.uid,$a,au]);return observe(bu,{onLogs:iu,onError:tu},xu=>{let $u,wu,_u=!1;const Mu=poll(async()=>{var Au;if(!_u){try{wu=await getAction(ss,createEventFilter,"createEventFilter")({address:as,args:us,event:$a,events:na,strict:pu})}catch{}_u=!0;return}try{let Pu;if(wu)Pu=await getAction(ss,getFilterChanges,"getFilterChanges")({filter:wu});else{const Su=await getAction(ss,getBlockNumber,"getBlockNumber")({});$u&&$u!==Su?Pu=await getAction(ss,getLogs,"getLogs")({address:as,args:us,event:$a,events:na,fromBlock:$u+1n,toBlock:Su}):Pu=[],$u=Su}if(Pu.length===0)return;if(cs)xu.onLogs(Pu);else for(const Su of Pu)xu.onLogs([Su])}catch(Pu){wu&&Pu instanceof InvalidInputRpcError&&(_u=!1),(Au=xu.onError)==null||Au.call(xu,Pu)}},{emitOnBegin:!0,interval:au});return async()=>{wu&&await getAction(ss,uninstallFilter,"uninstallFilter")({filter:wu}),Mu()}})})():(()=>{let bu=!0,xu=()=>bu=!1;return(async()=>{try{const $u=na??($a?[$a]:void 0);let wu=[];$u&&(wu=[$u.flatMap(Mu=>encodeEventTopics({abi:[Mu],eventName:Mu.name,args:us}))],$a&&(wu=wu[0]));const{unsubscribe:_u}=await ss.transport.subscribe({params:["logs",{address:as,topics:wu}],onData(Mu){var Pu;if(!bu)return;const Au=Mu.result;try{const{eventName:Su,args:Bu}=decodeEventLog({abi:$u,data:Au.data,topics:Au.topics,strict:pu}),Ou=formatLog(Au,{args:Bu,eventName:Su});iu([Ou])}catch(Su){let Bu,Ou;if(Su instanceof DecodeLogDataMismatch||Su instanceof DecodeLogTopicsMismatch){if(ou)return;Bu=Su.abiItem.name,Ou=(Pu=Su.abiItem.inputs)==null?void 0:Pu.some(yu=>!("name"in yu&&yu.name))}const Vu=formatLog(Au,{args:Ou?[]:{},eventName:Bu});iu([Vu])}},onError(Mu){tu==null||tu(Mu)}});xu=_u,bu||xu()}catch($u){tu==null||tu($u)}})(),xu})()}function watchPendingTransactions(ss,{batch:as=!0,onError:us,onTransactions:cs,poll:$a,pollingInterval:na=ss.pollingInterval}){return(typeof $a<"u"?$a:ss.transport.type!=="webSocket")?(()=>{const au=stringify$1(["watchPendingTransactions",ss.uid,as,na]);return observe(au,{onTransactions:cs,onError:us},ou=>{let fu;const pu=poll(async()=>{var vu;try{if(!fu)try{fu=await getAction(ss,createPendingTransactionFilter,"createPendingTransactionFilter")({});return}catch(bu){throw pu(),bu}const gu=await getAction(ss,getFilterChanges,"getFilterChanges")({filter:fu});if(gu.length===0)return;if(as)ou.onTransactions(gu);else for(const bu of gu)ou.onTransactions([bu])}catch(gu){(vu=ou.onError)==null||vu.call(ou,gu)}},{emitOnBegin:!0,interval:na});return async()=>{fu&&await getAction(ss,uninstallFilter,"uninstallFilter")({filter:fu}),pu()}})})():(()=>{let au=!0,ou=()=>au=!1;return(async()=>{try{const{unsubscribe:fu}=await ss.transport.subscribe({params:["newPendingTransactions"],onData(pu){if(!au)return;const vu=pu.result;cs([vu])},onError(pu){us==null||us(pu)}});ou=fu,au||ou()}catch(fu){us==null||us(fu)}})(),ou})()}function publicActions(ss){return{call:as=>call$2(ss,as),createBlockFilter:()=>createBlockFilter(ss),createContractEventFilter:as=>createContractEventFilter(ss,as),createEventFilter:as=>createEventFilter(ss,as),createPendingTransactionFilter:()=>createPendingTransactionFilter(ss),estimateContractGas:as=>estimateContractGas(ss,as),estimateGas:as=>estimateGas(ss,as),getBalance:as=>getBalance(ss,as),getBlock:as=>getBlock(ss,as),getBlockNumber:as=>getBlockNumber(ss,as),getBlockTransactionCount:as=>getBlockTransactionCount(ss,as),getBytecode:as=>getBytecode(ss,as),getChainId:()=>getChainId(ss),getContractEvents:as=>getContractEvents(ss,as),getEnsAddress:as=>getEnsAddress(ss,as),getEnsAvatar:as=>getEnsAvatar(ss,as),getEnsName:as=>getEnsName(ss,as),getEnsResolver:as=>getEnsResolver(ss,as),getEnsText:as=>getEnsText(ss,as),getFeeHistory:as=>getFeeHistory(ss,as),estimateFeesPerGas:as=>estimateFeesPerGas(ss,as),getFilterChanges:as=>getFilterChanges(ss,as),getFilterLogs:as=>getFilterLogs(ss,as),getGasPrice:()=>getGasPrice(ss),getLogs:as=>getLogs(ss,as),getProof:as=>getProof(ss,as),estimateMaxPriorityFeePerGas:as=>estimateMaxPriorityFeePerGas(ss,as),getStorageAt:as=>getStorageAt(ss,as),getTransaction:as=>getTransaction(ss,as),getTransactionConfirmations:as=>getTransactionConfirmations(ss,as),getTransactionCount:as=>getTransactionCount(ss,as),getTransactionReceipt:as=>getTransactionReceipt(ss,as),multicall:as=>multicall$1(ss,as),prepareTransactionRequest:as=>prepareTransactionRequest(ss,as),readContract:as=>readContract$1(ss,as),sendRawTransaction:as=>sendRawTransaction(ss,as),simulateContract:as=>simulateContract(ss,as),verifyMessage:as=>verifyMessage(ss,as),verifyTypedData:as=>verifyTypedData(ss,as),uninstallFilter:as=>uninstallFilter(ss,as),waitForTransactionReceipt:as=>waitForTransactionReceipt(ss,as),watchBlocks:as=>watchBlocks(ss,as),watchBlockNumber:as=>watchBlockNumber(ss,as),watchContractEvent:as=>watchContractEvent(ss,as),watchEvent:as=>watchEvent(ss,as),watchPendingTransactions:as=>watchPendingTransactions(ss,as)}}function createPublicClient(ss){const{key:as="public",name:us="Public Client"}=ss;return createClient({...ss,key:as,name:us,type:"publicClient"}).extend(publicActions)}function deployContract(ss,{abi:as,args:us,bytecode:cs,...$a}){const na=encodeDeployData({abi:as,args:us,bytecode:cs});return sendTransaction(ss,{...$a,data:na})}async function getAddresses(ss){var us;return((us=ss.account)==null?void 0:us.type)==="local"?[ss.account.address]:(await ss.request({method:"eth_accounts"})).map(cs=>checksumAddress$1(cs))}async function getPermissions(ss){return await ss.request({method:"wallet_getPermissions"})}async function requestAddresses(ss){return(await ss.request({method:"eth_requestAccounts"})).map(us=>getAddress(us))}async function requestPermissions(ss,as){return ss.request({method:"wallet_requestPermissions",params:[as]})}async function signMessage(ss,{account:as=ss.account,message:us}){if(!as)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const cs=parseAccount(as);if(cs.type==="local")return cs.signMessage({message:us});const $a=typeof us=="string"?stringToHex$1(us):us.raw instanceof Uint8Array?toHex$1(us.raw):us.raw;return ss.request({method:"personal_sign",params:[$a,cs.address]})}async function signTransaction(ss,as){var au,ou,fu,pu;const{account:us=ss.account,chain:cs=ss.chain,...$a}=as;if(!us)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const na=parseAccount(us);assertRequest({account:na,...as});const tu=await getAction(ss,getChainId,"getChainId")({});cs!==null&&assertCurrentChain({currentChainId:tu,chain:cs});const iu=(cs==null?void 0:cs.formatters)||((au=ss.chain)==null?void 0:au.formatters),su=((ou=iu==null?void 0:iu.transactionRequest)==null?void 0:ou.format)||formatTransactionRequest;return na.type==="local"?na.signTransaction({...$a,chainId:tu},{serializer:(pu=(fu=ss.chain)==null?void 0:fu.serializers)==null?void 0:pu.transaction}):await ss.request({method:"eth_signTransaction",params:[{...su($a),chainId:numberToHex$1(tu),from:na.address}]})}async function signTypedData(ss,{account:as=ss.account,domain:us,message:cs,primaryType:$a,types:na}){if(!as)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const tu=parseAccount(as),iu={EIP712Domain:getTypesForEIP712Domain({domain:us}),...na};if(validateTypedData({domain:us,message:cs,primaryType:$a,types:iu}),tu.type==="local")return tu.signTypedData({domain:us,primaryType:$a,types:iu,message:cs});const su=stringify$1({domain:us??{},primaryType:$a,types:iu,message:cs},(au,ou)=>isHex$1(ou)?ou.toLowerCase():ou);return ss.request({method:"eth_signTypedData_v4",params:[tu.address,su]})}async function switchChain(ss,{id:as}){await ss.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex$1(as)}]})}async function watchAsset(ss,as){return await ss.request({method:"wallet_watchAsset",params:as})}function walletActions(ss){return{addChain:as=>addChain(ss,as),deployContract:as=>deployContract(ss,as),getAddresses:()=>getAddresses(ss),getChainId:()=>getChainId(ss),getPermissions:()=>getPermissions(ss),prepareTransactionRequest:as=>prepareTransactionRequest(ss,as),requestAddresses:()=>requestAddresses(ss),requestPermissions:as=>requestPermissions(ss,as),sendRawTransaction:as=>sendRawTransaction(ss,as),sendTransaction:as=>sendTransaction(ss,as),signMessage:as=>signMessage(ss,as),signTransaction:as=>signTransaction(ss,as),signTypedData:as=>signTypedData(ss,as),switchChain:as=>switchChain(ss,as),watchAsset:as=>watchAsset(ss,as),writeContract:as=>writeContract$1(ss,as)}}function createWalletClient(ss){const{key:as="wallet",name:us="Wallet Client",transport:cs}=ss;return createClient({...ss,key:as,name:us,transport:na=>cs({...na,retryCount:0}),type:"walletClient"}).extend(walletActions)}function webSocket(ss,as={}){const{key:us="webSocket",name:cs="WebSocket JSON-RPC",retryDelay:$a}=as;return({chain:na,retryCount:tu,timeout:iu})=>{var fu;const su=as.retryCount??tu,au=iu??as.timeout??1e4,ou=ss||((fu=na==null?void 0:na.rpcUrls.default.webSocket)==null?void 0:fu[0]);if(!ou)throw new UrlRequiredError;return createTransport({key:us,name:cs,async request({method:pu,params:vu}){const gu={method:pu,params:vu},bu=await getSocket(ou),{error:xu,result:$u}=await rpc.webSocketAsync(bu,{body:gu,timeout:au});if(xu)throw new RpcRequestError({body:gu,error:xu,url:ou});return $u},retryCount:su,retryDelay:$a,timeout:au,type:"webSocket"},{getSocket(){return getSocket(ou)},async subscribe({params:pu,onData:vu,onError:gu}){const bu=await getSocket(ou),{result:xu}=await new Promise(($u,wu)=>rpc.webSocket(bu,{body:{method:"eth_subscribe",params:pu},onResponse(_u){if(_u.error){wu(_u.error),gu==null||gu(_u.error);return}if(typeof _u.id=="number"){$u(_u);return}_u.method==="eth_subscription"&&vu(_u.params)}}));return{subscriptionId:xu,async unsubscribe(){return new Promise($u=>rpc.webSocket(bu,{body:{method:"eth_unsubscribe",params:[xu]},onResponse:$u}))}}}})}}const goerli=defineChain({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0}),mainnet=defineChain({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});var ChainNotConfiguredForConnectorError=class extends Error{constructor({chainId:ss,connectorId:as}){super(`Chain "${ss}" not configured for connector "${as}".`),this.name="ChainNotConfiguredForConnectorError"}},ConnectorNotFoundError=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}};function normalizeChainId(ss){return typeof ss=="string"?Number.parseInt(ss,ss.trim().substring(0,2)==="0x"?16:10):typeof ss=="bigint"?Number(ss):ss}var eventemitter3={exports:{}};(function(ss){var as=Object.prototype.hasOwnProperty,us="~";function cs(){}Object.create&&(cs.prototype=Object.create(null),new cs().__proto__||(us=!1));function $a(su,au,ou){this.fn=su,this.context=au,this.once=ou||!1}function na(su,au,ou,fu,pu){if(typeof ou!="function")throw new TypeError("The listener must be a function");var vu=new $a(ou,fu||su,pu),gu=us?us+au:au;return su._events[gu]?su._events[gu].fn?su._events[gu]=[su._events[gu],vu]:su._events[gu].push(vu):(su._events[gu]=vu,su._eventsCount++),su}function tu(su,au){--su._eventsCount===0?su._events=new cs:delete su._events[au]}function iu(){this._events=new cs,this._eventsCount=0}iu.prototype.eventNames=function(){var au=[],ou,fu;if(this._eventsCount===0)return au;for(fu in ou=this._events)as.call(ou,fu)&&au.push(us?fu.slice(1):fu);return Object.getOwnPropertySymbols?au.concat(Object.getOwnPropertySymbols(ou)):au},iu.prototype.listeners=function(au){var ou=us?us+au:au,fu=this._events[ou];if(!fu)return[];if(fu.fn)return[fu.fn];for(var pu=0,vu=fu.length,gu=new Array(vu);pu<vu;pu++)gu[pu]=fu[pu].fn;return gu},iu.prototype.listenerCount=function(au){var ou=us?us+au:au,fu=this._events[ou];return fu?fu.fn?1:fu.length:0},iu.prototype.emit=function(au,ou,fu,pu,vu,gu){var bu=us?us+au:au;if(!this._events[bu])return!1;var xu=this._events[bu],$u=arguments.length,wu,_u;if(xu.fn){switch(xu.once&&this.removeListener(au,xu.fn,void 0,!0),$u){case 1:return xu.fn.call(xu.context),!0;case 2:return xu.fn.call(xu.context,ou),!0;case 3:return xu.fn.call(xu.context,ou,fu),!0;case 4:return xu.fn.call(xu.context,ou,fu,pu),!0;case 5:return xu.fn.call(xu.context,ou,fu,pu,vu),!0;case 6:return xu.fn.call(xu.context,ou,fu,pu,vu,gu),!0}for(_u=1,wu=new Array($u-1);_u<$u;_u++)wu[_u-1]=arguments[_u];xu.fn.apply(xu.context,wu)}else{var Mu=xu.length,Au;for(_u=0;_u<Mu;_u++)switch(xu[_u].once&&this.removeListener(au,xu[_u].fn,void 0,!0),$u){case 1:xu[_u].fn.call(xu[_u].context);break;case 2:xu[_u].fn.call(xu[_u].context,ou);break;case 3:xu[_u].fn.call(xu[_u].context,ou,fu);break;case 4:xu[_u].fn.call(xu[_u].context,ou,fu,pu);break;default:if(!wu)for(Au=1,wu=new Array($u-1);Au<$u;Au++)wu[Au-1]=arguments[Au];xu[_u].fn.apply(xu[_u].context,wu)}}return!0},iu.prototype.on=function(au,ou,fu){return na(this,au,ou,fu,!1)},iu.prototype.once=function(au,ou,fu){return na(this,au,ou,fu,!0)},iu.prototype.removeListener=function(au,ou,fu,pu){var vu=us?us+au:au;if(!this._events[vu])return this;if(!ou)return tu(this,vu),this;var gu=this._events[vu];if(gu.fn)gu.fn===ou&&(!pu||gu.once)&&(!fu||gu.context===fu)&&tu(this,vu);else{for(var bu=0,xu=[],$u=gu.length;bu<$u;bu++)(gu[bu].fn!==ou||pu&&!gu[bu].once||fu&&gu[bu].context!==fu)&&xu.push(gu[bu]);xu.length?this._events[vu]=xu.length===1?xu[0]:xu:tu(this,vu)}return this},iu.prototype.removeAllListeners=function(au){var ou;return au?(ou=us?us+au:au,this._events[ou]&&tu(this,ou)):(this._events=new cs,this._eventsCount=0),this},iu.prototype.off=iu.prototype.removeListener,iu.prototype.addListener=iu.prototype.on,iu.prefixed=us,iu.EventEmitter=iu,ss.exports=iu})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs$1(eventemitter3Exports);var __accessCheck$1=(ss,as,us)=>{if(!as.has(ss))throw TypeError("Cannot "+us)},__privateGet$1=(ss,as,us)=>(__accessCheck$1(ss,as,"read from private field"),us?us.call(ss):as.get(ss)),__privateAdd$1=(ss,as,us)=>{if(as.has(ss))throw TypeError("Cannot add the same private member more than once");as instanceof WeakSet?as.add(ss):as.set(ss,us)},__privateSet$1=(ss,as,us,cs)=>(__accessCheck$1(ss,as,"write to private field"),as.set(ss,us),us),__privateMethod$1=(ss,as,us)=>(__accessCheck$1(ss,as,"access private method"),us),Connector=class extends EventEmitter$1{constructor({chains:ss=[mainnet,goerli],options:as}){super(),this.chains=ss,this.options=as}getBlockExplorerUrls(ss){const{default:as,...us}=ss.blockExplorers??{};if(as)return[as.url,...Object.values(us).map(cs=>cs.url)]}isChainUnsupported(ss){return!this.chains.some(as=>as.id===ss)}setStorage(ss){this.storage=ss}};function getInjectedName(ss){var us;if(!ss)return"Injected";const as=cs=>{if(cs.isApexWallet)return"Apex Wallet";if(cs.isAvalanche)return"Core Wallet";if(cs.isBackpack)return"Backpack";if(cs.isBifrost)return"Bifrost Wallet";if(cs.isBitKeep)return"BitKeep";if(cs.isBitski)return"Bitski";if(cs.isBlockWallet)return"BlockWallet";if(cs.isBraveWallet)return"Brave Wallet";if(cs.isCoin98)return"Coin98 Wallet";if(cs.isCoinbaseWallet)return"Coinbase Wallet";if(cs.isDawn)return"Dawn Wallet";if(cs.isDefiant)return"Defiant";if(cs.isDesig)return"Desig Wallet";if(cs.isEnkrypt)return"Enkrypt";if(cs.isExodus)return"Exodus";if(cs.isFordefi)return"Fordefi";if(cs.isFrame)return"Frame";if(cs.isFrontier)return"Frontier Wallet";if(cs.isGamestop)return"GameStop Wallet";if(cs.isHaqqWallet)return"HAQQ Wallet";if(cs.isHyperPay)return"HyperPay Wallet";if(cs.isImToken)return"ImToken";if(cs.isHaloWallet)return"Halo Wallet";if(cs.isKuCoinWallet)return"KuCoin Wallet";if(cs.isMathWallet)return"MathWallet";if(cs.isNovaWallet)return"Nova Wallet";if(cs.isOkxWallet||cs.isOKExWallet)return"OKX Wallet";if(cs.isOktoWallet)return"Okto Wallet";if(cs.isOneInchIOSWallet||cs.isOneInchAndroidWallet)return"1inch Wallet";if(cs.isOneKey)return"OneKey Wallet";if(cs.isOpera)return"Opera";if(cs.isPhantom)return"Phantom";if(cs.isPortal)return"Ripio Portal";if(cs.isRabby)return"Rabby Wallet";if(cs.isRainbow)return"Rainbow";if(cs.isSafePal)return"SafePal Wallet";if(cs.isStatus)return"Status";if(cs.isSubWallet)return"SubWallet";if(cs.isTalisman)return"Talisman";if(cs.isTally)return"Taho";if(cs.isTokenPocket)return"TokenPocket";if(cs.isTokenary)return"Tokenary";if(cs.isTrust||cs.isTrustWallet)return"Trust Wallet";if(cs.isTTWallet)return"TTWallet";if(cs.isXDEFI)return"XDEFI Wallet";if(cs.isZeal)return"Zeal";if(cs.isZerion)return"Zerion";if(cs.isMetaMask)return"MetaMask"};if((us=ss.providers)!=null&&us.length){const cs=new Set;let $a=1;for(const tu of ss.providers){let iu=as(tu);iu||(iu=`Unknown Wallet #${$a}`,$a+=1),cs.add(iu)}const na=[...cs];return na.length?na:na[0]??"Injected"}return as(ss)??"Injected"}var _provider$2,InjectedConnector=class extends Connector{constructor({chains:ss,options:as}={}){const us={shimDisconnect:!0,getProvider(){if(typeof window>"u")return;const $a=window.ethereum;return $a!=null&&$a.providers&&$a.providers.length>0?$a.providers[0]:$a},...as};super({chains:ss,options:us}),this.id="injected",__privateAdd$1(this,_provider$2,void 0),this.shimDisconnectKey=`${this.id}.shimDisconnect`,this.onAccountsChanged=$a=>{$a.length===0?this.emit("disconnect"):this.emit("change",{account:getAddress($a[0])})},this.onChainChanged=$a=>{const na=normalizeChainId($a),tu=this.isChainUnsupported(na);this.emit("change",{chain:{id:na,unsupported:tu}})},this.onDisconnect=async $a=>{var na;$a.code===1013&&await this.getProvider()&&await this.getAccount()||(this.emit("disconnect"),this.options.shimDisconnect&&((na=this.storage)==null||na.removeItem(this.shimDisconnectKey)))};const cs=us.getProvider();if(typeof us.name=="string")this.name=us.name;else if(cs){const $a=getInjectedName(cs);us.name?this.name=us.name($a):typeof $a=="string"?this.name=$a:this.name=$a[0]}else this.name="Injected";this.ready=!!cs}async connect({chainId:ss}={}){var as;try{const us=await this.getProvider();if(!us)throw new ConnectorNotFoundError;us.on&&(us.on("accountsChanged",this.onAccountsChanged),us.on("chainChanged",this.onChainChanged),us.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const cs=await us.request({method:"eth_requestAccounts"}),$a=getAddress(cs[0]);let na=await this.getChainId(),tu=this.isChainUnsupported(na);return ss&&na!==ss&&(na=(await this.switchChain(ss)).id,tu=this.isChainUnsupported(na)),this.options.shimDisconnect&&((as=this.storage)==null||as.setItem(this.shimDisconnectKey,!0)),{account:$a,chain:{id:na,unsupported:tu}}}catch(us){throw this.isUserRejectedRequestError(us)?new UserRejectedRequestError(us):us.code===-32002?new ResourceUnavailableRpcError(us):us}}async disconnect(){var as;const ss=await this.getProvider();ss!=null&&ss.removeListener&&(ss.removeListener("accountsChanged",this.onAccountsChanged),ss.removeListener("chainChanged",this.onChainChanged),ss.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&((as=this.storage)==null||as.removeItem(this.shimDisconnectKey)))}async getAccount(){const ss=await this.getProvider();if(!ss)throw new ConnectorNotFoundError;const as=await ss.request({method:"eth_accounts"});return getAddress(as[0])}async getChainId(){const ss=await this.getProvider();if(!ss)throw new ConnectorNotFoundError;return ss.request({method:"eth_chainId"}).then(normalizeChainId)}async getProvider(){const ss=this.options.getProvider();return ss&&__privateSet$1(this,_provider$2,ss),__privateGet$1(this,_provider$2)}async getWalletClient({chainId:ss}={}){const[as,us]=await Promise.all([this.getProvider(),this.getAccount()]),cs=this.chains.find($a=>$a.id===ss);if(!as)throw new Error("provider is required.");return createWalletClient({account:us,chain:cs,transport:custom(as)})}async isAuthorized(){var ss;try{if(this.options.shimDisconnect&&!((ss=this.storage)!=null&&ss.getItem(this.shimDisconnectKey)))return!1;if(!await this.getProvider())throw new ConnectorNotFoundError;return!!await this.getAccount()}catch{return!1}}async switchChain(ss){var cs,$a,na;const as=await this.getProvider();if(!as)throw new ConnectorNotFoundError;const us=numberToHex$1(ss);try{return await Promise.all([as.request({method:"wallet_switchEthereumChain",params:[{chainId:us}]}),new Promise(tu=>this.on("change",({chain:iu})=>{(iu==null?void 0:iu.id)===ss&&tu()}))]),this.chains.find(tu=>tu.id===ss)??{id:ss,name:`Chain ${us}`,network:`${us}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(tu){const iu=this.chains.find(su=>su.id===ss);if(!iu)throw new ChainNotConfiguredForConnectorError({chainId:ss,connectorId:this.id});if(tu.code===4902||(($a=(cs=tu==null?void 0:tu.data)==null?void 0:cs.originalError)==null?void 0:$a.code)===4902)try{if(await as.request({method:"wallet_addEthereumChain",params:[{chainId:us,chainName:iu.name,nativeCurrency:iu.nativeCurrency,rpcUrls:[((na=iu.rpcUrls.public)==null?void 0:na.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(iu)}]}),await this.getChainId()!==ss)throw new UserRejectedRequestError(new Error("User rejected switch after adding network."));return iu}catch(su){throw new UserRejectedRequestError(su)}throw this.isUserRejectedRequestError(tu)?new UserRejectedRequestError(tu):new SwitchChainError(tu)}}async watchAsset({address:ss,decimals:as=18,image:us,symbol:cs}){const $a=await this.getProvider();if(!$a)throw new ConnectorNotFoundError;return $a.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:ss,decimals:as,image:us,symbol:cs}}})}isUserRejectedRequestError(ss){return ss.code===4001}};_provider$2=new WeakMap;var __accessCheck=(ss,as,us)=>{if(!as.has(ss))throw TypeError("Cannot "+us)},__privateGet=(ss,as,us)=>(__accessCheck(ss,as,"read from private field"),as.get(ss)),__privateAdd=(ss,as,us)=>{if(as.has(ss))throw TypeError("Cannot add the same private member more than once");as instanceof WeakSet?as.add(ss):as.set(ss,us)},__privateSet=(ss,as,us,cs)=>(__accessCheck(ss,as,"write to private field"),as.set(ss,us),us),__privateMethod=(ss,as,us)=>(__accessCheck(ss,as,"access private method"),us);const __vite_import_meta_env__$1={},subscribeWithSelectorImpl=ss=>(as,us,cs)=>{const $a=cs.subscribe;return cs.subscribe=(tu,iu,su)=>{let au=tu;if(iu){const ou=(su==null?void 0:su.equalityFn)||Object.is;let fu=tu(cs.getState());au=pu=>{const vu=tu(pu);if(!ou(fu,vu)){const gu=fu;iu(fu=vu,gu)}},su!=null&&su.fireImmediately&&iu(fu,fu)}return $a(au)},ss(as,us,cs)},subscribeWithSelector=subscribeWithSelectorImpl;function createJSONStorage(ss,as){let us;try{us=ss()}catch{return}return{getItem:$a=>{var na;const tu=su=>su===null?null:JSON.parse(su,void 0),iu=(na=us.getItem($a))!=null?na:null;return iu instanceof Promise?iu.then(tu):tu(iu)},setItem:($a,na)=>us.setItem($a,JSON.stringify(na,void 0)),removeItem:$a=>us.removeItem($a)}}const toThenable=ss=>as=>{try{const us=ss(as);return us instanceof Promise?us:{then(cs){return toThenable(cs)(us)},catch(cs){return this}}}catch(us){return{then(cs){return this},catch(cs){return toThenable(cs)(us)}}}},oldImpl=(ss,as)=>(us,cs,$a)=>{let na={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:xu=>xu,version:0,merge:(xu,$u)=>({...$u,...xu}),...as},tu=!1;const iu=new Set,su=new Set;let au;try{au=na.getStorage()}catch{}if(!au)return ss((...xu)=>{console.warn(`[zustand persist middleware] Unable to update item '${na.name}', the given storage is currently unavailable.`),us(...xu)},cs,$a);const ou=toThenable(na.serialize),fu=()=>{const xu=na.partialize({...cs()});let $u;const wu=ou({state:xu,version:na.version}).then(_u=>au.setItem(na.name,_u)).catch(_u=>{$u=_u});if($u)throw $u;return wu},pu=$a.setState;$a.setState=(xu,$u)=>{pu(xu,$u),fu()};const vu=ss((...xu)=>{us(...xu),fu()},cs,$a);let gu;const bu=()=>{var xu;if(!au)return;tu=!1,iu.forEach(wu=>wu(cs()));const $u=((xu=na.onRehydrateStorage)==null?void 0:xu.call(na,cs()))||void 0;return toThenable(au.getItem.bind(au))(na.name).then(wu=>{if(wu)return na.deserialize(wu)}).then(wu=>{if(wu)if(typeof wu.version=="number"&&wu.version!==na.version){if(na.migrate)return na.migrate(wu.state,wu.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return wu.state}).then(wu=>{var _u;return gu=na.merge(wu,(_u=cs())!=null?_u:vu),us(gu,!0),fu()}).then(()=>{$u==null||$u(gu,void 0),tu=!0,su.forEach(wu=>wu(gu))}).catch(wu=>{$u==null||$u(void 0,wu)})};return $a.persist={setOptions:xu=>{na={...na,...xu},xu.getStorage&&(au=xu.getStorage())},clearStorage:()=>{au==null||au.removeItem(na.name)},getOptions:()=>na,rehydrate:()=>bu(),hasHydrated:()=>tu,onHydrate:xu=>(iu.add(xu),()=>{iu.delete(xu)}),onFinishHydration:xu=>(su.add(xu),()=>{su.delete(xu)})},bu(),gu||vu},newImpl=(ss,as)=>(us,cs,$a)=>{let na={storage:createJSONStorage(()=>localStorage),partialize:bu=>bu,version:0,merge:(bu,xu)=>({...xu,...bu}),...as},tu=!1;const iu=new Set,su=new Set;let au=na.storage;if(!au)return ss((...bu)=>{console.warn(`[zustand persist middleware] Unable to update item '${na.name}', the given storage is currently unavailable.`),us(...bu)},cs,$a);const ou=()=>{const bu=na.partialize({...cs()});return au.setItem(na.name,{state:bu,version:na.version})},fu=$a.setState;$a.setState=(bu,xu)=>{fu(bu,xu),ou()};const pu=ss((...bu)=>{us(...bu),ou()},cs,$a);$a.getInitialState=()=>pu;let vu;const gu=()=>{var bu,xu;if(!au)return;tu=!1,iu.forEach(wu=>{var _u;return wu((_u=cs())!=null?_u:pu)});const $u=((xu=na.onRehydrateStorage)==null?void 0:xu.call(na,(bu=cs())!=null?bu:pu))||void 0;return toThenable(au.getItem.bind(au))(na.name).then(wu=>{if(wu)if(typeof wu.version=="number"&&wu.version!==na.version){if(na.migrate)return[!0,na.migrate(wu.state,wu.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,wu.state];return[!1,void 0]}).then(wu=>{var _u;const[Mu,Au]=wu;if(vu=na.merge(Au,(_u=cs())!=null?_u:pu),us(vu,!0),Mu)return ou()}).then(()=>{$u==null||$u(vu,void 0),vu=cs(),tu=!0,su.forEach(wu=>wu(vu))}).catch(wu=>{$u==null||$u(void 0,wu)})};return $a.persist={setOptions:bu=>{na={...na,...bu},bu.storage&&(au=bu.storage)},clearStorage:()=>{au==null||au.removeItem(na.name)},getOptions:()=>na,rehydrate:()=>gu(),hasHydrated:()=>tu,onHydrate:bu=>(iu.add(bu),()=>{iu.delete(bu)}),onFinishHydration:bu=>(su.add(bu),()=>{su.delete(bu)})},na.skipHydration||gu(),vu||pu},persistImpl=(ss,as)=>"getStorage"in as||"serialize"in as||"deserialize"in as?((__vite_import_meta_env__$1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(ss,as)):newImpl(ss,as),persist=persistImpl,__vite_import_meta_env__={},createStoreImpl=ss=>{let as;const us=new Set,cs=(ou,fu)=>{const pu=typeof ou=="function"?ou(as):ou;if(!Object.is(pu,as)){const vu=as;as=fu??(typeof pu!="object"||pu===null)?pu:Object.assign({},as,pu),us.forEach(gu=>gu(as,vu))}},$a=()=>as,su={setState:cs,getState:$a,getInitialState:()=>au,subscribe:ou=>(us.add(ou),()=>us.delete(ou)),destroy:()=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),us.clear()}},au=as=ss(cs,$a,su);return su},createStore$1=ss=>ss?createStoreImpl(ss):createStoreImpl;function shallow$1(ss,as){if(Object.is(ss,as))return!0;if(typeof ss!="object"||ss===null||typeof as!="object"||as===null)return!1;if(ss instanceof Map&&as instanceof Map){if(ss.size!==as.size)return!1;for(const[cs,$a]of ss)if(!Object.is($a,as.get(cs)))return!1;return!0}if(ss instanceof Set&&as instanceof Set){if(ss.size!==as.size)return!1;for(const cs of ss)if(!as.has(cs))return!1;return!0}const us=Object.keys(ss);if(us.length!==Object.keys(as).length)return!1;for(const cs of us)if(!Object.prototype.hasOwnProperty.call(as,cs)||!Object.is(ss[cs],as[cs]))return!1;return!0}function configureChains(ss,as,{batch:us={multicall:{wait:32}},pollingInterval:cs=4e3,rank:$a,retryCount:na,retryDelay:tu,stallTimeout:iu}={}){if(!ss.length)throw new Error("must have at least one chain");let su=[];const au={},ou={};for(const fu of ss){let pu=!1;for(const vu of as){const gu=vu(fu);gu&&(pu=!0,su.some(({id:bu})=>bu===fu.id)||(su=[...su,gu.chain]),au[fu.id]=[...au[fu.id]||[],...gu.rpcUrls.http],gu.rpcUrls.webSocket&&(ou[fu.id]=[...ou[fu.id]||[],...gu.rpcUrls.webSocket]))}if(!pu)throw new Error([`Could not find valid provider configuration for chain "${fu.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join(`
`))}return{chains:su,publicClient:({chainId:fu})=>{const pu=su.find(bu=>bu.id===fu)??ss[0],vu=au[pu.id];if(!vu||!vu[0])throw new Error(`No providers configured for chain "${pu.id}"`);const gu=createPublicClient({batch:us,chain:pu,transport:fallback(vu.map(bu=>http(bu,{timeout:iu})),{rank:$a,retryCount:na,retryDelay:tu}),pollingInterval:cs});return Object.assign(gu,{chains:su})},webSocketPublicClient:({chainId:fu})=>{const pu=su.find(bu=>bu.id===fu)??ss[0],vu=ou[pu.id];if(!vu||!vu[0])return;const gu=createPublicClient({batch:us,chain:pu,transport:fallback(vu.map(bu=>webSocket(bu,{timeout:iu})),{rank:$a,retryCount:na,retryDelay:tu}),pollingInterval:cs});return Object.assign(gu,{chains:su})}}}var ChainMismatchError=class extends Error{constructor({activeChain:ss,targetChain:as}){super(`Chain mismatch: Expected "${as}", received "${ss}".`),this.name="ChainMismatchError"}},ChainNotConfiguredError=class extends Error{constructor({chainId:ss,connectorId:as}){super(`Chain "${ss}" not configured${as?` for connector "${as}"`:""}.`),this.name="ChainNotConfigured"}},ConnectorAlreadyConnectedError=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},ConfigChainsNotFound=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}};function deepEqual(ss,as){if(ss===as)return!0;if(ss&&as&&typeof ss=="object"&&typeof as=="object"){if(ss.constructor!==as.constructor)return!1;let us,cs;if(Array.isArray(ss)&&Array.isArray(as)){if(us=ss.length,us!=as.length)return!1;for(cs=us;cs--!==0;)if(!deepEqual(ss[cs],as[cs]))return!1;return!0}if(ss.valueOf!==Object.prototype.valueOf)return ss.valueOf()===as.valueOf();if(ss.toString!==Object.prototype.toString)return ss.toString()===as.toString();const $a=Object.keys(ss);if(us=$a.length,us!==Object.keys(as).length)return!1;for(cs=us;cs--!==0;)if(!Object.prototype.hasOwnProperty.call(as,$a[cs]))return!1;for(cs=us;cs--!==0;){const na=$a[cs];if(na&&!deepEqual(ss[na],as[na]))return!1}return!0}return ss!==ss&&as!==as}var findAndReplace=(ss,{find:as,replace:us})=>ss&&as(ss)?us(ss):typeof ss!="object"?ss:Array.isArray(ss)?ss.map(cs=>findAndReplace(cs,{find:as,replace:us})):ss instanceof Object?Object.entries(ss).reduce((cs,[$a,na])=>({...cs,[$a]:findAndReplace(na,{find:as,replace:us})}),{}):ss;function deserialize(ss){const as=JSON.parse(ss);return findAndReplace(as,{find:cs=>typeof cs=="string"&&cs.startsWith("#bigint."),replace:cs=>BigInt(cs.replace("#bigint.",""))})}function getCallParameters(ss){return{accessList:ss.accessList,account:ss.account,blockNumber:ss.blockNumber,blockTag:ss.blockTag,data:ss.data,gas:ss.gas,gasPrice:ss.gasPrice,maxFeePerGas:ss.maxFeePerGas,maxPriorityFeePerGas:ss.maxPriorityFeePerGas,nonce:ss.nonce,to:ss.to,value:ss.value}}function getSendTransactionParameters(ss){return{accessList:ss.accessList,account:ss.account,data:ss.data,gas:ss.gas,gasPrice:ss.gasPrice,maxFeePerGas:ss.maxFeePerGas,maxPriorityFeePerGas:ss.maxPriorityFeePerGas,nonce:ss.nonce,to:ss.to,value:ss.value}}function getReferenceKey(ss,as){return ss.slice(0,as).join(".")||"."}function getCutoff(ss,as){const{length:us}=ss;for(let cs=0;cs<us;++cs)if(ss[cs]===as)return cs+1;return 0}function createReplacer(ss,as){const us=typeof ss=="function",cs=typeof as=="function",$a=[],na=[];return function(iu,su){if(typeof su=="object")if($a.length){const au=getCutoff($a,this);au===0?$a[$a.length]=this:($a.splice(au),na.splice(au)),na[na.length]=iu;const ou=getCutoff($a,su);if(ou!==0)return cs?as.call(this,iu,su,getReferenceKey(na,ou)):`[ref=${getReferenceKey(na,ou)}]`}else $a[0]=su,na[0]=iu;return us?ss.call(this,iu,su):su}}function serialize(ss,as,us,cs){return JSON.stringify(ss,createReplacer(($a,na)=>{const tu=typeof na=="bigint"?`#bigint.${na.toString()}`:na;return(as==null?void 0:as($a,tu))||tu},cs),us??void 0)}var noopStorage={getItem:ss=>"",setItem:(ss,as)=>null,removeItem:ss=>null};function createStorage$1({deserialize:ss=deserialize,key:as="wagmi",serialize:us=serialize,storage:cs}){return{...cs,getItem:($a,na=null)=>{const tu=cs.getItem(`${as}.${$a}`);try{return tu?ss(tu):na}catch(iu){return console.warn(iu),na}},setItem:($a,na)=>{if(na===null)cs.removeItem(`${as}.${$a}`);else try{cs.setItem(`${as}.${$a}`,us(na))}catch(tu){console.error(tu)}},removeItem:$a=>cs.removeItem(`${as}.${$a}`)}}var storeKey="store",_isAutoConnecting,_lastUsedConnector,_addEffects,addEffects_fn,Config=class{constructor({autoConnect:ss=!1,connectors:as=[new InjectedConnector],publicClient:us,storage:cs=createStorage$1({storage:typeof window<"u"?window.localStorage:noopStorage}),logger:$a={warn:console.warn},webSocketPublicClient:na}){var au,ou;__privateAdd(this,_addEffects),this.publicClients=new Map,this.webSocketPublicClients=new Map,__privateAdd(this,_isAutoConnecting,void 0),__privateAdd(this,_lastUsedConnector,void 0),this.args={autoConnect:ss,connectors:as,logger:$a,publicClient:us,storage:cs,webSocketPublicClient:na};let tu="disconnected",iu;if(ss)try{const fu=cs.getItem(storeKey),pu=(au=fu==null?void 0:fu.state)==null?void 0:au.data;tu=pu!=null&&pu.account?"reconnecting":"connecting",iu=(ou=pu==null?void 0:pu.chain)==null?void 0:ou.id}catch{}const su=typeof as=="function"?as():as;su.forEach(fu=>fu.setStorage(cs)),this.store=createStore$1(subscribeWithSelector(persist(()=>({connectors:su,publicClient:this.getPublicClient({chainId:iu}),status:tu,webSocketPublicClient:this.getWebSocketPublicClient({chainId:iu})}),{name:storeKey,storage:cs,partialize:fu=>{var pu,vu;return{...ss&&{data:{account:(pu=fu==null?void 0:fu.data)==null?void 0:pu.account,chain:(vu=fu==null?void 0:fu.data)==null?void 0:vu.chain}},chains:fu==null?void 0:fu.chains}},version:2}))),this.storage=cs,__privateSet(this,_lastUsedConnector,cs==null?void 0:cs.getItem("wallet")),__privateMethod(this,_addEffects,addEffects_fn).call(this),ss&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var ss,as;return(as=(ss=this.data)==null?void 0:ss.chain)==null?void 0:as.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(ss){const as=typeof ss=="function"?ss(this.store.getState()):ss;this.store.setState(as,!0)}clearState(){this.setState(ss=>({...ss,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var ss,as;this.connector&&await((as=(ss=this.connector).disconnect)==null?void 0:as.call(ss)),__privateSet(this,_isAutoConnecting,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(__privateGet(this,_isAutoConnecting))return;__privateSet(this,_isAutoConnecting,!0),this.setState(us=>{var cs;return{...us,status:(cs=us.data)!=null&&cs.account?"reconnecting":"connecting"}});const ss=__privateGet(this,_lastUsedConnector)?[...this.connectors].sort(us=>us.id===__privateGet(this,_lastUsedConnector)?-1:1):this.connectors;let as=!1;for(const us of ss){if(!us.ready||!us.isAuthorized||!await us.isAuthorized())continue;const $a=await us.connect();this.setState(na=>({...na,connector:us,chains:us==null?void 0:us.chains,data:$a,status:"connected"})),as=!0;break}return as||this.setState(us=>({...us,data:void 0,status:"disconnected"})),__privateSet(this,_isAutoConnecting,!1),this.data}setConnectors(ss){this.args={...this.args,connectors:ss};const as=typeof ss=="function"?ss():ss;as.forEach(us=>us.setStorage(this.args.storage)),this.setState(us=>({...us,connectors:as}))}getPublicClient({chainId:ss}={}){let as=this.publicClients.get(-1);if(as&&(as==null?void 0:as.chain.id)===ss||(as=this.publicClients.get(ss??-1),as))return as;const{publicClient:us}=this.args;return as=typeof us=="function"?us({chainId:ss}):us,this.publicClients.set(ss??-1,as),as}setPublicClient(ss){var us,cs;const as=(cs=(us=this.data)==null?void 0:us.chain)==null?void 0:cs.id;this.args={...this.args,publicClient:ss},this.publicClients.clear(),this.setState($a=>({...$a,publicClient:this.getPublicClient({chainId:as})}))}getWebSocketPublicClient({chainId:ss}={}){let as=this.webSocketPublicClients.get(-1);if(as&&(as==null?void 0:as.chain.id)===ss||(as=this.webSocketPublicClients.get(ss??-1),as))return as;const{webSocketPublicClient:us}=this.args;return as=typeof us=="function"?us({chainId:ss}):us,as&&this.webSocketPublicClients.set(ss??-1,as),as}setWebSocketPublicClient(ss){var us,cs;const as=(cs=(us=this.data)==null?void 0:us.chain)==null?void 0:cs.id;this.args={...this.args,webSocketPublicClient:ss},this.webSocketPublicClients.clear(),this.setState($a=>({...$a,webSocketPublicClient:this.getWebSocketPublicClient({chainId:as})}))}setLastUsedConnector(ss=null){var as;(as=this.storage)==null||as.setItem("wallet",ss)}};_isAutoConnecting=new WeakMap;_lastUsedConnector=new WeakMap;_addEffects=new WeakSet;addEffects_fn=function(){const ss=iu=>{this.setState(su=>({...su,data:{...su.data,...iu}}))},as=()=>{this.clearState()},us=iu=>{this.setState(su=>({...su,error:iu}))};this.store.subscribe(({connector:iu})=>iu,(iu,su)=>{var au,ou,fu,pu,vu,gu;(au=su==null?void 0:su.off)==null||au.call(su,"change",ss),(ou=su==null?void 0:su.off)==null||ou.call(su,"disconnect",as),(fu=su==null?void 0:su.off)==null||fu.call(su,"error",us),iu&&((pu=iu.on)==null||pu.call(iu,"change",ss),(vu=iu.on)==null||vu.call(iu,"disconnect",as),(gu=iu.on)==null||gu.call(iu,"error",us))});const{publicClient:cs,webSocketPublicClient:$a}=this.args;(typeof cs=="function"||typeof $a=="function")&&this.store.subscribe(({data:iu})=>{var su;return(su=iu==null?void 0:iu.chain)==null?void 0:su.id},iu=>{this.setState(su=>({...su,publicClient:this.getPublicClient({chainId:iu}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:iu})}))})};var config$2;function createConfig$1(ss){const as=new Config(ss);return config$2=as,as}function getConfig(){if(!config$2)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return config$2}async function connect({chainId:ss,connector:as}){const us=getConfig(),cs=us.connector;if(cs&&as.id===cs.id)throw new ConnectorAlreadyConnectedError;try{us.setState(na=>({...na,status:"connecting"}));const $a=await as.connect({chainId:ss});return us.setLastUsedConnector(as.id),us.setState(na=>({...na,connector:as,chains:as==null?void 0:as.chains,data:$a,status:"connected"})),us.storage.setItem("connected",!0),{...$a,connector:as}}catch($a){throw us.setState(na=>({...na,status:na.connector?"connected":"disconnected"})),$a}}async function disconnect(){const ss=getConfig();ss.connector&&await ss.connector.disconnect(),ss.clearState(),ss.storage.removeItem("connected")}function getPublicClient({chainId:ss}={}){const as=getConfig();return ss&&as.getPublicClient({chainId:ss})||as.publicClient}async function getWalletClient({chainId:ss}={}){var cs,$a;return await(($a=(cs=getConfig().connector)==null?void 0:cs.getWalletClient)==null?void 0:$a.call(cs,{chainId:ss}))||null}function getWebSocketPublicClient({chainId:ss}={}){const as=getConfig();return ss&&as.getWebSocketPublicClient({chainId:ss})||as.webSocketPublicClient}function watchPublicClient(ss,as){const us=getConfig(),cs=async()=>as(getPublicClient(ss));return us.subscribe(({publicClient:na})=>na,cs)}function watchWebSocketPublicClient(ss,as){const us=getConfig(),cs=async()=>as(getWebSocketPublicClient(ss));return us.subscribe(({webSocketPublicClient:na})=>na,cs)}async function prepareWriteContract({abi:ss,address:as,args:us,chainId:cs,dataSuffix:$a,functionName:na,walletClient:tu,...iu}){const su=getPublicClient({chainId:cs}),au=tu??await getWalletClient({chainId:cs});if(!au)throw new ConnectorNotFoundError;cs&&assertActiveChain({chainId:cs});const{account:ou,accessList:fu,blockNumber:pu,blockTag:vu,gas:gu,gasPrice:bu,maxFeePerGas:xu,maxPriorityFeePerGas:$u,nonce:wu,value:_u}=getCallParameters(iu),{result:Mu,request:Au}=await su.simulateContract({abi:ss,address:as,functionName:na,args:us,account:ou||au.account,accessList:fu,blockNumber:pu,blockTag:vu,dataSuffix:$a,gas:gu,gasPrice:bu,maxFeePerGas:xu,maxPriorityFeePerGas:$u,nonce:wu,value:_u}),Pu=ss.filter(Su=>"name"in Su&&Su.name===na);return{mode:"prepared",request:{...Au,abi:Pu,chainId:cs},result:Mu}}async function multicall({chainId:ss,contracts:as,blockNumber:us,blockTag:cs,...$a}){const na=getPublicClient({chainId:ss});if(!na.chains)throw new ConfigChainsNotFound;if(ss&&na.chain.id!==ss)throw new ChainNotConfiguredError({chainId:ss});return na.multicall({allowFailure:$a.allowFailure??!0,blockNumber:us,blockTag:cs,contracts:as})}async function readContract({address:ss,account:as,chainId:us,abi:cs,args:$a,functionName:na,blockNumber:tu,blockTag:iu}){return getPublicClient({chainId:us}).readContract({abi:cs,address:ss,account:as,functionName:na,args:$a,blockNumber:tu,blockTag:iu})}async function readContracts({contracts:ss,blockNumber:as,blockTag:us,...cs}){const{allowFailure:$a=!0}=cs;try{const na=getPublicClient(),tu=ss.reduce((ou,fu,pu)=>{const vu=fu.chainId??na.chain.id;return{...ou,[vu]:[...ou[vu]||[],{contract:fu,index:pu}]}},{}),iu=()=>Object.entries(tu).map(([ou,fu])=>multicall({allowFailure:$a,chainId:parseInt(ou),contracts:fu.map(({contract:pu})=>pu),blockNumber:as,blockTag:us})),su=(await Promise.all(iu())).flat(),au=Object.values(tu).flatMap(ou=>ou.map(({index:fu})=>fu));return su.reduce((ou,fu,pu)=>(ou&&(ou[au[pu]]=fu),ou),[])}catch(na){if(na instanceof ContractFunctionExecutionError)throw na;const tu=()=>ss.map(iu=>readContract({...iu,blockNumber:as,blockTag:us}));return $a?(await Promise.allSettled(tu())).map(iu=>iu.status==="fulfilled"?{result:iu.value,status:"success"}:{error:iu.reason,result:void 0,status:"failure"}):await Promise.all(tu())}}async function writeContract(ss){const as=await getWalletClient({chainId:ss.chainId});if(!as)throw new ConnectorNotFoundError;ss.chainId&&assertActiveChain({chainId:ss.chainId});let us;if(ss.mode==="prepared")us=ss.request;else{const{chainId:$a,mode:na,...tu}=ss;us=(await prepareWriteContract(tu)).request}return{hash:await as.writeContract({...us,chain:ss.chainId?{id:ss.chainId}:null})}}function getAccount(){const{data:ss,connector:as,status:us}=getConfig();switch(us){case"connected":return{address:ss==null?void 0:ss.account,connector:as,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:us};case"reconnecting":return{address:ss==null?void 0:ss.account,connector:as,isConnected:!!(ss!=null&&ss.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:us};case"connecting":return{address:ss==null?void 0:ss.account,connector:as,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:us};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:us}}}function getNetwork(){var $a,na,tu,iu;const ss=getConfig(),as=(na=($a=ss.data)==null?void 0:$a.chain)==null?void 0:na.id,us=ss.chains??[],cs=[...((tu=ss.publicClient)==null?void 0:tu.chains)||[],...us].find(su=>su.id===as)??{id:as,name:`Chain ${as}`,network:`${as}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:as?{...cs,...(iu=ss.data)==null?void 0:iu.chain,id:as}:void 0,chains:us}}function watchAccount(ss,{selector:as=us=>us}={}){const us=getConfig(),cs=()=>ss(getAccount());return us.subscribe(({data:na,connector:tu,status:iu})=>as({address:na==null?void 0:na.account,connector:tu,status:iu}),cs,{equalityFn:shallow$1})}async function fetchBlockNumber({chainId:ss}={}){return await getPublicClient({chainId:ss}).getBlockNumber()}function assertActiveChain({chainId:ss}){var $a,na;const{chain:as,chains:us}=getNetwork(),cs=as==null?void 0:as.id;if(cs&&ss!==cs)throw new ChainMismatchError({activeChain:(($a=us.find(tu=>tu.id===cs))==null?void 0:$a.name)??`Chain ${cs}`,targetChain:((na=us.find(tu=>tu.id===ss))==null?void 0:na.name)??`Chain ${ss}`})}var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$1(ss,as){return ss===as&&(ss!==0||1/ss===1/as)||ss!==ss&&as!==as}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(ss,as,us,cs,$a){var na=useRef(null);if(na.current===null){var tu={hasValue:!1,value:null};na.current=tu}else tu=na.current;na=useMemo(function(){function su(vu){if(!au){if(au=!0,ou=vu,vu=cs(vu),$a!==void 0&&tu.hasValue){var gu=tu.value;if($a(gu,vu))return fu=gu}return fu=vu}if(gu=fu,objectIs(ou,vu))return gu;var bu=cs(vu);return $a!==void 0&&$a(gu,bu)?(ou=vu,gu):(ou=vu,fu=bu)}var au=!1,ou,fu,pu=us===void 0?null:us;return[function(){return su(as())},pu===null?void 0:function(){return su(pu())}]},[as,us,cs,$a]);var iu=useSyncExternalStore(ss,na[0],na[1]);return useEffect(function(){tu.hasValue=!0,tu.value=iu},[iu]),useDebugValue(iu),iu};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;function createConfig({queryClient:ss=new QueryClient$1({defaultOptions:{queries:{cacheTime:1e3*60*60*24,networkMode:"offlineFirst",refetchOnWindowFocus:!1,retry:0},mutations:{networkMode:"offlineFirst"}}}),storage:as=createStorage$1({storage:typeof window<"u"&&window.localStorage?window.localStorage:noopStorage}),persister:us=typeof window<"u"?createSyncStoragePersister({key:"cache",storage:as,serialize:$a=>$a,deserialize:$a=>$a}):void 0,...cs}){const $a=createConfig$1({...cs,storage:as});return us&&persistQueryClient({queryClient:ss,persister:us,dehydrateOptions:{shouldDehydrateQuery:na=>na.cacheTime!==0&&na.queryKey[0].persist!==!1}}),Object.assign($a,{queryClient:ss})}var Context=reactExports.createContext(void 0),queryClientContext=reactExports.createContext(void 0);function WagmiConfig({children:ss,config:as}){return reactExports.createElement(Context.Provider,{children:reactExports.createElement(QueryClientProvider$1,{children:ss,client:as.queryClient,context:queryClientContext}),value:as})}function useConfig(){const ss=reactExports.useContext(Context);if(!ss)throw new Error(["`useConfig` must be used within `WagmiConfig`.\n","Read more: https://wagmi.sh/react/WagmiConfig"].join(`
`));return ss}var useSyncExternalStore2=shimExports.useSyncExternalStore;function isQueryKey(ss){return Array.isArray(ss)}function isPlainObject$1(ss){if(!hasObjectPrototype$1(ss))return!1;const as=ss.constructor;if(typeof as>"u")return!0;const us=as.prototype;return!(!hasObjectPrototype$1(us)||!us.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype$1(ss){return Object.prototype.toString.call(ss)==="[object Object]"}function parseQueryArgs(ss,as,us){return isQueryKey(ss)?typeof as=="function"?{...us,queryKey:ss,queryFn:as}:{...as,queryKey:ss}:ss}function queryKeyHashFn(ss){return JSON.stringify(ss,(as,us)=>isPlainObject$1(us)?Object.keys(us).sort().reduce((cs,$a)=>(cs[$a]=us[$a],cs),{}):typeof us=="bigint"?us.toString():us)}function shouldThrowError(ss,as){return typeof ss=="function"?ss(...as):!!ss}function trackResult(ss,as){const us={};return Object.keys(ss).forEach(cs=>{Object.defineProperty(us,cs,{configurable:!1,enumerable:!0,get:()=>(as.trackedProps.add(cs),ss[cs])})}),us}function useBaseQuery(ss,as){const us=useQueryClient({context:ss.context}),cs=useIsRestoring(),$a=useQueryErrorResetBoundary(),na=us.defaultQueryOptions({...ss,queryKeyHashFn});na._optimisticResults=cs?"isRestoring":"optimistic",na.onError&&(na.onError=notifyManager$1.batchCalls(na.onError)),na.onSuccess&&(na.onSuccess=notifyManager$1.batchCalls(na.onSuccess)),na.onSettled&&(na.onSettled=notifyManager$1.batchCalls(na.onSettled)),na.suspense&&typeof na.staleTime!="number"&&(na.staleTime=1e3),(na.suspense||na.useErrorBoundary)&&($a.isReset()||(na.retryOnMount=!1));const[tu]=reactExports.useState(()=>new as(us,na)),iu=tu.getOptimisticResult(na);if(useSyncExternalStore2(reactExports.useCallback(fu=>cs?()=>{}:tu.subscribe(notifyManager$1.batchCalls(fu)),[tu,cs]),()=>tu.getCurrentResult(),()=>tu.getCurrentResult()),reactExports.useEffect(()=>{$a.clearReset()},[$a]),reactExports.useEffect(()=>{tu.setOptions(na,{listeners:!1})},[na,tu]),na.suspense&&iu.isLoading&&iu.isFetching&&!cs)throw tu.fetchOptimistic(na).then(({data:fu})=>{var pu,vu;(pu=na.onSuccess)==null||pu.call(na,fu),(vu=na.onSettled)==null||vu.call(na,fu,null)}).catch(fu=>{var pu,vu;$a.clearReset(),(pu=na.onError)==null||pu.call(na,fu),(vu=na.onSettled)==null||vu.call(na,void 0,fu)});if(iu.isError&&!$a.isReset()&&!iu.isFetching&&shouldThrowError(na.useErrorBoundary,[iu.error,tu.getCurrentQuery()]))throw iu.error;const su=iu.status==="loading"&&iu.fetchStatus==="idle"?"idle":iu.status,au=su==="idle",ou=su==="loading"&&iu.fetchStatus==="fetching";return{...iu,defaultedOptions:na,isIdle:au,isLoading:ou,observer:tu,status:su}}function useMutation(ss,as,us){const cs=parseMutationArgs(ss,as,us);return useMutation$1({context:queryClientContext,...cs})}function useQuery(ss,as,us){const cs=parseQueryArgs(ss,as,us),$a=useBaseQuery({context:queryClientContext,...cs},QueryObserver),na={data:$a.data,error:$a.error,fetchStatus:$a.fetchStatus,isError:$a.isError,isFetched:$a.isFetched,isFetchedAfterMount:$a.isFetchedAfterMount,isFetching:$a.isFetching,isIdle:$a.isIdle,isLoading:$a.isLoading,isRefetching:$a.isRefetching,isSuccess:$a.isSuccess,refetch:$a.refetch,status:$a.status,internal:{dataUpdatedAt:$a.dataUpdatedAt,errorUpdatedAt:$a.errorUpdatedAt,failureCount:$a.failureCount,isFetchedAfterMount:$a.isFetchedAfterMount,isLoadingError:$a.isLoadingError,isPaused:$a.isPaused,isPlaceholderData:$a.isPlaceholderData,isPreviousData:$a.isPreviousData,isRefetchError:$a.isRefetchError,isStale:$a.isStale,remove:$a.remove}};return $a.defaultedOptions.notifyOnChangeProps?na:trackResult(na,$a.observer)}var useQueryClient2=()=>useQueryClient({context:queryClientContext});function usePublicClient({chainId:ss}={}){return withSelectorExports.useSyncExternalStoreWithSelector(as=>watchPublicClient({chainId:ss},as),()=>getPublicClient({chainId:ss}),()=>getPublicClient({chainId:ss}),as=>as,(as,us)=>as.uid===us.uid)}function useWebSocketPublicClient({chainId:ss}={}){return withSelectorExports.useSyncExternalStoreWithSelector(as=>watchWebSocketPublicClient({chainId:ss},as),()=>getWebSocketPublicClient({chainId:ss}),()=>getWebSocketPublicClient({chainId:ss}),as=>as,(as,us)=>(as==null?void 0:as.uid)===(us==null?void 0:us.uid))}function useChainId({chainId:ss}={}){return usePublicClient({chainId:ss}).chain.id}function queryKey2({chainId:ss,scopeKey:as}){return[{entity:"blockNumber",chainId:ss,scopeKey:as}]}function queryFn2({queryKey:[{chainId:ss}]}){return fetchBlockNumber({chainId:ss})}function useBlockNumber({cacheTime:ss=0,chainId:as,enabled:us=!0,scopeKey:cs,staleTime:$a,suspense:na,watch:tu=!1,onBlock:iu,onError:su,onSettled:au,onSuccess:ou}={}){const fu=useChainId({chainId:as}),pu=usePublicClient({chainId:fu}),vu=useWebSocketPublicClient({chainId:fu}),gu=useQueryClient2();return reactExports.useEffect(()=>!us||!tu&&!iu?void 0:(vu??pu).watchBlockNumber({onBlockNumber:$u=>{tu&&gu.setQueryData(queryKey2({chainId:fu,scopeKey:cs}),$u),iu&&iu($u)},emitOnBegin:!0}),[fu,cs,iu,pu,gu,tu,vu,us]),useQuery(queryKey2({scopeKey:cs,chainId:fu}),queryFn2,{cacheTime:ss,enabled:us,staleTime:$a,suspense:na,onError:su,onSettled:au,onSuccess:ou})}function useInvalidateOnBlock({chainId:ss,enabled:as,queryKey:us}){const cs=useQueryClient2(),$a=reactExports.useCallback(()=>cs.invalidateQueries({queryKey:us},{cancelRefetch:!1}),[cs,us]);useBlockNumber({chainId:ss,enabled:as,onBlock:as?$a:void 0,scopeKey:as?void 0:"idle"})}var isPlainObject2=ss=>typeof ss=="object"&&!Array.isArray(ss);function useSyncExternalStoreWithTracked(ss,as,us=as,cs=deepEqual){const $a=reactExports.useRef([]),na=withSelectorExports.useSyncExternalStoreWithSelector(ss,as,us,tu=>tu,(tu,iu)=>{if(isPlainObject2(tu)&&isPlainObject2(iu)&&$a.current.length){for(const su of $a.current)if(!cs(tu[su],iu[su]))return!1;return!0}return cs(tu,iu)});if(isPlainObject2(na)){const tu={...na};return Object.defineProperties(tu,Object.entries(tu).reduce((iu,[su,au])=>({...iu,[su]:{configurable:!1,enumerable:!0,get:()=>($a.current.includes(su)||$a.current.push(su),au)}}),{})),tu}return na}function useAccount({onConnect:ss,onDisconnect:as}={}){const us=useConfig(),cs=reactExports.useCallback(iu=>watchAccount(iu),[us]),$a=useSyncExternalStoreWithTracked(cs,getAccount),na=reactExports.useRef(),tu=na.current;return reactExports.useEffect(()=>{(tu==null?void 0:tu.status)!=="connected"&&$a.status==="connected"&&(ss==null||ss({address:$a.address,connector:$a.connector,isReconnected:(tu==null?void 0:tu.status)==="reconnecting"||(tu==null?void 0:tu.status)===void 0})),(tu==null?void 0:tu.status)==="connected"&&$a.status==="disconnected"&&(as==null||as()),na.current=$a},[ss,as,tu,$a]),$a}var mutationKey=ss=>[{entity:"connect",...ss}],mutationFn=ss=>{const{connector:as,chainId:us}=ss;if(!as)throw new Error("connector is required");return connect({connector:as,chainId:us})};function useConnect({chainId:ss,connector:as,onError:us,onMutate:cs,onSettled:$a,onSuccess:na}={}){const tu=useConfig(),{data:iu,error:su,isError:au,isIdle:ou,isLoading:fu,isSuccess:pu,mutate:vu,mutateAsync:gu,reset:bu,status:xu,variables:$u}=useMutation(mutationKey({connector:as,chainId:ss}),mutationFn,{onError:us,onMutate:cs,onSettled:$a,onSuccess:na}),wu=reactExports.useCallback(Mu=>vu({chainId:(Mu==null?void 0:Mu.chainId)??ss,connector:(Mu==null?void 0:Mu.connector)??as}),[ss,as,vu]),_u=reactExports.useCallback(Mu=>gu({chainId:(Mu==null?void 0:Mu.chainId)??ss,connector:(Mu==null?void 0:Mu.connector)??as}),[ss,as,gu]);return{connect:wu,connectAsync:_u,connectors:tu.connectors,data:iu,error:su,isError:au,isIdle:ou,isLoading:fu,isSuccess:pu,pendingConnector:$u==null?void 0:$u.connector,reset:bu,status:xu,variables:$u}}var mutationKey2=[{entity:"disconnect"}],mutationFn2=()=>disconnect();function useDisconnect({onError:ss,onMutate:as,onSettled:us,onSuccess:cs}={}){const{error:$a,isError:na,isIdle:tu,isLoading:iu,isSuccess:su,mutate:au,mutateAsync:ou,reset:fu,status:pu}=useMutation(mutationKey2,mutationFn2,{...ss?{onError(vu,gu,bu){ss(vu,bu)}}:{},onMutate:as,...us?{onSettled(vu,gu,bu,xu){us(gu,xu)}}:{},...cs?{onSuccess(vu,gu,bu){cs(bu)}}:{}});return{disconnect:au,disconnectAsync:ou,error:$a,isError:na,isIdle:tu,isLoading:iu,isSuccess:su,reset:fu,status:pu}}function queryKey6({account:ss,address:as,args:us,blockNumber:cs,blockTag:$a,chainId:na,functionName:tu,scopeKey:iu}){return[{entity:"readContract",account:ss,address:as,args:us,blockNumber:cs,blockTag:$a,chainId:na,functionName:tu,scopeKey:iu}]}function queryFn6({abi:ss}){return async({queryKey:[{account:as,address:us,args:cs,blockNumber:$a,blockTag:na,chainId:tu,functionName:iu}]})=>{if(!ss)throw new Error("abi is required");if(!us)throw new Error("address is required");return await readContract({account:as,address:us,args:cs,blockNumber:$a,blockTag:na,chainId:tu,abi:ss,functionName:iu})??null}}function useContractRead({abi:ss,address:as,account:us,args:cs,blockNumber:$a,blockTag:na,cacheOnBlock:tu=!1,cacheTime:iu,chainId:su,enabled:au=!0,functionName:ou,isDataEqual:fu,keepPreviousData:pu,onError:vu,onSettled:gu,onSuccess:bu,scopeKey:xu,select:$u,staleTime:wu,structuralSharing:_u=(Pu,Su)=>deepEqual(Pu,Su)?Pu:replaceEqualDeep$1(Pu,Su),suspense:Mu,watch:Au}={}){const Pu=useChainId({chainId:su}),{data:Su}=useBlockNumber({chainId:Pu,enabled:Au||tu,scopeKey:Au||tu?void 0:"idle",watch:Au}),Bu=$a??Su,Ou=reactExports.useMemo(()=>queryKey6({account:us,address:as,args:cs,blockNumber:tu?Bu:void 0,blockTag:na,chainId:Pu,functionName:ou,scopeKey:xu}),[us,as,cs,Bu,na,tu,Pu,ou,xu]),Vu=reactExports.useMemo(()=>{let yu=!!(au&&ss&&as&&ou);return tu&&(yu=!!(yu&&Bu)),yu},[ss,as,Bu,tu,au,ou]);return useInvalidateOnBlock({chainId:Pu,enabled:!!(Vu&&Au&&!tu),queryKey:Ou}),useQuery(Ou,queryFn6({abi:ss}),{cacheTime:iu,enabled:Vu,isDataEqual:fu,keepPreviousData:pu,select:$u,staleTime:wu,structuralSharing:_u,suspense:Mu,onError:vu,onSettled:gu,onSuccess:bu})}function queryKey7({allowFailure:ss,blockNumber:as,blockTag:us,chainId:cs,contracts:$a,scopeKey:na}){return[{entity:"readContracts",allowFailure:ss,blockNumber:as,blockTag:us,chainId:cs,scopeKey:na,contracts:($a??[]).map(({address:tu,args:iu,chainId:su,functionName:au})=>({address:tu,args:iu,chainId:su,functionName:au}))}]}function queryFn7({abis:ss}){return({queryKey:[{allowFailure:as,blockNumber:us,blockTag:cs,contracts:$a}]})=>{const na=$a.map((tu,iu)=>({...tu,abi:ss[iu]}));return readContracts({allowFailure:as,contracts:na,blockNumber:us,blockTag:cs})}}function useContractReads({allowFailure:ss,blockNumber:as,blockTag:us,cacheOnBlock:cs=!1,cacheTime:$a,contracts:na,enabled:tu=!0,isDataEqual:iu,keepPreviousData:su,onError:au,onSettled:ou,onSuccess:fu,scopeKey:pu,select:vu,staleTime:gu,structuralSharing:bu=(wu,_u)=>deepEqual(wu,_u)?wu:replaceEqualDeep$1(wu,_u),suspense:xu,watch:$u}={}){const wu=ss??!0,{data:_u}=useBlockNumber({enabled:$u||cs,watch:$u}),Mu=useChainId(),Au=as??_u,Pu=reactExports.useMemo(()=>queryKey7({allowFailure:wu,blockNumber:cs?Au:void 0,blockTag:us,chainId:Mu,contracts:na,scopeKey:pu}),[wu,Au,us,cs,Mu,pu,na]),Su=reactExports.useMemo(()=>{let Ou=!!(tu&&(na!=null&&na.every(Vu=>Vu.abi&&Vu.address&&Vu.functionName)));return cs&&(Ou=!!(Ou&&Au)),Ou},[Au,cs,na,tu]);useInvalidateOnBlock({enabled:!!(Su&&$u&&!cs),queryKey:Pu});const Bu=(na??[]).map(({abi:Ou})=>Ou);return useQuery(Pu,queryFn7({abis:Bu}),{cacheTime:$a,enabled:Su,isDataEqual:iu,keepPreviousData:su,staleTime:gu,select:vu,structuralSharing:bu,suspense:xu,onError:au,onSettled:ou,onSuccess:fu})}function mutationKey6({address:ss,abi:as,functionName:us,...cs}){const{args:$a,accessList:na,account:tu,dataSuffix:iu,gas:su,gasPrice:au,maxFeePerGas:ou,maxPriorityFeePerGas:fu,nonce:pu,request:vu,value:gu}=cs;return[{entity:"writeContract",address:ss,args:$a,abi:as,accessList:na,account:tu,dataSuffix:iu,functionName:us,gas:su,gasPrice:au,maxFeePerGas:ou,maxPriorityFeePerGas:fu,nonce:pu,request:vu,value:gu}]}function mutationFn6(ss){if(ss.mode==="prepared"){if(!ss.request)throw new Error("request is required");return writeContract({mode:"prepared",request:ss.request})}if(!ss.address)throw new Error("address is required");if(!ss.abi)throw new Error("abi is required");if(!ss.functionName)throw new Error("functionName is required");return writeContract({address:ss.address,args:ss.args,chainId:ss.chainId,abi:ss.abi,functionName:ss.functionName,accessList:ss.accessList,account:ss.account,dataSuffix:ss.dataSuffix,gas:ss.gas,gasPrice:ss.gasPrice,maxFeePerGas:ss.maxFeePerGas,maxPriorityFeePerGas:ss.maxPriorityFeePerGas,nonce:ss.nonce,value:ss.value})}function useContractWrite(ss){const{address:as,abi:us,args:cs,chainId:$a,functionName:na,mode:tu,request:iu,dataSuffix:su}=ss,{accessList:au,account:ou,gas:fu,gasPrice:pu,maxFeePerGas:vu,maxPriorityFeePerGas:gu,nonce:bu,value:xu}=getSendTransactionParameters(ss),{data:$u,error:wu,isError:_u,isIdle:Mu,isLoading:Au,isSuccess:Pu,mutate:Su,mutateAsync:Bu,reset:Ou,status:Vu,variables:yu}=useMutation(mutationKey6({address:as,abi:us,functionName:na,chainId:$a,mode:tu,args:cs,accessList:au,account:ou,dataSuffix:su,gas:fu,gasPrice:pu,maxFeePerGas:vu,maxPriorityFeePerGas:gu,nonce:bu,request:iu,value:xu}),mutationFn6,{onError:ss.onError,onMutate:ss.onMutate,onSettled:ss.onSettled,onSuccess:ss.onSuccess}),_a=reactExports.useMemo(()=>ss.mode==="prepared"?iu?()=>Su({mode:"prepared",request:ss.request,chainId:ss.chainId}):void 0:nu=>Su({address:as,args:cs,abi:us,functionName:na,chainId:$a,accessList:au,account:ou,dataSuffix:su,gas:fu,gasPrice:pu,maxFeePerGas:vu,maxPriorityFeePerGas:gu,nonce:bu,value:xu,...nu}),[au,ou,us,as,cs,$a,ss.chainId,ss.mode,ss.request,su,na,fu,pu,vu,gu,Su,bu,iu,xu]),ru=reactExports.useMemo(()=>ss.mode==="prepared"?iu?()=>Bu({mode:"prepared",request:ss.request}):void 0:nu=>Bu({address:as,args:cs,abi:us,chainId:$a,functionName:na,accessList:au,account:ou,dataSuffix:su,gas:fu,gasPrice:pu,maxFeePerGas:vu,maxPriorityFeePerGas:gu,nonce:bu,value:xu,...nu}),[au,ou,us,as,cs,$a,ss.mode,ss.request,su,na,fu,pu,vu,gu,Bu,bu,iu,xu]);return{data:$u,error:wu,isError:_u,isIdle:Mu,isLoading:Au,isSuccess:Pu,reset:Ou,status:Vu,variables:yu,write:_a,writeAsync:ru}}function publicProvider(){return function(ss){return ss.rpcUrls.public.http[0]?{chain:ss,rpcUrls:ss.rpcUrls.public}:null}}var _UNSTABLE_shimOnConnectSelectAccount,MetaMaskConnector=class extends InjectedConnector{constructor({chains:ss,options:as}={}){const us={name:"MetaMask",shimDisconnect:!0,getProvider(){function cs(na){if(na!=null&&na.isMetaMask&&!(na.isBraveWallet&&!na._events&&!na._state)&&!na.isApexWallet&&!na.isAvalanche&&!na.isBitKeep&&!na.isBlockWallet&&!na.isCoin98&&!na.isFordefi&&!na.isMathWallet&&!(na.isOkxWallet||na.isOKExWallet)&&!(na.isOneInchIOSWallet||na.isOneInchAndroidWallet)&&!na.isOpera&&!na.isPortal&&!na.isRabby&&!na.isDefiant&&!na.isTokenPocket&&!na.isTokenary&&!na.isZeal&&!na.isZerion)return na}if(typeof window>"u")return;const $a=window.ethereum;return $a!=null&&$a.providers?$a.providers.find(cs):cs($a)},...as};super({chains:ss,options:us}),this.id="metaMask",this.shimDisconnectKey=`${this.id}.shimDisconnect`,__privateAdd$1(this,_UNSTABLE_shimOnConnectSelectAccount,void 0),__privateSet$1(this,_UNSTABLE_shimOnConnectSelectAccount,us.UNSTABLE_shimOnConnectSelectAccount)}async connect({chainId:ss}={}){var as,us,cs,$a;try{const na=await this.getProvider();if(!na)throw new ConnectorNotFoundError;na.on&&(na.on("accountsChanged",this.onAccountsChanged),na.on("chainChanged",this.onChainChanged),na.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});let tu=null;if(__privateGet$1(this,_UNSTABLE_shimOnConnectSelectAccount)&&((as=this.options)!=null&&as.shimDisconnect)&&!((us=this.storage)!=null&&us.getItem(this.shimDisconnectKey))&&(tu=await this.getAccount().catch(()=>null),!!tu))try{await na.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),tu=await this.getAccount()}catch(ou){if(this.isUserRejectedRequestError(ou))throw new UserRejectedRequestError(ou);if(ou.code===new ResourceUnavailableRpcError(ou).code)throw ou}if(!tu){const au=await na.request({method:"eth_requestAccounts"});tu=getAddress(au[0])}let iu=await this.getChainId(),su=this.isChainUnsupported(iu);return ss&&iu!==ss&&(iu=(await this.switchChain(ss)).id,su=this.isChainUnsupported(iu)),(cs=this.options)!=null&&cs.shimDisconnect&&(($a=this.storage)==null||$a.setItem(this.shimDisconnectKey,!0)),{account:tu,chain:{id:iu,unsupported:su},provider:na}}catch(na){throw this.isUserRejectedRequestError(na)?new UserRejectedRequestError(na):na.code===-32002?new ResourceUnavailableRpcError(na):na}}};_UNSTABLE_shimOnConnectSelectAccount=new WeakMap;function getDefaultExportFromCjs(ss){return ss&&ss.__esModule&&Object.prototype.hasOwnProperty.call(ss,"default")?ss.default:ss}var browser$f={exports:{}},process=browser$f.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(ss){if(cachedSetTimeout===setTimeout)return setTimeout(ss,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(ss,0);try{return cachedSetTimeout(ss,0)}catch{try{return cachedSetTimeout.call(null,ss,0)}catch{return cachedSetTimeout.call(this,ss,0)}}}function runClearTimeout(ss){if(cachedClearTimeout===clearTimeout)return clearTimeout(ss);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(ss);try{return cachedClearTimeout(ss)}catch{try{return cachedClearTimeout.call(null,ss)}catch{return cachedClearTimeout.call(this,ss)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var ss=runTimeout(cleanUpNextTick);draining=!0;for(var as=queue.length;as;){for(currentQueue=queue,queue=[];++queueIndex<as;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,as=queue.length}currentQueue=null,draining=!1,runClearTimeout(ss)}}process.nextTick=function(ss){var as=new Array(arguments.length-1);if(arguments.length>1)for(var us=1;us<arguments.length;us++)as[us-1]=arguments[us];queue.push(new Item(ss,as)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(ss,as){this.fun=ss,this.array=as}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$4(){}process.on=noop$4;process.addListener=noop$4;process.once=noop$4;process.off=noop$4;process.removeListener=noop$4;process.removeAllListeners=noop$4;process.emit=noop$4;process.prependListener=noop$4;process.prependOnceListener=noop$4;process.listeners=function(ss){return[]};process.binding=function(ss){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(ss){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$f.exports;const process$1=getDefaultExportFromCjs(browserExports);var chacha20poly1305={},chacha={},binary={},int={};(function(ss){Object.defineProperty(ss,"__esModule",{value:!0});function as(iu,su){var au=iu>>>16&65535,ou=iu&65535,fu=su>>>16&65535,pu=su&65535;return ou*pu+(au*pu+ou*fu<<16>>>0)|0}ss.mul=Math.imul||as;function us(iu,su){return iu+su|0}ss.add=us;function cs(iu,su){return iu-su|0}ss.sub=cs;function $a(iu,su){return iu<<su|iu>>>32-su}ss.rotl=$a;function na(iu,su){return iu<<32-su|iu>>>su}ss.rotr=na;function tu(iu){return typeof iu=="number"&&isFinite(iu)&&Math.floor(iu)===iu}ss.isInteger=Number.isInteger||tu,ss.MAX_SAFE_INTEGER=9007199254740991,ss.isSafeInteger=function(iu){return ss.isInteger(iu)&&iu>=-ss.MAX_SAFE_INTEGER&&iu<=ss.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(ss,as){return as===void 0&&(as=0),(ss[as+0]<<8|ss[as+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(ss,as){return as===void 0&&(as=0),(ss[as+0]<<8|ss[as+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(ss,as){return as===void 0&&(as=0),(ss[as+1]<<8|ss[as])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(ss,as){return as===void 0&&(as=0),(ss[as+1]<<8|ss[as])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(ss,as,us){return as===void 0&&(as=new Uint8Array(2)),us===void 0&&(us=0),as[us+0]=ss>>>8,as[us+1]=ss>>>0,as}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(ss,as,us){return as===void 0&&(as=new Uint8Array(2)),us===void 0&&(us=0),as[us+0]=ss>>>0,as[us+1]=ss>>>8,as}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(ss,as){return as===void 0&&(as=0),ss[as]<<24|ss[as+1]<<16|ss[as+2]<<8|ss[as+3]}binary.readInt32BE=readInt32BE;function readUint32BE(ss,as){return as===void 0&&(as=0),(ss[as]<<24|ss[as+1]<<16|ss[as+2]<<8|ss[as+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(ss,as){return as===void 0&&(as=0),ss[as+3]<<24|ss[as+2]<<16|ss[as+1]<<8|ss[as]}binary.readInt32LE=readInt32LE;function readUint32LE(ss,as){return as===void 0&&(as=0),(ss[as+3]<<24|ss[as+2]<<16|ss[as+1]<<8|ss[as])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(ss,as,us){return as===void 0&&(as=new Uint8Array(4)),us===void 0&&(us=0),as[us+0]=ss>>>24,as[us+1]=ss>>>16,as[us+2]=ss>>>8,as[us+3]=ss>>>0,as}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(ss,as,us){return as===void 0&&(as=new Uint8Array(4)),us===void 0&&(us=0),as[us+0]=ss>>>0,as[us+1]=ss>>>8,as[us+2]=ss>>>16,as[us+3]=ss>>>24,as}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(ss,as){as===void 0&&(as=0);var us=readInt32BE(ss,as),cs=readInt32BE(ss,as+4);return us*4294967296+cs-(cs>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(ss,as){as===void 0&&(as=0);var us=readUint32BE(ss,as),cs=readUint32BE(ss,as+4);return us*4294967296+cs}binary.readUint64BE=readUint64BE;function readInt64LE(ss,as){as===void 0&&(as=0);var us=readInt32LE(ss,as),cs=readInt32LE(ss,as+4);return cs*4294967296+us-(us>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(ss,as){as===void 0&&(as=0);var us=readUint32LE(ss,as),cs=readUint32LE(ss,as+4);return cs*4294967296+us}binary.readUint64LE=readUint64LE;function writeUint64BE(ss,as,us){return as===void 0&&(as=new Uint8Array(8)),us===void 0&&(us=0),writeUint32BE(ss/4294967296>>>0,as,us),writeUint32BE(ss>>>0,as,us+4),as}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(ss,as,us){return as===void 0&&(as=new Uint8Array(8)),us===void 0&&(us=0),writeUint32LE(ss>>>0,as,us),writeUint32LE(ss/4294967296>>>0,as,us+4),as}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(ss,as,us){if(us===void 0&&(us=0),ss%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(ss/8>as.length-us)throw new Error("readUintBE: array is too short for the given bitLength");for(var cs=0,$a=1,na=ss/8+us-1;na>=us;na--)cs+=as[na]*$a,$a*=256;return cs}binary.readUintBE=readUintBE;function readUintLE(ss,as,us){if(us===void 0&&(us=0),ss%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(ss/8>as.length-us)throw new Error("readUintLE: array is too short for the given bitLength");for(var cs=0,$a=1,na=us;na<us+ss/8;na++)cs+=as[na]*$a,$a*=256;return cs}binary.readUintLE=readUintLE;function writeUintBE(ss,as,us,cs){if(us===void 0&&(us=new Uint8Array(ss/8)),cs===void 0&&(cs=0),ss%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(as))throw new Error("writeUintBE value must be an integer");for(var $a=1,na=ss/8+cs-1;na>=cs;na--)us[na]=as/$a&255,$a*=256;return us}binary.writeUintBE=writeUintBE;function writeUintLE(ss,as,us,cs){if(us===void 0&&(us=new Uint8Array(ss/8)),cs===void 0&&(cs=0),ss%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(as))throw new Error("writeUintLE value must be an integer");for(var $a=1,na=cs;na<cs+ss/8;na++)us[na]=as/$a&255,$a*=256;return us}binary.writeUintLE=writeUintLE;function readFloat32BE(ss,as){as===void 0&&(as=0);var us=new DataView(ss.buffer,ss.byteOffset,ss.byteLength);return us.getFloat32(as)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(ss,as){as===void 0&&(as=0);var us=new DataView(ss.buffer,ss.byteOffset,ss.byteLength);return us.getFloat32(as,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(ss,as){as===void 0&&(as=0);var us=new DataView(ss.buffer,ss.byteOffset,ss.byteLength);return us.getFloat64(as)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(ss,as){as===void 0&&(as=0);var us=new DataView(ss.buffer,ss.byteOffset,ss.byteLength);return us.getFloat64(as,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(ss,as,us){as===void 0&&(as=new Uint8Array(4)),us===void 0&&(us=0);var cs=new DataView(as.buffer,as.byteOffset,as.byteLength);return cs.setFloat32(us,ss),as}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(ss,as,us){as===void 0&&(as=new Uint8Array(4)),us===void 0&&(us=0);var cs=new DataView(as.buffer,as.byteOffset,as.byteLength);return cs.setFloat32(us,ss,!0),as}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(ss,as,us){as===void 0&&(as=new Uint8Array(8)),us===void 0&&(us=0);var cs=new DataView(as.buffer,as.byteOffset,as.byteLength);return cs.setFloat64(us,ss),as}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(ss,as,us){as===void 0&&(as=new Uint8Array(8)),us===void 0&&(us=0);var cs=new DataView(as.buffer,as.byteOffset,as.byteLength);return cs.setFloat64(us,ss,!0),as}binary.writeFloat64LE=writeFloat64LE;var wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(ss){for(var as=0;as<ss.length;as++)ss[as]=0;return ss}wipe$1.wipe=wipe;Object.defineProperty(chacha,"__esModule",{value:!0});var binary_1=binary,wipe_1$3=wipe$1,ROUNDS=20;function core(ss,as,us){for(var cs=1634760805,$a=857760878,na=2036477234,tu=1797285236,iu=us[3]<<24|us[2]<<16|us[1]<<8|us[0],su=us[7]<<24|us[6]<<16|us[5]<<8|us[4],au=us[11]<<24|us[10]<<16|us[9]<<8|us[8],ou=us[15]<<24|us[14]<<16|us[13]<<8|us[12],fu=us[19]<<24|us[18]<<16|us[17]<<8|us[16],pu=us[23]<<24|us[22]<<16|us[21]<<8|us[20],vu=us[27]<<24|us[26]<<16|us[25]<<8|us[24],gu=us[31]<<24|us[30]<<16|us[29]<<8|us[28],bu=as[3]<<24|as[2]<<16|as[1]<<8|as[0],xu=as[7]<<24|as[6]<<16|as[5]<<8|as[4],$u=as[11]<<24|as[10]<<16|as[9]<<8|as[8],wu=as[15]<<24|as[14]<<16|as[13]<<8|as[12],_u=cs,Mu=$a,Au=na,Pu=tu,Su=iu,Bu=su,Ou=au,Vu=ou,yu=fu,_a=pu,ru=vu,nu=gu,uu=bu,lu=xu,du=$u,mu=wu,cu=0;cu<ROUNDS;cu+=2)_u=_u+Su|0,uu^=_u,uu=uu>>>16|uu<<16,yu=yu+uu|0,Su^=yu,Su=Su>>>20|Su<<12,Mu=Mu+Bu|0,lu^=Mu,lu=lu>>>16|lu<<16,_a=_a+lu|0,Bu^=_a,Bu=Bu>>>20|Bu<<12,Au=Au+Ou|0,du^=Au,du=du>>>16|du<<16,ru=ru+du|0,Ou^=ru,Ou=Ou>>>20|Ou<<12,Pu=Pu+Vu|0,mu^=Pu,mu=mu>>>16|mu<<16,nu=nu+mu|0,Vu^=nu,Vu=Vu>>>20|Vu<<12,Au=Au+Ou|0,du^=Au,du=du>>>24|du<<8,ru=ru+du|0,Ou^=ru,Ou=Ou>>>25|Ou<<7,Pu=Pu+Vu|0,mu^=Pu,mu=mu>>>24|mu<<8,nu=nu+mu|0,Vu^=nu,Vu=Vu>>>25|Vu<<7,Mu=Mu+Bu|0,lu^=Mu,lu=lu>>>24|lu<<8,_a=_a+lu|0,Bu^=_a,Bu=Bu>>>25|Bu<<7,_u=_u+Su|0,uu^=_u,uu=uu>>>24|uu<<8,yu=yu+uu|0,Su^=yu,Su=Su>>>25|Su<<7,_u=_u+Bu|0,mu^=_u,mu=mu>>>16|mu<<16,ru=ru+mu|0,Bu^=ru,Bu=Bu>>>20|Bu<<12,Mu=Mu+Ou|0,uu^=Mu,uu=uu>>>16|uu<<16,nu=nu+uu|0,Ou^=nu,Ou=Ou>>>20|Ou<<12,Au=Au+Vu|0,lu^=Au,lu=lu>>>16|lu<<16,yu=yu+lu|0,Vu^=yu,Vu=Vu>>>20|Vu<<12,Pu=Pu+Su|0,du^=Pu,du=du>>>16|du<<16,_a=_a+du|0,Su^=_a,Su=Su>>>20|Su<<12,Au=Au+Vu|0,lu^=Au,lu=lu>>>24|lu<<8,yu=yu+lu|0,Vu^=yu,Vu=Vu>>>25|Vu<<7,Pu=Pu+Su|0,du^=Pu,du=du>>>24|du<<8,_a=_a+du|0,Su^=_a,Su=Su>>>25|Su<<7,Mu=Mu+Ou|0,uu^=Mu,uu=uu>>>24|uu<<8,nu=nu+uu|0,Ou^=nu,Ou=Ou>>>25|Ou<<7,_u=_u+Bu|0,mu^=_u,mu=mu>>>24|mu<<8,ru=ru+mu|0,Bu^=ru,Bu=Bu>>>25|Bu<<7;binary_1.writeUint32LE(_u+cs|0,ss,0),binary_1.writeUint32LE(Mu+$a|0,ss,4),binary_1.writeUint32LE(Au+na|0,ss,8),binary_1.writeUint32LE(Pu+tu|0,ss,12),binary_1.writeUint32LE(Su+iu|0,ss,16),binary_1.writeUint32LE(Bu+su|0,ss,20),binary_1.writeUint32LE(Ou+au|0,ss,24),binary_1.writeUint32LE(Vu+ou|0,ss,28),binary_1.writeUint32LE(yu+fu|0,ss,32),binary_1.writeUint32LE(_a+pu|0,ss,36),binary_1.writeUint32LE(ru+vu|0,ss,40),binary_1.writeUint32LE(nu+gu|0,ss,44),binary_1.writeUint32LE(uu+bu|0,ss,48),binary_1.writeUint32LE(lu+xu|0,ss,52),binary_1.writeUint32LE(du+$u|0,ss,56),binary_1.writeUint32LE(mu+wu|0,ss,60)}function streamXOR(ss,as,us,cs,$a){if($a===void 0&&($a=0),ss.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(cs.length<us.length)throw new Error("ChaCha: destination is shorter than source");var na,tu;if($a===0){if(as.length!==8&&as.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");na=new Uint8Array(16),tu=na.length-as.length,na.set(as,tu)}else{if(as.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");na=as,tu=$a}for(var iu=new Uint8Array(64),su=0;su<us.length;su+=64){core(iu,na,ss);for(var au=su;au<su+64&&au<us.length;au++)cs[au]=us[au]^iu[au-su];incrementCounter(na,0,tu)}return wipe_1$3.wipe(iu),$a===0&&wipe_1$3.wipe(na),cs}chacha.streamXOR=streamXOR;function stream(ss,as,us,cs){return cs===void 0&&(cs=0),wipe_1$3.wipe(us),streamXOR(ss,as,us,us,cs)}chacha.stream=stream;function incrementCounter(ss,as,us){for(var cs=1;us--;)cs=cs+(ss[as]&255)|0,ss[as]=cs&255,cs>>>=8,as++;if(cs>0)throw new Error("ChaCha: counter overflow")}var poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select(ss,as,us){return~(ss-1)&as|ss-1&us}constantTime.select=select;function lessOrEqual(ss,as){return(ss|0)-(as|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare(ss,as){if(ss.length!==as.length)return 0;for(var us=0,cs=0;cs<ss.length;cs++)us|=ss[cs]^as[cs];return 1&us-1>>>8}constantTime.compare=compare;function equal(ss,as){return ss.length===0||as.length===0?!1:compare(ss,as)!==0}constantTime.equal=equal;(function(ss){Object.defineProperty(ss,"__esModule",{value:!0});var as=constantTime,us=wipe$1;ss.DIGEST_LENGTH=16;var cs=function(){function tu(iu){this.digestLength=ss.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var su=iu[0]|iu[1]<<8;this._r[0]=su&8191;var au=iu[2]|iu[3]<<8;this._r[1]=(su>>>13|au<<3)&8191;var ou=iu[4]|iu[5]<<8;this._r[2]=(au>>>10|ou<<6)&7939;var fu=iu[6]|iu[7]<<8;this._r[3]=(ou>>>7|fu<<9)&8191;var pu=iu[8]|iu[9]<<8;this._r[4]=(fu>>>4|pu<<12)&255,this._r[5]=pu>>>1&8190;var vu=iu[10]|iu[11]<<8;this._r[6]=(pu>>>14|vu<<2)&8191;var gu=iu[12]|iu[13]<<8;this._r[7]=(vu>>>11|gu<<5)&8065;var bu=iu[14]|iu[15]<<8;this._r[8]=(gu>>>8|bu<<8)&8191,this._r[9]=bu>>>5&127,this._pad[0]=iu[16]|iu[17]<<8,this._pad[1]=iu[18]|iu[19]<<8,this._pad[2]=iu[20]|iu[21]<<8,this._pad[3]=iu[22]|iu[23]<<8,this._pad[4]=iu[24]|iu[25]<<8,this._pad[5]=iu[26]|iu[27]<<8,this._pad[6]=iu[28]|iu[29]<<8,this._pad[7]=iu[30]|iu[31]<<8}return tu.prototype._blocks=function(iu,su,au){for(var ou=this._fin?0:2048,fu=this._h[0],pu=this._h[1],vu=this._h[2],gu=this._h[3],bu=this._h[4],xu=this._h[5],$u=this._h[6],wu=this._h[7],_u=this._h[8],Mu=this._h[9],Au=this._r[0],Pu=this._r[1],Su=this._r[2],Bu=this._r[3],Ou=this._r[4],Vu=this._r[5],yu=this._r[6],_a=this._r[7],ru=this._r[8],nu=this._r[9];au>=16;){var uu=iu[su+0]|iu[su+1]<<8;fu+=uu&8191;var lu=iu[su+2]|iu[su+3]<<8;pu+=(uu>>>13|lu<<3)&8191;var du=iu[su+4]|iu[su+5]<<8;vu+=(lu>>>10|du<<6)&8191;var mu=iu[su+6]|iu[su+7]<<8;gu+=(du>>>7|mu<<9)&8191;var cu=iu[su+8]|iu[su+9]<<8;bu+=(mu>>>4|cu<<12)&8191,xu+=cu>>>1&8191;var eu=iu[su+10]|iu[su+11]<<8;$u+=(cu>>>14|eu<<2)&8191;var hu=iu[su+12]|iu[su+13]<<8;wu+=(eu>>>11|hu<<5)&8191;var Eu=iu[su+14]|iu[su+15]<<8;_u+=(hu>>>8|Eu<<8)&8191,Mu+=Eu>>>5|ou;var Ru=0,Tu=Ru;Tu+=fu*Au,Tu+=pu*(5*nu),Tu+=vu*(5*ru),Tu+=gu*(5*_a),Tu+=bu*(5*yu),Ru=Tu>>>13,Tu&=8191,Tu+=xu*(5*Vu),Tu+=$u*(5*Ou),Tu+=wu*(5*Bu),Tu+=_u*(5*Su),Tu+=Mu*(5*Pu),Ru+=Tu>>>13,Tu&=8191;var qu=Ru;qu+=fu*Pu,qu+=pu*Au,qu+=vu*(5*nu),qu+=gu*(5*ru),qu+=bu*(5*_a),Ru=qu>>>13,qu&=8191,qu+=xu*(5*yu),qu+=$u*(5*Vu),qu+=wu*(5*Ou),qu+=_u*(5*Bu),qu+=Mu*(5*Su),Ru+=qu>>>13,qu&=8191;var Du=Ru;Du+=fu*Su,Du+=pu*Pu,Du+=vu*Au,Du+=gu*(5*nu),Du+=bu*(5*ru),Ru=Du>>>13,Du&=8191,Du+=xu*(5*_a),Du+=$u*(5*yu),Du+=wu*(5*Vu),Du+=_u*(5*Ou),Du+=Mu*(5*Bu),Ru+=Du>>>13,Du&=8191;var Iu=Ru;Iu+=fu*Bu,Iu+=pu*Su,Iu+=vu*Pu,Iu+=gu*Au,Iu+=bu*(5*nu),Ru=Iu>>>13,Iu&=8191,Iu+=xu*(5*ru),Iu+=$u*(5*_a),Iu+=wu*(5*yu),Iu+=_u*(5*Vu),Iu+=Mu*(5*Ou),Ru+=Iu>>>13,Iu&=8191;var Lu=Ru;Lu+=fu*Ou,Lu+=pu*Bu,Lu+=vu*Su,Lu+=gu*Pu,Lu+=bu*Au,Ru=Lu>>>13,Lu&=8191,Lu+=xu*(5*nu),Lu+=$u*(5*ru),Lu+=wu*(5*_a),Lu+=_u*(5*yu),Lu+=Mu*(5*Vu),Ru+=Lu>>>13,Lu&=8191;var Uu=Ru;Uu+=fu*Vu,Uu+=pu*Ou,Uu+=vu*Bu,Uu+=gu*Su,Uu+=bu*Pu,Ru=Uu>>>13,Uu&=8191,Uu+=xu*Au,Uu+=$u*(5*nu),Uu+=wu*(5*ru),Uu+=_u*(5*_a),Uu+=Mu*(5*yu),Ru+=Uu>>>13,Uu&=8191;var Hu=Ru;Hu+=fu*yu,Hu+=pu*Vu,Hu+=vu*Ou,Hu+=gu*Bu,Hu+=bu*Su,Ru=Hu>>>13,Hu&=8191,Hu+=xu*Pu,Hu+=$u*Au,Hu+=wu*(5*nu),Hu+=_u*(5*ru),Hu+=Mu*(5*_a),Ru+=Hu>>>13,Hu&=8191;var zu=Ru;zu+=fu*_a,zu+=pu*yu,zu+=vu*Vu,zu+=gu*Ou,zu+=bu*Bu,Ru=zu>>>13,zu&=8191,zu+=xu*Su,zu+=$u*Pu,zu+=wu*Au,zu+=_u*(5*nu),zu+=Mu*(5*ru),Ru+=zu>>>13,zu&=8191;var ju=Ru;ju+=fu*ru,ju+=pu*_a,ju+=vu*yu,ju+=gu*Vu,ju+=bu*Ou,Ru=ju>>>13,ju&=8191,ju+=xu*Bu,ju+=$u*Su,ju+=wu*Pu,ju+=_u*Au,ju+=Mu*(5*nu),Ru+=ju>>>13,ju&=8191;var Wu=Ru;Wu+=fu*nu,Wu+=pu*ru,Wu+=vu*_a,Wu+=gu*yu,Wu+=bu*Vu,Ru=Wu>>>13,Wu&=8191,Wu+=xu*Ou,Wu+=$u*Bu,Wu+=wu*Su,Wu+=_u*Pu,Wu+=Mu*Au,Ru+=Wu>>>13,Wu&=8191,Ru=(Ru<<2)+Ru|0,Ru=Ru+Tu|0,Tu=Ru&8191,Ru=Ru>>>13,qu+=Ru,fu=Tu,pu=qu,vu=Du,gu=Iu,bu=Lu,xu=Uu,$u=Hu,wu=zu,_u=ju,Mu=Wu,su+=16,au-=16}this._h[0]=fu,this._h[1]=pu,this._h[2]=vu,this._h[3]=gu,this._h[4]=bu,this._h[5]=xu,this._h[6]=$u,this._h[7]=wu,this._h[8]=_u,this._h[9]=Mu},tu.prototype.finish=function(iu,su){su===void 0&&(su=0);var au=new Uint16Array(10),ou,fu,pu,vu;if(this._leftover){for(vu=this._leftover,this._buffer[vu++]=1;vu<16;vu++)this._buffer[vu]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(ou=this._h[1]>>>13,this._h[1]&=8191,vu=2;vu<10;vu++)this._h[vu]+=ou,ou=this._h[vu]>>>13,this._h[vu]&=8191;for(this._h[0]+=ou*5,ou=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=ou,ou=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=ou,au[0]=this._h[0]+5,ou=au[0]>>>13,au[0]&=8191,vu=1;vu<10;vu++)au[vu]=this._h[vu]+ou,ou=au[vu]>>>13,au[vu]&=8191;for(au[9]-=8192,fu=(ou^1)-1,vu=0;vu<10;vu++)au[vu]&=fu;for(fu=~fu,vu=0;vu<10;vu++)this._h[vu]=this._h[vu]&fu|au[vu];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,pu=this._h[0]+this._pad[0],this._h[0]=pu&65535,vu=1;vu<8;vu++)pu=(this._h[vu]+this._pad[vu]|0)+(pu>>>16)|0,this._h[vu]=pu&65535;return iu[su+0]=this._h[0]>>>0,iu[su+1]=this._h[0]>>>8,iu[su+2]=this._h[1]>>>0,iu[su+3]=this._h[1]>>>8,iu[su+4]=this._h[2]>>>0,iu[su+5]=this._h[2]>>>8,iu[su+6]=this._h[3]>>>0,iu[su+7]=this._h[3]>>>8,iu[su+8]=this._h[4]>>>0,iu[su+9]=this._h[4]>>>8,iu[su+10]=this._h[5]>>>0,iu[su+11]=this._h[5]>>>8,iu[su+12]=this._h[6]>>>0,iu[su+13]=this._h[6]>>>8,iu[su+14]=this._h[7]>>>0,iu[su+15]=this._h[7]>>>8,this._finished=!0,this},tu.prototype.update=function(iu){var su=0,au=iu.length,ou;if(this._leftover){ou=16-this._leftover,ou>au&&(ou=au);for(var fu=0;fu<ou;fu++)this._buffer[this._leftover+fu]=iu[su+fu];if(au-=ou,su+=ou,this._leftover+=ou,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(au>=16&&(ou=au-au%16,this._blocks(iu,su,ou),su+=ou,au-=ou),au){for(var fu=0;fu<au;fu++)this._buffer[this._leftover+fu]=iu[su+fu];this._leftover+=au}return this},tu.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var iu=new Uint8Array(16);return this.finish(iu),iu},tu.prototype.clean=function(){return us.wipe(this._buffer),us.wipe(this._r),us.wipe(this._h),us.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},tu}();ss.Poly1305=cs;function $a(tu,iu){var su=new cs(tu);su.update(iu);var au=su.digest();return su.clean(),au}ss.oneTimeAuth=$a;function na(tu,iu){return tu.length!==ss.DIGEST_LENGTH||iu.length!==ss.DIGEST_LENGTH?!1:as.equal(tu,iu)}ss.equal=na})(poly1305);(function(ss){Object.defineProperty(ss,"__esModule",{value:!0});var as=chacha,us=poly1305,cs=wipe$1,$a=binary,na=constantTime;ss.KEY_LENGTH=32,ss.NONCE_LENGTH=12,ss.TAG_LENGTH=16;var tu=new Uint8Array(16),iu=function(){function su(au){if(this.nonceLength=ss.NONCE_LENGTH,this.tagLength=ss.TAG_LENGTH,au.length!==ss.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(au)}return su.prototype.seal=function(au,ou,fu,pu){if(au.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var vu=new Uint8Array(16);vu.set(au,vu.length-au.length);var gu=new Uint8Array(32);as.stream(this._key,vu,gu,4);var bu=ou.length+this.tagLength,xu;if(pu){if(pu.length!==bu)throw new Error("ChaCha20Poly1305: incorrect destination length");xu=pu}else xu=new Uint8Array(bu);return as.streamXOR(this._key,vu,ou,xu,4),this._authenticate(xu.subarray(xu.length-this.tagLength,xu.length),gu,xu.subarray(0,xu.length-this.tagLength),fu),cs.wipe(vu),xu},su.prototype.open=function(au,ou,fu,pu){if(au.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(ou.length<this.tagLength)return null;var vu=new Uint8Array(16);vu.set(au,vu.length-au.length);var gu=new Uint8Array(32);as.stream(this._key,vu,gu,4);var bu=new Uint8Array(this.tagLength);if(this._authenticate(bu,gu,ou.subarray(0,ou.length-this.tagLength),fu),!na.equal(bu,ou.subarray(ou.length-this.tagLength,ou.length)))return null;var xu=ou.length-this.tagLength,$u;if(pu){if(pu.length!==xu)throw new Error("ChaCha20Poly1305: incorrect destination length");$u=pu}else $u=new Uint8Array(xu);return as.streamXOR(this._key,vu,ou.subarray(0,ou.length-this.tagLength),$u,4),cs.wipe(vu),$u},su.prototype.clean=function(){return cs.wipe(this._key),this},su.prototype._authenticate=function(au,ou,fu,pu){var vu=new us.Poly1305(ou);pu&&(vu.update(pu),pu.length%16>0&&vu.update(tu.subarray(pu.length%16))),vu.update(fu),fu.length%16>0&&vu.update(tu.subarray(fu.length%16));var gu=new Uint8Array(8);pu&&$a.writeUint64LE(pu.length,gu),vu.update(gu),$a.writeUint64LE(fu.length,gu),vu.update(gu);for(var bu=vu.digest(),xu=0;xu<bu.length;xu++)au[xu]=bu[xu];vu.clean(),cs.wipe(bu),cs.wipe(gu)},su}();ss.ChaCha20Poly1305=iu})(chacha20poly1305);var hkdf={},hmac$2={},hash$2={};Object.defineProperty(hash$2,"__esModule",{value:!0});function isSerializableHash(ss){return typeof ss.saveState<"u"&&typeof ss.restoreState<"u"&&typeof ss.cleanSavedState<"u"}hash$2.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$2,"__esModule",{value:!0});var hash_1=hash$2,constant_time_1=constantTime,wipe_1$2=wipe$1,HMAC=function(){function ss(as,us){this._finished=!1,this._inner=new as,this._outer=new as,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var cs=new Uint8Array(this.blockSize);us.length>this.blockSize?this._inner.update(us).finish(cs).clean():cs.set(us);for(var $a=0;$a<cs.length;$a++)cs[$a]^=54;this._inner.update(cs);for(var $a=0;$a<cs.length;$a++)cs[$a]^=106;this._outer.update(cs),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1$2.wipe(cs)}return ss.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},ss.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},ss.prototype.update=function(as){return this._inner.update(as),this},ss.prototype.finish=function(as){return this._finished?(this._outer.finish(as),this):(this._inner.finish(as),this._outer.update(as.subarray(0,this.digestLength)).finish(as),this._finished=!0,this)},ss.prototype.digest=function(){var as=new Uint8Array(this.digestLength);return this.finish(as),as},ss.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},ss.prototype.restoreState=function(as){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(as),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},ss.prototype.cleanSavedState=function(as){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(as)},ss}();hmac$2.HMAC=HMAC;function hmac$1(ss,as,us){var cs=new HMAC(ss,as);cs.update(us);var $a=cs.digest();return cs.clean(),$a}hmac$2.hmac=hmac$1;hmac$2.equal=constant_time_1.equal;Object.defineProperty(hkdf,"__esModule",{value:!0});var hmac_1=hmac$2,wipe_1$1=wipe$1,HKDF=function(){function ss(as,us,cs,$a){cs===void 0&&(cs=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=as,this._info=$a;var na=hmac_1.hmac(this._hash,cs,us);this._hmac=new hmac_1.HMAC(as,na),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return ss.prototype._fillBuffer=function(){this._counter[0]++;var as=this._counter[0];if(as===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),as>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},ss.prototype.expand=function(as){for(var us=new Uint8Array(as),cs=0;cs<us.length;cs++)this._bufpos===this._buffer.length&&this._fillBuffer(),us[cs]=this._buffer[this._bufpos++];return us},ss.prototype.clean=function(){this._hmac.clean(),wipe_1$1.wipe(this._buffer),wipe_1$1.wipe(this._counter),this._bufpos=0},ss}(),HKDF_1=hkdf.HKDF=HKDF,random={},system={},browser$e={};Object.defineProperty(browser$e,"__esModule",{value:!0});browser$e.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const as=typeof self<"u"?self.crypto||self.msCrypto:null;as&&as.getRandomValues!==void 0&&(this._crypto=as,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(as){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const us=new Uint8Array(as);for(let cs=0;cs<us.length;cs+=QUOTA)this._crypto.getRandomValues(us.subarray(cs,cs+Math.min(us.length-cs,QUOTA)));return us}}browser$e.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(ss){throw new Error('Could not dynamically require "'+ss+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$1={},cryptoBrowserify={},browser$d={exports:{}},safeBuffer$1={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len=code.length;i$3<len;++i$3)lookup[i$3]=code[i$3],revLookup[code.charCodeAt(i$3)]=i$3;revLookup[45]=62;revLookup[95]=63;function getLens(ss){var as=ss.length;if(as%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var us=ss.indexOf("=");us===-1&&(us=as);var cs=us===as?0:4-us%4;return[us,cs]}function byteLength(ss){var as=getLens(ss),us=as[0],cs=as[1];return(us+cs)*3/4-cs}function _byteLength(ss,as,us){return(as+us)*3/4-us}function toByteArray(ss){var as,us=getLens(ss),cs=us[0],$a=us[1],na=new Arr(_byteLength(ss,cs,$a)),tu=0,iu=$a>0?cs-4:cs,su;for(su=0;su<iu;su+=4)as=revLookup[ss.charCodeAt(su)]<<18|revLookup[ss.charCodeAt(su+1)]<<12|revLookup[ss.charCodeAt(su+2)]<<6|revLookup[ss.charCodeAt(su+3)],na[tu++]=as>>16&255,na[tu++]=as>>8&255,na[tu++]=as&255;return $a===2&&(as=revLookup[ss.charCodeAt(su)]<<2|revLookup[ss.charCodeAt(su+1)]>>4,na[tu++]=as&255),$a===1&&(as=revLookup[ss.charCodeAt(su)]<<10|revLookup[ss.charCodeAt(su+1)]<<4|revLookup[ss.charCodeAt(su+2)]>>2,na[tu++]=as>>8&255,na[tu++]=as&255),na}function tripletToBase64(ss){return lookup[ss>>18&63]+lookup[ss>>12&63]+lookup[ss>>6&63]+lookup[ss&63]}function encodeChunk(ss,as,us){for(var cs,$a=[],na=as;na<us;na+=3)cs=(ss[na]<<16&16711680)+(ss[na+1]<<8&65280)+(ss[na+2]&255),$a.push(tripletToBase64(cs));return $a.join("")}function fromByteArray(ss){for(var as,us=ss.length,cs=us%3,$a=[],na=16383,tu=0,iu=us-cs;tu<iu;tu+=na)$a.push(encodeChunk(ss,tu,tu+na>iu?iu:tu+na));return cs===1?(as=ss[us-1],$a.push(lookup[as>>2]+lookup[as<<4&63]+"==")):cs===2&&(as=(ss[us-2]<<8)+ss[us-1],$a.push(lookup[as>>10]+lookup[as>>4&63]+lookup[as<<2&63]+"=")),$a.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(ss,as,us,cs,$a){var na,tu,iu=$a*8-cs-1,su=(1<<iu)-1,au=su>>1,ou=-7,fu=us?$a-1:0,pu=us?-1:1,vu=ss[as+fu];for(fu+=pu,na=vu&(1<<-ou)-1,vu>>=-ou,ou+=iu;ou>0;na=na*256+ss[as+fu],fu+=pu,ou-=8);for(tu=na&(1<<-ou)-1,na>>=-ou,ou+=cs;ou>0;tu=tu*256+ss[as+fu],fu+=pu,ou-=8);if(na===0)na=1-au;else{if(na===su)return tu?NaN:(vu?-1:1)*(1/0);tu=tu+Math.pow(2,cs),na=na-au}return(vu?-1:1)*tu*Math.pow(2,na-cs)};ieee754.write=function(ss,as,us,cs,$a,na){var tu,iu,su,au=na*8-$a-1,ou=(1<<au)-1,fu=ou>>1,pu=$a===23?Math.pow(2,-24)-Math.pow(2,-77):0,vu=cs?0:na-1,gu=cs?1:-1,bu=as<0||as===0&&1/as<0?1:0;for(as=Math.abs(as),isNaN(as)||as===1/0?(iu=isNaN(as)?1:0,tu=ou):(tu=Math.floor(Math.log(as)/Math.LN2),as*(su=Math.pow(2,-tu))<1&&(tu--,su*=2),tu+fu>=1?as+=pu/su:as+=pu*Math.pow(2,1-fu),as*su>=2&&(tu++,su/=2),tu+fu>=ou?(iu=0,tu=ou):tu+fu>=1?(iu=(as*su-1)*Math.pow(2,$a),tu=tu+fu):(iu=as*Math.pow(2,fu-1)*Math.pow(2,$a),tu=0));$a>=8;ss[us+vu]=iu&255,vu+=gu,iu/=256,$a-=8);for(tu=tu<<$a|iu,au+=$a;au>0;ss[us+vu]=tu&255,vu+=gu,tu/=256,au-=8);ss[us+vu-gu]|=bu*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(ss){const as=base64Js,us=ieee754,cs=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ss.Buffer=ou,ss.SlowBuffer=Au,ss.INSPECT_MAX_BYTES=50;const $a=2147483647;ss.kMaxLength=$a;const{Uint8Array:na,ArrayBuffer:tu,SharedArrayBuffer:iu}=globalThis;ou.TYPED_ARRAY_SUPPORT=su(),!ou.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function su(){try{const Nu=new na(1),Cu={foo:function(){return 42}};return Object.setPrototypeOf(Cu,na.prototype),Object.setPrototypeOf(Nu,Cu),Nu.foo()===42}catch{return!1}}Object.defineProperty(ou.prototype,"parent",{enumerable:!0,get:function(){if(ou.isBuffer(this))return this.buffer}}),Object.defineProperty(ou.prototype,"offset",{enumerable:!0,get:function(){if(ou.isBuffer(this))return this.byteOffset}});function au(Nu){if(Nu>$a)throw new RangeError('The value "'+Nu+'" is invalid for option "size"');const Cu=new na(Nu);return Object.setPrototypeOf(Cu,ou.prototype),Cu}function ou(Nu,Cu,ku){if(typeof Nu=="number"){if(typeof Cu=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return gu(Nu)}return fu(Nu,Cu,ku)}ou.poolSize=8192;function fu(Nu,Cu,ku){if(typeof Nu=="string")return bu(Nu,Cu);if(tu.isView(Nu))return $u(Nu);if(Nu==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Nu);if($l(Nu,tu)||Nu&&$l(Nu.buffer,tu)||typeof iu<"u"&&($l(Nu,iu)||Nu&&$l(Nu.buffer,iu)))return wu(Nu,Cu,ku);if(typeof Nu=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Fu=Nu.valueOf&&Nu.valueOf();if(Fu!=null&&Fu!==Nu)return ou.from(Fu,Cu,ku);const Ku=_u(Nu);if(Ku)return Ku;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Nu[Symbol.toPrimitive]=="function")return ou.from(Nu[Symbol.toPrimitive]("string"),Cu,ku);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Nu)}ou.from=function(Nu,Cu,ku){return fu(Nu,Cu,ku)},Object.setPrototypeOf(ou.prototype,na.prototype),Object.setPrototypeOf(ou,na);function pu(Nu){if(typeof Nu!="number")throw new TypeError('"size" argument must be of type number');if(Nu<0)throw new RangeError('The value "'+Nu+'" is invalid for option "size"')}function vu(Nu,Cu,ku){return pu(Nu),Nu<=0?au(Nu):Cu!==void 0?typeof ku=="string"?au(Nu).fill(Cu,ku):au(Nu).fill(Cu):au(Nu)}ou.alloc=function(Nu,Cu,ku){return vu(Nu,Cu,ku)};function gu(Nu){return pu(Nu),au(Nu<0?0:Mu(Nu)|0)}ou.allocUnsafe=function(Nu){return gu(Nu)},ou.allocUnsafeSlow=function(Nu){return gu(Nu)};function bu(Nu,Cu){if((typeof Cu!="string"||Cu==="")&&(Cu="utf8"),!ou.isEncoding(Cu))throw new TypeError("Unknown encoding: "+Cu);const ku=Pu(Nu,Cu)|0;let Fu=au(ku);const Ku=Fu.write(Nu,Cu);return Ku!==ku&&(Fu=Fu.slice(0,Ku)),Fu}function xu(Nu){const Cu=Nu.length<0?0:Mu(Nu.length)|0,ku=au(Cu);for(let Fu=0;Fu<Cu;Fu+=1)ku[Fu]=Nu[Fu]&255;return ku}function $u(Nu){if($l(Nu,na)){const Cu=new na(Nu);return wu(Cu.buffer,Cu.byteOffset,Cu.byteLength)}return xu(Nu)}function wu(Nu,Cu,ku){if(Cu<0||Nu.byteLength<Cu)throw new RangeError('"offset" is outside of buffer bounds');if(Nu.byteLength<Cu+(ku||0))throw new RangeError('"length" is outside of buffer bounds');let Fu;return Cu===void 0&&ku===void 0?Fu=new na(Nu):ku===void 0?Fu=new na(Nu,Cu):Fu=new na(Nu,Cu,ku),Object.setPrototypeOf(Fu,ou.prototype),Fu}function _u(Nu){if(ou.isBuffer(Nu)){const Cu=Mu(Nu.length)|0,ku=au(Cu);return ku.length===0||Nu.copy(ku,0,0,Cu),ku}if(Nu.length!==void 0)return typeof Nu.length!="number"||Zl(Nu.length)?au(0):xu(Nu);if(Nu.type==="Buffer"&&Array.isArray(Nu.data))return xu(Nu.data)}function Mu(Nu){if(Nu>=$a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$a.toString(16)+" bytes");return Nu|0}function Au(Nu){return+Nu!=Nu&&(Nu=0),ou.alloc(+Nu)}ou.isBuffer=function(Cu){return Cu!=null&&Cu._isBuffer===!0&&Cu!==ou.prototype},ou.compare=function(Cu,ku){if($l(Cu,na)&&(Cu=ou.from(Cu,Cu.offset,Cu.byteLength)),$l(ku,na)&&(ku=ou.from(ku,ku.offset,ku.byteLength)),!ou.isBuffer(Cu)||!ou.isBuffer(ku))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Cu===ku)return 0;let Fu=Cu.length,Ku=ku.length;for(let Ju=0,Gu=Math.min(Fu,Ku);Ju<Gu;++Ju)if(Cu[Ju]!==ku[Ju]){Fu=Cu[Ju],Ku=ku[Ju];break}return Fu<Ku?-1:Ku<Fu?1:0},ou.isEncoding=function(Cu){switch(String(Cu).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ou.concat=function(Cu,ku){if(!Array.isArray(Cu))throw new TypeError('"list" argument must be an Array of Buffers');if(Cu.length===0)return ou.alloc(0);let Fu;if(ku===void 0)for(ku=0,Fu=0;Fu<Cu.length;++Fu)ku+=Cu[Fu].length;const Ku=ou.allocUnsafe(ku);let Ju=0;for(Fu=0;Fu<Cu.length;++Fu){let Gu=Cu[Fu];if($l(Gu,na))Ju+Gu.length>Ku.length?(ou.isBuffer(Gu)||(Gu=ou.from(Gu)),Gu.copy(Ku,Ju)):na.prototype.set.call(Ku,Gu,Ju);else if(ou.isBuffer(Gu))Gu.copy(Ku,Ju);else throw new TypeError('"list" argument must be an Array of Buffers');Ju+=Gu.length}return Ku};function Pu(Nu,Cu){if(ou.isBuffer(Nu))return Nu.length;if(tu.isView(Nu)||$l(Nu,tu))return Nu.byteLength;if(typeof Nu!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Nu);const ku=Nu.length,Fu=arguments.length>2&&arguments[2]===!0;if(!Fu&&ku===0)return 0;let Ku=!1;for(;;)switch(Cu){case"ascii":case"latin1":case"binary":return ku;case"utf8":case"utf-8":return Gl(Nu).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ku*2;case"hex":return ku>>>1;case"base64":return Ql(Nu).length;default:if(Ku)return Fu?-1:Gl(Nu).length;Cu=(""+Cu).toLowerCase(),Ku=!0}}ou.byteLength=Pu;function Su(Nu,Cu,ku){let Fu=!1;if((Cu===void 0||Cu<0)&&(Cu=0),Cu>this.length||((ku===void 0||ku>this.length)&&(ku=this.length),ku<=0)||(ku>>>=0,Cu>>>=0,ku<=Cu))return"";for(Nu||(Nu="utf8");;)switch(Nu){case"hex":return Eu(this,Cu,ku);case"utf8":case"utf-8":return du(this,Cu,ku);case"ascii":return eu(this,Cu,ku);case"latin1":case"binary":return hu(this,Cu,ku);case"base64":return lu(this,Cu,ku);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ru(this,Cu,ku);default:if(Fu)throw new TypeError("Unknown encoding: "+Nu);Nu=(Nu+"").toLowerCase(),Fu=!0}}ou.prototype._isBuffer=!0;function Bu(Nu,Cu,ku){const Fu=Nu[Cu];Nu[Cu]=Nu[ku],Nu[ku]=Fu}ou.prototype.swap16=function(){const Cu=this.length;if(Cu%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ku=0;ku<Cu;ku+=2)Bu(this,ku,ku+1);return this},ou.prototype.swap32=function(){const Cu=this.length;if(Cu%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ku=0;ku<Cu;ku+=4)Bu(this,ku,ku+3),Bu(this,ku+1,ku+2);return this},ou.prototype.swap64=function(){const Cu=this.length;if(Cu%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ku=0;ku<Cu;ku+=8)Bu(this,ku,ku+7),Bu(this,ku+1,ku+6),Bu(this,ku+2,ku+5),Bu(this,ku+3,ku+4);return this},ou.prototype.toString=function(){const Cu=this.length;return Cu===0?"":arguments.length===0?du(this,0,Cu):Su.apply(this,arguments)},ou.prototype.toLocaleString=ou.prototype.toString,ou.prototype.equals=function(Cu){if(!ou.isBuffer(Cu))throw new TypeError("Argument must be a Buffer");return this===Cu?!0:ou.compare(this,Cu)===0},ou.prototype.inspect=function(){let Cu="";const ku=ss.INSPECT_MAX_BYTES;return Cu=this.toString("hex",0,ku).replace(/(.{2})/g,"$1 ").trim(),this.length>ku&&(Cu+=" ... "),"<Buffer "+Cu+">"},cs&&(ou.prototype[cs]=ou.prototype.inspect),ou.prototype.compare=function(Cu,ku,Fu,Ku,Ju){if($l(Cu,na)&&(Cu=ou.from(Cu,Cu.offset,Cu.byteLength)),!ou.isBuffer(Cu))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Cu);if(ku===void 0&&(ku=0),Fu===void 0&&(Fu=Cu?Cu.length:0),Ku===void 0&&(Ku=0),Ju===void 0&&(Ju=this.length),ku<0||Fu>Cu.length||Ku<0||Ju>this.length)throw new RangeError("out of range index");if(Ku>=Ju&&ku>=Fu)return 0;if(Ku>=Ju)return-1;if(ku>=Fu)return 1;if(ku>>>=0,Fu>>>=0,Ku>>>=0,Ju>>>=0,this===Cu)return 0;let Gu=Ju-Ku,El=Fu-ku;const Yl=Math.min(Gu,El),xl=this.slice(Ku,Ju),Rl=Cu.slice(ku,Fu);for(let Jl=0;Jl<Yl;++Jl)if(xl[Jl]!==Rl[Jl]){Gu=xl[Jl],El=Rl[Jl];break}return Gu<El?-1:El<Gu?1:0};function Ou(Nu,Cu,ku,Fu,Ku){if(Nu.length===0)return-1;if(typeof ku=="string"?(Fu=ku,ku=0):ku>2147483647?ku=2147483647:ku<-2147483648&&(ku=-2147483648),ku=+ku,Zl(ku)&&(ku=Ku?0:Nu.length-1),ku<0&&(ku=Nu.length+ku),ku>=Nu.length){if(Ku)return-1;ku=Nu.length-1}else if(ku<0)if(Ku)ku=0;else return-1;if(typeof Cu=="string"&&(Cu=ou.from(Cu,Fu)),ou.isBuffer(Cu))return Cu.length===0?-1:Vu(Nu,Cu,ku,Fu,Ku);if(typeof Cu=="number")return Cu=Cu&255,typeof na.prototype.indexOf=="function"?Ku?na.prototype.indexOf.call(Nu,Cu,ku):na.prototype.lastIndexOf.call(Nu,Cu,ku):Vu(Nu,[Cu],ku,Fu,Ku);throw new TypeError("val must be string, number or Buffer")}function Vu(Nu,Cu,ku,Fu,Ku){let Ju=1,Gu=Nu.length,El=Cu.length;if(Fu!==void 0&&(Fu=String(Fu).toLowerCase(),Fu==="ucs2"||Fu==="ucs-2"||Fu==="utf16le"||Fu==="utf-16le")){if(Nu.length<2||Cu.length<2)return-1;Ju=2,Gu/=2,El/=2,ku/=2}function Yl(Rl,Jl){return Ju===1?Rl[Jl]:Rl.readUInt16BE(Jl*Ju)}let xl;if(Ku){let Rl=-1;for(xl=ku;xl<Gu;xl++)if(Yl(Nu,xl)===Yl(Cu,Rl===-1?0:xl-Rl)){if(Rl===-1&&(Rl=xl),xl-Rl+1===El)return Rl*Ju}else Rl!==-1&&(xl-=xl-Rl),Rl=-1}else for(ku+El>Gu&&(ku=Gu-El),xl=ku;xl>=0;xl--){let Rl=!0;for(let Jl=0;Jl<El;Jl++)if(Yl(Nu,xl+Jl)!==Yl(Cu,Jl)){Rl=!1;break}if(Rl)return xl}return-1}ou.prototype.includes=function(Cu,ku,Fu){return this.indexOf(Cu,ku,Fu)!==-1},ou.prototype.indexOf=function(Cu,ku,Fu){return Ou(this,Cu,ku,Fu,!0)},ou.prototype.lastIndexOf=function(Cu,ku,Fu){return Ou(this,Cu,ku,Fu,!1)};function yu(Nu,Cu,ku,Fu){ku=Number(ku)||0;const Ku=Nu.length-ku;Fu?(Fu=Number(Fu),Fu>Ku&&(Fu=Ku)):Fu=Ku;const Ju=Cu.length;Fu>Ju/2&&(Fu=Ju/2);let Gu;for(Gu=0;Gu<Fu;++Gu){const El=parseInt(Cu.substr(Gu*2,2),16);if(Zl(El))return Gu;Nu[ku+Gu]=El}return Gu}function _a(Nu,Cu,ku,Fu){return Xu(Gl(Cu,Nu.length-ku),Nu,ku,Fu)}function ru(Nu,Cu,ku,Fu){return Xu(yl(Cu),Nu,ku,Fu)}function nu(Nu,Cu,ku,Fu){return Xu(Ql(Cu),Nu,ku,Fu)}function uu(Nu,Cu,ku,Fu){return Xu(Sl(Cu,Nu.length-ku),Nu,ku,Fu)}ou.prototype.write=function(Cu,ku,Fu,Ku){if(ku===void 0)Ku="utf8",Fu=this.length,ku=0;else if(Fu===void 0&&typeof ku=="string")Ku=ku,Fu=this.length,ku=0;else if(isFinite(ku))ku=ku>>>0,isFinite(Fu)?(Fu=Fu>>>0,Ku===void 0&&(Ku="utf8")):(Ku=Fu,Fu=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ju=this.length-ku;if((Fu===void 0||Fu>Ju)&&(Fu=Ju),Cu.length>0&&(Fu<0||ku<0)||ku>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ku||(Ku="utf8");let Gu=!1;for(;;)switch(Ku){case"hex":return yu(this,Cu,ku,Fu);case"utf8":case"utf-8":return _a(this,Cu,ku,Fu);case"ascii":case"latin1":case"binary":return ru(this,Cu,ku,Fu);case"base64":return nu(this,Cu,ku,Fu);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return uu(this,Cu,ku,Fu);default:if(Gu)throw new TypeError("Unknown encoding: "+Ku);Ku=(""+Ku).toLowerCase(),Gu=!0}},ou.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function lu(Nu,Cu,ku){return Cu===0&&ku===Nu.length?as.fromByteArray(Nu):as.fromByteArray(Nu.slice(Cu,ku))}function du(Nu,Cu,ku){ku=Math.min(Nu.length,ku);const Fu=[];let Ku=Cu;for(;Ku<ku;){const Ju=Nu[Ku];let Gu=null,El=Ju>239?4:Ju>223?3:Ju>191?2:1;if(Ku+El<=ku){let Yl,xl,Rl,Jl;switch(El){case 1:Ju<128&&(Gu=Ju);break;case 2:Yl=Nu[Ku+1],(Yl&192)===128&&(Jl=(Ju&31)<<6|Yl&63,Jl>127&&(Gu=Jl));break;case 3:Yl=Nu[Ku+1],xl=Nu[Ku+2],(Yl&192)===128&&(xl&192)===128&&(Jl=(Ju&15)<<12|(Yl&63)<<6|xl&63,Jl>2047&&(Jl<55296||Jl>57343)&&(Gu=Jl));break;case 4:Yl=Nu[Ku+1],xl=Nu[Ku+2],Rl=Nu[Ku+3],(Yl&192)===128&&(xl&192)===128&&(Rl&192)===128&&(Jl=(Ju&15)<<18|(Yl&63)<<12|(xl&63)<<6|Rl&63,Jl>65535&&Jl<1114112&&(Gu=Jl))}}Gu===null?(Gu=65533,El=1):Gu>65535&&(Gu-=65536,Fu.push(Gu>>>10&1023|55296),Gu=56320|Gu&1023),Fu.push(Gu),Ku+=El}return cu(Fu)}const mu=4096;function cu(Nu){const Cu=Nu.length;if(Cu<=mu)return String.fromCharCode.apply(String,Nu);let ku="",Fu=0;for(;Fu<Cu;)ku+=String.fromCharCode.apply(String,Nu.slice(Fu,Fu+=mu));return ku}function eu(Nu,Cu,ku){let Fu="";ku=Math.min(Nu.length,ku);for(let Ku=Cu;Ku<ku;++Ku)Fu+=String.fromCharCode(Nu[Ku]&127);return Fu}function hu(Nu,Cu,ku){let Fu="";ku=Math.min(Nu.length,ku);for(let Ku=Cu;Ku<ku;++Ku)Fu+=String.fromCharCode(Nu[Ku]);return Fu}function Eu(Nu,Cu,ku){const Fu=Nu.length;(!Cu||Cu<0)&&(Cu=0),(!ku||ku<0||ku>Fu)&&(ku=Fu);let Ku="";for(let Ju=Cu;Ju<ku;++Ju)Ku+=wl[Nu[Ju]];return Ku}function Ru(Nu,Cu,ku){const Fu=Nu.slice(Cu,ku);let Ku="";for(let Ju=0;Ju<Fu.length-1;Ju+=2)Ku+=String.fromCharCode(Fu[Ju]+Fu[Ju+1]*256);return Ku}ou.prototype.slice=function(Cu,ku){const Fu=this.length;Cu=~~Cu,ku=ku===void 0?Fu:~~ku,Cu<0?(Cu+=Fu,Cu<0&&(Cu=0)):Cu>Fu&&(Cu=Fu),ku<0?(ku+=Fu,ku<0&&(ku=0)):ku>Fu&&(ku=Fu),ku<Cu&&(ku=Cu);const Ku=this.subarray(Cu,ku);return Object.setPrototypeOf(Ku,ou.prototype),Ku};function Tu(Nu,Cu,ku){if(Nu%1!==0||Nu<0)throw new RangeError("offset is not uint");if(Nu+Cu>ku)throw new RangeError("Trying to access beyond buffer length")}ou.prototype.readUintLE=ou.prototype.readUIntLE=function(Cu,ku,Fu){Cu=Cu>>>0,ku=ku>>>0,Fu||Tu(Cu,ku,this.length);let Ku=this[Cu],Ju=1,Gu=0;for(;++Gu<ku&&(Ju*=256);)Ku+=this[Cu+Gu]*Ju;return Ku},ou.prototype.readUintBE=ou.prototype.readUIntBE=function(Cu,ku,Fu){Cu=Cu>>>0,ku=ku>>>0,Fu||Tu(Cu,ku,this.length);let Ku=this[Cu+--ku],Ju=1;for(;ku>0&&(Ju*=256);)Ku+=this[Cu+--ku]*Ju;return Ku},ou.prototype.readUint8=ou.prototype.readUInt8=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,1,this.length),this[Cu]},ou.prototype.readUint16LE=ou.prototype.readUInt16LE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,2,this.length),this[Cu]|this[Cu+1]<<8},ou.prototype.readUint16BE=ou.prototype.readUInt16BE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,2,this.length),this[Cu]<<8|this[Cu+1]},ou.prototype.readUint32LE=ou.prototype.readUInt32LE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,4,this.length),(this[Cu]|this[Cu+1]<<8|this[Cu+2]<<16)+this[Cu+3]*16777216},ou.prototype.readUint32BE=ou.prototype.readUInt32BE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,4,this.length),this[Cu]*16777216+(this[Cu+1]<<16|this[Cu+2]<<8|this[Cu+3])},ou.prototype.readBigUInt64LE=Ml(function(Cu){Cu=Cu>>>0,Yu(Cu,"offset");const ku=this[Cu],Fu=this[Cu+7];(ku===void 0||Fu===void 0)&&Vl(Cu,this.length-8);const Ku=ku+this[++Cu]*2**8+this[++Cu]*2**16+this[++Cu]*2**24,Ju=this[++Cu]+this[++Cu]*2**8+this[++Cu]*2**16+Fu*2**24;return BigInt(Ku)+(BigInt(Ju)<<BigInt(32))}),ou.prototype.readBigUInt64BE=Ml(function(Cu){Cu=Cu>>>0,Yu(Cu,"offset");const ku=this[Cu],Fu=this[Cu+7];(ku===void 0||Fu===void 0)&&Vl(Cu,this.length-8);const Ku=ku*2**24+this[++Cu]*2**16+this[++Cu]*2**8+this[++Cu],Ju=this[++Cu]*2**24+this[++Cu]*2**16+this[++Cu]*2**8+Fu;return(BigInt(Ku)<<BigInt(32))+BigInt(Ju)}),ou.prototype.readIntLE=function(Cu,ku,Fu){Cu=Cu>>>0,ku=ku>>>0,Fu||Tu(Cu,ku,this.length);let Ku=this[Cu],Ju=1,Gu=0;for(;++Gu<ku&&(Ju*=256);)Ku+=this[Cu+Gu]*Ju;return Ju*=128,Ku>=Ju&&(Ku-=Math.pow(2,8*ku)),Ku},ou.prototype.readIntBE=function(Cu,ku,Fu){Cu=Cu>>>0,ku=ku>>>0,Fu||Tu(Cu,ku,this.length);let Ku=ku,Ju=1,Gu=this[Cu+--Ku];for(;Ku>0&&(Ju*=256);)Gu+=this[Cu+--Ku]*Ju;return Ju*=128,Gu>=Ju&&(Gu-=Math.pow(2,8*ku)),Gu},ou.prototype.readInt8=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,1,this.length),this[Cu]&128?(255-this[Cu]+1)*-1:this[Cu]},ou.prototype.readInt16LE=function(Cu,ku){Cu=Cu>>>0,ku||Tu(Cu,2,this.length);const Fu=this[Cu]|this[Cu+1]<<8;return Fu&32768?Fu|4294901760:Fu},ou.prototype.readInt16BE=function(Cu,ku){Cu=Cu>>>0,ku||Tu(Cu,2,this.length);const Fu=this[Cu+1]|this[Cu]<<8;return Fu&32768?Fu|4294901760:Fu},ou.prototype.readInt32LE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,4,this.length),this[Cu]|this[Cu+1]<<8|this[Cu+2]<<16|this[Cu+3]<<24},ou.prototype.readInt32BE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,4,this.length),this[Cu]<<24|this[Cu+1]<<16|this[Cu+2]<<8|this[Cu+3]},ou.prototype.readBigInt64LE=Ml(function(Cu){Cu=Cu>>>0,Yu(Cu,"offset");const ku=this[Cu],Fu=this[Cu+7];(ku===void 0||Fu===void 0)&&Vl(Cu,this.length-8);const Ku=this[Cu+4]+this[Cu+5]*2**8+this[Cu+6]*2**16+(Fu<<24);return(BigInt(Ku)<<BigInt(32))+BigInt(ku+this[++Cu]*2**8+this[++Cu]*2**16+this[++Cu]*2**24)}),ou.prototype.readBigInt64BE=Ml(function(Cu){Cu=Cu>>>0,Yu(Cu,"offset");const ku=this[Cu],Fu=this[Cu+7];(ku===void 0||Fu===void 0)&&Vl(Cu,this.length-8);const Ku=(ku<<24)+this[++Cu]*2**16+this[++Cu]*2**8+this[++Cu];return(BigInt(Ku)<<BigInt(32))+BigInt(this[++Cu]*2**24+this[++Cu]*2**16+this[++Cu]*2**8+Fu)}),ou.prototype.readFloatLE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,4,this.length),us.read(this,Cu,!0,23,4)},ou.prototype.readFloatBE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,4,this.length),us.read(this,Cu,!1,23,4)},ou.prototype.readDoubleLE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,8,this.length),us.read(this,Cu,!0,52,8)},ou.prototype.readDoubleBE=function(Cu,ku){return Cu=Cu>>>0,ku||Tu(Cu,8,this.length),us.read(this,Cu,!1,52,8)};function qu(Nu,Cu,ku,Fu,Ku,Ju){if(!ou.isBuffer(Nu))throw new TypeError('"buffer" argument must be a Buffer instance');if(Cu>Ku||Cu<Ju)throw new RangeError('"value" argument is out of bounds');if(ku+Fu>Nu.length)throw new RangeError("Index out of range")}ou.prototype.writeUintLE=ou.prototype.writeUIntLE=function(Cu,ku,Fu,Ku){if(Cu=+Cu,ku=ku>>>0,Fu=Fu>>>0,!Ku){const El=Math.pow(2,8*Fu)-1;qu(this,Cu,ku,Fu,El,0)}let Ju=1,Gu=0;for(this[ku]=Cu&255;++Gu<Fu&&(Ju*=256);)this[ku+Gu]=Cu/Ju&255;return ku+Fu},ou.prototype.writeUintBE=ou.prototype.writeUIntBE=function(Cu,ku,Fu,Ku){if(Cu=+Cu,ku=ku>>>0,Fu=Fu>>>0,!Ku){const El=Math.pow(2,8*Fu)-1;qu(this,Cu,ku,Fu,El,0)}let Ju=Fu-1,Gu=1;for(this[ku+Ju]=Cu&255;--Ju>=0&&(Gu*=256);)this[ku+Ju]=Cu/Gu&255;return ku+Fu},ou.prototype.writeUint8=ou.prototype.writeUInt8=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,1,255,0),this[ku]=Cu&255,ku+1},ou.prototype.writeUint16LE=ou.prototype.writeUInt16LE=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,2,65535,0),this[ku]=Cu&255,this[ku+1]=Cu>>>8,ku+2},ou.prototype.writeUint16BE=ou.prototype.writeUInt16BE=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,2,65535,0),this[ku]=Cu>>>8,this[ku+1]=Cu&255,ku+2},ou.prototype.writeUint32LE=ou.prototype.writeUInt32LE=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,4,4294967295,0),this[ku+3]=Cu>>>24,this[ku+2]=Cu>>>16,this[ku+1]=Cu>>>8,this[ku]=Cu&255,ku+4},ou.prototype.writeUint32BE=ou.prototype.writeUInt32BE=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,4,4294967295,0),this[ku]=Cu>>>24,this[ku+1]=Cu>>>16,this[ku+2]=Cu>>>8,this[ku+3]=Cu&255,ku+4};function Du(Nu,Cu,ku,Fu,Ku){Zu(Cu,Fu,Ku,Nu,ku,7);let Ju=Number(Cu&BigInt(4294967295));Nu[ku++]=Ju,Ju=Ju>>8,Nu[ku++]=Ju,Ju=Ju>>8,Nu[ku++]=Ju,Ju=Ju>>8,Nu[ku++]=Ju;let Gu=Number(Cu>>BigInt(32)&BigInt(4294967295));return Nu[ku++]=Gu,Gu=Gu>>8,Nu[ku++]=Gu,Gu=Gu>>8,Nu[ku++]=Gu,Gu=Gu>>8,Nu[ku++]=Gu,ku}function Iu(Nu,Cu,ku,Fu,Ku){Zu(Cu,Fu,Ku,Nu,ku,7);let Ju=Number(Cu&BigInt(4294967295));Nu[ku+7]=Ju,Ju=Ju>>8,Nu[ku+6]=Ju,Ju=Ju>>8,Nu[ku+5]=Ju,Ju=Ju>>8,Nu[ku+4]=Ju;let Gu=Number(Cu>>BigInt(32)&BigInt(4294967295));return Nu[ku+3]=Gu,Gu=Gu>>8,Nu[ku+2]=Gu,Gu=Gu>>8,Nu[ku+1]=Gu,Gu=Gu>>8,Nu[ku]=Gu,ku+8}ou.prototype.writeBigUInt64LE=Ml(function(Cu,ku=0){return Du(this,Cu,ku,BigInt(0),BigInt("0xffffffffffffffff"))}),ou.prototype.writeBigUInt64BE=Ml(function(Cu,ku=0){return Iu(this,Cu,ku,BigInt(0),BigInt("0xffffffffffffffff"))}),ou.prototype.writeIntLE=function(Cu,ku,Fu,Ku){if(Cu=+Cu,ku=ku>>>0,!Ku){const Yl=Math.pow(2,8*Fu-1);qu(this,Cu,ku,Fu,Yl-1,-Yl)}let Ju=0,Gu=1,El=0;for(this[ku]=Cu&255;++Ju<Fu&&(Gu*=256);)Cu<0&&El===0&&this[ku+Ju-1]!==0&&(El=1),this[ku+Ju]=(Cu/Gu>>0)-El&255;return ku+Fu},ou.prototype.writeIntBE=function(Cu,ku,Fu,Ku){if(Cu=+Cu,ku=ku>>>0,!Ku){const Yl=Math.pow(2,8*Fu-1);qu(this,Cu,ku,Fu,Yl-1,-Yl)}let Ju=Fu-1,Gu=1,El=0;for(this[ku+Ju]=Cu&255;--Ju>=0&&(Gu*=256);)Cu<0&&El===0&&this[ku+Ju+1]!==0&&(El=1),this[ku+Ju]=(Cu/Gu>>0)-El&255;return ku+Fu},ou.prototype.writeInt8=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,1,127,-128),Cu<0&&(Cu=255+Cu+1),this[ku]=Cu&255,ku+1},ou.prototype.writeInt16LE=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,2,32767,-32768),this[ku]=Cu&255,this[ku+1]=Cu>>>8,ku+2},ou.prototype.writeInt16BE=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,2,32767,-32768),this[ku]=Cu>>>8,this[ku+1]=Cu&255,ku+2},ou.prototype.writeInt32LE=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,4,2147483647,-2147483648),this[ku]=Cu&255,this[ku+1]=Cu>>>8,this[ku+2]=Cu>>>16,this[ku+3]=Cu>>>24,ku+4},ou.prototype.writeInt32BE=function(Cu,ku,Fu){return Cu=+Cu,ku=ku>>>0,Fu||qu(this,Cu,ku,4,2147483647,-2147483648),Cu<0&&(Cu=4294967295+Cu+1),this[ku]=Cu>>>24,this[ku+1]=Cu>>>16,this[ku+2]=Cu>>>8,this[ku+3]=Cu&255,ku+4},ou.prototype.writeBigInt64LE=Ml(function(Cu,ku=0){return Du(this,Cu,ku,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ou.prototype.writeBigInt64BE=Ml(function(Cu,ku=0){return Iu(this,Cu,ku,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Lu(Nu,Cu,ku,Fu,Ku,Ju){if(ku+Fu>Nu.length)throw new RangeError("Index out of range");if(ku<0)throw new RangeError("Index out of range")}function Uu(Nu,Cu,ku,Fu,Ku){return Cu=+Cu,ku=ku>>>0,Ku||Lu(Nu,Cu,ku,4),us.write(Nu,Cu,ku,Fu,23,4),ku+4}ou.prototype.writeFloatLE=function(Cu,ku,Fu){return Uu(this,Cu,ku,!0,Fu)},ou.prototype.writeFloatBE=function(Cu,ku,Fu){return Uu(this,Cu,ku,!1,Fu)};function Hu(Nu,Cu,ku,Fu,Ku){return Cu=+Cu,ku=ku>>>0,Ku||Lu(Nu,Cu,ku,8),us.write(Nu,Cu,ku,Fu,52,8),ku+8}ou.prototype.writeDoubleLE=function(Cu,ku,Fu){return Hu(this,Cu,ku,!0,Fu)},ou.prototype.writeDoubleBE=function(Cu,ku,Fu){return Hu(this,Cu,ku,!1,Fu)},ou.prototype.copy=function(Cu,ku,Fu,Ku){if(!ou.isBuffer(Cu))throw new TypeError("argument should be a Buffer");if(Fu||(Fu=0),!Ku&&Ku!==0&&(Ku=this.length),ku>=Cu.length&&(ku=Cu.length),ku||(ku=0),Ku>0&&Ku<Fu&&(Ku=Fu),Ku===Fu||Cu.length===0||this.length===0)return 0;if(ku<0)throw new RangeError("targetStart out of bounds");if(Fu<0||Fu>=this.length)throw new RangeError("Index out of range");if(Ku<0)throw new RangeError("sourceEnd out of bounds");Ku>this.length&&(Ku=this.length),Cu.length-ku<Ku-Fu&&(Ku=Cu.length-ku+Fu);const Ju=Ku-Fu;return this===Cu&&typeof na.prototype.copyWithin=="function"?this.copyWithin(ku,Fu,Ku):na.prototype.set.call(Cu,this.subarray(Fu,Ku),ku),Ju},ou.prototype.fill=function(Cu,ku,Fu,Ku){if(typeof Cu=="string"){if(typeof ku=="string"?(Ku=ku,ku=0,Fu=this.length):typeof Fu=="string"&&(Ku=Fu,Fu=this.length),Ku!==void 0&&typeof Ku!="string")throw new TypeError("encoding must be a string");if(typeof Ku=="string"&&!ou.isEncoding(Ku))throw new TypeError("Unknown encoding: "+Ku);if(Cu.length===1){const Gu=Cu.charCodeAt(0);(Ku==="utf8"&&Gu<128||Ku==="latin1")&&(Cu=Gu)}}else typeof Cu=="number"?Cu=Cu&255:typeof Cu=="boolean"&&(Cu=Number(Cu));if(ku<0||this.length<ku||this.length<Fu)throw new RangeError("Out of range index");if(Fu<=ku)return this;ku=ku>>>0,Fu=Fu===void 0?this.length:Fu>>>0,Cu||(Cu=0);let Ju;if(typeof Cu=="number")for(Ju=ku;Ju<Fu;++Ju)this[Ju]=Cu;else{const Gu=ou.isBuffer(Cu)?Cu:ou.from(Cu,Ku),El=Gu.length;if(El===0)throw new TypeError('The value "'+Cu+'" is invalid for argument "value"');for(Ju=0;Ju<Fu-ku;++Ju)this[Ju+ku]=Gu[Ju%El]}return this};const zu={};function ju(Nu,Cu,ku){zu[Nu]=class extends ku{constructor(){super(),Object.defineProperty(this,"message",{value:Cu.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Nu}]`,this.stack,delete this.name}get code(){return Nu}set code(Ku){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ku,writable:!0})}toString(){return`${this.name} [${Nu}]: ${this.message}`}}}ju("ERR_BUFFER_OUT_OF_BOUNDS",function(Nu){return Nu?`${Nu} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ju("ERR_INVALID_ARG_TYPE",function(Nu,Cu){return`The "${Nu}" argument must be of type number. Received type ${typeof Cu}`},TypeError),ju("ERR_OUT_OF_RANGE",function(Nu,Cu,ku){let Fu=`The value of "${Nu}" is out of range.`,Ku=ku;return Number.isInteger(ku)&&Math.abs(ku)>2**32?Ku=Wu(String(ku)):typeof ku=="bigint"&&(Ku=String(ku),(ku>BigInt(2)**BigInt(32)||ku<-(BigInt(2)**BigInt(32)))&&(Ku=Wu(Ku)),Ku+="n"),Fu+=` It must be ${Cu}. Received ${Ku}`,Fu},RangeError);function Wu(Nu){let Cu="",ku=Nu.length;const Fu=Nu[0]==="-"?1:0;for(;ku>=Fu+4;ku-=3)Cu=`_${Nu.slice(ku-3,ku)}${Cu}`;return`${Nu.slice(0,ku)}${Cu}`}function Dl(Nu,Cu,ku){Yu(Cu,"offset"),(Nu[Cu]===void 0||Nu[Cu+ku]===void 0)&&Vl(Cu,Nu.length-(ku+1))}function Zu(Nu,Cu,ku,Fu,Ku,Ju){if(Nu>ku||Nu<Cu){const Gu=typeof Cu=="bigint"?"n":"";let El;throw Cu===0||Cu===BigInt(0)?El=`>= 0${Gu} and < 2${Gu} ** ${(Ju+1)*8}${Gu}`:El=`>= -(2${Gu} ** ${(Ju+1)*8-1}${Gu}) and < 2 ** ${(Ju+1)*8-1}${Gu}`,new zu.ERR_OUT_OF_RANGE("value",El,Nu)}Dl(Fu,Ku,Ju)}function Yu(Nu,Cu){if(typeof Nu!="number")throw new zu.ERR_INVALID_ARG_TYPE(Cu,"number",Nu)}function Vl(Nu,Cu,ku){throw Math.floor(Nu)!==Nu?(Yu(Nu,ku),new zu.ERR_OUT_OF_RANGE("offset","an integer",Nu)):Cu<0?new zu.ERR_BUFFER_OUT_OF_BOUNDS:new zu.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Cu}`,Nu)}const _l=/[^+/0-9A-Za-z-_]/g;function Qu(Nu){if(Nu=Nu.split("=")[0],Nu=Nu.trim().replace(_l,""),Nu.length<2)return"";for(;Nu.length%4!==0;)Nu=Nu+"=";return Nu}function Gl(Nu,Cu){Cu=Cu||1/0;let ku;const Fu=Nu.length;let Ku=null;const Ju=[];for(let Gu=0;Gu<Fu;++Gu){if(ku=Nu.charCodeAt(Gu),ku>55295&&ku<57344){if(!Ku){if(ku>56319){(Cu-=3)>-1&&Ju.push(239,191,189);continue}else if(Gu+1===Fu){(Cu-=3)>-1&&Ju.push(239,191,189);continue}Ku=ku;continue}if(ku<56320){(Cu-=3)>-1&&Ju.push(239,191,189),Ku=ku;continue}ku=(Ku-55296<<10|ku-56320)+65536}else Ku&&(Cu-=3)>-1&&Ju.push(239,191,189);if(Ku=null,ku<128){if((Cu-=1)<0)break;Ju.push(ku)}else if(ku<2048){if((Cu-=2)<0)break;Ju.push(ku>>6|192,ku&63|128)}else if(ku<65536){if((Cu-=3)<0)break;Ju.push(ku>>12|224,ku>>6&63|128,ku&63|128)}else if(ku<1114112){if((Cu-=4)<0)break;Ju.push(ku>>18|240,ku>>12&63|128,ku>>6&63|128,ku&63|128)}else throw new Error("Invalid code point")}return Ju}function yl(Nu){const Cu=[];for(let ku=0;ku<Nu.length;++ku)Cu.push(Nu.charCodeAt(ku)&255);return Cu}function Sl(Nu,Cu){let ku,Fu,Ku;const Ju=[];for(let Gu=0;Gu<Nu.length&&!((Cu-=2)<0);++Gu)ku=Nu.charCodeAt(Gu),Fu=ku>>8,Ku=ku%256,Ju.push(Ku),Ju.push(Fu);return Ju}function Ql(Nu){return as.toByteArray(Qu(Nu))}function Xu(Nu,Cu,ku,Fu){let Ku;for(Ku=0;Ku<Fu&&!(Ku+ku>=Cu.length||Ku>=Nu.length);++Ku)Cu[Ku+ku]=Nu[Ku];return Ku}function $l(Nu,Cu){return Nu instanceof Cu||Nu!=null&&Nu.constructor!=null&&Nu.constructor.name!=null&&Nu.constructor.name===Cu.name}function Zl(Nu){return Nu!==Nu}const wl=function(){const Nu="0123456789abcdef",Cu=new Array(256);for(let ku=0;ku<16;++ku){const Fu=ku*16;for(let Ku=0;Ku<16;++Ku)Cu[Fu+Ku]=Nu[ku]+Nu[Ku]}return Cu}();function Ml(Nu){return typeof BigInt>"u"?Xl:Nu}function Xl(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer$7=buffer$1.Buffer,Blob$1=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1$1=buffer$1.Buffer,File=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$2=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$2,default:Buffer$7,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(dist);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(ss,as){var us=require$$0$3,cs=us.Buffer;function $a(tu,iu){for(var su in tu)iu[su]=tu[su]}cs.from&&cs.alloc&&cs.allocUnsafe&&cs.allocUnsafeSlow?ss.exports=us:($a(us,as),as.Buffer=na);function na(tu,iu,su){return cs(tu,iu,su)}na.prototype=Object.create(cs.prototype),$a(cs,na),na.from=function(tu,iu,su){if(typeof tu=="number")throw new TypeError("Argument must not be a number");return cs(tu,iu,su)},na.alloc=function(tu,iu,su){if(typeof tu!="number")throw new TypeError("Argument must be a number");var au=cs(tu);return iu!==void 0?typeof su=="string"?au.fill(iu,su):au.fill(iu):au.fill(0),au},na.allocUnsafe=function(tu){if(typeof tu!="number")throw new TypeError("Argument must be a number");return cs(tu)},na.allocUnsafeSlow=function(tu){if(typeof tu!="number")throw new TypeError("Argument must be a number");return us.SlowBuffer(tu)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$d.exports;hasRequiredBrowser$b=1;var ss=65536,as=4294967295;function us(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var cs=safeBufferExports.Buffer,$a=commonjsGlobal.crypto||commonjsGlobal.msCrypto;$a&&$a.getRandomValues?browser$d.exports=na:browser$d.exports=us;function na(tu,iu){if(tu>as)throw new RangeError("requested too many random bytes");var su=cs.allocUnsafe(tu);if(tu>0)if(tu>ss)for(var au=0;au<tu;au+=ss)$a.getRandomValues(su.slice(au,au+ss));else $a.getRandomValues(su);return typeof iu=="function"?process$1.nextTick(function(){iu(null,su)}):su}return browser$d.exports}var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(as,us){us&&(as.super_=us,as.prototype=Object.create(us.prototype,{constructor:{value:as,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(as,us){if(us){as.super_=us;var cs=function(){};cs.prototype=us.prototype,as.prototype=new cs,as.prototype.constructor=as}};var inherits_browserExports=inherits_browser.exports,readableBrowser$1={exports:{}},events={exports:{}},R$3=typeof Reflect=="object"?Reflect:null,ReflectApply=R$3&&typeof R$3.apply=="function"?R$3.apply:function(as,us,cs){return Function.prototype.apply.call(as,us,cs)},ReflectOwnKeys;R$3&&typeof R$3.ownKeys=="function"?ReflectOwnKeys=R$3.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(as){return Object.getOwnPropertyNames(as).concat(Object.getOwnPropertySymbols(as))}:ReflectOwnKeys=function(as){return Object.getOwnPropertyNames(as)};function ProcessEmitWarning(ss){console&&console.warn&&console.warn(ss)}var NumberIsNaN=Number.isNaN||function(as){return as!==as};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once$2;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(ss){if(typeof ss!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ss)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(ss){if(typeof ss!="number"||ss<0||NumberIsNaN(ss))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ss+".");defaultMaxListeners=ss}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(as){if(typeof as!="number"||as<0||NumberIsNaN(as))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+as+".");return this._maxListeners=as,this};function _getMaxListeners(ss){return ss._maxListeners===void 0?EventEmitter.defaultMaxListeners:ss._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function(as){for(var us=[],cs=1;cs<arguments.length;cs++)us.push(arguments[cs]);var $a=as==="error",na=this._events;if(na!==void 0)$a=$a&&na.error===void 0;else if(!$a)return!1;if($a){var tu;if(us.length>0&&(tu=us[0]),tu instanceof Error)throw tu;var iu=new Error("Unhandled error."+(tu?" ("+tu.message+")":""));throw iu.context=tu,iu}var su=na[as];if(su===void 0)return!1;if(typeof su=="function")ReflectApply(su,this,us);else for(var au=su.length,ou=arrayClone(su,au),cs=0;cs<au;++cs)ReflectApply(ou[cs],this,us);return!0};function _addListener(ss,as,us,cs){var $a,na,tu;if(checkListener(us),na=ss._events,na===void 0?(na=ss._events=Object.create(null),ss._eventsCount=0):(na.newListener!==void 0&&(ss.emit("newListener",as,us.listener?us.listener:us),na=ss._events),tu=na[as]),tu===void 0)tu=na[as]=us,++ss._eventsCount;else if(typeof tu=="function"?tu=na[as]=cs?[us,tu]:[tu,us]:cs?tu.unshift(us):tu.push(us),$a=_getMaxListeners(ss),$a>0&&tu.length>$a&&!tu.warned){tu.warned=!0;var iu=new Error("Possible EventEmitter memory leak detected. "+tu.length+" "+String(as)+" listeners added. Use emitter.setMaxListeners() to increase limit");iu.name="MaxListenersExceededWarning",iu.emitter=ss,iu.type=as,iu.count=tu.length,ProcessEmitWarning(iu)}return ss}EventEmitter.prototype.addListener=function(as,us){return _addListener(this,as,us,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(as,us){return _addListener(this,as,us,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(ss,as,us){var cs={fired:!1,wrapFn:void 0,target:ss,type:as,listener:us},$a=onceWrapper.bind(cs);return $a.listener=us,cs.wrapFn=$a,$a}EventEmitter.prototype.once=function(as,us){return checkListener(us),this.on(as,_onceWrap(this,as,us)),this};EventEmitter.prototype.prependOnceListener=function(as,us){return checkListener(us),this.prependListener(as,_onceWrap(this,as,us)),this};EventEmitter.prototype.removeListener=function(as,us){var cs,$a,na,tu,iu;if(checkListener(us),$a=this._events,$a===void 0)return this;if(cs=$a[as],cs===void 0)return this;if(cs===us||cs.listener===us)--this._eventsCount===0?this._events=Object.create(null):(delete $a[as],$a.removeListener&&this.emit("removeListener",as,cs.listener||us));else if(typeof cs!="function"){for(na=-1,tu=cs.length-1;tu>=0;tu--)if(cs[tu]===us||cs[tu].listener===us){iu=cs[tu].listener,na=tu;break}if(na<0)return this;na===0?cs.shift():spliceOne(cs,na),cs.length===1&&($a[as]=cs[0]),$a.removeListener!==void 0&&this.emit("removeListener",as,iu||us)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(as){var us,cs,$a;if(cs=this._events,cs===void 0)return this;if(cs.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):cs[as]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete cs[as]),this;if(arguments.length===0){var na=Object.keys(cs),tu;for($a=0;$a<na.length;++$a)tu=na[$a],tu!=="removeListener"&&this.removeAllListeners(tu);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(us=cs[as],typeof us=="function")this.removeListener(as,us);else if(us!==void 0)for($a=us.length-1;$a>=0;$a--)this.removeListener(as,us[$a]);return this};function _listeners(ss,as,us){var cs=ss._events;if(cs===void 0)return[];var $a=cs[as];return $a===void 0?[]:typeof $a=="function"?us?[$a.listener||$a]:[$a]:us?unwrapListeners($a):arrayClone($a,$a.length)}EventEmitter.prototype.listeners=function(as){return _listeners(this,as,!0)};EventEmitter.prototype.rawListeners=function(as){return _listeners(this,as,!1)};EventEmitter.listenerCount=function(ss,as){return typeof ss.listenerCount=="function"?ss.listenerCount(as):listenerCount.call(ss,as)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(ss){var as=this._events;if(as!==void 0){var us=as[ss];if(typeof us=="function")return 1;if(us!==void 0)return us.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(ss,as){for(var us=new Array(as),cs=0;cs<as;++cs)us[cs]=ss[cs];return us}function spliceOne(ss,as){for(;as+1<ss.length;as++)ss[as]=ss[as+1];ss.pop()}function unwrapListeners(ss){for(var as=new Array(ss.length),us=0;us<as.length;++us)as[us]=ss[us].listener||ss[us];return as}function once$2(ss,as){return new Promise(function(us,cs){function $a(tu){ss.removeListener(as,na),cs(tu)}function na(){typeof ss.removeListener=="function"&&ss.removeListener("error",$a),us([].slice.call(arguments))}eventTargetAgnosticAddListener(ss,as,na,{once:!0}),as!=="error"&&addErrorHandlerIfEventEmitter(ss,$a,{once:!0})})}function addErrorHandlerIfEventEmitter(ss,as,us){typeof ss.on=="function"&&eventTargetAgnosticAddListener(ss,"error",as,us)}function eventTargetAgnosticAddListener(ss,as,us,cs){if(typeof ss.on=="function")cs.once?ss.once(as,us):ss.on(as,us);else if(typeof ss.addEventListener=="function")ss.addEventListener(as,function $a(na){cs.once&&ss.removeEventListener(as,$a),us(na)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ss)}var eventsExports=events.exports;const $g=getDefaultExportFromCjs$1(eventsExports);var streamBrowser$1=eventsExports.EventEmitter,util$1={},types$1={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var as={},us=Symbol("test"),cs=Object(us);if(typeof us=="string"||Object.prototype.toString.call(us)!=="[object Symbol]"||Object.prototype.toString.call(cs)!=="[object Symbol]")return!1;var $a=42;as[us]=$a;for(var na in as)return!1;if(typeof Object.keys=="function"&&Object.keys(as).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(as).length!==0)return!1;var tu=Object.getOwnPropertySymbols(as);if(tu.length!==1||tu[0]!==us||!Object.prototype.propertyIsEnumerable.call(as,us))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var iu=Object.getOwnPropertyDescriptor(as,us);if(iu.value!==$a||iu.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},esObjectAtoms=Object,esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type=TypeError,uri=URIError,abs$1=Math.abs,floor$1=Math.floor,max$2=Math.max,min$1=Math.min,pow$1=Math.pow,round$1=Math.round,_isNaN=Number.isNaN||function(as){return as!==as},$isNaN=_isNaN,sign$2=function(as){return $isNaN(as)||as===0?as:as<0?-1:1},gOPD$4=Object.getOwnPropertyDescriptor,$gOPD$1=gOPD$4;if($gOPD$1)try{$gOPD$1([],"length")}catch{$gOPD$1=null}var gopd$1=$gOPD$1,$defineProperty$3=Object.defineProperty||!1;if($defineProperty$3)try{$defineProperty$3({},"a",{value:1})}catch{$defineProperty$3=!1}var esDefineProperty=$defineProperty$3,hasSymbols$1,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols$1;hasRequiredHasSymbols=1;var ss=typeof Symbol<"u"&&Symbol,as=shams$1;return hasSymbols$1=function(){return typeof ss!="function"||typeof Symbol!="function"||typeof ss("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:as()},hasSymbols$1}var Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,$Object$2=esObjectAtoms,Object_getPrototypeOf=$Object$2.getPrototypeOf||null,ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$3=Object.prototype.toString,max$1=Math.max,funcType="[object Function]",concatty=function(as,us){for(var cs=[],$a=0;$a<as.length;$a+=1)cs[$a]=as[$a];for(var na=0;na<us.length;na+=1)cs[na+as.length]=us[na];return cs},slicy=function(as,us){for(var cs=[],$a=us,na=0;$a<as.length;$a+=1,na+=1)cs[na]=as[$a];return cs},joiny=function(ss,as){for(var us="",cs=0;cs<ss.length;cs+=1)us+=ss[cs],cs+1<ss.length&&(us+=as);return us},implementation$1=function(as){var us=this;if(typeof us!="function"||toStr$3.apply(us)!==funcType)throw new TypeError(ERROR_MESSAGE+us);for(var cs=slicy(arguments,1),$a,na=function(){if(this instanceof $a){var ou=us.apply(this,concatty(cs,arguments));return Object(ou)===ou?ou:this}return us.apply(as,concatty(cs,arguments))},tu=max$1(0,us.length-cs.length),iu=[],su=0;su<tu;su++)iu[su]="$"+su;if($a=Function("binder","return function ("+joiny(iu,",")+"){ return binder.apply(this,arguments); }")(na),us.prototype){var au=function(){};au.prototype=us.prototype,$a.prototype=new au,au.prototype=null}return $a},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,functionCall=Function.prototype.call,functionApply=Function.prototype.apply,reflectApply$1=typeof Reflect<"u"&&Reflect&&Reflect.apply,bind$5=functionBind,$apply$2=functionApply,$call$2=functionCall,$reflectApply=reflectApply$1,actualApply$1=$reflectApply||bind$5.call($call$2,$apply$2),bind$4=functionBind,$TypeError$4=type,$call$1=functionCall,$actualApply=actualApply$1,callBindApplyHelpers=function(as){if(as.length<1||typeof as[0]!="function")throw new $TypeError$4("a function is required");return $actualApply(bind$4,$call$1,as)},callBind$2=callBindApplyHelpers,gOPD$3=gopd$1,hasProtoAccessor;try{hasProtoAccessor=[].__proto__===Array.prototype}catch(ss){if(!ss||typeof ss!="object"||!("code"in ss)||ss.code!=="ERR_PROTO_ACCESS")throw ss}var desc=!!hasProtoAccessor&&gOPD$3&&gOPD$3(Object.prototype,"__proto__"),$Object$1=Object,$getPrototypeOf=$Object$1.getPrototypeOf,get$1=desc&&typeof desc.get=="function"?callBind$2([desc.get]):typeof $getPrototypeOf=="function"?function(as){return $getPrototypeOf(as==null?as:$Object$1(as))}:!1,reflectGetProto=Reflect_getPrototypeOf,originalGetProto=Object_getPrototypeOf,getDunderProto=get$1,getProto$3=reflectGetProto?function(as){return reflectGetProto(as)}:originalGetProto?function(as){if(!as||typeof as!="object"&&typeof as!="function")throw new TypeError("getProto: not an object");return originalGetProto(as)}:getDunderProto?function(as){return getDunderProto(as)}:null,call$1=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$3=functionBind,hasown=bind$3.call(call$1,$hasOwn),undefined$1,$Object=esObjectAtoms,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$3=type,$URIError=uri,abs=abs$1,floor=floor$1,max=max$2,min=min$1,pow=pow$1,round=round$1,sign$1=sign$2,$Function=Function,getEvalledConstructor=function(ss){try{return $Function('"use strict"; return ('+ss+").constructor;")()}catch{}},$gOPD=gopd$1,$defineProperty$2=esDefineProperty,throwTypeError=function(){throw new $TypeError$3},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=requireHasSymbols()(),getProto$2=getProto$3,$ObjectGPO=Object_getPrototypeOf,$ReflectGPO=Reflect_getPrototypeOf,$apply$1=functionApply,$call=functionCall,needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$2?undefined$1:getProto$2(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$2?getProto$2([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float16Array%":typeof Float16Array>"u"?undefined$1:Float16Array,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$2?getProto$2(getProto$2([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$2?undefined$1:getProto$2(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$2?undefined$1:getProto$2(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$2?getProto$2(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$3,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply$1,"%Object.defineProperty%":$defineProperty$2,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs,"%Math.floor%":floor,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow,"%Math.round%":round,"%Math.sign%":sign$1,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto$2)try{null.error}catch(ss){var errorProto=getProto$2(getProto$2(ss));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function ss(as){var us;if(as==="%AsyncFunction%")us=getEvalledConstructor("async function () {}");else if(as==="%GeneratorFunction%")us=getEvalledConstructor("function* () {}");else if(as==="%AsyncGeneratorFunction%")us=getEvalledConstructor("async function* () {}");else if(as==="%AsyncGenerator%"){var cs=ss("%AsyncGeneratorFunction%");cs&&(us=cs.prototype)}else if(as==="%AsyncIteratorPrototype%"){var $a=ss("%AsyncGenerator%");$a&&getProto$2&&(us=getProto$2($a.prototype))}return INTRINSICS[as]=us,us},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$2=functionBind,hasOwn$1=hasown,$concat=bind$2.call($call,Array.prototype.concat),$spliceApply=bind$2.call($apply$1,Array.prototype.splice),$replace=bind$2.call($call,String.prototype.replace),$strSlice=bind$2.call($call,String.prototype.slice),$exec$2=bind$2.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(as){var us=$strSlice(as,0,1),cs=$strSlice(as,-1);if(us==="%"&&cs!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(cs==="%"&&us!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var $a=[];return $replace(as,rePropName,function(na,tu,iu,su){$a[$a.length]=iu?$replace(su,reEscapeChar,"$1"):tu||na}),$a},getBaseIntrinsic=function(as,us){var cs=as,$a;if(hasOwn$1(LEGACY_ALIASES,cs)&&($a=LEGACY_ALIASES[cs],cs="%"+$a[0]+"%"),hasOwn$1(INTRINSICS,cs)){var na=INTRINSICS[cs];if(na===needsEval&&(na=doEval(cs)),typeof na>"u"&&!us)throw new $TypeError$3("intrinsic "+as+" exists, but is not available. Please file an issue!");return{alias:$a,name:cs,value:na}}throw new $SyntaxError$1("intrinsic "+as+" does not exist!")},getIntrinsic=function(as,us){if(typeof as!="string"||as.length===0)throw new $TypeError$3("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof us!="boolean")throw new $TypeError$3('"allowMissing" argument must be a boolean');if($exec$2(/^%?[^%]*%?$/,as)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var cs=stringToPath(as),$a=cs.length>0?cs[0]:"",na=getBaseIntrinsic("%"+$a+"%",us),tu=na.name,iu=na.value,su=!1,au=na.alias;au&&($a=au[0],$spliceApply(cs,$concat([0,1],au)));for(var ou=1,fu=!0;ou<cs.length;ou+=1){var pu=cs[ou],vu=$strSlice(pu,0,1),gu=$strSlice(pu,-1);if((vu==='"'||vu==="'"||vu==="`"||gu==='"'||gu==="'"||gu==="`")&&vu!==gu)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((pu==="constructor"||!fu)&&(su=!0),$a+="."+pu,tu="%"+$a+"%",hasOwn$1(INTRINSICS,tu))iu=INTRINSICS[tu];else if(iu!=null){if(!(pu in iu)){if(!us)throw new $TypeError$3("base intrinsic for "+as+" exists, but the property is not available.");return}if($gOPD&&ou+1>=cs.length){var bu=$gOPD(iu,pu);fu=!!bu,fu&&"get"in bu&&!("originalValue"in bu.get)?iu=bu.get:iu=iu[pu]}else fu=hasOwn$1(iu,pu),iu=iu[pu];fu&&!su&&(INTRINSICS[tu]=iu)}}return iu},GetIntrinsic$1=getIntrinsic,callBindBasic=callBindApplyHelpers,$indexOf$1=callBindBasic([GetIntrinsic$1("%String.prototype.indexOf%")]),callBound$5=function(as,us){var cs=GetIntrinsic$1(as,!!us);return typeof cs=="function"&&$indexOf$1(as,".prototype.")>-1?callBindBasic([cs]):cs},hasToStringTag$4=shams(),callBound$4=callBound$5,$toString$2=callBound$4("Object.prototype.toString"),isStandardArguments=function(as){return hasToStringTag$4&&as&&typeof as=="object"&&Symbol.toStringTag in as?!1:$toString$2(as)==="[object Arguments]"},isLegacyArguments=function(as){return isStandardArguments(as)?!0:as!==null&&typeof as=="object"&&"length"in as&&typeof as.length=="number"&&as.length>=0&&$toString$2(as)!=="[object Array]"&&"callee"in as&&$toString$2(as.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,callBound$3=callBound$5,hasToStringTag$3=shams(),hasOwn=hasown,gOPD$2=gopd$1,fn$2;if(hasToStringTag$3){var $exec$1=callBound$3("RegExp.prototype.exec"),isRegexMarker={},throwRegexMarker=function(){throw isRegexMarker},badStringifier={toString:throwRegexMarker,valueOf:throwRegexMarker};typeof Symbol.toPrimitive=="symbol"&&(badStringifier[Symbol.toPrimitive]=throwRegexMarker),fn$2=function(as){if(!as||typeof as!="object")return!1;var us=gOPD$2(as,"lastIndex"),cs=us&&hasOwn(us,"value");if(!cs)return!1;try{$exec$1(as,badStringifier)}catch($a){return $a===isRegexMarker}}}else{var $toString$1=callBound$3("Object.prototype.toString"),regexClass="[object RegExp]";fn$2=function(as){return!as||typeof as!="object"&&typeof as!="function"?!1:$toString$1(as)===regexClass}}var isRegex$1=fn$2,callBound$2=callBound$5,isRegex=isRegex$1,$exec=callBound$2("RegExp.prototype.exec"),$TypeError$2=type,safeRegexTest$1=function(as){if(!isRegex(as))throw new $TypeError$2("`regex` must be a RegExp");return function(cs){return $exec(as,cs)!==null}},callBound$1=callBound$5,safeRegexTest=safeRegexTest$1,isFnRegex=safeRegexTest(/^\s*(?:function)?\*/),hasToStringTag$2=shams(),getProto$1=getProto$3,toStr$2=callBound$1("Object.prototype.toString"),fnToStr$1=callBound$1("Function.prototype.toString"),getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(as){if(typeof as!="function")return!1;if(isFnRegex(fnToStr$1(as)))return!0;if(!hasToStringTag$2){var us=toStr$2(as);return us==="[object GeneratorFunction]"}if(!getProto$1)return!1;if(typeof GeneratorFunction>"u"){var cs=getGeneratorFunc();GeneratorFunction=cs?getProto$1(cs):!1}return getProto$1(as)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(ss){ss!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(as){try{var us=fnToStr.call(as);return constructorRegex.test(us)}catch{return!1}},tryFunctionObject=function(as){try{return isES6ClassFn(as)?!1:(fnToStr.call(as),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(as){if((isIE68||!as)&&(typeof as>"u"||typeof as=="object"))try{var us=toStr$1.call(as);return(us===ddaClass||us===ddaClass2||us===ddaClass3||us===objectClass)&&as("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(as){if(isDDA(as))return!0;if(!as||typeof as!="function"&&typeof as!="object")return!1;try{reflectApply(as,null,badArrayLike)}catch(us){if(us!==isCallableMarker)return!1}return!isES6ClassFn(as)&&tryFunctionObject(as)}:function(as){if(isDDA(as))return!0;if(!as||typeof as!="function"&&typeof as!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(as);if(isES6ClassFn(as))return!1;var us=toStr$1.call(as);return us!==fnClass&&us!==genClass&&!/^\[object HTML/.test(us)?!1:tryFunctionObject(as)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function(as,us,cs){for(var $a=0,na=as.length;$a<na;$a++)hasOwnProperty.call(as,$a)&&(cs==null?us(as[$a],$a,as):us.call(cs,as[$a],$a,as))},forEachString=function(as,us,cs){for(var $a=0,na=as.length;$a<na;$a++)cs==null?us(as.charAt($a),$a,as):us.call(cs,as.charAt($a),$a,as)},forEachObject=function(as,us,cs){for(var $a in as)hasOwnProperty.call(as,$a)&&(cs==null?us(as[$a],$a,as):us.call(cs,as[$a],$a,as))};function isArray(ss){return toStr.call(ss)==="[object Array]"}var forEach$1=function(as,us,cs){if(!isCallable(us))throw new TypeError("iterator must be a function");var $a;arguments.length>=3&&($a=cs),isArray(as)?forEachArray(as,us,$a):typeof as=="string"?forEachString(as,us,$a):forEachObject(as,us,$a)},possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$3=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var as=[],us=0;us<possibleNames.length;us++)typeof g$3[possibleNames[us]]=="function"&&(as[as.length]=possibleNames[us]);return as},callBind$1={exports:{}},$defineProperty$1=esDefineProperty,$SyntaxError=syntax,$TypeError$1=type,gopd=gopd$1,defineDataProperty=function(as,us,cs){if(!as||typeof as!="object"&&typeof as!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof us!="string"&&typeof us!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var $a=arguments.length>3?arguments[3]:null,na=arguments.length>4?arguments[4]:null,tu=arguments.length>5?arguments[5]:null,iu=arguments.length>6?arguments[6]:!1,su=!!gopd&&gopd(as,us);if($defineProperty$1)$defineProperty$1(as,us,{configurable:tu===null&&su?su.configurable:!tu,enumerable:$a===null&&su?su.enumerable:!$a,value:cs,writable:na===null&&su?su.writable:!na});else if(iu||!$a&&!na&&!tu)as[us]=cs;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=esDefineProperty,hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type,$floor=GetIntrinsic("%Math.floor%"),setFunctionLength=function(as,us){if(typeof as!="function")throw new $TypeError("`fn` is not a function");if(typeof us!="number"||us<0||us>4294967295||$floor(us)!==us)throw new $TypeError("`length` must be a positive 32-bit integer");var cs=arguments.length>2&&!!arguments[2],$a=!0,na=!0;if("length"in as&&gOPD$1){var tu=gOPD$1(as,"length");tu&&!tu.configurable&&($a=!1),tu&&!tu.writable&&(na=!1)}return($a||na||!cs)&&(hasDescriptors?define(as,"length",us,!0,!0):define(as,"length",us)),as},bind$1=functionBind,$apply=functionApply,actualApply=actualApply$1,applyBind=function(){return actualApply(bind$1,$apply,arguments)};(function(ss){var as=setFunctionLength,us=esDefineProperty,cs=callBindApplyHelpers,$a=applyBind;ss.exports=function(tu){var iu=cs(arguments),su=tu.length-(arguments.length-1);return as(iu,1+(su>0?su:0),!0)},us?us(ss.exports,"apply",{value:$a}):ss.exports.apply=$a})(callBind$1);var callBindExports=callBind$1.exports,forEach=forEach$1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound=callBound$5,gOPD=gopd$1,getProto=getProto$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),$indexOf=callBound("Array.prototype.indexOf",!0)||function(as,us){for(var cs=0;cs<as.length;cs+=1)if(as[cs]===us)return cs;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getProto?forEach(typedArrays,function(ss){var as=new g$2[ss];if(Symbol.toStringTag in as&&getProto){var us=getProto(as),cs=gOPD(us,Symbol.toStringTag);if(!cs&&us){var $a=getProto(us);cs=gOPD($a,Symbol.toStringTag)}cache["$"+ss]=callBind(cs.get)}}):forEach(typedArrays,function(ss){var as=new g$2[ss],us=as.slice||as.set;us&&(cache["$"+ss]=callBind(us))});var tryTypedArrays=function(as){var us=!1;return forEach(cache,function(cs,$a){if(!us)try{"$"+cs(as)===$a&&(us=$slice($a,1))}catch{}}),us},trySlices=function(as){var us=!1;return forEach(cache,function(cs,$a){if(!us)try{cs(as),us=$slice($a,1)}catch{}}),us},whichTypedArray$1=function(as){if(!as||typeof as!="object")return!1;if(!hasToStringTag){var us=$slice($toString(as),8,-1);return $indexOf(typedArrays,us)>-1?us:us!=="Object"?!1:trySlices(as)}return gOPD?tryTypedArrays(as):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(as){return!!whichTypedArray(as)};(function(ss){var as=isArguments,us=isGeneratorFunction,cs=whichTypedArray$1,$a=isTypedArray;function na(Qu){return Qu.call.bind(Qu)}var tu=typeof BigInt<"u",iu=typeof Symbol<"u",su=na(Object.prototype.toString),au=na(Number.prototype.valueOf),ou=na(String.prototype.valueOf),fu=na(Boolean.prototype.valueOf);if(tu)var pu=na(BigInt.prototype.valueOf);if(iu)var vu=na(Symbol.prototype.valueOf);function gu(Qu,Gl){if(typeof Qu!="object")return!1;try{return Gl(Qu),!0}catch{return!1}}ss.isArgumentsObject=as,ss.isGeneratorFunction=us,ss.isTypedArray=$a;function bu(Qu){return typeof Promise<"u"&&Qu instanceof Promise||Qu!==null&&typeof Qu=="object"&&typeof Qu.then=="function"&&typeof Qu.catch=="function"}ss.isPromise=bu;function xu(Qu){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Qu):$a(Qu)||Ru(Qu)}ss.isArrayBufferView=xu;function $u(Qu){return cs(Qu)==="Uint8Array"}ss.isUint8Array=$u;function wu(Qu){return cs(Qu)==="Uint8ClampedArray"}ss.isUint8ClampedArray=wu;function _u(Qu){return cs(Qu)==="Uint16Array"}ss.isUint16Array=_u;function Mu(Qu){return cs(Qu)==="Uint32Array"}ss.isUint32Array=Mu;function Au(Qu){return cs(Qu)==="Int8Array"}ss.isInt8Array=Au;function Pu(Qu){return cs(Qu)==="Int16Array"}ss.isInt16Array=Pu;function Su(Qu){return cs(Qu)==="Int32Array"}ss.isInt32Array=Su;function Bu(Qu){return cs(Qu)==="Float32Array"}ss.isFloat32Array=Bu;function Ou(Qu){return cs(Qu)==="Float64Array"}ss.isFloat64Array=Ou;function Vu(Qu){return cs(Qu)==="BigInt64Array"}ss.isBigInt64Array=Vu;function yu(Qu){return cs(Qu)==="BigUint64Array"}ss.isBigUint64Array=yu;function _a(Qu){return su(Qu)==="[object Map]"}_a.working=typeof Map<"u"&&_a(new Map);function ru(Qu){return typeof Map>"u"?!1:_a.working?_a(Qu):Qu instanceof Map}ss.isMap=ru;function nu(Qu){return su(Qu)==="[object Set]"}nu.working=typeof Set<"u"&&nu(new Set);function uu(Qu){return typeof Set>"u"?!1:nu.working?nu(Qu):Qu instanceof Set}ss.isSet=uu;function lu(Qu){return su(Qu)==="[object WeakMap]"}lu.working=typeof WeakMap<"u"&&lu(new WeakMap);function du(Qu){return typeof WeakMap>"u"?!1:lu.working?lu(Qu):Qu instanceof WeakMap}ss.isWeakMap=du;function mu(Qu){return su(Qu)==="[object WeakSet]"}mu.working=typeof WeakSet<"u"&&mu(new WeakSet);function cu(Qu){return mu(Qu)}ss.isWeakSet=cu;function eu(Qu){return su(Qu)==="[object ArrayBuffer]"}eu.working=typeof ArrayBuffer<"u"&&eu(new ArrayBuffer);function hu(Qu){return typeof ArrayBuffer>"u"?!1:eu.working?eu(Qu):Qu instanceof ArrayBuffer}ss.isArrayBuffer=hu;function Eu(Qu){return su(Qu)==="[object DataView]"}Eu.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Eu(new DataView(new ArrayBuffer(1),0,1));function Ru(Qu){return typeof DataView>"u"?!1:Eu.working?Eu(Qu):Qu instanceof DataView}ss.isDataView=Ru;var Tu=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function qu(Qu){return su(Qu)==="[object SharedArrayBuffer]"}function Du(Qu){return typeof Tu>"u"?!1:(typeof qu.working>"u"&&(qu.working=qu(new Tu)),qu.working?qu(Qu):Qu instanceof Tu)}ss.isSharedArrayBuffer=Du;function Iu(Qu){return su(Qu)==="[object AsyncFunction]"}ss.isAsyncFunction=Iu;function Lu(Qu){return su(Qu)==="[object Map Iterator]"}ss.isMapIterator=Lu;function Uu(Qu){return su(Qu)==="[object Set Iterator]"}ss.isSetIterator=Uu;function Hu(Qu){return su(Qu)==="[object Generator]"}ss.isGeneratorObject=Hu;function zu(Qu){return su(Qu)==="[object WebAssembly.Module]"}ss.isWebAssemblyCompiledModule=zu;function ju(Qu){return gu(Qu,au)}ss.isNumberObject=ju;function Wu(Qu){return gu(Qu,ou)}ss.isStringObject=Wu;function Dl(Qu){return gu(Qu,fu)}ss.isBooleanObject=Dl;function Zu(Qu){return tu&&gu(Qu,pu)}ss.isBigIntObject=Zu;function Yu(Qu){return iu&&gu(Qu,vu)}ss.isSymbolObject=Yu;function Vl(Qu){return ju(Qu)||Wu(Qu)||Dl(Qu)||Zu(Qu)||Yu(Qu)}ss.isBoxedPrimitive=Vl;function _l(Qu){return typeof Uint8Array<"u"&&(hu(Qu)||Du(Qu))}ss.isAnyArrayBuffer=_l,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Qu){Object.defineProperty(ss,Qu,{enumerable:!1,value:function(){throw new Error(Qu+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function(as){return as&&typeof as=="object"&&typeof as.copy=="function"&&typeof as.fill=="function"&&typeof as.readUInt8=="function"};(function(ss){var as={},us=Object.getOwnPropertyDescriptors||function(Tu){for(var qu=Object.keys(Tu),Du={},Iu=0;Iu<qu.length;Iu++)Du[qu[Iu]]=Object.getOwnPropertyDescriptor(Tu,qu[Iu]);return Du},cs=/%[sdj%]/g;ss.format=function(Ru){if(!Pu(Ru)){for(var Tu=[],qu=0;qu<arguments.length;qu++)Tu.push(iu(arguments[qu]));return Tu.join(" ")}for(var qu=1,Du=arguments,Iu=Du.length,Lu=String(Ru).replace(cs,function(Hu){if(Hu==="%%")return"%";if(qu>=Iu)return Hu;switch(Hu){case"%s":return String(Du[qu++]);case"%d":return Number(Du[qu++]);case"%j":try{return JSON.stringify(Du[qu++])}catch{return"[Circular]"}default:return Hu}}),Uu=Du[qu];qu<Iu;Uu=Du[++qu])_u(Uu)||!Vu(Uu)?Lu+=" "+Uu:Lu+=" "+iu(Uu);return Lu},ss.deprecate=function(Ru,Tu){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return Ru;if(typeof process$1>"u")return function(){return ss.deprecate(Ru,Tu).apply(this,arguments)};var qu=!1;function Du(){if(!qu){if(process$1.throwDeprecation)throw new Error(Tu);process$1.traceDeprecation?console.trace(Tu):console.error(Tu),qu=!0}return Ru.apply(this,arguments)}return Du};var $a={},na=/^$/;if(as.NODE_DEBUG){var tu=as.NODE_DEBUG;tu=tu.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),na=new RegExp("^"+tu+"$","i")}ss.debuglog=function(Ru){if(Ru=Ru.toUpperCase(),!$a[Ru])if(na.test(Ru)){var Tu=process$1.pid;$a[Ru]=function(){var qu=ss.format.apply(ss,arguments);console.error("%s %d: %s",Ru,Tu,qu)}}else $a[Ru]=function(){};return $a[Ru]};function iu(Ru,Tu){var qu={seen:[],stylize:au};return arguments.length>=3&&(qu.depth=arguments[2]),arguments.length>=4&&(qu.colors=arguments[3]),wu(Tu)?qu.showHidden=Tu:Tu&&ss._extend(qu,Tu),Bu(qu.showHidden)&&(qu.showHidden=!1),Bu(qu.depth)&&(qu.depth=2),Bu(qu.colors)&&(qu.colors=!1),Bu(qu.customInspect)&&(qu.customInspect=!0),qu.colors&&(qu.stylize=su),fu(qu,Ru,qu.depth)}ss.inspect=iu,iu.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},iu.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function su(Ru,Tu){var qu=iu.styles[Tu];return qu?"\x1B["+iu.colors[qu][0]+"m"+Ru+"\x1B["+iu.colors[qu][1]+"m":Ru}function au(Ru,Tu){return Ru}function ou(Ru){var Tu={};return Ru.forEach(function(qu,Du){Tu[qu]=!0}),Tu}function fu(Ru,Tu,qu){if(Ru.customInspect&&Tu&&ru(Tu.inspect)&&Tu.inspect!==ss.inspect&&!(Tu.constructor&&Tu.constructor.prototype===Tu)){var Du=Tu.inspect(qu,Ru);return Pu(Du)||(Du=fu(Ru,Du,qu)),Du}var Iu=pu(Ru,Tu);if(Iu)return Iu;var Lu=Object.keys(Tu),Uu=ou(Lu);if(Ru.showHidden&&(Lu=Object.getOwnPropertyNames(Tu)),_a(Tu)&&(Lu.indexOf("message")>=0||Lu.indexOf("description")>=0))return vu(Tu);if(Lu.length===0){if(ru(Tu)){var Hu=Tu.name?": "+Tu.name:"";return Ru.stylize("[Function"+Hu+"]","special")}if(Ou(Tu))return Ru.stylize(RegExp.prototype.toString.call(Tu),"regexp");if(yu(Tu))return Ru.stylize(Date.prototype.toString.call(Tu),"date");if(_a(Tu))return vu(Tu)}var zu="",ju=!1,Wu=["{","}"];if($u(Tu)&&(ju=!0,Wu=["[","]"]),ru(Tu)){var Dl=Tu.name?": "+Tu.name:"";zu=" [Function"+Dl+"]"}if(Ou(Tu)&&(zu=" "+RegExp.prototype.toString.call(Tu)),yu(Tu)&&(zu=" "+Date.prototype.toUTCString.call(Tu)),_a(Tu)&&(zu=" "+vu(Tu)),Lu.length===0&&(!ju||Tu.length==0))return Wu[0]+zu+Wu[1];if(qu<0)return Ou(Tu)?Ru.stylize(RegExp.prototype.toString.call(Tu),"regexp"):Ru.stylize("[Object]","special");Ru.seen.push(Tu);var Zu;return ju?Zu=gu(Ru,Tu,qu,Uu,Lu):Zu=Lu.map(function(Yu){return bu(Ru,Tu,qu,Uu,Yu,ju)}),Ru.seen.pop(),xu(Zu,zu,Wu)}function pu(Ru,Tu){if(Bu(Tu))return Ru.stylize("undefined","undefined");if(Pu(Tu)){var qu="'"+JSON.stringify(Tu).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ru.stylize(qu,"string")}if(Au(Tu))return Ru.stylize(""+Tu,"number");if(wu(Tu))return Ru.stylize(""+Tu,"boolean");if(_u(Tu))return Ru.stylize("null","null")}function vu(Ru){return"["+Error.prototype.toString.call(Ru)+"]"}function gu(Ru,Tu,qu,Du,Iu){for(var Lu=[],Uu=0,Hu=Tu.length;Uu<Hu;++Uu)cu(Tu,String(Uu))?Lu.push(bu(Ru,Tu,qu,Du,String(Uu),!0)):Lu.push("");return Iu.forEach(function(zu){zu.match(/^\d+$/)||Lu.push(bu(Ru,Tu,qu,Du,zu,!0))}),Lu}function bu(Ru,Tu,qu,Du,Iu,Lu){var Uu,Hu,zu;if(zu=Object.getOwnPropertyDescriptor(Tu,Iu)||{value:Tu[Iu]},zu.get?zu.set?Hu=Ru.stylize("[Getter/Setter]","special"):Hu=Ru.stylize("[Getter]","special"):zu.set&&(Hu=Ru.stylize("[Setter]","special")),cu(Du,Iu)||(Uu="["+Iu+"]"),Hu||(Ru.seen.indexOf(zu.value)<0?(_u(qu)?Hu=fu(Ru,zu.value,null):Hu=fu(Ru,zu.value,qu-1),Hu.indexOf(`
`)>-1&&(Lu?Hu=Hu.split(`
`).map(function(ju){return"  "+ju}).join(`
`).slice(2):Hu=`
`+Hu.split(`
`).map(function(ju){return"   "+ju}).join(`
`))):Hu=Ru.stylize("[Circular]","special")),Bu(Uu)){if(Lu&&Iu.match(/^\d+$/))return Hu;Uu=JSON.stringify(""+Iu),Uu.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Uu=Uu.slice(1,-1),Uu=Ru.stylize(Uu,"name")):(Uu=Uu.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Uu=Ru.stylize(Uu,"string"))}return Uu+": "+Hu}function xu(Ru,Tu,qu){var Du=Ru.reduce(function(Iu,Lu){return Lu.indexOf(`
`)>=0,Iu+Lu.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Du>60?qu[0]+(Tu===""?"":Tu+`
 `)+" "+Ru.join(`,
  `)+" "+qu[1]:qu[0]+Tu+" "+Ru.join(", ")+" "+qu[1]}ss.types=types$1;function $u(Ru){return Array.isArray(Ru)}ss.isArray=$u;function wu(Ru){return typeof Ru=="boolean"}ss.isBoolean=wu;function _u(Ru){return Ru===null}ss.isNull=_u;function Mu(Ru){return Ru==null}ss.isNullOrUndefined=Mu;function Au(Ru){return typeof Ru=="number"}ss.isNumber=Au;function Pu(Ru){return typeof Ru=="string"}ss.isString=Pu;function Su(Ru){return typeof Ru=="symbol"}ss.isSymbol=Su;function Bu(Ru){return Ru===void 0}ss.isUndefined=Bu;function Ou(Ru){return Vu(Ru)&&uu(Ru)==="[object RegExp]"}ss.isRegExp=Ou,ss.types.isRegExp=Ou;function Vu(Ru){return typeof Ru=="object"&&Ru!==null}ss.isObject=Vu;function yu(Ru){return Vu(Ru)&&uu(Ru)==="[object Date]"}ss.isDate=yu,ss.types.isDate=yu;function _a(Ru){return Vu(Ru)&&(uu(Ru)==="[object Error]"||Ru instanceof Error)}ss.isError=_a,ss.types.isNativeError=_a;function ru(Ru){return typeof Ru=="function"}ss.isFunction=ru;function nu(Ru){return Ru===null||typeof Ru=="boolean"||typeof Ru=="number"||typeof Ru=="string"||typeof Ru=="symbol"||typeof Ru>"u"}ss.isPrimitive=nu,ss.isBuffer=isBufferBrowser;function uu(Ru){return Object.prototype.toString.call(Ru)}function lu(Ru){return Ru<10?"0"+Ru.toString(10):Ru.toString(10)}var du=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function mu(){var Ru=new Date,Tu=[lu(Ru.getHours()),lu(Ru.getMinutes()),lu(Ru.getSeconds())].join(":");return[Ru.getDate(),du[Ru.getMonth()],Tu].join(" ")}ss.log=function(){console.log("%s - %s",mu(),ss.format.apply(ss,arguments))},ss.inherits=inherits_browserExports,ss._extend=function(Ru,Tu){if(!Tu||!Vu(Tu))return Ru;for(var qu=Object.keys(Tu),Du=qu.length;Du--;)Ru[qu[Du]]=Tu[qu[Du]];return Ru};function cu(Ru,Tu){return Object.prototype.hasOwnProperty.call(Ru,Tu)}var eu=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;ss.promisify=function(Tu){if(typeof Tu!="function")throw new TypeError('The "original" argument must be of type Function');if(eu&&Tu[eu]){var qu=Tu[eu];if(typeof qu!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(qu,eu,{value:qu,enumerable:!1,writable:!1,configurable:!0}),qu}function qu(){for(var Du,Iu,Lu=new Promise(function(zu,ju){Du=zu,Iu=ju}),Uu=[],Hu=0;Hu<arguments.length;Hu++)Uu.push(arguments[Hu]);Uu.push(function(zu,ju){zu?Iu(zu):Du(ju)});try{Tu.apply(this,Uu)}catch(zu){Iu(zu)}return Lu}return Object.setPrototypeOf(qu,Object.getPrototypeOf(Tu)),eu&&Object.defineProperty(qu,eu,{value:qu,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(qu,us(Tu))},ss.promisify.custom=eu;function hu(Ru,Tu){if(!Ru){var qu=new Error("Promise was rejected with a falsy value");qu.reason=Ru,Ru=qu}return Tu(Ru)}function Eu(Ru){if(typeof Ru!="function")throw new TypeError('The "original" argument must be of type Function');function Tu(){for(var qu=[],Du=0;Du<arguments.length;Du++)qu.push(arguments[Du]);var Iu=qu.pop();if(typeof Iu!="function")throw new TypeError("The last argument must be of type Function");var Lu=this,Uu=function(){return Iu.apply(Lu,arguments)};Ru.apply(this,qu).then(function(Hu){process$1.nextTick(Uu.bind(null,null,Hu))},function(Hu){process$1.nextTick(hu.bind(null,Hu,Uu))})}return Object.setPrototypeOf(Tu,Object.getPrototypeOf(Ru)),Object.defineProperties(Tu,us(Ru)),Tu}ss.callbackify=Eu})(util$1);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function ss(gu,bu){var xu=Object.keys(gu);if(Object.getOwnPropertySymbols){var $u=Object.getOwnPropertySymbols(gu);bu&&($u=$u.filter(function(wu){return Object.getOwnPropertyDescriptor(gu,wu).enumerable})),xu.push.apply(xu,$u)}return xu}function as(gu){for(var bu=1;bu<arguments.length;bu++){var xu=arguments[bu]!=null?arguments[bu]:{};bu%2?ss(Object(xu),!0).forEach(function($u){us(gu,$u,xu[$u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gu,Object.getOwnPropertyDescriptors(xu)):ss(Object(xu)).forEach(function($u){Object.defineProperty(gu,$u,Object.getOwnPropertyDescriptor(xu,$u))})}return gu}function us(gu,bu,xu){return bu=tu(bu),bu in gu?Object.defineProperty(gu,bu,{value:xu,enumerable:!0,configurable:!0,writable:!0}):gu[bu]=xu,gu}function cs(gu,bu){if(!(gu instanceof bu))throw new TypeError("Cannot call a class as a function")}function $a(gu,bu){for(var xu=0;xu<bu.length;xu++){var $u=bu[xu];$u.enumerable=$u.enumerable||!1,$u.configurable=!0,"value"in $u&&($u.writable=!0),Object.defineProperty(gu,tu($u.key),$u)}}function na(gu,bu,xu){return bu&&$a(gu.prototype,bu),Object.defineProperty(gu,"prototype",{writable:!1}),gu}function tu(gu){var bu=iu(gu,"string");return typeof bu=="symbol"?bu:String(bu)}function iu(gu,bu){if(typeof gu!="object"||gu===null)return gu;var xu=gu[Symbol.toPrimitive];if(xu!==void 0){var $u=xu.call(gu,bu);if(typeof $u!="object")return $u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(gu)}var su=require$$0$3,au=su.Buffer,ou=util$1,fu=ou.inspect,pu=fu&&fu.custom||"inspect";function vu(gu,bu,xu){au.prototype.copy.call(gu,bu,xu)}return buffer_list=function(){function gu(){cs(this,gu),this.head=null,this.tail=null,this.length=0}return na(gu,[{key:"push",value:function(xu){var $u={data:xu,next:null};this.length>0?this.tail.next=$u:this.head=$u,this.tail=$u,++this.length}},{key:"unshift",value:function(xu){var $u={data:xu,next:this.head};this.length===0&&(this.tail=$u),this.head=$u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var xu=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,xu}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(xu){if(this.length===0)return"";for(var $u=this.head,wu=""+$u.data;$u=$u.next;)wu+=xu+$u.data;return wu}},{key:"concat",value:function(xu){if(this.length===0)return au.alloc(0);for(var $u=au.allocUnsafe(xu>>>0),wu=this.head,_u=0;wu;)vu(wu.data,$u,_u),_u+=wu.data.length,wu=wu.next;return $u}},{key:"consume",value:function(xu,$u){var wu;return xu<this.head.data.length?(wu=this.head.data.slice(0,xu),this.head.data=this.head.data.slice(xu)):xu===this.head.data.length?wu=this.shift():wu=$u?this._getString(xu):this._getBuffer(xu),wu}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(xu){var $u=this.head,wu=1,_u=$u.data;for(xu-=_u.length;$u=$u.next;){var Mu=$u.data,Au=xu>Mu.length?Mu.length:xu;if(Au===Mu.length?_u+=Mu:_u+=Mu.slice(0,xu),xu-=Au,xu===0){Au===Mu.length?(++wu,$u.next?this.head=$u.next:this.head=this.tail=null):(this.head=$u,$u.data=Mu.slice(Au));break}++wu}return this.length-=wu,_u}},{key:"_getBuffer",value:function(xu){var $u=au.allocUnsafe(xu),wu=this.head,_u=1;for(wu.data.copy($u),xu-=wu.data.length;wu=wu.next;){var Mu=wu.data,Au=xu>Mu.length?Mu.length:xu;if(Mu.copy($u,$u.length-xu,0,Au),xu-=Au,xu===0){Au===Mu.length?(++_u,wu.next?this.head=wu.next:this.head=this.tail=null):(this.head=wu,wu.data=Mu.slice(Au));break}++_u}return this.length-=_u,$u}},{key:pu,value:function(xu,$u){return fu(this,as(as({},$u),{},{depth:0,customInspect:!1}))}}]),gu}(),buffer_list}function destroy(ss,as){var us=this,cs=this._readableState&&this._readableState.destroyed,$a=this._writableState&&this._writableState.destroyed;return cs||$a?(as?as(ss):ss&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(emitErrorNT,this,ss)):process$1.nextTick(emitErrorNT,this,ss)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ss||null,function(na){!as&&na?us._writableState?us._writableState.errorEmitted?process$1.nextTick(emitCloseNT,us):(us._writableState.errorEmitted=!0,process$1.nextTick(emitErrorAndCloseNT,us,na)):process$1.nextTick(emitErrorAndCloseNT,us,na):as?(process$1.nextTick(emitCloseNT,us),as(na)):process$1.nextTick(emitCloseNT,us)}),this)}function emitErrorAndCloseNT(ss,as){emitErrorNT(ss,as),emitCloseNT(ss)}function emitCloseNT(ss){ss._writableState&&!ss._writableState.emitClose||ss._readableState&&!ss._readableState.emitClose||ss.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(ss,as){ss.emit("error",as)}function errorOrDestroy(ss,as){var us=ss._readableState,cs=ss._writableState;us&&us.autoDestroy||cs&&cs.autoDestroy?ss.destroy(as):ss.emit("error",as)}var destroy_1$1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(ss,as){ss.prototype=Object.create(as.prototype),ss.prototype.constructor=ss,ss.__proto__=as}var codes={};function createErrorType(ss,as,us){us||(us=Error);function cs(na,tu,iu){return typeof as=="string"?as:as(na,tu,iu)}var $a=function(na){_inheritsLoose(tu,na);function tu(iu,su,au){return na.call(this,cs(iu,su,au))||this}return tu}(us);$a.prototype.name=us.name,$a.prototype.code=ss,codes[ss]=$a}function oneOf(ss,as){if(Array.isArray(ss)){var us=ss.length;return ss=ss.map(function(cs){return String(cs)}),us>2?"one of ".concat(as," ").concat(ss.slice(0,us-1).join(", "),", or ")+ss[us-1]:us===2?"one of ".concat(as," ").concat(ss[0]," or ").concat(ss[1]):"of ".concat(as," ").concat(ss[0])}else return"of ".concat(as," ").concat(String(ss))}function startsWith(ss,as,us){return ss.substr(0,as.length)===as}function endsWith(ss,as,us){return(us===void 0||us>ss.length)&&(us=ss.length),ss.substring(us-as.length,us)===as}function includes(ss,as,us){return typeof us!="number"&&(us=0),us+as.length>ss.length?!1:ss.indexOf(as,us)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(ss,as){return'The value "'+as+'" is invalid for option "'+ss+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(ss,as,us){var cs;typeof as=="string"&&startsWith(as,"not ")?(cs="must not be",as=as.replace(/^not /,"")):cs="must be";var $a;if(endsWith(ss," argument"))$a="The ".concat(ss," ").concat(cs," ").concat(oneOf(as,"type"));else{var na=includes(ss,".")?"property":"argument";$a='The "'.concat(ss,'" ').concat(na," ").concat(cs," ").concat(oneOf(as,"type"))}return $a+=". Received type ".concat(typeof us),$a},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(ss){return"The "+ss+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(ss){return"Cannot call "+ss+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(ss){return"Unknown encoding: "+ss},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(ss,as,us){return ss.highWaterMark!=null?ss.highWaterMark:as?ss[us]:null}function getHighWaterMark(ss,as,us,cs){var $a=highWaterMarkFrom(as,cs,us);if($a!=null){if(!(isFinite($a)&&Math.floor($a)===$a)||$a<0){var na=cs?us:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(na,$a)}return Math.floor($a)}return ss.objectMode?16:16*1024}var state={getHighWaterMark},browser$c=deprecate;function deprecate(ss,as){if(config$1("noDeprecation"))return ss;var us=!1;function cs(){if(!us){if(config$1("throwDeprecation"))throw new Error(as);config$1("traceDeprecation")?console.trace(as):console.warn(as),us=!0}return ss.apply(this,arguments)}return cs}function config$1(ss){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var as=commonjsGlobal.localStorage[ss];return as==null?!1:String(as).toLowerCase()==="true"}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=Bu;function ss(Du){var Iu=this;this.next=null,this.entry=null,this.finish=function(){qu(Iu,Du)}}var as;Bu.WritableState=Pu;var us={deprecate:browser$c},cs=streamBrowser$1,$a=require$$0$3.Buffer,na=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tu(Du){return $a.from(Du)}function iu(Du){return $a.isBuffer(Du)||Du instanceof na}var su=destroy_1$1,au=state,ou=au.getHighWaterMark,fu=errorsBrowser.codes,pu=fu.ERR_INVALID_ARG_TYPE,vu=fu.ERR_METHOD_NOT_IMPLEMENTED,gu=fu.ERR_MULTIPLE_CALLBACK,bu=fu.ERR_STREAM_CANNOT_PIPE,xu=fu.ERR_STREAM_DESTROYED,$u=fu.ERR_STREAM_NULL_VALUES,wu=fu.ERR_STREAM_WRITE_AFTER_END,_u=fu.ERR_UNKNOWN_ENCODING,Mu=su.errorOrDestroy;inherits_browserExports(Bu,cs);function Au(){}function Pu(Du,Iu,Lu){as=as||require_stream_duplex$1(),Du=Du||{},typeof Lu!="boolean"&&(Lu=Iu instanceof as),this.objectMode=!!Du.objectMode,Lu&&(this.objectMode=this.objectMode||!!Du.writableObjectMode),this.highWaterMark=ou(this,Du,"writableHighWaterMark",Lu),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Uu=Du.decodeStrings===!1;this.decodeStrings=!Uu,this.defaultEncoding=Du.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Hu){lu(Iu,Hu)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Du.emitClose!==!1,this.autoDestroy=!!Du.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ss(this)}Pu.prototype.getBuffer=function(){for(var Iu=this.bufferedRequest,Lu=[];Iu;)Lu.push(Iu),Iu=Iu.next;return Lu},function(){try{Object.defineProperty(Pu.prototype,"buffer",{get:us.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Su;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Su=Function.prototype[Symbol.hasInstance],Object.defineProperty(Bu,Symbol.hasInstance,{value:function(Iu){return Su.call(this,Iu)?!0:this!==Bu?!1:Iu&&Iu._writableState instanceof Pu}})):Su=function(Iu){return Iu instanceof this};function Bu(Du){as=as||require_stream_duplex$1();var Iu=this instanceof as;if(!Iu&&!Su.call(Bu,this))return new Bu(Du);this._writableState=new Pu(Du,this,Iu),this.writable=!0,Du&&(typeof Du.write=="function"&&(this._write=Du.write),typeof Du.writev=="function"&&(this._writev=Du.writev),typeof Du.destroy=="function"&&(this._destroy=Du.destroy),typeof Du.final=="function"&&(this._final=Du.final)),cs.call(this)}Bu.prototype.pipe=function(){Mu(this,new bu)};function Ou(Du,Iu){var Lu=new wu;Mu(Du,Lu),process$1.nextTick(Iu,Lu)}function Vu(Du,Iu,Lu,Uu){var Hu;return Lu===null?Hu=new $u:typeof Lu!="string"&&!Iu.objectMode&&(Hu=new pu("chunk",["string","Buffer"],Lu)),Hu?(Mu(Du,Hu),process$1.nextTick(Uu,Hu),!1):!0}Bu.prototype.write=function(Du,Iu,Lu){var Uu=this._writableState,Hu=!1,zu=!Uu.objectMode&&iu(Du);return zu&&!$a.isBuffer(Du)&&(Du=tu(Du)),typeof Iu=="function"&&(Lu=Iu,Iu=null),zu?Iu="buffer":Iu||(Iu=Uu.defaultEncoding),typeof Lu!="function"&&(Lu=Au),Uu.ending?Ou(this,Lu):(zu||Vu(this,Uu,Du,Lu))&&(Uu.pendingcb++,Hu=_a(this,Uu,zu,Du,Iu,Lu)),Hu},Bu.prototype.cork=function(){this._writableState.corked++},Bu.prototype.uncork=function(){var Du=this._writableState;Du.corked&&(Du.corked--,!Du.writing&&!Du.corked&&!Du.bufferProcessing&&Du.bufferedRequest&&cu(this,Du))},Bu.prototype.setDefaultEncoding=function(Iu){if(typeof Iu=="string"&&(Iu=Iu.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Iu+"").toLowerCase())>-1))throw new _u(Iu);return this._writableState.defaultEncoding=Iu,this},Object.defineProperty(Bu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function yu(Du,Iu,Lu){return!Du.objectMode&&Du.decodeStrings!==!1&&typeof Iu=="string"&&(Iu=$a.from(Iu,Lu)),Iu}Object.defineProperty(Bu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _a(Du,Iu,Lu,Uu,Hu,zu){if(!Lu){var ju=yu(Iu,Uu,Hu);Uu!==ju&&(Lu=!0,Hu="buffer",Uu=ju)}var Wu=Iu.objectMode?1:Uu.length;Iu.length+=Wu;var Dl=Iu.length<Iu.highWaterMark;if(Dl||(Iu.needDrain=!0),Iu.writing||Iu.corked){var Zu=Iu.lastBufferedRequest;Iu.lastBufferedRequest={chunk:Uu,encoding:Hu,isBuf:Lu,callback:zu,next:null},Zu?Zu.next=Iu.lastBufferedRequest:Iu.bufferedRequest=Iu.lastBufferedRequest,Iu.bufferedRequestCount+=1}else ru(Du,Iu,!1,Wu,Uu,Hu,zu);return Dl}function ru(Du,Iu,Lu,Uu,Hu,zu,ju){Iu.writelen=Uu,Iu.writecb=ju,Iu.writing=!0,Iu.sync=!0,Iu.destroyed?Iu.onwrite(new xu("write")):Lu?Du._writev(Hu,Iu.onwrite):Du._write(Hu,zu,Iu.onwrite),Iu.sync=!1}function nu(Du,Iu,Lu,Uu,Hu){--Iu.pendingcb,Lu?(process$1.nextTick(Hu,Uu),process$1.nextTick(Ru,Du,Iu),Du._writableState.errorEmitted=!0,Mu(Du,Uu)):(Hu(Uu),Du._writableState.errorEmitted=!0,Mu(Du,Uu),Ru(Du,Iu))}function uu(Du){Du.writing=!1,Du.writecb=null,Du.length-=Du.writelen,Du.writelen=0}function lu(Du,Iu){var Lu=Du._writableState,Uu=Lu.sync,Hu=Lu.writecb;if(typeof Hu!="function")throw new gu;if(uu(Lu),Iu)nu(Du,Lu,Uu,Iu,Hu);else{var zu=eu(Lu)||Du.destroyed;!zu&&!Lu.corked&&!Lu.bufferProcessing&&Lu.bufferedRequest&&cu(Du,Lu),Uu?process$1.nextTick(du,Du,Lu,zu,Hu):du(Du,Lu,zu,Hu)}}function du(Du,Iu,Lu,Uu){Lu||mu(Du,Iu),Iu.pendingcb--,Uu(),Ru(Du,Iu)}function mu(Du,Iu){Iu.length===0&&Iu.needDrain&&(Iu.needDrain=!1,Du.emit("drain"))}function cu(Du,Iu){Iu.bufferProcessing=!0;var Lu=Iu.bufferedRequest;if(Du._writev&&Lu&&Lu.next){var Uu=Iu.bufferedRequestCount,Hu=new Array(Uu),zu=Iu.corkedRequestsFree;zu.entry=Lu;for(var ju=0,Wu=!0;Lu;)Hu[ju]=Lu,Lu.isBuf||(Wu=!1),Lu=Lu.next,ju+=1;Hu.allBuffers=Wu,ru(Du,Iu,!0,Iu.length,Hu,"",zu.finish),Iu.pendingcb++,Iu.lastBufferedRequest=null,zu.next?(Iu.corkedRequestsFree=zu.next,zu.next=null):Iu.corkedRequestsFree=new ss(Iu),Iu.bufferedRequestCount=0}else{for(;Lu;){var Dl=Lu.chunk,Zu=Lu.encoding,Yu=Lu.callback,Vl=Iu.objectMode?1:Dl.length;if(ru(Du,Iu,!1,Vl,Dl,Zu,Yu),Lu=Lu.next,Iu.bufferedRequestCount--,Iu.writing)break}Lu===null&&(Iu.lastBufferedRequest=null)}Iu.bufferedRequest=Lu,Iu.bufferProcessing=!1}Bu.prototype._write=function(Du,Iu,Lu){Lu(new vu("_write()"))},Bu.prototype._writev=null,Bu.prototype.end=function(Du,Iu,Lu){var Uu=this._writableState;return typeof Du=="function"?(Lu=Du,Du=null,Iu=null):typeof Iu=="function"&&(Lu=Iu,Iu=null),Du!=null&&this.write(Du,Iu),Uu.corked&&(Uu.corked=1,this.uncork()),Uu.ending||Tu(this,Uu,Lu),this},Object.defineProperty(Bu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function eu(Du){return Du.ending&&Du.length===0&&Du.bufferedRequest===null&&!Du.finished&&!Du.writing}function hu(Du,Iu){Du._final(function(Lu){Iu.pendingcb--,Lu&&Mu(Du,Lu),Iu.prefinished=!0,Du.emit("prefinish"),Ru(Du,Iu)})}function Eu(Du,Iu){!Iu.prefinished&&!Iu.finalCalled&&(typeof Du._final=="function"&&!Iu.destroyed?(Iu.pendingcb++,Iu.finalCalled=!0,process$1.nextTick(hu,Du,Iu)):(Iu.prefinished=!0,Du.emit("prefinish")))}function Ru(Du,Iu){var Lu=eu(Iu);if(Lu&&(Eu(Du,Iu),Iu.pendingcb===0&&(Iu.finished=!0,Du.emit("finish"),Iu.autoDestroy))){var Uu=Du._readableState;(!Uu||Uu.autoDestroy&&Uu.endEmitted)&&Du.destroy()}return Lu}function Tu(Du,Iu,Lu){Iu.ending=!0,Ru(Du,Iu),Lu&&(Iu.finished?process$1.nextTick(Lu):Du.once("finish",Lu)),Iu.ended=!0,Du.writable=!1}function qu(Du,Iu,Lu){var Uu=Du.entry;for(Du.entry=null;Uu;){var Hu=Uu.callback;Iu.pendingcb--,Hu(Lu),Uu=Uu.next}Iu.corkedRequestsFree.next=Du}return Object.defineProperty(Bu.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Iu){this._writableState&&(this._writableState.destroyed=Iu)}}),Bu.prototype.destroy=su.destroy,Bu.prototype._undestroy=su.undestroy,Bu.prototype._destroy=function(Du,Iu){Iu(Du)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var ss=Object.keys||function(au){var ou=[];for(var fu in au)ou.push(fu);return ou};_stream_duplex$1=tu;var as=require_stream_readable$1(),us=require_stream_writable$1();inherits_browserExports(tu,as);for(var cs=ss(us.prototype),$a=0;$a<cs.length;$a++){var na=cs[$a];tu.prototype[na]||(tu.prototype[na]=us.prototype[na])}function tu(au){if(!(this instanceof tu))return new tu(au);as.call(this,au),us.call(this,au),this.allowHalfOpen=!0,au&&(au.readable===!1&&(this.readable=!1),au.writable===!1&&(this.writable=!1),au.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",iu)))}Object.defineProperty(tu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(tu.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(tu.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function iu(){this._writableState.ended||process$1.nextTick(su,this)}function su(au){au.end()}return Object.defineProperty(tu.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ou){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ou,this._writableState.destroyed=ou)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var ss=safeBufferExports.Buffer,as=ss.isEncoding||function($u){switch($u=""+$u,$u&&$u.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function us($u){if(!$u)return"utf8";for(var wu;;)switch($u){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $u;default:if(wu)return;$u=(""+$u).toLowerCase(),wu=!0}}function cs($u){var wu=us($u);if(typeof wu!="string"&&(ss.isEncoding===as||!as($u)))throw new Error("Unknown encoding: "+$u);return wu||$u}string_decoder.StringDecoder=$a;function $a($u){this.encoding=cs($u);var wu;switch(this.encoding){case"utf16le":this.text=fu,this.end=pu,wu=4;break;case"utf8":this.fillLast=su,wu=4;break;case"base64":this.text=vu,this.end=gu,wu=3;break;default:this.write=bu,this.end=xu;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ss.allocUnsafe(wu)}$a.prototype.write=function($u){if($u.length===0)return"";var wu,_u;if(this.lastNeed){if(wu=this.fillLast($u),wu===void 0)return"";_u=this.lastNeed,this.lastNeed=0}else _u=0;return _u<$u.length?wu?wu+this.text($u,_u):this.text($u,_u):wu||""},$a.prototype.end=ou,$a.prototype.text=au,$a.prototype.fillLast=function($u){if(this.lastNeed<=$u.length)return $u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,$u.length),this.lastNeed-=$u.length};function na($u){return $u<=127?0:$u>>5===6?2:$u>>4===14?3:$u>>3===30?4:$u>>6===2?-1:-2}function tu($u,wu,_u){var Mu=wu.length-1;if(Mu<_u)return 0;var Au=na(wu[Mu]);return Au>=0?(Au>0&&($u.lastNeed=Au-1),Au):--Mu<_u||Au===-2?0:(Au=na(wu[Mu]),Au>=0?(Au>0&&($u.lastNeed=Au-2),Au):--Mu<_u||Au===-2?0:(Au=na(wu[Mu]),Au>=0?(Au>0&&(Au===2?Au=0:$u.lastNeed=Au-3),Au):0))}function iu($u,wu,_u){if((wu[0]&192)!==128)return $u.lastNeed=0,"";if($u.lastNeed>1&&wu.length>1){if((wu[1]&192)!==128)return $u.lastNeed=1,"";if($u.lastNeed>2&&wu.length>2&&(wu[2]&192)!==128)return $u.lastNeed=2,""}}function su($u){var wu=this.lastTotal-this.lastNeed,_u=iu(this,$u);if(_u!==void 0)return _u;if(this.lastNeed<=$u.length)return $u.copy(this.lastChar,wu,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$u.copy(this.lastChar,wu,0,$u.length),this.lastNeed-=$u.length}function au($u,wu){var _u=tu(this,$u,wu);if(!this.lastNeed)return $u.toString("utf8",wu);this.lastTotal=_u;var Mu=$u.length-(_u-this.lastNeed);return $u.copy(this.lastChar,0,Mu),$u.toString("utf8",wu,Mu)}function ou($u){var wu=$u&&$u.length?this.write($u):"";return this.lastNeed?wu+"":wu}function fu($u,wu){if(($u.length-wu)%2===0){var _u=$u.toString("utf16le",wu);if(_u){var Mu=_u.charCodeAt(_u.length-1);if(Mu>=55296&&Mu<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=$u[$u.length-2],this.lastChar[1]=$u[$u.length-1],_u.slice(0,-1)}return _u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=$u[$u.length-1],$u.toString("utf16le",wu,$u.length-1)}function pu($u){var wu=$u&&$u.length?this.write($u):"";if(this.lastNeed){var _u=this.lastTotal-this.lastNeed;return wu+this.lastChar.toString("utf16le",0,_u)}return wu}function vu($u,wu){var _u=($u.length-wu)%3;return _u===0?$u.toString("base64",wu):(this.lastNeed=3-_u,this.lastTotal=3,_u===1?this.lastChar[0]=$u[$u.length-1]:(this.lastChar[0]=$u[$u.length-2],this.lastChar[1]=$u[$u.length-1]),$u.toString("base64",wu,$u.length-_u))}function gu($u){var wu=$u&&$u.length?this.write($u):"";return this.lastNeed?wu+this.lastChar.toString("base64",0,3-this.lastNeed):wu}function bu($u){return $u.toString(this.encoding)}function xu($u){return $u&&$u.length?this.write($u):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(ss){var as=!1;return function(){if(!as){as=!0;for(var us=arguments.length,cs=new Array(us),$a=0;$a<us;$a++)cs[$a]=arguments[$a];ss.apply(this,cs)}}}function noop$3(){}function isRequest$1(ss){return ss.setHeader&&typeof ss.abort=="function"}function eos$1(ss,as,us){if(typeof as=="function")return eos$1(ss,null,as);as||(as={}),us=once$1(us||noop$3);var cs=as.readable||as.readable!==!1&&ss.readable,$a=as.writable||as.writable!==!1&&ss.writable,na=function(){ss.writable||iu()},tu=ss._writableState&&ss._writableState.finished,iu=function(){$a=!1,tu=!0,cs||us.call(ss)},su=ss._readableState&&ss._readableState.endEmitted,au=function(){cs=!1,su=!0,$a||us.call(ss)},ou=function(gu){us.call(ss,gu)},fu=function(){var gu;if(cs&&!su)return(!ss._readableState||!ss._readableState.ended)&&(gu=new ERR_STREAM_PREMATURE_CLOSE),us.call(ss,gu);if($a&&!tu)return(!ss._writableState||!ss._writableState.ended)&&(gu=new ERR_STREAM_PREMATURE_CLOSE),us.call(ss,gu)},pu=function(){ss.req.on("finish",iu)};return isRequest$1(ss)?(ss.on("complete",iu),ss.on("abort",fu),ss.req?pu():ss.on("request",pu)):$a&&!ss._writableState&&(ss.on("end",na),ss.on("close",na)),ss.on("end",au),ss.on("finish",iu),as.error!==!1&&ss.on("error",ou),ss.on("close",fu),function(){ss.removeListener("complete",iu),ss.removeListener("abort",fu),ss.removeListener("request",pu),ss.req&&ss.req.removeListener("finish",iu),ss.removeListener("end",na),ss.removeListener("close",na),ss.removeListener("finish",iu),ss.removeListener("end",au),ss.removeListener("error",ou),ss.removeListener("close",fu)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var ss;function as(_u,Mu,Au){return Mu=us(Mu),Mu in _u?Object.defineProperty(_u,Mu,{value:Au,enumerable:!0,configurable:!0,writable:!0}):_u[Mu]=Au,_u}function us(_u){var Mu=cs(_u,"string");return typeof Mu=="symbol"?Mu:String(Mu)}function cs(_u,Mu){if(typeof _u!="object"||_u===null)return _u;var Au=_u[Symbol.toPrimitive];if(Au!==void 0){var Pu=Au.call(_u,Mu);if(typeof Pu!="object")return Pu;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Mu==="string"?String:Number)(_u)}var $a=endOfStream,na=Symbol("lastResolve"),tu=Symbol("lastReject"),iu=Symbol("error"),su=Symbol("ended"),au=Symbol("lastPromise"),ou=Symbol("handlePromise"),fu=Symbol("stream");function pu(_u,Mu){return{value:_u,done:Mu}}function vu(_u){var Mu=_u[na];if(Mu!==null){var Au=_u[fu].read();Au!==null&&(_u[au]=null,_u[na]=null,_u[tu]=null,Mu(pu(Au,!1)))}}function gu(_u){process$1.nextTick(vu,_u)}function bu(_u,Mu){return function(Au,Pu){_u.then(function(){if(Mu[su]){Au(pu(void 0,!0));return}Mu[ou](Au,Pu)},Pu)}}var xu=Object.getPrototypeOf(function(){}),$u=Object.setPrototypeOf((ss={get stream(){return this[fu]},next:function(){var Mu=this,Au=this[iu];if(Au!==null)return Promise.reject(Au);if(this[su])return Promise.resolve(pu(void 0,!0));if(this[fu].destroyed)return new Promise(function(Ou,Vu){process$1.nextTick(function(){Mu[iu]?Vu(Mu[iu]):Ou(pu(void 0,!0))})});var Pu=this[au],Su;if(Pu)Su=new Promise(bu(Pu,this));else{var Bu=this[fu].read();if(Bu!==null)return Promise.resolve(pu(Bu,!1));Su=new Promise(this[ou])}return this[au]=Su,Su}},as(ss,Symbol.asyncIterator,function(){return this}),as(ss,"return",function(){var Mu=this;return new Promise(function(Au,Pu){Mu[fu].destroy(null,function(Su){if(Su){Pu(Su);return}Au(pu(void 0,!0))})})}),ss),xu),wu=function(Mu){var Au,Pu=Object.create($u,(Au={},as(Au,fu,{value:Mu,writable:!0}),as(Au,na,{value:null,writable:!0}),as(Au,tu,{value:null,writable:!0}),as(Au,iu,{value:null,writable:!0}),as(Au,su,{value:Mu._readableState.endEmitted,writable:!0}),as(Au,ou,{value:function(Bu,Ou){var Vu=Pu[fu].read();Vu?(Pu[au]=null,Pu[na]=null,Pu[tu]=null,Bu(pu(Vu,!1))):(Pu[na]=Bu,Pu[tu]=Ou)},writable:!0}),Au));return Pu[au]=null,$a(Mu,function(Su){if(Su&&Su.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Bu=Pu[tu];Bu!==null&&(Pu[au]=null,Pu[na]=null,Pu[tu]=null,Bu(Su)),Pu[iu]=Su;return}var Ou=Pu[na];Ou!==null&&(Pu[au]=null,Pu[na]=null,Pu[tu]=null,Ou(pu(void 0,!0))),Pu[su]=!0}),Mu.on("readable",gu.bind(null,Pu)),Pu};return async_iterator=wu,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Ou;var ss;Ou.ReadableState=Bu,eventsExports.EventEmitter;var as=function(ju,Wu){return ju.listeners(Wu).length},us=streamBrowser$1,cs=require$$0$3.Buffer,$a=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function na(zu){return cs.from(zu)}function tu(zu){return cs.isBuffer(zu)||zu instanceof $a}var iu=util$1,su;iu&&iu.debuglog?su=iu.debuglog("stream"):su=function(){};var au=requireBuffer_list(),ou=destroy_1$1,fu=state,pu=fu.getHighWaterMark,vu=errorsBrowser.codes,gu=vu.ERR_INVALID_ARG_TYPE,bu=vu.ERR_STREAM_PUSH_AFTER_EOF,xu=vu.ERR_METHOD_NOT_IMPLEMENTED,$u=vu.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,wu,_u,Mu;inherits_browserExports(Ou,us);var Au=ou.errorOrDestroy,Pu=["error","close","destroy","pause","resume"];function Su(zu,ju,Wu){if(typeof zu.prependListener=="function")return zu.prependListener(ju,Wu);!zu._events||!zu._events[ju]?zu.on(ju,Wu):Array.isArray(zu._events[ju])?zu._events[ju].unshift(Wu):zu._events[ju]=[Wu,zu._events[ju]]}function Bu(zu,ju,Wu){ss=ss||require_stream_duplex$1(),zu=zu||{},typeof Wu!="boolean"&&(Wu=ju instanceof ss),this.objectMode=!!zu.objectMode,Wu&&(this.objectMode=this.objectMode||!!zu.readableObjectMode),this.highWaterMark=pu(this,zu,"readableHighWaterMark",Wu),this.buffer=new au,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=zu.emitClose!==!1,this.autoDestroy=!!zu.autoDestroy,this.destroyed=!1,this.defaultEncoding=zu.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,zu.encoding&&(wu||(wu=requireString_decoder().StringDecoder),this.decoder=new wu(zu.encoding),this.encoding=zu.encoding)}function Ou(zu){if(ss=ss||require_stream_duplex$1(),!(this instanceof Ou))return new Ou(zu);var ju=this instanceof ss;this._readableState=new Bu(zu,this,ju),this.readable=!0,zu&&(typeof zu.read=="function"&&(this._read=zu.read),typeof zu.destroy=="function"&&(this._destroy=zu.destroy)),us.call(this)}Object.defineProperty(Ou.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ju){this._readableState&&(this._readableState.destroyed=ju)}}),Ou.prototype.destroy=ou.destroy,Ou.prototype._undestroy=ou.undestroy,Ou.prototype._destroy=function(zu,ju){ju(zu)},Ou.prototype.push=function(zu,ju){var Wu=this._readableState,Dl;return Wu.objectMode?Dl=!0:typeof zu=="string"&&(ju=ju||Wu.defaultEncoding,ju!==Wu.encoding&&(zu=cs.from(zu,ju),ju=""),Dl=!0),Vu(this,zu,ju,!1,Dl)},Ou.prototype.unshift=function(zu){return Vu(this,zu,null,!0,!1)};function Vu(zu,ju,Wu,Dl,Zu){su("readableAddChunk",ju);var Yu=zu._readableState;if(ju===null)Yu.reading=!1,lu(zu,Yu);else{var Vl;if(Zu||(Vl=_a(Yu,ju)),Vl)Au(zu,Vl);else if(Yu.objectMode||ju&&ju.length>0)if(typeof ju!="string"&&!Yu.objectMode&&Object.getPrototypeOf(ju)!==cs.prototype&&(ju=na(ju)),Dl)Yu.endEmitted?Au(zu,new $u):yu(zu,Yu,ju,!0);else if(Yu.ended)Au(zu,new bu);else{if(Yu.destroyed)return!1;Yu.reading=!1,Yu.decoder&&!Wu?(ju=Yu.decoder.write(ju),Yu.objectMode||ju.length!==0?yu(zu,Yu,ju,!1):cu(zu,Yu)):yu(zu,Yu,ju,!1)}else Dl||(Yu.reading=!1,cu(zu,Yu))}return!Yu.ended&&(Yu.length<Yu.highWaterMark||Yu.length===0)}function yu(zu,ju,Wu,Dl){ju.flowing&&ju.length===0&&!ju.sync?(ju.awaitDrain=0,zu.emit("data",Wu)):(ju.length+=ju.objectMode?1:Wu.length,Dl?ju.buffer.unshift(Wu):ju.buffer.push(Wu),ju.needReadable&&du(zu)),cu(zu,ju)}function _a(zu,ju){var Wu;return!tu(ju)&&typeof ju!="string"&&ju!==void 0&&!zu.objectMode&&(Wu=new gu("chunk",["string","Buffer","Uint8Array"],ju)),Wu}Ou.prototype.isPaused=function(){return this._readableState.flowing===!1},Ou.prototype.setEncoding=function(zu){wu||(wu=requireString_decoder().StringDecoder);var ju=new wu(zu);this._readableState.decoder=ju,this._readableState.encoding=this._readableState.decoder.encoding;for(var Wu=this._readableState.buffer.head,Dl="";Wu!==null;)Dl+=ju.write(Wu.data),Wu=Wu.next;return this._readableState.buffer.clear(),Dl!==""&&this._readableState.buffer.push(Dl),this._readableState.length=Dl.length,this};var ru=1073741824;function nu(zu){return zu>=ru?zu=ru:(zu--,zu|=zu>>>1,zu|=zu>>>2,zu|=zu>>>4,zu|=zu>>>8,zu|=zu>>>16,zu++),zu}function uu(zu,ju){return zu<=0||ju.length===0&&ju.ended?0:ju.objectMode?1:zu!==zu?ju.flowing&&ju.length?ju.buffer.head.data.length:ju.length:(zu>ju.highWaterMark&&(ju.highWaterMark=nu(zu)),zu<=ju.length?zu:ju.ended?ju.length:(ju.needReadable=!0,0))}Ou.prototype.read=function(zu){su("read",zu),zu=parseInt(zu,10);var ju=this._readableState,Wu=zu;if(zu!==0&&(ju.emittedReadable=!1),zu===0&&ju.needReadable&&((ju.highWaterMark!==0?ju.length>=ju.highWaterMark:ju.length>0)||ju.ended))return su("read: emitReadable",ju.length,ju.ended),ju.length===0&&ju.ended?Lu(this):du(this),null;if(zu=uu(zu,ju),zu===0&&ju.ended)return ju.length===0&&Lu(this),null;var Dl=ju.needReadable;su("need readable",Dl),(ju.length===0||ju.length-zu<ju.highWaterMark)&&(Dl=!0,su("length less than watermark",Dl)),ju.ended||ju.reading?(Dl=!1,su("reading or ended",Dl)):Dl&&(su("do read"),ju.reading=!0,ju.sync=!0,ju.length===0&&(ju.needReadable=!0),this._read(ju.highWaterMark),ju.sync=!1,ju.reading||(zu=uu(Wu,ju)));var Zu;return zu>0?Zu=Iu(zu,ju):Zu=null,Zu===null?(ju.needReadable=ju.length<=ju.highWaterMark,zu=0):(ju.length-=zu,ju.awaitDrain=0),ju.length===0&&(ju.ended||(ju.needReadable=!0),Wu!==zu&&ju.ended&&Lu(this)),Zu!==null&&this.emit("data",Zu),Zu};function lu(zu,ju){if(su("onEofChunk"),!ju.ended){if(ju.decoder){var Wu=ju.decoder.end();Wu&&Wu.length&&(ju.buffer.push(Wu),ju.length+=ju.objectMode?1:Wu.length)}ju.ended=!0,ju.sync?du(zu):(ju.needReadable=!1,ju.emittedReadable||(ju.emittedReadable=!0,mu(zu)))}}function du(zu){var ju=zu._readableState;su("emitReadable",ju.needReadable,ju.emittedReadable),ju.needReadable=!1,ju.emittedReadable||(su("emitReadable",ju.flowing),ju.emittedReadable=!0,process$1.nextTick(mu,zu))}function mu(zu){var ju=zu._readableState;su("emitReadable_",ju.destroyed,ju.length,ju.ended),!ju.destroyed&&(ju.length||ju.ended)&&(zu.emit("readable"),ju.emittedReadable=!1),ju.needReadable=!ju.flowing&&!ju.ended&&ju.length<=ju.highWaterMark,Du(zu)}function cu(zu,ju){ju.readingMore||(ju.readingMore=!0,process$1.nextTick(eu,zu,ju))}function eu(zu,ju){for(;!ju.reading&&!ju.ended&&(ju.length<ju.highWaterMark||ju.flowing&&ju.length===0);){var Wu=ju.length;if(su("maybeReadMore read 0"),zu.read(0),Wu===ju.length)break}ju.readingMore=!1}Ou.prototype._read=function(zu){Au(this,new xu("_read()"))},Ou.prototype.pipe=function(zu,ju){var Wu=this,Dl=this._readableState;switch(Dl.pipesCount){case 0:Dl.pipes=zu;break;case 1:Dl.pipes=[Dl.pipes,zu];break;default:Dl.pipes.push(zu);break}Dl.pipesCount+=1,su("pipe count=%d opts=%j",Dl.pipesCount,ju);var Zu=(!ju||ju.end!==!1)&&zu!==process$1.stdout&&zu!==process$1.stderr,Yu=Zu?_l:Zl;Dl.endEmitted?process$1.nextTick(Yu):Wu.once("end",Yu),zu.on("unpipe",Vl);function Vl(wl,Ml){su("onunpipe"),wl===Wu&&Ml&&Ml.hasUnpiped===!1&&(Ml.hasUnpiped=!0,yl())}function _l(){su("onend"),zu.end()}var Qu=hu(Wu);zu.on("drain",Qu);var Gl=!1;function yl(){su("cleanup"),zu.removeListener("close",Xu),zu.removeListener("finish",$l),zu.removeListener("drain",Qu),zu.removeListener("error",Ql),zu.removeListener("unpipe",Vl),Wu.removeListener("end",_l),Wu.removeListener("end",Zl),Wu.removeListener("data",Sl),Gl=!0,Dl.awaitDrain&&(!zu._writableState||zu._writableState.needDrain)&&Qu()}Wu.on("data",Sl);function Sl(wl){su("ondata");var Ml=zu.write(wl);su("dest.write",Ml),Ml===!1&&((Dl.pipesCount===1&&Dl.pipes===zu||Dl.pipesCount>1&&Hu(Dl.pipes,zu)!==-1)&&!Gl&&(su("false write response, pause",Dl.awaitDrain),Dl.awaitDrain++),Wu.pause())}function Ql(wl){su("onerror",wl),Zl(),zu.removeListener("error",Ql),as(zu,"error")===0&&Au(zu,wl)}Su(zu,"error",Ql);function Xu(){zu.removeListener("finish",$l),Zl()}zu.once("close",Xu);function $l(){su("onfinish"),zu.removeListener("close",Xu),Zl()}zu.once("finish",$l);function Zl(){su("unpipe"),Wu.unpipe(zu)}return zu.emit("pipe",Wu),Dl.flowing||(su("pipe resume"),Wu.resume()),zu};function hu(zu){return function(){var Wu=zu._readableState;su("pipeOnDrain",Wu.awaitDrain),Wu.awaitDrain&&Wu.awaitDrain--,Wu.awaitDrain===0&&as(zu,"data")&&(Wu.flowing=!0,Du(zu))}}Ou.prototype.unpipe=function(zu){var ju=this._readableState,Wu={hasUnpiped:!1};if(ju.pipesCount===0)return this;if(ju.pipesCount===1)return zu&&zu!==ju.pipes?this:(zu||(zu=ju.pipes),ju.pipes=null,ju.pipesCount=0,ju.flowing=!1,zu&&zu.emit("unpipe",this,Wu),this);if(!zu){var Dl=ju.pipes,Zu=ju.pipesCount;ju.pipes=null,ju.pipesCount=0,ju.flowing=!1;for(var Yu=0;Yu<Zu;Yu++)Dl[Yu].emit("unpipe",this,{hasUnpiped:!1});return this}var Vl=Hu(ju.pipes,zu);return Vl===-1?this:(ju.pipes.splice(Vl,1),ju.pipesCount-=1,ju.pipesCount===1&&(ju.pipes=ju.pipes[0]),zu.emit("unpipe",this,Wu),this)},Ou.prototype.on=function(zu,ju){var Wu=us.prototype.on.call(this,zu,ju),Dl=this._readableState;return zu==="data"?(Dl.readableListening=this.listenerCount("readable")>0,Dl.flowing!==!1&&this.resume()):zu==="readable"&&!Dl.endEmitted&&!Dl.readableListening&&(Dl.readableListening=Dl.needReadable=!0,Dl.flowing=!1,Dl.emittedReadable=!1,su("on readable",Dl.length,Dl.reading),Dl.length?du(this):Dl.reading||process$1.nextTick(Ru,this)),Wu},Ou.prototype.addListener=Ou.prototype.on,Ou.prototype.removeListener=function(zu,ju){var Wu=us.prototype.removeListener.call(this,zu,ju);return zu==="readable"&&process$1.nextTick(Eu,this),Wu},Ou.prototype.removeAllListeners=function(zu){var ju=us.prototype.removeAllListeners.apply(this,arguments);return(zu==="readable"||zu===void 0)&&process$1.nextTick(Eu,this),ju};function Eu(zu){var ju=zu._readableState;ju.readableListening=zu.listenerCount("readable")>0,ju.resumeScheduled&&!ju.paused?ju.flowing=!0:zu.listenerCount("data")>0&&zu.resume()}function Ru(zu){su("readable nexttick read 0"),zu.read(0)}Ou.prototype.resume=function(){var zu=this._readableState;return zu.flowing||(su("resume"),zu.flowing=!zu.readableListening,Tu(this,zu)),zu.paused=!1,this};function Tu(zu,ju){ju.resumeScheduled||(ju.resumeScheduled=!0,process$1.nextTick(qu,zu,ju))}function qu(zu,ju){su("resume",ju.reading),ju.reading||zu.read(0),ju.resumeScheduled=!1,zu.emit("resume"),Du(zu),ju.flowing&&!ju.reading&&zu.read(0)}Ou.prototype.pause=function(){return su("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(su("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Du(zu){var ju=zu._readableState;for(su("flow",ju.flowing);ju.flowing&&zu.read()!==null;);}Ou.prototype.wrap=function(zu){var ju=this,Wu=this._readableState,Dl=!1;zu.on("end",function(){if(su("wrapped end"),Wu.decoder&&!Wu.ended){var Vl=Wu.decoder.end();Vl&&Vl.length&&ju.push(Vl)}ju.push(null)}),zu.on("data",function(Vl){if(su("wrapped data"),Wu.decoder&&(Vl=Wu.decoder.write(Vl)),!(Wu.objectMode&&Vl==null)&&!(!Wu.objectMode&&(!Vl||!Vl.length))){var _l=ju.push(Vl);_l||(Dl=!0,zu.pause())}});for(var Zu in zu)this[Zu]===void 0&&typeof zu[Zu]=="function"&&(this[Zu]=function(_l){return function(){return zu[_l].apply(zu,arguments)}}(Zu));for(var Yu=0;Yu<Pu.length;Yu++)zu.on(Pu[Yu],this.emit.bind(this,Pu[Yu]));return this._read=function(Vl){su("wrapped _read",Vl),Dl&&(Dl=!1,zu.resume())},this},typeof Symbol=="function"&&(Ou.prototype[Symbol.asyncIterator]=function(){return _u===void 0&&(_u=requireAsync_iterator()),_u(this)}),Object.defineProperty(Ou.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ou.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ou.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ju){this._readableState&&(this._readableState.flowing=ju)}}),Ou._fromList=Iu,Object.defineProperty(Ou.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Iu(zu,ju){if(ju.length===0)return null;var Wu;return ju.objectMode?Wu=ju.buffer.shift():!zu||zu>=ju.length?(ju.decoder?Wu=ju.buffer.join(""):ju.buffer.length===1?Wu=ju.buffer.first():Wu=ju.buffer.concat(ju.length),ju.buffer.clear()):Wu=ju.buffer.consume(zu,ju.decoder),Wu}function Lu(zu){var ju=zu._readableState;su("endReadable",ju.endEmitted),ju.endEmitted||(ju.ended=!0,process$1.nextTick(Uu,ju,zu))}function Uu(zu,ju){if(su("endReadableNT",zu.endEmitted,zu.length),!zu.endEmitted&&zu.length===0&&(zu.endEmitted=!0,ju.readable=!1,ju.emit("end"),zu.autoDestroy)){var Wu=ju._writableState;(!Wu||Wu.autoDestroy&&Wu.finished)&&ju.destroy()}}typeof Symbol=="function"&&(Ou.from=function(zu,ju){return Mu===void 0&&(Mu=requireFromBrowser()),Mu(Ou,zu,ju)});function Hu(zu,ju){for(var Wu=0,Dl=zu.length;Wu<Dl;Wu++)if(zu[Wu]===ju)return Wu;return-1}return _stream_readable$1}var _stream_transform$1=Transform$1,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex$1();inherits_browserExports(Transform$1,Duplex);function afterTransform(ss,as){var us=this._transformState;us.transforming=!1;var cs=us.writecb;if(cs===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);us.writechunk=null,us.writecb=null,as!=null&&this.push(as),cs(ss);var $a=this._readableState;$a.reading=!1,($a.needReadable||$a.length<$a.highWaterMark)&&this._read($a.highWaterMark)}function Transform$1(ss){if(!(this instanceof Transform$1))return new Transform$1(ss);Duplex.call(this,ss),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ss&&(typeof ss.transform=="function"&&(this._transform=ss.transform),typeof ss.flush=="function"&&(this._flush=ss.flush)),this.on("prefinish",prefinish)}function prefinish(){var ss=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(as,us){done(ss,as,us)}):done(this,null,null)}Transform$1.prototype.push=function(ss,as){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,ss,as)};Transform$1.prototype._transform=function(ss,as,us){us(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$1.prototype._write=function(ss,as,us){var cs=this._transformState;if(cs.writecb=us,cs.writechunk=ss,cs.writeencoding=as,!cs.transforming){var $a=this._readableState;(cs.needTransform||$a.needReadable||$a.length<$a.highWaterMark)&&this._read($a.highWaterMark)}};Transform$1.prototype._read=function(ss){var as=this._transformState;as.writechunk!==null&&!as.transforming?(as.transforming=!0,this._transform(as.writechunk,as.writeencoding,as.afterTransform)):as.needTransform=!0};Transform$1.prototype._destroy=function(ss,as){Duplex.prototype._destroy.call(this,ss,function(us){as(us)})};function done(ss,as,us){if(as)return ss.emit("error",as);if(us!=null&&ss.push(us),ss._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(ss._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return ss.push(null)}var _stream_passthrough$1=PassThrough,Transform=_stream_transform$1;inherits_browserExports(PassThrough,Transform);function PassThrough(ss){if(!(this instanceof PassThrough))return new PassThrough(ss);Transform.call(this,ss)}PassThrough.prototype._transform=function(ss,as,us){us(null,ss)};var eos;function once(ss){var as=!1;return function(){as||(as=!0,ss.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$2(ss){if(ss)throw ss}function isRequest(ss){return ss.setHeader&&typeof ss.abort=="function"}function destroyer(ss,as,us,cs){cs=once(cs);var $a=!1;ss.on("close",function(){$a=!0}),eos===void 0&&(eos=endOfStream),eos(ss,{readable:as,writable:us},function(tu){if(tu)return cs(tu);$a=!0,cs()});var na=!1;return function(tu){if(!$a&&!na){if(na=!0,isRequest(ss))return ss.abort();if(typeof ss.destroy=="function")return ss.destroy();cs(tu||new ERR_STREAM_DESTROYED("pipe"))}}}function call(ss){ss()}function pipe(ss,as){return ss.pipe(as)}function popCallback(ss){return!ss.length||typeof ss[ss.length-1]!="function"?noop$2:ss.pop()}function pipeline(){for(var ss=arguments.length,as=new Array(ss),us=0;us<ss;us++)as[us]=arguments[us];var cs=popCallback(as);if(Array.isArray(as[0])&&(as=as[0]),as.length<2)throw new ERR_MISSING_ARGS("streams");var $a,na=as.map(function(tu,iu){var su=iu<as.length-1,au=iu>0;return destroyer(tu,su,au,function(ou){$a||($a=ou),ou&&na.forEach(call),!su&&(na.forEach(call),cs($a))})});return as.reduce(pipe)}var pipeline_1=pipeline;(function(ss,as){as=ss.exports=require_stream_readable$1(),as.Stream=as,as.Readable=as,as.Writable=require_stream_writable$1(),as.Duplex=require_stream_duplex$1(),as.Transform=_stream_transform$1,as.PassThrough=_stream_passthrough$1,as.finished=endOfStream,as.pipeline=pipeline_1})(readableBrowser$1,readableBrowser$1.exports);var readableBrowserExports=readableBrowser$1.exports,hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var ss=safeBufferExports.Buffer,as=readableBrowserExports.Transform,us=inherits_browserExports;function cs(na,tu){if(!ss.isBuffer(na)&&typeof na!="string")throw new TypeError(tu+" must be a string or a buffer")}function $a(na){as.call(this),this._block=ss.allocUnsafe(na),this._blockSize=na,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return us($a,as),$a.prototype._transform=function(na,tu,iu){var su=null;try{this.update(na,tu)}catch(au){su=au}iu(su)},$a.prototype._flush=function(na){var tu=null;try{this.push(this.digest())}catch(iu){tu=iu}na(tu)},$a.prototype.update=function(na,tu){if(cs(na,"Data"),this._finalized)throw new Error("Digest already called");ss.isBuffer(na)||(na=ss.from(na,tu));for(var iu=this._block,su=0;this._blockOffset+na.length-su>=this._blockSize;){for(var au=this._blockOffset;au<this._blockSize;)iu[au++]=na[su++];this._update(),this._blockOffset=0}for(;su<na.length;)iu[this._blockOffset++]=na[su++];for(var ou=0,fu=na.length*8;fu>0;++ou)this._length[ou]+=fu,fu=this._length[ou]/4294967296|0,fu>0&&(this._length[ou]-=4294967296*fu);return this},$a.prototype._update=function(){throw new Error("_update is not implemented")},$a.prototype.digest=function(na){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var tu=this._digest();na!==void 0&&(tu=tu.toString(na)),this._block.fill(0),this._blockOffset=0;for(var iu=0;iu<4;++iu)this._length[iu]=0;return tu},$a.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=$a,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var ss=inherits_browserExports,as=requireHashBase(),us=safeBufferExports.Buffer,cs=new Array(16);function $a(){as.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}ss($a,as),$a.prototype._update=function(){for(var ou=cs,fu=0;fu<16;++fu)ou[fu]=this._block.readInt32LE(fu*4);var pu=this._a,vu=this._b,gu=this._c,bu=this._d;pu=tu(pu,vu,gu,bu,ou[0],3614090360,7),bu=tu(bu,pu,vu,gu,ou[1],3905402710,12),gu=tu(gu,bu,pu,vu,ou[2],606105819,17),vu=tu(vu,gu,bu,pu,ou[3],3250441966,22),pu=tu(pu,vu,gu,bu,ou[4],4118548399,7),bu=tu(bu,pu,vu,gu,ou[5],1200080426,12),gu=tu(gu,bu,pu,vu,ou[6],2821735955,17),vu=tu(vu,gu,bu,pu,ou[7],4249261313,22),pu=tu(pu,vu,gu,bu,ou[8],1770035416,7),bu=tu(bu,pu,vu,gu,ou[9],2336552879,12),gu=tu(gu,bu,pu,vu,ou[10],4294925233,17),vu=tu(vu,gu,bu,pu,ou[11],2304563134,22),pu=tu(pu,vu,gu,bu,ou[12],1804603682,7),bu=tu(bu,pu,vu,gu,ou[13],4254626195,12),gu=tu(gu,bu,pu,vu,ou[14],2792965006,17),vu=tu(vu,gu,bu,pu,ou[15],1236535329,22),pu=iu(pu,vu,gu,bu,ou[1],4129170786,5),bu=iu(bu,pu,vu,gu,ou[6],3225465664,9),gu=iu(gu,bu,pu,vu,ou[11],643717713,14),vu=iu(vu,gu,bu,pu,ou[0],3921069994,20),pu=iu(pu,vu,gu,bu,ou[5],3593408605,5),bu=iu(bu,pu,vu,gu,ou[10],38016083,9),gu=iu(gu,bu,pu,vu,ou[15],3634488961,14),vu=iu(vu,gu,bu,pu,ou[4],3889429448,20),pu=iu(pu,vu,gu,bu,ou[9],568446438,5),bu=iu(bu,pu,vu,gu,ou[14],3275163606,9),gu=iu(gu,bu,pu,vu,ou[3],4107603335,14),vu=iu(vu,gu,bu,pu,ou[8],1163531501,20),pu=iu(pu,vu,gu,bu,ou[13],2850285829,5),bu=iu(bu,pu,vu,gu,ou[2],4243563512,9),gu=iu(gu,bu,pu,vu,ou[7],1735328473,14),vu=iu(vu,gu,bu,pu,ou[12],2368359562,20),pu=su(pu,vu,gu,bu,ou[5],4294588738,4),bu=su(bu,pu,vu,gu,ou[8],2272392833,11),gu=su(gu,bu,pu,vu,ou[11],1839030562,16),vu=su(vu,gu,bu,pu,ou[14],4259657740,23),pu=su(pu,vu,gu,bu,ou[1],2763975236,4),bu=su(bu,pu,vu,gu,ou[4],1272893353,11),gu=su(gu,bu,pu,vu,ou[7],4139469664,16),vu=su(vu,gu,bu,pu,ou[10],3200236656,23),pu=su(pu,vu,gu,bu,ou[13],681279174,4),bu=su(bu,pu,vu,gu,ou[0],3936430074,11),gu=su(gu,bu,pu,vu,ou[3],3572445317,16),vu=su(vu,gu,bu,pu,ou[6],76029189,23),pu=su(pu,vu,gu,bu,ou[9],3654602809,4),bu=su(bu,pu,vu,gu,ou[12],3873151461,11),gu=su(gu,bu,pu,vu,ou[15],530742520,16),vu=su(vu,gu,bu,pu,ou[2],3299628645,23),pu=au(pu,vu,gu,bu,ou[0],4096336452,6),bu=au(bu,pu,vu,gu,ou[7],1126891415,10),gu=au(gu,bu,pu,vu,ou[14],2878612391,15),vu=au(vu,gu,bu,pu,ou[5],4237533241,21),pu=au(pu,vu,gu,bu,ou[12],1700485571,6),bu=au(bu,pu,vu,gu,ou[3],2399980690,10),gu=au(gu,bu,pu,vu,ou[10],4293915773,15),vu=au(vu,gu,bu,pu,ou[1],2240044497,21),pu=au(pu,vu,gu,bu,ou[8],1873313359,6),bu=au(bu,pu,vu,gu,ou[15],4264355552,10),gu=au(gu,bu,pu,vu,ou[6],2734768916,15),vu=au(vu,gu,bu,pu,ou[13],1309151649,21),pu=au(pu,vu,gu,bu,ou[4],4149444226,6),bu=au(bu,pu,vu,gu,ou[11],3174756917,10),gu=au(gu,bu,pu,vu,ou[2],718787259,15),vu=au(vu,gu,bu,pu,ou[9],3951481745,21),this._a=this._a+pu|0,this._b=this._b+vu|0,this._c=this._c+gu|0,this._d=this._d+bu|0},$a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var ou=us.allocUnsafe(16);return ou.writeInt32LE(this._a,0),ou.writeInt32LE(this._b,4),ou.writeInt32LE(this._c,8),ou.writeInt32LE(this._d,12),ou};function na(ou,fu){return ou<<fu|ou>>>32-fu}function tu(ou,fu,pu,vu,gu,bu,xu){return na(ou+(fu&pu|~fu&vu)+gu+bu|0,xu)+fu|0}function iu(ou,fu,pu,vu,gu,bu,xu){return na(ou+(fu&vu|pu&~vu)+gu+bu|0,xu)+fu|0}function su(ou,fu,pu,vu,gu,bu,xu){return na(ou+(fu^pu^vu)+gu+bu|0,xu)+fu|0}function au(ou,fu,pu,vu,gu,bu,xu){return na(ou+(pu^(fu|~vu))+gu+bu|0,xu)+fu|0}return md5_js=$a,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var ss=require$$0$3.Buffer,as=inherits_browserExports,us=requireHashBase(),cs=new Array(16),$a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],na=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],tu=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],iu=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],su=[0,1518500249,1859775393,2400959708,2840853838],au=[1352829926,1548603684,1836072691,2053994217,0];function ou(){us.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}as(ou,us),ou.prototype._update=function(){for(var $u=cs,wu=0;wu<16;++wu)$u[wu]=this._block.readInt32LE(wu*4);for(var _u=this._a|0,Mu=this._b|0,Au=this._c|0,Pu=this._d|0,Su=this._e|0,Bu=this._a|0,Ou=this._b|0,Vu=this._c|0,yu=this._d|0,_a=this._e|0,ru=0;ru<80;ru+=1){var nu,uu;ru<16?(nu=pu(_u,Mu,Au,Pu,Su,$u[$a[ru]],su[0],tu[ru]),uu=xu(Bu,Ou,Vu,yu,_a,$u[na[ru]],au[0],iu[ru])):ru<32?(nu=vu(_u,Mu,Au,Pu,Su,$u[$a[ru]],su[1],tu[ru]),uu=bu(Bu,Ou,Vu,yu,_a,$u[na[ru]],au[1],iu[ru])):ru<48?(nu=gu(_u,Mu,Au,Pu,Su,$u[$a[ru]],su[2],tu[ru]),uu=gu(Bu,Ou,Vu,yu,_a,$u[na[ru]],au[2],iu[ru])):ru<64?(nu=bu(_u,Mu,Au,Pu,Su,$u[$a[ru]],su[3],tu[ru]),uu=vu(Bu,Ou,Vu,yu,_a,$u[na[ru]],au[3],iu[ru])):(nu=xu(_u,Mu,Au,Pu,Su,$u[$a[ru]],su[4],tu[ru]),uu=pu(Bu,Ou,Vu,yu,_a,$u[na[ru]],au[4],iu[ru])),_u=Su,Su=Pu,Pu=fu(Au,10),Au=Mu,Mu=nu,Bu=_a,_a=yu,yu=fu(Vu,10),Vu=Ou,Ou=uu}var lu=this._b+Au+yu|0;this._b=this._c+Pu+_a|0,this._c=this._d+Su+Bu|0,this._d=this._e+_u+Ou|0,this._e=this._a+Mu+Vu|0,this._a=lu},ou.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var $u=ss.alloc?ss.alloc(20):new ss(20);return $u.writeInt32LE(this._a,0),$u.writeInt32LE(this._b,4),$u.writeInt32LE(this._c,8),$u.writeInt32LE(this._d,12),$u.writeInt32LE(this._e,16),$u};function fu($u,wu){return $u<<wu|$u>>>32-wu}function pu($u,wu,_u,Mu,Au,Pu,Su,Bu){return fu($u+(wu^_u^Mu)+Pu+Su|0,Bu)+Au|0}function vu($u,wu,_u,Mu,Au,Pu,Su,Bu){return fu($u+(wu&_u|~wu&Mu)+Pu+Su|0,Bu)+Au|0}function gu($u,wu,_u,Mu,Au,Pu,Su,Bu){return fu($u+((wu|~_u)^Mu)+Pu+Su|0,Bu)+Au|0}function bu($u,wu,_u,Mu,Au,Pu,Su,Bu){return fu($u+(wu&Mu|_u&~Mu)+Pu+Su|0,Bu)+Au|0}function xu($u,wu,_u,Mu,Au,Pu,Su,Bu){return fu($u+(wu^(_u|~Mu))+Pu+Su|0,Bu)+Au|0}return ripemd160=ou,ripemd160}var sha_js={exports:{}},Buffer$6=safeBufferExports.Buffer;function Hash$7(ss,as){this._block=Buffer$6.alloc(ss),this._finalSize=as,this._blockSize=ss,this._len=0}Hash$7.prototype.update=function(ss,as){typeof ss=="string"&&(as=as||"utf8",ss=Buffer$6.from(ss,as));for(var us=this._block,cs=this._blockSize,$a=ss.length,na=this._len,tu=0;tu<$a;){for(var iu=na%cs,su=Math.min($a-tu,cs-iu),au=0;au<su;au++)us[iu+au]=ss[tu+au];na+=su,tu+=su,na%cs===0&&this._update(us)}return this._len+=$a,this};Hash$7.prototype.digest=function(ss){var as=this._len%this._blockSize;this._block[as]=128,this._block.fill(0,as+1),as>=this._finalSize&&(this._update(this._block),this._block.fill(0));var us=this._len*8;if(us<=4294967295)this._block.writeUInt32BE(us,this._blockSize-4);else{var cs=(us&4294967295)>>>0,$a=(us-cs)/4294967296;this._block.writeUInt32BE($a,this._blockSize-8),this._block.writeUInt32BE(cs,this._blockSize-4)}this._update(this._block);var na=this._hash();return ss?na.toString(ss):na};Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$1=Hash$7,inherits$5=inherits_browserExports,Hash$6=hash$1,Buffer$5=safeBufferExports.Buffer,K$7=[1518500249,1859775393,-1894007588,-899497514],W$8=new Array(80);function Sha(){this.init(),this._w=W$8,Hash$6.call(this,64,56)}inherits$5(Sha,Hash$6);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(ss){return ss<<5|ss>>>27}function rotl30$1(ss){return ss<<30|ss>>>2}function ft$4(ss,as,us,cs){return ss===0?as&us|~as&cs:ss===2?as&us|as&cs|us&cs:as^us^cs}Sha.prototype._update=function(ss){for(var as=this._w,us=this._a|0,cs=this._b|0,$a=this._c|0,na=this._d|0,tu=this._e|0,iu=0;iu<16;++iu)as[iu]=ss.readInt32BE(iu*4);for(;iu<80;++iu)as[iu]=as[iu-3]^as[iu-8]^as[iu-14]^as[iu-16];for(var su=0;su<80;++su){var au=~~(su/20),ou=rotl5$1(us)+ft$4(au,cs,$a,na)+tu+as[su]+K$7[au]|0;tu=na,na=$a,$a=rotl30$1(cs),cs=us,us=ou}this._a=us+this._a|0,this._b=cs+this._b|0,this._c=$a+this._c|0,this._d=na+this._d|0,this._e=tu+this._e|0};Sha.prototype._hash=function(){var ss=Buffer$5.allocUnsafe(20);return ss.writeInt32BE(this._a|0,0),ss.writeInt32BE(this._b|0,4),ss.writeInt32BE(this._c|0,8),ss.writeInt32BE(this._d|0,12),ss.writeInt32BE(this._e|0,16),ss};var sha$1=Sha,inherits$4=inherits_browserExports,Hash$5=hash$1,Buffer$4=safeBufferExports.Buffer,K$6=[1518500249,1859775393,-1894007588,-899497514],W$7=new Array(80);function Sha1(){this.init(),this._w=W$7,Hash$5.call(this,64,56)}inherits$4(Sha1,Hash$5);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(ss){return ss<<1|ss>>>31}function rotl5(ss){return ss<<5|ss>>>27}function rotl30(ss){return ss<<30|ss>>>2}function ft$3(ss,as,us,cs){return ss===0?as&us|~as&cs:ss===2?as&us|as&cs|us&cs:as^us^cs}Sha1.prototype._update=function(ss){for(var as=this._w,us=this._a|0,cs=this._b|0,$a=this._c|0,na=this._d|0,tu=this._e|0,iu=0;iu<16;++iu)as[iu]=ss.readInt32BE(iu*4);for(;iu<80;++iu)as[iu]=rotl1(as[iu-3]^as[iu-8]^as[iu-14]^as[iu-16]);for(var su=0;su<80;++su){var au=~~(su/20),ou=rotl5(us)+ft$3(au,cs,$a,na)+tu+as[su]+K$6[au]|0;tu=na,na=$a,$a=rotl30(cs),cs=us,us=ou}this._a=us+this._a|0,this._b=cs+this._b|0,this._c=$a+this._c|0,this._d=na+this._d|0,this._e=tu+this._e|0};Sha1.prototype._hash=function(){var ss=Buffer$4.allocUnsafe(20);return ss.writeInt32BE(this._a|0,0),ss.writeInt32BE(this._b|0,4),ss.writeInt32BE(this._c|0,8),ss.writeInt32BE(this._d|0,12),ss.writeInt32BE(this._e|0,16),ss};var sha1=Sha1,inherits$3=inherits_browserExports,Hash$4=hash$1,Buffer$3=safeBufferExports.Buffer,K$5=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$6=new Array(64);function Sha256$1(){this.init(),this._w=W$6,Hash$4.call(this,64,56)}inherits$3(Sha256$1,Hash$4);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(ss,as,us){return us^ss&(as^us)}function maj$1(ss,as,us){return ss&as|us&(ss|as)}function sigma0$1(ss){return(ss>>>2|ss<<30)^(ss>>>13|ss<<19)^(ss>>>22|ss<<10)}function sigma1$1(ss){return(ss>>>6|ss<<26)^(ss>>>11|ss<<21)^(ss>>>25|ss<<7)}function gamma0(ss){return(ss>>>7|ss<<25)^(ss>>>18|ss<<14)^ss>>>3}function gamma1(ss){return(ss>>>17|ss<<15)^(ss>>>19|ss<<13)^ss>>>10}Sha256$1.prototype._update=function(ss){for(var as=this._w,us=this._a|0,cs=this._b|0,$a=this._c|0,na=this._d|0,tu=this._e|0,iu=this._f|0,su=this._g|0,au=this._h|0,ou=0;ou<16;++ou)as[ou]=ss.readInt32BE(ou*4);for(;ou<64;++ou)as[ou]=gamma1(as[ou-2])+as[ou-7]+gamma0(as[ou-15])+as[ou-16]|0;for(var fu=0;fu<64;++fu){var pu=au+sigma1$1(tu)+ch(tu,iu,su)+K$5[fu]+as[fu]|0,vu=sigma0$1(us)+maj$1(us,cs,$a)|0;au=su,su=iu,iu=tu,tu=na+pu|0,na=$a,$a=cs,cs=us,us=pu+vu|0}this._a=us+this._a|0,this._b=cs+this._b|0,this._c=$a+this._c|0,this._d=na+this._d|0,this._e=tu+this._e|0,this._f=iu+this._f|0,this._g=su+this._g|0,this._h=au+this._h|0};Sha256$1.prototype._hash=function(){var ss=Buffer$3.allocUnsafe(32);return ss.writeInt32BE(this._a,0),ss.writeInt32BE(this._b,4),ss.writeInt32BE(this._c,8),ss.writeInt32BE(this._d,12),ss.writeInt32BE(this._e,16),ss.writeInt32BE(this._f,20),ss.writeInt32BE(this._g,24),ss.writeInt32BE(this._h,28),ss};var sha256$2=Sha256$1,inherits$2=inherits_browserExports,Sha256=sha256$2,Hash$3=hash$1,Buffer$2=safeBufferExports.Buffer,W$5=new Array(64);function Sha224(){this.init(),this._w=W$5,Hash$3.call(this,64,56)}inherits$2(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var ss=Buffer$2.allocUnsafe(28);return ss.writeInt32BE(this._a,0),ss.writeInt32BE(this._b,4),ss.writeInt32BE(this._c,8),ss.writeInt32BE(this._d,12),ss.writeInt32BE(this._e,16),ss.writeInt32BE(this._f,20),ss.writeInt32BE(this._g,24),ss};var sha224$1=Sha224,inherits$1=inherits_browserExports,Hash$2=hash$1,Buffer$1=safeBufferExports.Buffer,K$4=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$4=new Array(160);function Sha512(){this.init(),this._w=W$4,Hash$2.call(this,128,112)}inherits$1(Sha512,Hash$2);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(ss,as,us){return us^ss&(as^us)}function maj(ss,as,us){return ss&as|us&(ss|as)}function sigma0(ss,as){return(ss>>>28|as<<4)^(as>>>2|ss<<30)^(as>>>7|ss<<25)}function sigma1(ss,as){return(ss>>>14|as<<18)^(ss>>>18|as<<14)^(as>>>9|ss<<23)}function Gamma0(ss,as){return(ss>>>1|as<<31)^(ss>>>8|as<<24)^ss>>>7}function Gamma0l(ss,as){return(ss>>>1|as<<31)^(ss>>>8|as<<24)^(ss>>>7|as<<25)}function Gamma1(ss,as){return(ss>>>19|as<<13)^(as>>>29|ss<<3)^ss>>>6}function Gamma1l(ss,as){return(ss>>>19|as<<13)^(as>>>29|ss<<3)^(ss>>>6|as<<26)}function getCarry(ss,as){return ss>>>0<as>>>0?1:0}Sha512.prototype._update=function(ss){for(var as=this._w,us=this._ah|0,cs=this._bh|0,$a=this._ch|0,na=this._dh|0,tu=this._eh|0,iu=this._fh|0,su=this._gh|0,au=this._hh|0,ou=this._al|0,fu=this._bl|0,pu=this._cl|0,vu=this._dl|0,gu=this._el|0,bu=this._fl|0,xu=this._gl|0,$u=this._hl|0,wu=0;wu<32;wu+=2)as[wu]=ss.readInt32BE(wu*4),as[wu+1]=ss.readInt32BE(wu*4+4);for(;wu<160;wu+=2){var _u=as[wu-30],Mu=as[wu-15*2+1],Au=Gamma0(_u,Mu),Pu=Gamma0l(Mu,_u);_u=as[wu-2*2],Mu=as[wu-2*2+1];var Su=Gamma1(_u,Mu),Bu=Gamma1l(Mu,_u),Ou=as[wu-7*2],Vu=as[wu-7*2+1],yu=as[wu-16*2],_a=as[wu-16*2+1],ru=Pu+Vu|0,nu=Au+Ou+getCarry(ru,Pu)|0;ru=ru+Bu|0,nu=nu+Su+getCarry(ru,Bu)|0,ru=ru+_a|0,nu=nu+yu+getCarry(ru,_a)|0,as[wu]=nu,as[wu+1]=ru}for(var uu=0;uu<160;uu+=2){nu=as[uu],ru=as[uu+1];var lu=maj(us,cs,$a),du=maj(ou,fu,pu),mu=sigma0(us,ou),cu=sigma0(ou,us),eu=sigma1(tu,gu),hu=sigma1(gu,tu),Eu=K$4[uu],Ru=K$4[uu+1],Tu=Ch(tu,iu,su),qu=Ch(gu,bu,xu),Du=$u+hu|0,Iu=au+eu+getCarry(Du,$u)|0;Du=Du+qu|0,Iu=Iu+Tu+getCarry(Du,qu)|0,Du=Du+Ru|0,Iu=Iu+Eu+getCarry(Du,Ru)|0,Du=Du+ru|0,Iu=Iu+nu+getCarry(Du,ru)|0;var Lu=cu+du|0,Uu=mu+lu+getCarry(Lu,cu)|0;au=su,$u=xu,su=iu,xu=bu,iu=tu,bu=gu,gu=vu+Du|0,tu=na+Iu+getCarry(gu,vu)|0,na=$a,vu=pu,$a=cs,pu=fu,cs=us,fu=ou,ou=Du+Lu|0,us=Iu+Uu+getCarry(ou,Du)|0}this._al=this._al+ou|0,this._bl=this._bl+fu|0,this._cl=this._cl+pu|0,this._dl=this._dl+vu|0,this._el=this._el+gu|0,this._fl=this._fl+bu|0,this._gl=this._gl+xu|0,this._hl=this._hl+$u|0,this._ah=this._ah+us+getCarry(this._al,ou)|0,this._bh=this._bh+cs+getCarry(this._bl,fu)|0,this._ch=this._ch+$a+getCarry(this._cl,pu)|0,this._dh=this._dh+na+getCarry(this._dl,vu)|0,this._eh=this._eh+tu+getCarry(this._el,gu)|0,this._fh=this._fh+iu+getCarry(this._fl,bu)|0,this._gh=this._gh+su+getCarry(this._gl,xu)|0,this._hh=this._hh+au+getCarry(this._hl,$u)|0};Sha512.prototype._hash=function(){var ss=Buffer$1.allocUnsafe(64);function as(us,cs,$a){ss.writeInt32BE(us,$a),ss.writeInt32BE(cs,$a+4)}return as(this._ah,this._al,0),as(this._bh,this._bl,8),as(this._ch,this._cl,16),as(this._dh,this._dl,24),as(this._eh,this._el,32),as(this._fh,this._fl,40),as(this._gh,this._gl,48),as(this._hh,this._hl,56),ss};var sha512$1=Sha512,inherits=inherits_browserExports,SHA512=sha512$1,Hash$1=hash$1,Buffer=safeBufferExports.Buffer,W$3=new Array(160);function Sha384(){this.init(),this._w=W$3,Hash$1.call(this,128,112)}inherits(Sha384,SHA512);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var ss=Buffer.allocUnsafe(48);function as(us,cs,$a){ss.writeInt32BE(us,$a),ss.writeInt32BE(cs,$a+4)}return as(this._ah,this._al,0),as(this._bh,this._bl,8),as(this._ch,this._cl,16),as(this._dh,this._dl,24),as(this._eh,this._el,32),as(this._fh,this._fl,40),ss};var sha384$1=Sha384,exports=sha_js.exports=function(as){as=as.toLowerCase();var us=exports[as];if(!us)throw new Error(as+" is not supported (we accept pull requests)");return new us};exports.sha=sha$1;exports.sha1=sha1;exports.sha224=sha224$1;exports.sha256=sha256$2;exports.sha384=sha384$1;exports.sha512=sha512$1;var sha_jsExports=sha_js.exports,streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=us;var ss=eventsExports.EventEmitter,as=inherits_browserExports;as(us,ss),us.Readable=require_stream_readable$1(),us.Writable=require_stream_writable$1(),us.Duplex=require_stream_duplex$1(),us.Transform=_stream_transform$1,us.PassThrough=_stream_passthrough$1,us.finished=endOfStream,us.pipeline=pipeline_1,us.Stream=us;function us(){ss.call(this)}return us.prototype.pipe=function(cs,$a){var na=this;function tu(vu){cs.writable&&cs.write(vu)===!1&&na.pause&&na.pause()}na.on("data",tu);function iu(){na.readable&&na.resume&&na.resume()}cs.on("drain",iu),!cs._isStdio&&(!$a||$a.end!==!1)&&(na.on("end",au),na.on("close",ou));var su=!1;function au(){su||(su=!0,cs.end())}function ou(){su||(su=!0,typeof cs.destroy=="function"&&cs.destroy())}function fu(vu){if(pu(),ss.listenerCount(this,"error")===0)throw vu}na.on("error",fu),cs.on("error",fu);function pu(){na.removeListener("data",tu),cs.removeListener("drain",iu),na.removeListener("end",au),na.removeListener("close",ou),na.removeListener("error",fu),cs.removeListener("error",fu),na.removeListener("end",pu),na.removeListener("close",pu),cs.removeListener("close",pu)}return na.on("end",pu),na.on("close",pu),cs.on("close",pu),cs.emit("pipe",na),cs},streamBrowserify}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var ss=safeBufferExports.Buffer,as=requireStreamBrowserify().Transform,us=requireString_decoder().StringDecoder,cs=inherits_browserExports;function $a(su){as.call(this),this.hashMode=typeof su=="string",this.hashMode?this[su]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}cs($a,as);var na=typeof Uint8Array<"u",tu=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(ss.prototype instanceof Uint8Array||ss.TYPED_ARRAY_SUPPORT);function iu(su,au){if(su instanceof ss)return su;if(typeof su=="string")return ss.from(su,au);if(tu&&ArrayBuffer.isView(su)){if(su.byteLength===0)return ss.alloc(0);var ou=ss.from(su.buffer,su.byteOffset,su.byteLength);if(ou.byteLength===su.byteLength)return ou}if(na&&su instanceof Uint8Array||ss.isBuffer(su)&&su.constructor&&typeof su.constructor.isBuffer=="function"&&su.constructor.isBuffer(su))return ss.from(su);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return $a.prototype.update=function(su,au,ou){var fu=iu(su,au),pu=this._update(fu);return this.hashMode?this:(ou&&(pu=this._toString(pu,ou)),pu)},$a.prototype.setAutoPadding=function(){},$a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},$a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},$a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},$a.prototype._transform=function(su,au,ou){var fu;try{this.hashMode?this._update(su):this.push(this._update(su))}catch(pu){fu=pu}finally{ou(fu)}},$a.prototype._flush=function(su){var au;try{this.push(this.__final())}catch(ou){au=ou}su(au)},$a.prototype._finalOrDigest=function(su){var au=this.__final()||ss.alloc(0);return su&&(au=this._toString(au,su,!0)),au},$a.prototype._toString=function(su,au,ou){if(this._decoder||(this._decoder=new us(au),this._encoding=au),this._encoding!==au)throw new Error("cant switch encodings");var fu=this._decoder.write(su);return ou&&(fu+=this._decoder.end()),fu},cipherBase=$a,cipherBase}var browser$b,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$b;hasRequiredBrowser$a=1;var ss=inherits_browserExports,as=requireMd5_js(),us=requireRipemd160(),cs=sha_jsExports,$a=requireCipherBase();function na(tu){$a.call(this,"digest"),this._hash=tu}return ss(na,$a),na.prototype._update=function(tu){this._hash.update(tu)},na.prototype._final=function(){return this._hash.digest()},browser$b=function(iu){return iu=iu.toLowerCase(),iu==="md5"?new as:iu==="rmd160"||iu==="ripemd160"?new us:new na(cs(iu))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var ss=inherits_browserExports,as=safeBufferExports.Buffer,us=requireCipherBase(),cs=as.alloc(128),$a=64;function na(tu,iu){us.call(this,"digest"),typeof iu=="string"&&(iu=as.from(iu)),this._alg=tu,this._key=iu,iu.length>$a?iu=tu(iu):iu.length<$a&&(iu=as.concat([iu,cs],$a));for(var su=this._ipad=as.allocUnsafe($a),au=this._opad=as.allocUnsafe($a),ou=0;ou<$a;ou++)su[ou]=iu[ou]^54,au[ou]=iu[ou]^92;this._hash=[su]}return ss(na,us),na.prototype._update=function(tu){this._hash.push(tu)},na.prototype._final=function(){var tu=this._alg(as.concat(this._hash));return this._alg(as.concat([this._opad,tu]))},legacy=na,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var ss=requireMd5_js();return md5=function(as){return new ss().update(as).digest()},md5}var browser$a,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$a;hasRequiredBrowser$9=1;var ss=inherits_browserExports,as=requireLegacy(),us=requireCipherBase(),cs=safeBufferExports.Buffer,$a=requireMd5(),na=requireRipemd160(),tu=sha_jsExports,iu=cs.alloc(128);function su(au,ou){us.call(this,"digest"),typeof ou=="string"&&(ou=cs.from(ou));var fu=au==="sha512"||au==="sha384"?128:64;if(this._alg=au,this._key=ou,ou.length>fu){var pu=au==="rmd160"?new na:tu(au);ou=pu.update(ou).digest()}else ou.length<fu&&(ou=cs.concat([ou,iu],fu));for(var vu=this._ipad=cs.allocUnsafe(fu),gu=this._opad=cs.allocUnsafe(fu),bu=0;bu<fu;bu++)vu[bu]=ou[bu]^54,gu[bu]=ou[bu]^92;this._hash=au==="rmd160"?new na:tu(au),this._hash.update(vu)}return ss(su,us),su.prototype._update=function(au){this._hash.update(au)},su.prototype._final=function(){var au=this._hash.digest(),ou=this._alg==="rmd160"?new na:tu(this._alg);return ou.update(this._opad).update(au).digest()},browser$a=function(ou,fu){return ou=ou.toLowerCase(),ou==="rmd160"||ou==="ripemd160"?new su("rmd160",fu):ou==="md5"?new as($a,fu):new su(ou,fu)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var ss=Math.pow(2,30)-1;return precondition=function(as,us){if(typeof as!="number")throw new TypeError("Iterations not a number");if(as<0)throw new TypeError("Bad iterations");if(typeof us!="number")throw new TypeError("Key length not a number");if(us<0||us>ss||us!==us)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var ss;if(commonjsGlobal.process&&commonjsGlobal.process.browser)ss="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var as=parseInt(process$1.version.split(".")[0].slice(1),10);ss=as>=6?"utf-8":"binary"}else ss="utf-8";return defaultEncoding_1=ss,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var ss=safeBufferExports.Buffer;return toBuffer=function(as,us,cs){if(ss.isBuffer(as))return as;if(typeof as=="string")return ss.from(as,us);if(ArrayBuffer.isView(as))return ss.from(as.buffer);throw new TypeError(cs+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var ss=requireMd5(),as=requireRipemd160(),us=sha_jsExports,cs=safeBufferExports.Buffer,$a=requirePrecondition(),na=requireDefaultEncoding(),tu=requireToBuffer(),iu=cs.alloc(128),su={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function au(pu,vu,gu){var bu=ou(pu),xu=pu==="sha512"||pu==="sha384"?128:64;vu.length>xu?vu=bu(vu):vu.length<xu&&(vu=cs.concat([vu,iu],xu));for(var $u=cs.allocUnsafe(xu+su[pu]),wu=cs.allocUnsafe(xu+su[pu]),_u=0;_u<xu;_u++)$u[_u]=vu[_u]^54,wu[_u]=vu[_u]^92;var Mu=cs.allocUnsafe(xu+gu+4);$u.copy(Mu,0,0,xu),this.ipad1=Mu,this.ipad2=$u,this.opad=wu,this.alg=pu,this.blocksize=xu,this.hash=bu,this.size=su[pu]}au.prototype.run=function(pu,vu){pu.copy(vu,this.blocksize);var gu=this.hash(vu);return gu.copy(this.opad,this.blocksize),this.hash(this.opad)};function ou(pu){function vu(bu){return us(pu).update(bu).digest()}function gu(bu){return new as().update(bu).digest()}return pu==="rmd160"||pu==="ripemd160"?gu:pu==="md5"?ss:vu}function fu(pu,vu,gu,bu,xu){$a(gu,bu),pu=tu(pu,na,"Password"),vu=tu(vu,na,"Salt"),xu=xu||"sha1";var $u=new au(xu,pu,vu.length),wu=cs.allocUnsafe(bu),_u=cs.allocUnsafe(vu.length+4);vu.copy(_u,0,0,vu.length);for(var Mu=0,Au=su[xu],Pu=Math.ceil(bu/Au),Su=1;Su<=Pu;Su++){_u.writeUInt32BE(Su,vu.length);for(var Bu=$u.run(_u,$u.ipad1),Ou=Bu,Vu=1;Vu<gu;Vu++){Ou=$u.run(Ou,$u.ipad2);for(var yu=0;yu<Au;yu++)Bu[yu]^=Ou[yu]}Bu.copy(wu,Mu),Mu+=Au}return wu}return syncBrowser=fu,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var ss=safeBufferExports.Buffer,as=requirePrecondition(),us=requireDefaultEncoding(),cs=requireSyncBrowser(),$a=requireToBuffer(),na,tu=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,iu={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},su=[];function au(gu){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!tu||!tu.importKey||!tu.deriveBits)return Promise.resolve(!1);if(su[gu]!==void 0)return su[gu];na=na||ss.alloc(8);var bu=pu(na,na,10,128,gu).then(function(){return!0}).catch(function(){return!1});return su[gu]=bu,bu}var ou;function fu(){return ou||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?ou=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?ou=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?ou=commonjsGlobal.setImmediate:ou=commonjsGlobal.setTimeout,ou)}function pu(gu,bu,xu,$u,wu){return tu.importKey("raw",gu,{name:"PBKDF2"},!1,["deriveBits"]).then(function(_u){return tu.deriveBits({name:"PBKDF2",salt:bu,iterations:xu,hash:{name:wu}},_u,$u<<3)}).then(function(_u){return ss.from(_u)})}function vu(gu,bu){gu.then(function(xu){fu()(function(){bu(null,xu)})},function(xu){fu()(function(){bu(xu)})})}return async=function(gu,bu,xu,$u,wu,_u){typeof wu=="function"&&(_u=wu,wu=void 0),wu=wu||"sha1";var Mu=iu[wu.toLowerCase()];if(!Mu||typeof commonjsGlobal.Promise!="function"){fu()(function(){var Au;try{Au=cs(gu,bu,xu,$u,wu)}catch(Pu){return _u(Pu)}_u(null,Au)});return}if(as(xu,$u),gu=$a(gu,us,"Password"),bu=$a(bu,us,"Salt"),typeof _u!="function")throw new Error("No callback provided to pbkdf2");vu(au(Mu).then(function(Au){return Au?pu(gu,bu,xu,$u,Mu):cs(gu,bu,xu,$u,wu)}),_u)},async}var hasRequiredBrowser$8;function requireBrowser$8(){return hasRequiredBrowser$8||(hasRequiredBrowser$8=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$4={},hasRequiredUtils$4;function requireUtils$4(){if(hasRequiredUtils$4)return utils$4;hasRequiredUtils$4=1,utils$4.readUInt32BE=function($a,na){var tu=$a[0+na]<<24|$a[1+na]<<16|$a[2+na]<<8|$a[3+na];return tu>>>0},utils$4.writeUInt32BE=function($a,na,tu){$a[0+tu]=na>>>24,$a[1+tu]=na>>>16&255,$a[2+tu]=na>>>8&255,$a[3+tu]=na&255},utils$4.ip=function($a,na,tu,iu){for(var su=0,au=0,ou=6;ou>=0;ou-=2){for(var fu=0;fu<=24;fu+=8)su<<=1,su|=na>>>fu+ou&1;for(var fu=0;fu<=24;fu+=8)su<<=1,su|=$a>>>fu+ou&1}for(var ou=6;ou>=0;ou-=2){for(var fu=1;fu<=25;fu+=8)au<<=1,au|=na>>>fu+ou&1;for(var fu=1;fu<=25;fu+=8)au<<=1,au|=$a>>>fu+ou&1}tu[iu+0]=su>>>0,tu[iu+1]=au>>>0},utils$4.rip=function($a,na,tu,iu){for(var su=0,au=0,ou=0;ou<4;ou++)for(var fu=24;fu>=0;fu-=8)su<<=1,su|=na>>>fu+ou&1,su<<=1,su|=$a>>>fu+ou&1;for(var ou=4;ou<8;ou++)for(var fu=24;fu>=0;fu-=8)au<<=1,au|=na>>>fu+ou&1,au<<=1,au|=$a>>>fu+ou&1;tu[iu+0]=su>>>0,tu[iu+1]=au>>>0},utils$4.pc1=function($a,na,tu,iu){for(var su=0,au=0,ou=7;ou>=5;ou--){for(var fu=0;fu<=24;fu+=8)su<<=1,su|=na>>fu+ou&1;for(var fu=0;fu<=24;fu+=8)su<<=1,su|=$a>>fu+ou&1}for(var fu=0;fu<=24;fu+=8)su<<=1,su|=na>>fu+ou&1;for(var ou=1;ou<=3;ou++){for(var fu=0;fu<=24;fu+=8)au<<=1,au|=na>>fu+ou&1;for(var fu=0;fu<=24;fu+=8)au<<=1,au|=$a>>fu+ou&1}for(var fu=0;fu<=24;fu+=8)au<<=1,au|=$a>>fu+ou&1;tu[iu+0]=su>>>0,tu[iu+1]=au>>>0},utils$4.r28shl=function($a,na){return $a<<na&268435455|$a>>>28-na};var ss=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$4.pc2=function($a,na,tu,iu){for(var su=0,au=0,ou=ss.length>>>1,fu=0;fu<ou;fu++)su<<=1,su|=$a>>>ss[fu]&1;for(var fu=ou;fu<ss.length;fu++)au<<=1,au|=na>>>ss[fu]&1;tu[iu+0]=su>>>0,tu[iu+1]=au>>>0},utils$4.expand=function($a,na,tu){var iu=0,su=0;iu=($a&1)<<5|$a>>>27;for(var au=23;au>=15;au-=4)iu<<=6,iu|=$a>>>au&63;for(var au=11;au>=3;au-=4)su|=$a>>>au&63,su<<=6;su|=($a&31)<<1|$a>>>31,na[tu+0]=iu>>>0,na[tu+1]=su>>>0};var as=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$4.substitute=function($a,na){for(var tu=0,iu=0;iu<4;iu++){var su=$a>>>18-iu*6&63,au=as[iu*64+su];tu<<=4,tu|=au}for(var iu=0;iu<4;iu++){var su=na>>>18-iu*6&63,au=as[4*64+iu*64+su];tu<<=4,tu|=au}return tu>>>0};var us=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$4.permute=function($a){for(var na=0,tu=0;tu<us.length;tu++)na<<=1,na|=$a>>>us[tu]&1;return na>>>0},utils$4.padSplit=function($a,na,tu){for(var iu=$a.toString(2);iu.length<na;)iu="0"+iu;for(var su=[],au=0;au<na;au+=tu)su.push(iu.slice(au,au+tu));return su.join(" ")},utils$4}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=ss;function ss(as,us){if(!as)throw new Error(us||"Assertion failed")}return ss.equal=function(us,cs,$a){if(us!=cs)throw new Error($a||"Assertion failed: "+us+" != "+cs)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var ss=requireMinimalisticAssert();function as(us){this.options=us,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=us.padding!==!1}return cipher=as,as.prototype._init=function(){},as.prototype.update=function(cs){return cs.length===0?[]:this.type==="decrypt"?this._updateDecrypt(cs):this._updateEncrypt(cs)},as.prototype._buffer=function(cs,$a){for(var na=Math.min(this.buffer.length-this.bufferOff,cs.length-$a),tu=0;tu<na;tu++)this.buffer[this.bufferOff+tu]=cs[$a+tu];return this.bufferOff+=na,na},as.prototype._flushBuffer=function(cs,$a){return this._update(this.buffer,0,cs,$a),this.bufferOff=0,this.blockSize},as.prototype._updateEncrypt=function(cs){var $a=0,na=0,tu=(this.bufferOff+cs.length)/this.blockSize|0,iu=new Array(tu*this.blockSize);this.bufferOff!==0&&($a+=this._buffer(cs,$a),this.bufferOff===this.buffer.length&&(na+=this._flushBuffer(iu,na)));for(var su=cs.length-(cs.length-$a)%this.blockSize;$a<su;$a+=this.blockSize)this._update(cs,$a,iu,na),na+=this.blockSize;for(;$a<cs.length;$a++,this.bufferOff++)this.buffer[this.bufferOff]=cs[$a];return iu},as.prototype._updateDecrypt=function(cs){for(var $a=0,na=0,tu=Math.ceil((this.bufferOff+cs.length)/this.blockSize)-1,iu=new Array(tu*this.blockSize);tu>0;tu--)$a+=this._buffer(cs,$a),na+=this._flushBuffer(iu,na);return $a+=this._buffer(cs,$a),iu},as.prototype.final=function(cs){var $a;cs&&($a=this.update(cs));var na;return this.type==="encrypt"?na=this._finalEncrypt():na=this._finalDecrypt(),$a?$a.concat(na):na},as.prototype._pad=function(cs,$a){if($a===0)return!1;for(;$a<cs.length;)cs[$a++]=0;return!0},as.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var cs=new Array(this.blockSize);return this._update(this.buffer,0,cs,0),cs},as.prototype._unpad=function(cs){return cs},as.prototype._finalDecrypt=function(){ss.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var cs=new Array(this.blockSize);return this._flushBuffer(cs,0),this._unpad(cs)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var ss=requireMinimalisticAssert(),as=inherits_browserExports,us=requireUtils$4(),cs=requireCipher();function $a(){this.tmp=new Array(2),this.keys=null}function na(iu){cs.call(this,iu);var su=new $a;this._desState=su,this.deriveKeys(su,iu.key)}as(na,cs),des=na,na.create=function(su){return new na(su)};var tu=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return na.prototype.deriveKeys=function(su,au){su.keys=new Array(16*2),ss.equal(au.length,this.blockSize,"Invalid key length");var ou=us.readUInt32BE(au,0),fu=us.readUInt32BE(au,4);us.pc1(ou,fu,su.tmp,0),ou=su.tmp[0],fu=su.tmp[1];for(var pu=0;pu<su.keys.length;pu+=2){var vu=tu[pu>>>1];ou=us.r28shl(ou,vu),fu=us.r28shl(fu,vu),us.pc2(ou,fu,su.keys,pu)}},na.prototype._update=function(su,au,ou,fu){var pu=this._desState,vu=us.readUInt32BE(su,au),gu=us.readUInt32BE(su,au+4);us.ip(vu,gu,pu.tmp,0),vu=pu.tmp[0],gu=pu.tmp[1],this.type==="encrypt"?this._encrypt(pu,vu,gu,pu.tmp,0):this._decrypt(pu,vu,gu,pu.tmp,0),vu=pu.tmp[0],gu=pu.tmp[1],us.writeUInt32BE(ou,vu,fu),us.writeUInt32BE(ou,gu,fu+4)},na.prototype._pad=function(su,au){if(this.padding===!1)return!1;for(var ou=su.length-au,fu=au;fu<su.length;fu++)su[fu]=ou;return!0},na.prototype._unpad=function(su){if(this.padding===!1)return su;for(var au=su[su.length-1],ou=su.length-au;ou<su.length;ou++)ss.equal(su[ou],au);return su.slice(0,su.length-au)},na.prototype._encrypt=function(su,au,ou,fu,pu){for(var vu=au,gu=ou,bu=0;bu<su.keys.length;bu+=2){var xu=su.keys[bu],$u=su.keys[bu+1];us.expand(gu,su.tmp,0),xu^=su.tmp[0],$u^=su.tmp[1];var wu=us.substitute(xu,$u),_u=us.permute(wu),Mu=gu;gu=(vu^_u)>>>0,vu=Mu}us.rip(gu,vu,fu,pu)},na.prototype._decrypt=function(su,au,ou,fu,pu){for(var vu=ou,gu=au,bu=su.keys.length-2;bu>=0;bu-=2){var xu=su.keys[bu],$u=su.keys[bu+1];us.expand(vu,su.tmp,0),xu^=su.tmp[0],$u^=su.tmp[1];var wu=us.substitute(xu,$u),_u=us.permute(wu),Mu=vu;vu=(gu^_u)>>>0,gu=Mu}us.rip(vu,gu,fu,pu)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var ss=requireMinimalisticAssert(),as=inherits_browserExports,us={};function cs(na){ss.equal(na.length,8,"Invalid IV length"),this.iv=new Array(8);for(var tu=0;tu<this.iv.length;tu++)this.iv[tu]=na[tu]}function $a(na){function tu(ou){na.call(this,ou),this._cbcInit()}as(tu,na);for(var iu=Object.keys(us),su=0;su<iu.length;su++){var au=iu[su];tu.prototype[au]=us[au]}return tu.create=function(fu){return new tu(fu)},tu}return cbc$1.instantiate=$a,us._cbcInit=function(){var tu=new cs(this.options.iv);this._cbcState=tu},us._update=function(tu,iu,su,au){var ou=this._cbcState,fu=this.constructor.super_.prototype,pu=ou.iv;if(this.type==="encrypt"){for(var vu=0;vu<this.blockSize;vu++)pu[vu]^=tu[iu+vu];fu._update.call(this,pu,0,su,au);for(var vu=0;vu<this.blockSize;vu++)pu[vu]=su[au+vu]}else{fu._update.call(this,tu,iu,su,au);for(var vu=0;vu<this.blockSize;vu++)su[au+vu]^=pu[vu];for(var vu=0;vu<this.blockSize;vu++)pu[vu]=tu[iu+vu]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var ss=requireMinimalisticAssert(),as=inherits_browserExports,us=requireCipher(),cs=requireDes$1();function $a(tu,iu){ss.equal(iu.length,24,"Invalid key length");var su=iu.slice(0,8),au=iu.slice(8,16),ou=iu.slice(16,24);tu==="encrypt"?this.ciphers=[cs.create({type:"encrypt",key:su}),cs.create({type:"decrypt",key:au}),cs.create({type:"encrypt",key:ou})]:this.ciphers=[cs.create({type:"decrypt",key:ou}),cs.create({type:"encrypt",key:au}),cs.create({type:"decrypt",key:su})]}function na(tu){us.call(this,tu);var iu=new $a(this.type,this.options.key);this._edeState=iu}return as(na,us),ede=na,na.create=function(iu){return new na(iu)},na.prototype._update=function(iu,su,au,ou){var fu=this._edeState;fu.ciphers[0]._update(iu,su,au,ou),fu.ciphers[1]._update(au,ou,au,ou),fu.ciphers[2]._update(au,ou,au,ou)},na.prototype._pad=cs.prototype._pad,na.prototype._unpad=cs.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$4(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var ss=requireCipherBase(),as=requireDes(),us=inherits_browserExports,cs=safeBufferExports.Buffer,$a={"des-ede3-cbc":as.CBC.instantiate(as.EDE),"des-ede3":as.EDE,"des-ede-cbc":as.CBC.instantiate(as.EDE),"des-ede":as.EDE,"des-cbc":as.CBC.instantiate(as.DES),"des-ecb":as.DES};$a.des=$a["des-cbc"],$a.des3=$a["des-ede3-cbc"],browserifyDes=na,us(na,ss);function na(tu){ss.call(this);var iu=tu.mode.toLowerCase(),su=$a[iu],au;tu.decrypt?au="decrypt":au="encrypt";var ou=tu.key;cs.isBuffer(ou)||(ou=cs.from(ou)),(iu==="des-ede"||iu==="des-ede-cbc")&&(ou=cs.concat([ou,ou.slice(0,8)]));var fu=tu.iv;cs.isBuffer(fu)||(fu=cs.from(fu)),this._des=su.create({key:ou,iv:fu,type:au})}return na.prototype._update=function(tu){return cs.from(this._des.update(tu))},na.prototype._final=function(){return cs.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(ss,as){return ss._cipher.encryptBlock(as)},ecb.decrypt=function(ss,as){return ss._cipher.decryptBlock(as)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(as,us){for(var cs=Math.min(as.length,us.length),$a=new Buffer$7(cs),na=0;na<cs;++na)$a[na]=as[na]^us[na];return $a}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var ss=requireBufferXor();return cbc.encrypt=function(as,us){var cs=ss(us,as._prev);return as._prev=as._cipher.encryptBlock(cs),as._prev},cbc.decrypt=function(as,us){var cs=as._prev;as._prev=us;var $a=as._cipher.decryptBlock(us);return ss($a,cs)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var ss=safeBufferExports.Buffer,as=requireBufferXor();function us(cs,$a,na){var tu=$a.length,iu=as($a,cs._cache);return cs._cache=cs._cache.slice(tu),cs._prev=ss.concat([cs._prev,na?$a:iu]),iu}return cfb.encrypt=function(cs,$a,na){for(var tu=ss.allocUnsafe(0),iu;$a.length;)if(cs._cache.length===0&&(cs._cache=cs._cipher.encryptBlock(cs._prev),cs._prev=ss.allocUnsafe(0)),cs._cache.length<=$a.length)iu=cs._cache.length,tu=ss.concat([tu,us(cs,$a.slice(0,iu),na)]),$a=$a.slice(iu);else{tu=ss.concat([tu,us(cs,$a,na)]);break}return tu},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var ss=safeBufferExports.Buffer;function as(us,cs,$a){var na=us._cipher.encryptBlock(us._prev),tu=na[0]^cs;return us._prev=ss.concat([us._prev.slice(1),ss.from([$a?cs:tu])]),tu}return cfb8.encrypt=function(us,cs,$a){for(var na=cs.length,tu=ss.allocUnsafe(na),iu=-1;++iu<na;)tu[iu]=as(us,cs[iu],$a);return tu},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var ss=safeBufferExports.Buffer;function as(cs,$a,na){for(var tu,iu=-1,su=8,au=0,ou,fu;++iu<su;)tu=cs._cipher.encryptBlock(cs._prev),ou=$a&1<<7-iu?128:0,fu=tu[0]^ou,au+=(fu&128)>>iu%8,cs._prev=us(cs._prev,na?ou:fu);return au}function us(cs,$a){var na=cs.length,tu=-1,iu=ss.allocUnsafe(cs.length);for(cs=ss.concat([cs,ss.from([$a])]);++tu<na;)iu[tu]=cs[tu]<<1|cs[tu+1]>>7;return iu}return cfb1.encrypt=function(cs,$a,na){for(var tu=$a.length,iu=ss.allocUnsafe(tu),su=-1;++su<tu;)iu[su]=as(cs,$a[su],na);return iu},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var ss=requireBufferXor();function as(us){return us._prev=us._cipher.encryptBlock(us._prev),us._prev}return ofb.encrypt=function(us,cs){for(;us._cache.length<cs.length;)us._cache=Buffer$7.concat([us._cache,as(us)]);var $a=us._cache.slice(0,cs.length);return us._cache=us._cache.slice(cs.length),ss(cs,$a)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function ss(as){for(var us=as.length,cs;us--;)if(cs=as.readUInt8(us),cs===255)as.writeUInt8(0,us);else{cs++,as.writeUInt8(cs,us);break}}return incr32_1=ss,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var ss=requireBufferXor(),as=safeBufferExports.Buffer,us=requireIncr32();function cs(na){var tu=na._cipher.encryptBlockRaw(na._prev);return us(na._prev),tu}var $a=16;return ctr.encrypt=function(na,tu){var iu=Math.ceil(tu.length/$a),su=na._cache.length;na._cache=as.concat([na._cache,as.allocUnsafe(iu*$a)]);for(var au=0;au<iu;au++){var ou=cs(na),fu=su+au*$a;na._cache.writeUInt32BE(ou[0],fu+0),na._cache.writeUInt32BE(ou[1],fu+4),na._cache.writeUInt32BE(ou[2],fu+8),na._cache.writeUInt32BE(ou[3],fu+12)}var pu=na._cache.slice(0,tu.length);return na._cache=na._cache.slice(tu.length),ss(tu,pu)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var ss={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},as=require$$2;for(var us in as)as[us].module=ss[as[us].mode];return modes_1=as,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var ss=safeBufferExports.Buffer;function as(iu){ss.isBuffer(iu)||(iu=ss.from(iu));for(var su=iu.length/4|0,au=new Array(su),ou=0;ou<su;ou++)au[ou]=iu.readUInt32BE(ou*4);return au}function us(iu){for(var su=0;su<iu.length;iu++)iu[su]=0}function cs(iu,su,au,ou,fu){for(var pu=au[0],vu=au[1],gu=au[2],bu=au[3],xu=iu[0]^su[0],$u=iu[1]^su[1],wu=iu[2]^su[2],_u=iu[3]^su[3],Mu,Au,Pu,Su,Bu=4,Ou=1;Ou<fu;Ou++)Mu=pu[xu>>>24]^vu[$u>>>16&255]^gu[wu>>>8&255]^bu[_u&255]^su[Bu++],Au=pu[$u>>>24]^vu[wu>>>16&255]^gu[_u>>>8&255]^bu[xu&255]^su[Bu++],Pu=pu[wu>>>24]^vu[_u>>>16&255]^gu[xu>>>8&255]^bu[$u&255]^su[Bu++],Su=pu[_u>>>24]^vu[xu>>>16&255]^gu[$u>>>8&255]^bu[wu&255]^su[Bu++],xu=Mu,$u=Au,wu=Pu,_u=Su;return Mu=(ou[xu>>>24]<<24|ou[$u>>>16&255]<<16|ou[wu>>>8&255]<<8|ou[_u&255])^su[Bu++],Au=(ou[$u>>>24]<<24|ou[wu>>>16&255]<<16|ou[_u>>>8&255]<<8|ou[xu&255])^su[Bu++],Pu=(ou[wu>>>24]<<24|ou[_u>>>16&255]<<16|ou[xu>>>8&255]<<8|ou[$u&255])^su[Bu++],Su=(ou[_u>>>24]<<24|ou[xu>>>16&255]<<16|ou[$u>>>8&255]<<8|ou[wu&255])^su[Bu++],Mu=Mu>>>0,Au=Au>>>0,Pu=Pu>>>0,Su=Su>>>0,[Mu,Au,Pu,Su]}var $a=[0,1,2,4,8,16,32,64,128,27,54],na=function(){for(var iu=new Array(256),su=0;su<256;su++)su<128?iu[su]=su<<1:iu[su]=su<<1^283;for(var au=[],ou=[],fu=[[],[],[],[]],pu=[[],[],[],[]],vu=0,gu=0,bu=0;bu<256;++bu){var xu=gu^gu<<1^gu<<2^gu<<3^gu<<4;xu=xu>>>8^xu&255^99,au[vu]=xu,ou[xu]=vu;var $u=iu[vu],wu=iu[$u],_u=iu[wu],Mu=iu[xu]*257^xu*16843008;fu[0][vu]=Mu<<24|Mu>>>8,fu[1][vu]=Mu<<16|Mu>>>16,fu[2][vu]=Mu<<8|Mu>>>24,fu[3][vu]=Mu,Mu=_u*16843009^wu*65537^$u*257^vu*16843008,pu[0][xu]=Mu<<24|Mu>>>8,pu[1][xu]=Mu<<16|Mu>>>16,pu[2][xu]=Mu<<8|Mu>>>24,pu[3][xu]=Mu,vu===0?vu=gu=1:(vu=$u^iu[iu[iu[_u^$u]]],gu^=iu[iu[gu]])}return{SBOX:au,INV_SBOX:ou,SUB_MIX:fu,INV_SUB_MIX:pu}}();function tu(iu){this._key=as(iu),this._reset()}return tu.blockSize=4*4,tu.keySize=256/8,tu.prototype.blockSize=tu.blockSize,tu.prototype.keySize=tu.keySize,tu.prototype._reset=function(){for(var iu=this._key,su=iu.length,au=su+6,ou=(au+1)*4,fu=[],pu=0;pu<su;pu++)fu[pu]=iu[pu];for(pu=su;pu<ou;pu++){var vu=fu[pu-1];pu%su===0?(vu=vu<<8|vu>>>24,vu=na.SBOX[vu>>>24]<<24|na.SBOX[vu>>>16&255]<<16|na.SBOX[vu>>>8&255]<<8|na.SBOX[vu&255],vu^=$a[pu/su|0]<<24):su>6&&pu%su===4&&(vu=na.SBOX[vu>>>24]<<24|na.SBOX[vu>>>16&255]<<16|na.SBOX[vu>>>8&255]<<8|na.SBOX[vu&255]),fu[pu]=fu[pu-su]^vu}for(var gu=[],bu=0;bu<ou;bu++){var xu=ou-bu,$u=fu[xu-(bu%4?0:4)];bu<4||xu<=4?gu[bu]=$u:gu[bu]=na.INV_SUB_MIX[0][na.SBOX[$u>>>24]]^na.INV_SUB_MIX[1][na.SBOX[$u>>>16&255]]^na.INV_SUB_MIX[2][na.SBOX[$u>>>8&255]]^na.INV_SUB_MIX[3][na.SBOX[$u&255]]}this._nRounds=au,this._keySchedule=fu,this._invKeySchedule=gu},tu.prototype.encryptBlockRaw=function(iu){return iu=as(iu),cs(iu,this._keySchedule,na.SUB_MIX,na.SBOX,this._nRounds)},tu.prototype.encryptBlock=function(iu){var su=this.encryptBlockRaw(iu),au=ss.allocUnsafe(16);return au.writeUInt32BE(su[0],0),au.writeUInt32BE(su[1],4),au.writeUInt32BE(su[2],8),au.writeUInt32BE(su[3],12),au},tu.prototype.decryptBlock=function(iu){iu=as(iu);var su=iu[1];iu[1]=iu[3],iu[3]=su;var au=cs(iu,this._invKeySchedule,na.INV_SUB_MIX,na.INV_SBOX,this._nRounds),ou=ss.allocUnsafe(16);return ou.writeUInt32BE(au[0],0),ou.writeUInt32BE(au[3],4),ou.writeUInt32BE(au[2],8),ou.writeUInt32BE(au[1],12),ou},tu.prototype.scrub=function(){us(this._keySchedule),us(this._invKeySchedule),us(this._key)},aes.AES=tu,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var ss=safeBufferExports.Buffer,as=ss.alloc(16,0);function us(na){return[na.readUInt32BE(0),na.readUInt32BE(4),na.readUInt32BE(8),na.readUInt32BE(12)]}function cs(na){var tu=ss.allocUnsafe(16);return tu.writeUInt32BE(na[0]>>>0,0),tu.writeUInt32BE(na[1]>>>0,4),tu.writeUInt32BE(na[2]>>>0,8),tu.writeUInt32BE(na[3]>>>0,12),tu}function $a(na){this.h=na,this.state=ss.alloc(16,0),this.cache=ss.allocUnsafe(0)}return $a.prototype.ghash=function(na){for(var tu=-1;++tu<na.length;)this.state[tu]^=na[tu];this._multiply()},$a.prototype._multiply=function(){for(var na=us(this.h),tu=[0,0,0,0],iu,su,au,ou=-1;++ou<128;){for(su=(this.state[~~(ou/8)]&1<<7-ou%8)!==0,su&&(tu[0]^=na[0],tu[1]^=na[1],tu[2]^=na[2],tu[3]^=na[3]),au=(na[3]&1)!==0,iu=3;iu>0;iu--)na[iu]=na[iu]>>>1|(na[iu-1]&1)<<31;na[0]=na[0]>>>1,au&&(na[0]=na[0]^225<<24)}this.state=cs(tu)},$a.prototype.update=function(na){this.cache=ss.concat([this.cache,na]);for(var tu;this.cache.length>=16;)tu=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(tu)},$a.prototype.final=function(na,tu){return this.cache.length&&this.ghash(ss.concat([this.cache,as],16)),this.ghash(cs([0,na,0,tu])),this.state},ghash=$a,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var ss=requireAes(),as=safeBufferExports.Buffer,us=requireCipherBase(),cs=inherits_browserExports,$a=requireGhash(),na=requireBufferXor(),tu=requireIncr32();function iu(ou,fu){var pu=0;ou.length!==fu.length&&pu++;for(var vu=Math.min(ou.length,fu.length),gu=0;gu<vu;++gu)pu+=ou[gu]^fu[gu];return pu}function su(ou,fu,pu){if(fu.length===12)return ou._finID=as.concat([fu,as.from([0,0,0,1])]),as.concat([fu,as.from([0,0,0,2])]);var vu=new $a(pu),gu=fu.length,bu=gu%16;vu.update(fu),bu&&(bu=16-bu,vu.update(as.alloc(bu,0))),vu.update(as.alloc(8,0));var xu=gu*8,$u=as.alloc(8);$u.writeUIntBE(xu,0,8),vu.update($u),ou._finID=vu.state;var wu=as.from(ou._finID);return tu(wu),wu}function au(ou,fu,pu,vu){us.call(this);var gu=as.alloc(4,0);this._cipher=new ss.AES(fu);var bu=this._cipher.encryptBlock(gu);this._ghash=new $a(bu),pu=su(this,pu,bu),this._prev=as.from(pu),this._cache=as.allocUnsafe(0),this._secCache=as.allocUnsafe(0),this._decrypt=vu,this._alen=0,this._len=0,this._mode=ou,this._authTag=null,this._called=!1}return cs(au,us),au.prototype._update=function(ou){if(!this._called&&this._alen){var fu=16-this._alen%16;fu<16&&(fu=as.alloc(fu,0),this._ghash.update(fu))}this._called=!0;var pu=this._mode.encrypt(this,ou);return this._decrypt?this._ghash.update(ou):this._ghash.update(pu),this._len+=ou.length,pu},au.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var ou=na(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&iu(ou,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=ou,this._cipher.scrub()},au.prototype.getAuthTag=function(){if(this._decrypt||!as.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},au.prototype.setAuthTag=function(fu){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=fu},au.prototype.setAAD=function(fu){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(fu),this._alen+=fu.length},authCipher=au,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var ss=requireAes(),as=safeBufferExports.Buffer,us=requireCipherBase(),cs=inherits_browserExports;function $a(na,tu,iu,su){us.call(this),this._cipher=new ss.AES(tu),this._prev=as.from(iu),this._cache=as.allocUnsafe(0),this._secCache=as.allocUnsafe(0),this._decrypt=su,this._mode=na}return cs($a,us),$a.prototype._update=function(na){return this._mode.encrypt(this,na,this._decrypt)},$a.prototype._final=function(){this._cipher.scrub()},streamCipher=$a,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var ss=safeBufferExports.Buffer,as=requireMd5_js();function us(cs,$a,na,tu){if(ss.isBuffer(cs)||(cs=ss.from(cs,"binary")),$a&&(ss.isBuffer($a)||($a=ss.from($a,"binary")),$a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var iu=na/8,su=ss.alloc(iu),au=ss.alloc(tu||0),ou=ss.alloc(0);iu>0||tu>0;){var fu=new as;fu.update(ou),fu.update(cs),$a&&fu.update($a),ou=fu.digest();var pu=0;if(iu>0){var vu=su.length-iu;pu=Math.min(iu,ou.length),ou.copy(su,vu,0,pu),iu-=pu}if(pu<ou.length&&tu>0){var gu=au.length-tu,bu=Math.min(tu,ou.length-pu);ou.copy(au,gu,pu,pu+bu),tu-=bu}}return ou.fill(0),{key:su,iv:au}}return evp_bytestokey=us,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var ss=requireModes$1(),as=requireAuthCipher(),us=safeBufferExports.Buffer,cs=requireStreamCipher(),$a=requireCipherBase(),na=requireAes(),tu=requireEvp_bytestokey(),iu=inherits_browserExports;function su(vu,gu,bu){$a.call(this),this._cache=new ou,this._cipher=new na.AES(gu),this._prev=us.from(bu),this._mode=vu,this._autopadding=!0}iu(su,$a),su.prototype._update=function(vu){this._cache.add(vu);for(var gu,bu,xu=[];gu=this._cache.get();)bu=this._mode.encrypt(this,gu),xu.push(bu);return us.concat(xu)};var au=us.alloc(16,16);su.prototype._final=function(){var vu=this._cache.flush();if(this._autopadding)return vu=this._mode.encrypt(this,vu),this._cipher.scrub(),vu;if(!vu.equals(au))throw this._cipher.scrub(),new Error("data not multiple of block length")},su.prototype.setAutoPadding=function(vu){return this._autopadding=!!vu,this};function ou(){this.cache=us.allocUnsafe(0)}ou.prototype.add=function(vu){this.cache=us.concat([this.cache,vu])},ou.prototype.get=function(){if(this.cache.length>15){var vu=this.cache.slice(0,16);return this.cache=this.cache.slice(16),vu}return null},ou.prototype.flush=function(){for(var vu=16-this.cache.length,gu=us.allocUnsafe(vu),bu=-1;++bu<vu;)gu.writeUInt8(vu,bu);return us.concat([this.cache,gu])};function fu(vu,gu,bu){var xu=ss[vu.toLowerCase()];if(!xu)throw new TypeError("invalid suite type");if(typeof gu=="string"&&(gu=us.from(gu)),gu.length!==xu.key/8)throw new TypeError("invalid key length "+gu.length);if(typeof bu=="string"&&(bu=us.from(bu)),xu.mode!=="GCM"&&bu.length!==xu.iv)throw new TypeError("invalid iv length "+bu.length);return xu.type==="stream"?new cs(xu.module,gu,bu):xu.type==="auth"?new as(xu.module,gu,bu):new su(xu.module,gu,bu)}function pu(vu,gu){var bu=ss[vu.toLowerCase()];if(!bu)throw new TypeError("invalid suite type");var xu=tu(gu,!1,bu.key,bu.iv);return fu(vu,xu.key,xu.iv)}return encrypter.createCipheriv=fu,encrypter.createCipher=pu,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var ss=requireAuthCipher(),as=safeBufferExports.Buffer,us=requireModes$1(),cs=requireStreamCipher(),$a=requireCipherBase(),na=requireAes(),tu=requireEvp_bytestokey(),iu=inherits_browserExports;function su(vu,gu,bu){$a.call(this),this._cache=new au,this._last=void 0,this._cipher=new na.AES(gu),this._prev=as.from(bu),this._mode=vu,this._autopadding=!0}iu(su,$a),su.prototype._update=function(vu){this._cache.add(vu);for(var gu,bu,xu=[];gu=this._cache.get(this._autopadding);)bu=this._mode.decrypt(this,gu),xu.push(bu);return as.concat(xu)},su.prototype._final=function(){var vu=this._cache.flush();if(this._autopadding)return ou(this._mode.decrypt(this,vu));if(vu)throw new Error("data not multiple of block length")},su.prototype.setAutoPadding=function(vu){return this._autopadding=!!vu,this};function au(){this.cache=as.allocUnsafe(0)}au.prototype.add=function(vu){this.cache=as.concat([this.cache,vu])},au.prototype.get=function(vu){var gu;if(vu){if(this.cache.length>16)return gu=this.cache.slice(0,16),this.cache=this.cache.slice(16),gu}else if(this.cache.length>=16)return gu=this.cache.slice(0,16),this.cache=this.cache.slice(16),gu;return null},au.prototype.flush=function(){if(this.cache.length)return this.cache};function ou(vu){var gu=vu[15];if(gu<1||gu>16)throw new Error("unable to decrypt data");for(var bu=-1;++bu<gu;)if(vu[bu+(16-gu)]!==gu)throw new Error("unable to decrypt data");if(gu!==16)return vu.slice(0,16-gu)}function fu(vu,gu,bu){var xu=us[vu.toLowerCase()];if(!xu)throw new TypeError("invalid suite type");if(typeof bu=="string"&&(bu=as.from(bu)),xu.mode!=="GCM"&&bu.length!==xu.iv)throw new TypeError("invalid iv length "+bu.length);if(typeof gu=="string"&&(gu=as.from(gu)),gu.length!==xu.key/8)throw new TypeError("invalid key length "+gu.length);return xu.type==="stream"?new cs(xu.module,gu,bu,!0):xu.type==="auth"?new ss(xu.module,gu,bu,!0):new su(xu.module,gu,bu)}function pu(vu,gu){var bu=us[vu.toLowerCase()];if(!bu)throw new TypeError("invalid suite type");var xu=tu(gu,!1,bu.key,bu.iv);return fu(vu,xu.key,xu.iv)}return decrypter.createDecipher=pu,decrypter.createDecipheriv=fu,decrypter}var hasRequiredBrowser$7;function requireBrowser$7(){if(hasRequiredBrowser$7)return browser$7;hasRequiredBrowser$7=1;var ss=requireEncrypter(),as=requireDecrypter(),us=require$$2;function cs(){return Object.keys(us)}return browser$7.createCipher=browser$7.Cipher=ss.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=ss.createCipheriv,browser$7.createDecipher=browser$7.Decipher=as.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=as.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=cs,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(ss){ss["des-ecb"]={key:8,iv:0},ss["des-cbc"]=ss.des={key:8,iv:8},ss["des-ede3-cbc"]=ss.des3={key:24,iv:8},ss["des-ede3"]={key:24,iv:0},ss["des-ede-cbc"]={key:16,iv:8},ss["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$8;hasRequiredBrowser$6=1;var ss=requireBrowserifyDes(),as=requireBrowser$7(),us=requireModes$1(),cs=requireModes(),$a=requireEvp_bytestokey();function na(ou,fu){ou=ou.toLowerCase();var pu,vu;if(us[ou])pu=us[ou].key,vu=us[ou].iv;else if(cs[ou])pu=cs[ou].key*8,vu=cs[ou].iv;else throw new TypeError("invalid suite type");var gu=$a(fu,!1,pu,vu);return iu(ou,gu.key,gu.iv)}function tu(ou,fu){ou=ou.toLowerCase();var pu,vu;if(us[ou])pu=us[ou].key,vu=us[ou].iv;else if(cs[ou])pu=cs[ou].key*8,vu=cs[ou].iv;else throw new TypeError("invalid suite type");var gu=$a(fu,!1,pu,vu);return su(ou,gu.key,gu.iv)}function iu(ou,fu,pu){if(ou=ou.toLowerCase(),us[ou])return as.createCipheriv(ou,fu,pu);if(cs[ou])return new ss({key:fu,iv:pu,mode:ou});throw new TypeError("invalid suite type")}function su(ou,fu,pu){if(ou=ou.toLowerCase(),us[ou])return as.createDecipheriv(ou,fu,pu);if(cs[ou])return new ss({key:fu,iv:pu,mode:ou,decrypt:!0});throw new TypeError("invalid suite type")}function au(){return Object.keys(cs).concat(as.getCiphers())}return browser$8.createCipher=browser$8.Cipher=na,browser$8.createCipheriv=browser$8.Cipheriv=iu,browser$8.createDecipher=browser$8.Decipher=tu,browser$8.createDecipheriv=browser$8.Decipheriv=su,browser$8.listCiphers=browser$8.getCiphers=au,browser$8}var browser$6={},bn$8={exports:{}};bn$8.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(ss){(function(as,us){function cs(yu,_a){if(!yu)throw new Error(_a||"Assertion failed")}function $a(yu,_a){yu.super_=_a;var ru=function(){};ru.prototype=_a.prototype,yu.prototype=new ru,yu.prototype.constructor=yu}function na(yu,_a,ru){if(na.isBN(yu))return yu;this.negative=0,this.words=null,this.length=0,this.red=null,yu!==null&&((_a==="le"||_a==="be")&&(ru=_a,_a=10),this._init(yu||0,_a||10,ru||"be"))}typeof as=="object"?as.exports=na:us.BN=na,na.BN=na,na.wordSize=26;var tu;try{typeof window<"u"&&typeof window.Buffer<"u"?tu=window.Buffer:tu=require$$0$3.Buffer}catch{}na.isBN=function(_a){return _a instanceof na?!0:_a!==null&&typeof _a=="object"&&_a.constructor.wordSize===na.wordSize&&Array.isArray(_a.words)},na.max=function(_a,ru){return _a.cmp(ru)>0?_a:ru},na.min=function(_a,ru){return _a.cmp(ru)<0?_a:ru},na.prototype._init=function(_a,ru,nu){if(typeof _a=="number")return this._initNumber(_a,ru,nu);if(typeof _a=="object")return this._initArray(_a,ru,nu);ru==="hex"&&(ru=16),cs(ru===(ru|0)&&ru>=2&&ru<=36),_a=_a.toString().replace(/\s+/g,"");var uu=0;_a[0]==="-"&&(uu++,this.negative=1),uu<_a.length&&(ru===16?this._parseHex(_a,uu,nu):(this._parseBase(_a,ru,uu),nu==="le"&&this._initArray(this.toArray(),ru,nu)))},na.prototype._initNumber=function(_a,ru,nu){_a<0&&(this.negative=1,_a=-_a),_a<67108864?(this.words=[_a&67108863],this.length=1):_a<4503599627370496?(this.words=[_a&67108863,_a/67108864&67108863],this.length=2):(cs(_a<9007199254740992),this.words=[_a&67108863,_a/67108864&67108863,1],this.length=3),nu==="le"&&this._initArray(this.toArray(),ru,nu)},na.prototype._initArray=function(_a,ru,nu){if(cs(typeof _a.length=="number"),_a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_a.length/3),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu,du,mu=0;if(nu==="be")for(uu=_a.length-1,lu=0;uu>=0;uu-=3)du=_a[uu]|_a[uu-1]<<8|_a[uu-2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);else if(nu==="le")for(uu=0,lu=0;uu<_a.length;uu+=3)du=_a[uu]|_a[uu+1]<<8|_a[uu+2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);return this.strip()};function iu(yu,_a){var ru=yu.charCodeAt(_a);return ru>=65&&ru<=70?ru-55:ru>=97&&ru<=102?ru-87:ru-48&15}function su(yu,_a,ru){var nu=iu(yu,ru);return ru-1>=_a&&(nu|=iu(yu,ru-1)<<4),nu}na.prototype._parseHex=function(_a,ru,nu){this.length=Math.ceil((_a.length-ru)/6),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu=0,du=0,mu;if(nu==="be")for(uu=_a.length-1;uu>=ru;uu-=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8;else{var cu=_a.length-ru;for(uu=cu%2===0?ru+1:ru;uu<_a.length;uu+=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8}this.strip()};function au(yu,_a,ru,nu){for(var uu=0,lu=Math.min(yu.length,ru),du=_a;du<lu;du++){var mu=yu.charCodeAt(du)-48;uu*=nu,mu>=49?uu+=mu-49+10:mu>=17?uu+=mu-17+10:uu+=mu}return uu}na.prototype._parseBase=function(_a,ru,nu){this.words=[0],this.length=1;for(var uu=0,lu=1;lu<=67108863;lu*=ru)uu++;uu--,lu=lu/ru|0;for(var du=_a.length-nu,mu=du%uu,cu=Math.min(du,du-mu)+nu,eu=0,hu=nu;hu<cu;hu+=uu)eu=au(_a,hu,hu+uu,ru),this.imuln(lu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu);if(mu!==0){var Eu=1;for(eu=au(_a,hu,_a.length,ru),hu=0;hu<mu;hu++)Eu*=ru;this.imuln(Eu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu)}this.strip()},na.prototype.copy=function(_a){_a.words=new Array(this.length);for(var ru=0;ru<this.length;ru++)_a.words[ru]=this.words[ru];_a.length=this.length,_a.negative=this.negative,_a.red=this.red},na.prototype.clone=function(){var _a=new na(null);return this.copy(_a),_a},na.prototype._expand=function(_a){for(;this.length<_a;)this.words[this.length++]=0;return this},na.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},na.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},na.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ou=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fu=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];na.prototype.toString=function(_a,ru){_a=_a||10,ru=ru|0||1;var nu;if(_a===16||_a==="hex"){nu="";for(var uu=0,lu=0,du=0;du<this.length;du++){var mu=this.words[du],cu=((mu<<uu|lu)&16777215).toString(16);lu=mu>>>24-uu&16777215,uu+=2,uu>=26&&(uu-=26,du--),lu!==0||du!==this.length-1?nu=ou[6-cu.length]+cu+nu:nu=cu+nu}for(lu!==0&&(nu=lu.toString(16)+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}if(_a===(_a|0)&&_a>=2&&_a<=36){var eu=fu[_a],hu=pu[_a];nu="";var Eu=this.clone();for(Eu.negative=0;!Eu.isZero();){var Ru=Eu.modn(hu).toString(_a);Eu=Eu.idivn(hu),Eu.isZero()?nu=Ru+nu:nu=ou[eu-Ru.length]+Ru+nu}for(this.isZero()&&(nu="0"+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}cs(!1,"Base should be between 2 and 36")},na.prototype.toNumber=function(){var _a=this.words[0];return this.length===2?_a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_a+=4503599627370496+this.words[1]*67108864:this.length>2&&cs(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_a:_a},na.prototype.toJSON=function(){return this.toString(16)},na.prototype.toBuffer=function(_a,ru){return cs(typeof tu<"u"),this.toArrayLike(tu,_a,ru)},na.prototype.toArray=function(_a,ru){return this.toArrayLike(Array,_a,ru)},na.prototype.toArrayLike=function(_a,ru,nu){var uu=this.byteLength(),lu=nu||Math.max(1,uu);cs(uu<=lu,"byte array longer than desired length"),cs(lu>0,"Requested array length <= 0"),this.strip();var du=ru==="le",mu=new _a(lu),cu,eu,hu=this.clone();if(du){for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[eu]=cu;for(;eu<lu;eu++)mu[eu]=0}else{for(eu=0;eu<lu-uu;eu++)mu[eu]=0;for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[lu-eu-1]=cu}return mu},Math.clz32?na.prototype._countBits=function(_a){return 32-Math.clz32(_a)}:na.prototype._countBits=function(_a){var ru=_a,nu=0;return ru>=4096&&(nu+=13,ru>>>=13),ru>=64&&(nu+=7,ru>>>=7),ru>=8&&(nu+=4,ru>>>=4),ru>=2&&(nu+=2,ru>>>=2),nu+ru},na.prototype._zeroBits=function(_a){if(_a===0)return 26;var ru=_a,nu=0;return ru&8191||(nu+=13,ru>>>=13),ru&127||(nu+=7,ru>>>=7),ru&15||(nu+=4,ru>>>=4),ru&3||(nu+=2,ru>>>=2),ru&1||nu++,nu},na.prototype.bitLength=function(){var _a=this.words[this.length-1],ru=this._countBits(_a);return(this.length-1)*26+ru};function vu(yu){for(var _a=new Array(yu.bitLength()),ru=0;ru<_a.length;ru++){var nu=ru/26|0,uu=ru%26;_a[ru]=(yu.words[nu]&1<<uu)>>>uu}return _a}na.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _a=0,ru=0;ru<this.length;ru++){var nu=this._zeroBits(this.words[ru]);if(_a+=nu,nu!==26)break}return _a},na.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},na.prototype.toTwos=function(_a){return this.negative!==0?this.abs().inotn(_a).iaddn(1):this.clone()},na.prototype.fromTwos=function(_a){return this.testn(_a-1)?this.notn(_a).iaddn(1).ineg():this.clone()},na.prototype.isNeg=function(){return this.negative!==0},na.prototype.neg=function(){return this.clone().ineg()},na.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},na.prototype.iuor=function(_a){for(;this.length<_a.length;)this.words[this.length++]=0;for(var ru=0;ru<_a.length;ru++)this.words[ru]=this.words[ru]|_a.words[ru];return this.strip()},na.prototype.ior=function(_a){return cs((this.negative|_a.negative)===0),this.iuor(_a)},na.prototype.or=function(_a){return this.length>_a.length?this.clone().ior(_a):_a.clone().ior(this)},na.prototype.uor=function(_a){return this.length>_a.length?this.clone().iuor(_a):_a.clone().iuor(this)},na.prototype.iuand=function(_a){var ru;this.length>_a.length?ru=_a:ru=this;for(var nu=0;nu<ru.length;nu++)this.words[nu]=this.words[nu]&_a.words[nu];return this.length=ru.length,this.strip()},na.prototype.iand=function(_a){return cs((this.negative|_a.negative)===0),this.iuand(_a)},na.prototype.and=function(_a){return this.length>_a.length?this.clone().iand(_a):_a.clone().iand(this)},na.prototype.uand=function(_a){return this.length>_a.length?this.clone().iuand(_a):_a.clone().iuand(this)},na.prototype.iuxor=function(_a){var ru,nu;this.length>_a.length?(ru=this,nu=_a):(ru=_a,nu=this);for(var uu=0;uu<nu.length;uu++)this.words[uu]=ru.words[uu]^nu.words[uu];if(this!==ru)for(;uu<ru.length;uu++)this.words[uu]=ru.words[uu];return this.length=ru.length,this.strip()},na.prototype.ixor=function(_a){return cs((this.negative|_a.negative)===0),this.iuxor(_a)},na.prototype.xor=function(_a){return this.length>_a.length?this.clone().ixor(_a):_a.clone().ixor(this)},na.prototype.uxor=function(_a){return this.length>_a.length?this.clone().iuxor(_a):_a.clone().iuxor(this)},na.prototype.inotn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=Math.ceil(_a/26)|0,nu=_a%26;this._expand(ru),nu>0&&ru--;for(var uu=0;uu<ru;uu++)this.words[uu]=~this.words[uu]&67108863;return nu>0&&(this.words[uu]=~this.words[uu]&67108863>>26-nu),this.strip()},na.prototype.notn=function(_a){return this.clone().inotn(_a)},na.prototype.setn=function(_a,ru){cs(typeof _a=="number"&&_a>=0);var nu=_a/26|0,uu=_a%26;return this._expand(nu+1),ru?this.words[nu]=this.words[nu]|1<<uu:this.words[nu]=this.words[nu]&~(1<<uu),this.strip()},na.prototype.iadd=function(_a){var ru;if(this.negative!==0&&_a.negative===0)return this.negative=0,ru=this.isub(_a),this.negative^=1,this._normSign();if(this.negative===0&&_a.negative!==0)return _a.negative=0,ru=this.isub(_a),_a.negative=1,ru._normSign();var nu,uu;this.length>_a.length?(nu=this,uu=_a):(nu=_a,uu=this);for(var lu=0,du=0;du<uu.length;du++)ru=(nu.words[du]|0)+(uu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;for(;lu!==0&&du<nu.length;du++)ru=(nu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;if(this.length=nu.length,lu!==0)this.words[this.length]=lu,this.length++;else if(nu!==this)for(;du<nu.length;du++)this.words[du]=nu.words[du];return this},na.prototype.add=function(_a){var ru;return _a.negative!==0&&this.negative===0?(_a.negative=0,ru=this.sub(_a),_a.negative^=1,ru):_a.negative===0&&this.negative!==0?(this.negative=0,ru=_a.sub(this),this.negative=1,ru):this.length>_a.length?this.clone().iadd(_a):_a.clone().iadd(this)},na.prototype.isub=function(_a){if(_a.negative!==0){_a.negative=0;var ru=this.iadd(_a);return _a.negative=1,ru._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_a),this.negative=1,this._normSign();var nu=this.cmp(_a);if(nu===0)return this.negative=0,this.length=1,this.words[0]=0,this;var uu,lu;nu>0?(uu=this,lu=_a):(uu=_a,lu=this);for(var du=0,mu=0;mu<lu.length;mu++)ru=(uu.words[mu]|0)-(lu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;for(;du!==0&&mu<uu.length;mu++)ru=(uu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;if(du===0&&mu<uu.length&&uu!==this)for(;mu<uu.length;mu++)this.words[mu]=uu.words[mu];return this.length=Math.max(this.length,mu),uu!==this&&(this.negative=1),this.strip()},na.prototype.sub=function(_a){return this.clone().isub(_a)};function gu(yu,_a,ru){ru.negative=_a.negative^yu.negative;var nu=yu.length+_a.length|0;ru.length=nu,nu=nu-1|0;var uu=yu.words[0]|0,lu=_a.words[0]|0,du=uu*lu,mu=du&67108863,cu=du/67108864|0;ru.words[0]=mu;for(var eu=1;eu<nu;eu++){for(var hu=cu>>>26,Eu=cu&67108863,Ru=Math.min(eu,_a.length-1),Tu=Math.max(0,eu-yu.length+1);Tu<=Ru;Tu++){var qu=eu-Tu|0;uu=yu.words[qu]|0,lu=_a.words[Tu]|0,du=uu*lu+Eu,hu+=du/67108864|0,Eu=du&67108863}ru.words[eu]=Eu|0,cu=hu|0}return cu!==0?ru.words[eu]=cu|0:ru.length--,ru.strip()}var bu=function(_a,ru,nu){var uu=_a.words,lu=ru.words,du=nu.words,mu=0,cu,eu,hu,Eu=uu[0]|0,Ru=Eu&8191,Tu=Eu>>>13,qu=uu[1]|0,Du=qu&8191,Iu=qu>>>13,Lu=uu[2]|0,Uu=Lu&8191,Hu=Lu>>>13,zu=uu[3]|0,ju=zu&8191,Wu=zu>>>13,Dl=uu[4]|0,Zu=Dl&8191,Yu=Dl>>>13,Vl=uu[5]|0,_l=Vl&8191,Qu=Vl>>>13,Gl=uu[6]|0,yl=Gl&8191,Sl=Gl>>>13,Ql=uu[7]|0,Xu=Ql&8191,$l=Ql>>>13,Zl=uu[8]|0,wl=Zl&8191,Ml=Zl>>>13,Xl=uu[9]|0,Nu=Xl&8191,Cu=Xl>>>13,ku=lu[0]|0,Fu=ku&8191,Ku=ku>>>13,Ju=lu[1]|0,Gu=Ju&8191,El=Ju>>>13,Yl=lu[2]|0,xl=Yl&8191,Rl=Yl>>>13,Jl=lu[3]|0,Al=Jl&8191,Nl=Jl>>>13,e0=lu[4]|0,Cl=e0&8191,Ll=e0>>>13,t0=lu[5]|0,Pl=t0&8191,Fl=t0>>>13,r0=lu[6]|0,Il=r0&8191,Ul=r0>>>13,i0=lu[7]|0,Bl=i0&8191,zl=i0>>>13,n0=lu[8]|0,Tl=n0&8191,Hl=n0>>>13,s0=lu[9]|0,Ol=s0&8191,Kl=s0>>>13;nu.negative=_a.negative^ru.negative,nu.length=19,cu=Math.imul(Ru,Fu),eu=Math.imul(Ru,Ku),eu=eu+Math.imul(Tu,Fu)|0,hu=Math.imul(Tu,Ku);var _f=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_f>>>26)|0,_f&=67108863,cu=Math.imul(Du,Fu),eu=Math.imul(Du,Ku),eu=eu+Math.imul(Iu,Fu)|0,hu=Math.imul(Iu,Ku),cu=cu+Math.imul(Ru,Gu)|0,eu=eu+Math.imul(Ru,El)|0,eu=eu+Math.imul(Tu,Gu)|0,hu=hu+Math.imul(Tu,El)|0;var _h=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_h>>>26)|0,_h&=67108863,cu=Math.imul(Uu,Fu),eu=Math.imul(Uu,Ku),eu=eu+Math.imul(Hu,Fu)|0,hu=Math.imul(Hu,Ku),cu=cu+Math.imul(Du,Gu)|0,eu=eu+Math.imul(Du,El)|0,eu=eu+Math.imul(Iu,Gu)|0,hu=hu+Math.imul(Iu,El)|0,cu=cu+Math.imul(Ru,xl)|0,eu=eu+Math.imul(Ru,Rl)|0,eu=eu+Math.imul(Tu,xl)|0,hu=hu+Math.imul(Tu,Rl)|0;var a0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(a0>>>26)|0,a0&=67108863,cu=Math.imul(ju,Fu),eu=Math.imul(ju,Ku),eu=eu+Math.imul(Wu,Fu)|0,hu=Math.imul(Wu,Ku),cu=cu+Math.imul(Uu,Gu)|0,eu=eu+Math.imul(Uu,El)|0,eu=eu+Math.imul(Hu,Gu)|0,hu=hu+Math.imul(Hu,El)|0,cu=cu+Math.imul(Du,xl)|0,eu=eu+Math.imul(Du,Rl)|0,eu=eu+Math.imul(Iu,xl)|0,hu=hu+Math.imul(Iu,Rl)|0,cu=cu+Math.imul(Ru,Al)|0,eu=eu+Math.imul(Ru,Nl)|0,eu=eu+Math.imul(Tu,Al)|0,hu=hu+Math.imul(Tu,Nl)|0;var u0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(u0>>>26)|0,u0&=67108863,cu=Math.imul(Zu,Fu),eu=Math.imul(Zu,Ku),eu=eu+Math.imul(Yu,Fu)|0,hu=Math.imul(Yu,Ku),cu=cu+Math.imul(ju,Gu)|0,eu=eu+Math.imul(ju,El)|0,eu=eu+Math.imul(Wu,Gu)|0,hu=hu+Math.imul(Wu,El)|0,cu=cu+Math.imul(Uu,xl)|0,eu=eu+Math.imul(Uu,Rl)|0,eu=eu+Math.imul(Hu,xl)|0,hu=hu+Math.imul(Hu,Rl)|0,cu=cu+Math.imul(Du,Al)|0,eu=eu+Math.imul(Du,Nl)|0,eu=eu+Math.imul(Iu,Al)|0,hu=hu+Math.imul(Iu,Nl)|0,cu=cu+Math.imul(Ru,Cl)|0,eu=eu+Math.imul(Ru,Ll)|0,eu=eu+Math.imul(Tu,Cl)|0,hu=hu+Math.imul(Tu,Ll)|0;var l0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(l0>>>26)|0,l0&=67108863,cu=Math.imul(_l,Fu),eu=Math.imul(_l,Ku),eu=eu+Math.imul(Qu,Fu)|0,hu=Math.imul(Qu,Ku),cu=cu+Math.imul(Zu,Gu)|0,eu=eu+Math.imul(Zu,El)|0,eu=eu+Math.imul(Yu,Gu)|0,hu=hu+Math.imul(Yu,El)|0,cu=cu+Math.imul(ju,xl)|0,eu=eu+Math.imul(ju,Rl)|0,eu=eu+Math.imul(Wu,xl)|0,hu=hu+Math.imul(Wu,Rl)|0,cu=cu+Math.imul(Uu,Al)|0,eu=eu+Math.imul(Uu,Nl)|0,eu=eu+Math.imul(Hu,Al)|0,hu=hu+Math.imul(Hu,Nl)|0,cu=cu+Math.imul(Du,Cl)|0,eu=eu+Math.imul(Du,Ll)|0,eu=eu+Math.imul(Iu,Cl)|0,hu=hu+Math.imul(Iu,Ll)|0,cu=cu+Math.imul(Ru,Pl)|0,eu=eu+Math.imul(Ru,Fl)|0,eu=eu+Math.imul(Tu,Pl)|0,hu=hu+Math.imul(Tu,Fl)|0;var c0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(c0>>>26)|0,c0&=67108863,cu=Math.imul(yl,Fu),eu=Math.imul(yl,Ku),eu=eu+Math.imul(Sl,Fu)|0,hu=Math.imul(Sl,Ku),cu=cu+Math.imul(_l,Gu)|0,eu=eu+Math.imul(_l,El)|0,eu=eu+Math.imul(Qu,Gu)|0,hu=hu+Math.imul(Qu,El)|0,cu=cu+Math.imul(Zu,xl)|0,eu=eu+Math.imul(Zu,Rl)|0,eu=eu+Math.imul(Yu,xl)|0,hu=hu+Math.imul(Yu,Rl)|0,cu=cu+Math.imul(ju,Al)|0,eu=eu+Math.imul(ju,Nl)|0,eu=eu+Math.imul(Wu,Al)|0,hu=hu+Math.imul(Wu,Nl)|0,cu=cu+Math.imul(Uu,Cl)|0,eu=eu+Math.imul(Uu,Ll)|0,eu=eu+Math.imul(Hu,Cl)|0,hu=hu+Math.imul(Hu,Ll)|0,cu=cu+Math.imul(Du,Pl)|0,eu=eu+Math.imul(Du,Fl)|0,eu=eu+Math.imul(Iu,Pl)|0,hu=hu+Math.imul(Iu,Fl)|0,cu=cu+Math.imul(Ru,Il)|0,eu=eu+Math.imul(Ru,Ul)|0,eu=eu+Math.imul(Tu,Il)|0,hu=hu+Math.imul(Tu,Ul)|0;var f0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(f0>>>26)|0,f0&=67108863,cu=Math.imul(Xu,Fu),eu=Math.imul(Xu,Ku),eu=eu+Math.imul($l,Fu)|0,hu=Math.imul($l,Ku),cu=cu+Math.imul(yl,Gu)|0,eu=eu+Math.imul(yl,El)|0,eu=eu+Math.imul(Sl,Gu)|0,hu=hu+Math.imul(Sl,El)|0,cu=cu+Math.imul(_l,xl)|0,eu=eu+Math.imul(_l,Rl)|0,eu=eu+Math.imul(Qu,xl)|0,hu=hu+Math.imul(Qu,Rl)|0,cu=cu+Math.imul(Zu,Al)|0,eu=eu+Math.imul(Zu,Nl)|0,eu=eu+Math.imul(Yu,Al)|0,hu=hu+Math.imul(Yu,Nl)|0,cu=cu+Math.imul(ju,Cl)|0,eu=eu+Math.imul(ju,Ll)|0,eu=eu+Math.imul(Wu,Cl)|0,hu=hu+Math.imul(Wu,Ll)|0,cu=cu+Math.imul(Uu,Pl)|0,eu=eu+Math.imul(Uu,Fl)|0,eu=eu+Math.imul(Hu,Pl)|0,hu=hu+Math.imul(Hu,Fl)|0,cu=cu+Math.imul(Du,Il)|0,eu=eu+Math.imul(Du,Ul)|0,eu=eu+Math.imul(Iu,Il)|0,hu=hu+Math.imul(Iu,Ul)|0,cu=cu+Math.imul(Ru,Bl)|0,eu=eu+Math.imul(Ru,zl)|0,eu=eu+Math.imul(Tu,Bl)|0,hu=hu+Math.imul(Tu,zl)|0;var h0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(h0>>>26)|0,h0&=67108863,cu=Math.imul(wl,Fu),eu=Math.imul(wl,Ku),eu=eu+Math.imul(Ml,Fu)|0,hu=Math.imul(Ml,Ku),cu=cu+Math.imul(Xu,Gu)|0,eu=eu+Math.imul(Xu,El)|0,eu=eu+Math.imul($l,Gu)|0,hu=hu+Math.imul($l,El)|0,cu=cu+Math.imul(yl,xl)|0,eu=eu+Math.imul(yl,Rl)|0,eu=eu+Math.imul(Sl,xl)|0,hu=hu+Math.imul(Sl,Rl)|0,cu=cu+Math.imul(_l,Al)|0,eu=eu+Math.imul(_l,Nl)|0,eu=eu+Math.imul(Qu,Al)|0,hu=hu+Math.imul(Qu,Nl)|0,cu=cu+Math.imul(Zu,Cl)|0,eu=eu+Math.imul(Zu,Ll)|0,eu=eu+Math.imul(Yu,Cl)|0,hu=hu+Math.imul(Yu,Ll)|0,cu=cu+Math.imul(ju,Pl)|0,eu=eu+Math.imul(ju,Fl)|0,eu=eu+Math.imul(Wu,Pl)|0,hu=hu+Math.imul(Wu,Fl)|0,cu=cu+Math.imul(Uu,Il)|0,eu=eu+Math.imul(Uu,Ul)|0,eu=eu+Math.imul(Hu,Il)|0,hu=hu+Math.imul(Hu,Ul)|0,cu=cu+Math.imul(Du,Bl)|0,eu=eu+Math.imul(Du,zl)|0,eu=eu+Math.imul(Iu,Bl)|0,hu=hu+Math.imul(Iu,zl)|0,cu=cu+Math.imul(Ru,Tl)|0,eu=eu+Math.imul(Ru,Hl)|0,eu=eu+Math.imul(Tu,Tl)|0,hu=hu+Math.imul(Tu,Hl)|0;var d0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(d0>>>26)|0,d0&=67108863,cu=Math.imul(Nu,Fu),eu=Math.imul(Nu,Ku),eu=eu+Math.imul(Cu,Fu)|0,hu=Math.imul(Cu,Ku),cu=cu+Math.imul(wl,Gu)|0,eu=eu+Math.imul(wl,El)|0,eu=eu+Math.imul(Ml,Gu)|0,hu=hu+Math.imul(Ml,El)|0,cu=cu+Math.imul(Xu,xl)|0,eu=eu+Math.imul(Xu,Rl)|0,eu=eu+Math.imul($l,xl)|0,hu=hu+Math.imul($l,Rl)|0,cu=cu+Math.imul(yl,Al)|0,eu=eu+Math.imul(yl,Nl)|0,eu=eu+Math.imul(Sl,Al)|0,hu=hu+Math.imul(Sl,Nl)|0,cu=cu+Math.imul(_l,Cl)|0,eu=eu+Math.imul(_l,Ll)|0,eu=eu+Math.imul(Qu,Cl)|0,hu=hu+Math.imul(Qu,Ll)|0,cu=cu+Math.imul(Zu,Pl)|0,eu=eu+Math.imul(Zu,Fl)|0,eu=eu+Math.imul(Yu,Pl)|0,hu=hu+Math.imul(Yu,Fl)|0,cu=cu+Math.imul(ju,Il)|0,eu=eu+Math.imul(ju,Ul)|0,eu=eu+Math.imul(Wu,Il)|0,hu=hu+Math.imul(Wu,Ul)|0,cu=cu+Math.imul(Uu,Bl)|0,eu=eu+Math.imul(Uu,zl)|0,eu=eu+Math.imul(Hu,Bl)|0,hu=hu+Math.imul(Hu,zl)|0,cu=cu+Math.imul(Du,Tl)|0,eu=eu+Math.imul(Du,Hl)|0,eu=eu+Math.imul(Iu,Tl)|0,hu=hu+Math.imul(Iu,Hl)|0,cu=cu+Math.imul(Ru,Ol)|0,eu=eu+Math.imul(Ru,Kl)|0,eu=eu+Math.imul(Tu,Ol)|0,hu=hu+Math.imul(Tu,Kl)|0;var p0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(p0>>>26)|0,p0&=67108863,cu=Math.imul(Nu,Gu),eu=Math.imul(Nu,El),eu=eu+Math.imul(Cu,Gu)|0,hu=Math.imul(Cu,El),cu=cu+Math.imul(wl,xl)|0,eu=eu+Math.imul(wl,Rl)|0,eu=eu+Math.imul(Ml,xl)|0,hu=hu+Math.imul(Ml,Rl)|0,cu=cu+Math.imul(Xu,Al)|0,eu=eu+Math.imul(Xu,Nl)|0,eu=eu+Math.imul($l,Al)|0,hu=hu+Math.imul($l,Nl)|0,cu=cu+Math.imul(yl,Cl)|0,eu=eu+Math.imul(yl,Ll)|0,eu=eu+Math.imul(Sl,Cl)|0,hu=hu+Math.imul(Sl,Ll)|0,cu=cu+Math.imul(_l,Pl)|0,eu=eu+Math.imul(_l,Fl)|0,eu=eu+Math.imul(Qu,Pl)|0,hu=hu+Math.imul(Qu,Fl)|0,cu=cu+Math.imul(Zu,Il)|0,eu=eu+Math.imul(Zu,Ul)|0,eu=eu+Math.imul(Yu,Il)|0,hu=hu+Math.imul(Yu,Ul)|0,cu=cu+Math.imul(ju,Bl)|0,eu=eu+Math.imul(ju,zl)|0,eu=eu+Math.imul(Wu,Bl)|0,hu=hu+Math.imul(Wu,zl)|0,cu=cu+Math.imul(Uu,Tl)|0,eu=eu+Math.imul(Uu,Hl)|0,eu=eu+Math.imul(Hu,Tl)|0,hu=hu+Math.imul(Hu,Hl)|0,cu=cu+Math.imul(Du,Ol)|0,eu=eu+Math.imul(Du,Kl)|0,eu=eu+Math.imul(Iu,Ol)|0,hu=hu+Math.imul(Iu,Kl)|0;var m0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(m0>>>26)|0,m0&=67108863,cu=Math.imul(Nu,xl),eu=Math.imul(Nu,Rl),eu=eu+Math.imul(Cu,xl)|0,hu=Math.imul(Cu,Rl),cu=cu+Math.imul(wl,Al)|0,eu=eu+Math.imul(wl,Nl)|0,eu=eu+Math.imul(Ml,Al)|0,hu=hu+Math.imul(Ml,Nl)|0,cu=cu+Math.imul(Xu,Cl)|0,eu=eu+Math.imul(Xu,Ll)|0,eu=eu+Math.imul($l,Cl)|0,hu=hu+Math.imul($l,Ll)|0,cu=cu+Math.imul(yl,Pl)|0,eu=eu+Math.imul(yl,Fl)|0,eu=eu+Math.imul(Sl,Pl)|0,hu=hu+Math.imul(Sl,Fl)|0,cu=cu+Math.imul(_l,Il)|0,eu=eu+Math.imul(_l,Ul)|0,eu=eu+Math.imul(Qu,Il)|0,hu=hu+Math.imul(Qu,Ul)|0,cu=cu+Math.imul(Zu,Bl)|0,eu=eu+Math.imul(Zu,zl)|0,eu=eu+Math.imul(Yu,Bl)|0,hu=hu+Math.imul(Yu,zl)|0,cu=cu+Math.imul(ju,Tl)|0,eu=eu+Math.imul(ju,Hl)|0,eu=eu+Math.imul(Wu,Tl)|0,hu=hu+Math.imul(Wu,Hl)|0,cu=cu+Math.imul(Uu,Ol)|0,eu=eu+Math.imul(Uu,Kl)|0,eu=eu+Math.imul(Hu,Ol)|0,hu=hu+Math.imul(Hu,Kl)|0;var v0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(v0>>>26)|0,v0&=67108863,cu=Math.imul(Nu,Al),eu=Math.imul(Nu,Nl),eu=eu+Math.imul(Cu,Al)|0,hu=Math.imul(Cu,Nl),cu=cu+Math.imul(wl,Cl)|0,eu=eu+Math.imul(wl,Ll)|0,eu=eu+Math.imul(Ml,Cl)|0,hu=hu+Math.imul(Ml,Ll)|0,cu=cu+Math.imul(Xu,Pl)|0,eu=eu+Math.imul(Xu,Fl)|0,eu=eu+Math.imul($l,Pl)|0,hu=hu+Math.imul($l,Fl)|0,cu=cu+Math.imul(yl,Il)|0,eu=eu+Math.imul(yl,Ul)|0,eu=eu+Math.imul(Sl,Il)|0,hu=hu+Math.imul(Sl,Ul)|0,cu=cu+Math.imul(_l,Bl)|0,eu=eu+Math.imul(_l,zl)|0,eu=eu+Math.imul(Qu,Bl)|0,hu=hu+Math.imul(Qu,zl)|0,cu=cu+Math.imul(Zu,Tl)|0,eu=eu+Math.imul(Zu,Hl)|0,eu=eu+Math.imul(Yu,Tl)|0,hu=hu+Math.imul(Yu,Hl)|0,cu=cu+Math.imul(ju,Ol)|0,eu=eu+Math.imul(ju,Kl)|0,eu=eu+Math.imul(Wu,Ol)|0,hu=hu+Math.imul(Wu,Kl)|0;var g0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(g0>>>26)|0,g0&=67108863,cu=Math.imul(Nu,Cl),eu=Math.imul(Nu,Ll),eu=eu+Math.imul(Cu,Cl)|0,hu=Math.imul(Cu,Ll),cu=cu+Math.imul(wl,Pl)|0,eu=eu+Math.imul(wl,Fl)|0,eu=eu+Math.imul(Ml,Pl)|0,hu=hu+Math.imul(Ml,Fl)|0,cu=cu+Math.imul(Xu,Il)|0,eu=eu+Math.imul(Xu,Ul)|0,eu=eu+Math.imul($l,Il)|0,hu=hu+Math.imul($l,Ul)|0,cu=cu+Math.imul(yl,Bl)|0,eu=eu+Math.imul(yl,zl)|0,eu=eu+Math.imul(Sl,Bl)|0,hu=hu+Math.imul(Sl,zl)|0,cu=cu+Math.imul(_l,Tl)|0,eu=eu+Math.imul(_l,Hl)|0,eu=eu+Math.imul(Qu,Tl)|0,hu=hu+Math.imul(Qu,Hl)|0,cu=cu+Math.imul(Zu,Ol)|0,eu=eu+Math.imul(Zu,Kl)|0,eu=eu+Math.imul(Yu,Ol)|0,hu=hu+Math.imul(Yu,Kl)|0;var y0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(y0>>>26)|0,y0&=67108863,cu=Math.imul(Nu,Pl),eu=Math.imul(Nu,Fl),eu=eu+Math.imul(Cu,Pl)|0,hu=Math.imul(Cu,Fl),cu=cu+Math.imul(wl,Il)|0,eu=eu+Math.imul(wl,Ul)|0,eu=eu+Math.imul(Ml,Il)|0,hu=hu+Math.imul(Ml,Ul)|0,cu=cu+Math.imul(Xu,Bl)|0,eu=eu+Math.imul(Xu,zl)|0,eu=eu+Math.imul($l,Bl)|0,hu=hu+Math.imul($l,zl)|0,cu=cu+Math.imul(yl,Tl)|0,eu=eu+Math.imul(yl,Hl)|0,eu=eu+Math.imul(Sl,Tl)|0,hu=hu+Math.imul(Sl,Hl)|0,cu=cu+Math.imul(_l,Ol)|0,eu=eu+Math.imul(_l,Kl)|0,eu=eu+Math.imul(Qu,Ol)|0,hu=hu+Math.imul(Qu,Kl)|0;var b0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(b0>>>26)|0,b0&=67108863,cu=Math.imul(Nu,Il),eu=Math.imul(Nu,Ul),eu=eu+Math.imul(Cu,Il)|0,hu=Math.imul(Cu,Ul),cu=cu+Math.imul(wl,Bl)|0,eu=eu+Math.imul(wl,zl)|0,eu=eu+Math.imul(Ml,Bl)|0,hu=hu+Math.imul(Ml,zl)|0,cu=cu+Math.imul(Xu,Tl)|0,eu=eu+Math.imul(Xu,Hl)|0,eu=eu+Math.imul($l,Tl)|0,hu=hu+Math.imul($l,Hl)|0,cu=cu+Math.imul(yl,Ol)|0,eu=eu+Math.imul(yl,Kl)|0,eu=eu+Math.imul(Sl,Ol)|0,hu=hu+Math.imul(Sl,Kl)|0;var w0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(w0>>>26)|0,w0&=67108863,cu=Math.imul(Nu,Bl),eu=Math.imul(Nu,zl),eu=eu+Math.imul(Cu,Bl)|0,hu=Math.imul(Cu,zl),cu=cu+Math.imul(wl,Tl)|0,eu=eu+Math.imul(wl,Hl)|0,eu=eu+Math.imul(Ml,Tl)|0,hu=hu+Math.imul(Ml,Hl)|0,cu=cu+Math.imul(Xu,Ol)|0,eu=eu+Math.imul(Xu,Kl)|0,eu=eu+Math.imul($l,Ol)|0,hu=hu+Math.imul($l,Kl)|0;var $0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+($0>>>26)|0,$0&=67108863,cu=Math.imul(Nu,Tl),eu=Math.imul(Nu,Hl),eu=eu+Math.imul(Cu,Tl)|0,hu=Math.imul(Cu,Hl),cu=cu+Math.imul(wl,Ol)|0,eu=eu+Math.imul(wl,Kl)|0,eu=eu+Math.imul(Ml,Ol)|0,hu=hu+Math.imul(Ml,Kl)|0;var x0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(x0>>>26)|0,x0&=67108863,cu=Math.imul(Nu,Ol),eu=Math.imul(Nu,Kl),eu=eu+Math.imul(Cu,Ol)|0,hu=Math.imul(Cu,Kl);var _0=(mu+cu|0)+((eu&8191)<<13)|0;return mu=(hu+(eu>>>13)|0)+(_0>>>26)|0,_0&=67108863,du[0]=_f,du[1]=_h,du[2]=a0,du[3]=u0,du[4]=l0,du[5]=c0,du[6]=f0,du[7]=h0,du[8]=d0,du[9]=p0,du[10]=m0,du[11]=v0,du[12]=g0,du[13]=y0,du[14]=b0,du[15]=w0,du[16]=$0,du[17]=x0,du[18]=_0,mu!==0&&(du[19]=mu,nu.length++),nu};Math.imul||(bu=gu);function xu(yu,_a,ru){ru.negative=_a.negative^yu.negative,ru.length=yu.length+_a.length;for(var nu=0,uu=0,lu=0;lu<ru.length-1;lu++){var du=uu;uu=0;for(var mu=nu&67108863,cu=Math.min(lu,_a.length-1),eu=Math.max(0,lu-yu.length+1);eu<=cu;eu++){var hu=lu-eu,Eu=yu.words[hu]|0,Ru=_a.words[eu]|0,Tu=Eu*Ru,qu=Tu&67108863;du=du+(Tu/67108864|0)|0,qu=qu+mu|0,mu=qu&67108863,du=du+(qu>>>26)|0,uu+=du>>>26,du&=67108863}ru.words[lu]=mu,nu=du,du=uu}return nu!==0?ru.words[lu]=nu:ru.length--,ru.strip()}function $u(yu,_a,ru){var nu=new wu;return nu.mulp(yu,_a,ru)}na.prototype.mulTo=function(_a,ru){var nu,uu=this.length+_a.length;return this.length===10&&_a.length===10?nu=bu(this,_a,ru):uu<63?nu=gu(this,_a,ru):uu<1024?nu=xu(this,_a,ru):nu=$u(this,_a,ru),nu};function wu(yu,_a){this.x=yu,this.y=_a}wu.prototype.makeRBT=function(_a){for(var ru=new Array(_a),nu=na.prototype._countBits(_a)-1,uu=0;uu<_a;uu++)ru[uu]=this.revBin(uu,nu,_a);return ru},wu.prototype.revBin=function(_a,ru,nu){if(_a===0||_a===nu-1)return _a;for(var uu=0,lu=0;lu<ru;lu++)uu|=(_a&1)<<ru-lu-1,_a>>=1;return uu},wu.prototype.permute=function(_a,ru,nu,uu,lu,du){for(var mu=0;mu<du;mu++)uu[mu]=ru[_a[mu]],lu[mu]=nu[_a[mu]]},wu.prototype.transform=function(_a,ru,nu,uu,lu,du){this.permute(du,_a,ru,nu,uu,lu);for(var mu=1;mu<lu;mu<<=1)for(var cu=mu<<1,eu=Math.cos(2*Math.PI/cu),hu=Math.sin(2*Math.PI/cu),Eu=0;Eu<lu;Eu+=cu)for(var Ru=eu,Tu=hu,qu=0;qu<mu;qu++){var Du=nu[Eu+qu],Iu=uu[Eu+qu],Lu=nu[Eu+qu+mu],Uu=uu[Eu+qu+mu],Hu=Ru*Lu-Tu*Uu;Uu=Ru*Uu+Tu*Lu,Lu=Hu,nu[Eu+qu]=Du+Lu,uu[Eu+qu]=Iu+Uu,nu[Eu+qu+mu]=Du-Lu,uu[Eu+qu+mu]=Iu-Uu,qu!==cu&&(Hu=eu*Ru-hu*Tu,Tu=eu*Tu+hu*Ru,Ru=Hu)}},wu.prototype.guessLen13b=function(_a,ru){var nu=Math.max(ru,_a)|1,uu=nu&1,lu=0;for(nu=nu/2|0;nu;nu=nu>>>1)lu++;return 1<<lu+1+uu},wu.prototype.conjugate=function(_a,ru,nu){if(!(nu<=1))for(var uu=0;uu<nu/2;uu++){var lu=_a[uu];_a[uu]=_a[nu-uu-1],_a[nu-uu-1]=lu,lu=ru[uu],ru[uu]=-ru[nu-uu-1],ru[nu-uu-1]=-lu}},wu.prototype.normalize13b=function(_a,ru){for(var nu=0,uu=0;uu<ru/2;uu++){var lu=Math.round(_a[2*uu+1]/ru)*8192+Math.round(_a[2*uu]/ru)+nu;_a[uu]=lu&67108863,lu<67108864?nu=0:nu=lu/67108864|0}return _a},wu.prototype.convert13b=function(_a,ru,nu,uu){for(var lu=0,du=0;du<ru;du++)lu=lu+(_a[du]|0),nu[2*du]=lu&8191,lu=lu>>>13,nu[2*du+1]=lu&8191,lu=lu>>>13;for(du=2*ru;du<uu;++du)nu[du]=0;cs(lu===0),cs((lu&-8192)===0)},wu.prototype.stub=function(_a){for(var ru=new Array(_a),nu=0;nu<_a;nu++)ru[nu]=0;return ru},wu.prototype.mulp=function(_a,ru,nu){var uu=2*this.guessLen13b(_a.length,ru.length),lu=this.makeRBT(uu),du=this.stub(uu),mu=new Array(uu),cu=new Array(uu),eu=new Array(uu),hu=new Array(uu),Eu=new Array(uu),Ru=new Array(uu),Tu=nu.words;Tu.length=uu,this.convert13b(_a.words,_a.length,mu,uu),this.convert13b(ru.words,ru.length,hu,uu),this.transform(mu,du,cu,eu,uu,lu),this.transform(hu,du,Eu,Ru,uu,lu);for(var qu=0;qu<uu;qu++){var Du=cu[qu]*Eu[qu]-eu[qu]*Ru[qu];eu[qu]=cu[qu]*Ru[qu]+eu[qu]*Eu[qu],cu[qu]=Du}return this.conjugate(cu,eu,uu),this.transform(cu,eu,Tu,du,uu,lu),this.conjugate(Tu,du,uu),this.normalize13b(Tu,uu),nu.negative=_a.negative^ru.negative,nu.length=_a.length+ru.length,nu.strip()},na.prototype.mul=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),this.mulTo(_a,ru)},na.prototype.mulf=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),$u(this,_a,ru)},na.prototype.imul=function(_a){return this.clone().mulTo(_a,this)},na.prototype.imuln=function(_a){cs(typeof _a=="number"),cs(_a<67108864);for(var ru=0,nu=0;nu<this.length;nu++){var uu=(this.words[nu]|0)*_a,lu=(uu&67108863)+(ru&67108863);ru>>=26,ru+=uu/67108864|0,ru+=lu>>>26,this.words[nu]=lu&67108863}return ru!==0&&(this.words[nu]=ru,this.length++),this},na.prototype.muln=function(_a){return this.clone().imuln(_a)},na.prototype.sqr=function(){return this.mul(this)},na.prototype.isqr=function(){return this.imul(this.clone())},na.prototype.pow=function(_a){var ru=vu(_a);if(ru.length===0)return new na(1);for(var nu=this,uu=0;uu<ru.length&&ru[uu]===0;uu++,nu=nu.sqr());if(++uu<ru.length)for(var lu=nu.sqr();uu<ru.length;uu++,lu=lu.sqr())ru[uu]!==0&&(nu=nu.mul(lu));return nu},na.prototype.iushln=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=67108863>>>26-ru<<26-ru,lu;if(ru!==0){var du=0;for(lu=0;lu<this.length;lu++){var mu=this.words[lu]&uu,cu=(this.words[lu]|0)-mu<<ru;this.words[lu]=cu|du,du=mu>>>26-ru}du&&(this.words[lu]=du,this.length++)}if(nu!==0){for(lu=this.length-1;lu>=0;lu--)this.words[lu+nu]=this.words[lu];for(lu=0;lu<nu;lu++)this.words[lu]=0;this.length+=nu}return this.strip()},na.prototype.ishln=function(_a){return cs(this.negative===0),this.iushln(_a)},na.prototype.iushrn=function(_a,ru,nu){cs(typeof _a=="number"&&_a>=0);var uu;ru?uu=(ru-ru%26)/26:uu=0;var lu=_a%26,du=Math.min((_a-lu)/26,this.length),mu=67108863^67108863>>>lu<<lu,cu=nu;if(uu-=du,uu=Math.max(0,uu),cu){for(var eu=0;eu<du;eu++)cu.words[eu]=this.words[eu];cu.length=du}if(du!==0)if(this.length>du)for(this.length-=du,eu=0;eu<this.length;eu++)this.words[eu]=this.words[eu+du];else this.words[0]=0,this.length=1;var hu=0;for(eu=this.length-1;eu>=0&&(hu!==0||eu>=uu);eu--){var Eu=this.words[eu]|0;this.words[eu]=hu<<26-lu|Eu>>>lu,hu=Eu&mu}return cu&&hu!==0&&(cu.words[cu.length++]=hu),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},na.prototype.ishrn=function(_a,ru,nu){return cs(this.negative===0),this.iushrn(_a,ru,nu)},na.prototype.shln=function(_a){return this.clone().ishln(_a)},na.prototype.ushln=function(_a){return this.clone().iushln(_a)},na.prototype.shrn=function(_a){return this.clone().ishrn(_a)},na.prototype.ushrn=function(_a){return this.clone().iushrn(_a)},na.prototype.testn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return!1;var lu=this.words[nu];return!!(lu&uu)},na.prototype.imaskn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26;if(cs(this.negative===0,"imaskn works only with positive numbers"),this.length<=nu)return this;if(ru!==0&&nu++,this.length=Math.min(nu,this.length),ru!==0){var uu=67108863^67108863>>>ru<<ru;this.words[this.length-1]&=uu}return this.strip()},na.prototype.maskn=function(_a){return this.clone().imaskn(_a)},na.prototype.iaddn=function(_a){return cs(typeof _a=="number"),cs(_a<67108864),_a<0?this.isubn(-_a):this.negative!==0?this.length===1&&(this.words[0]|0)<_a?(this.words[0]=_a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_a),this.negative=1,this):this._iaddn(_a)},na.prototype._iaddn=function(_a){this.words[0]+=_a;for(var ru=0;ru<this.length&&this.words[ru]>=67108864;ru++)this.words[ru]-=67108864,ru===this.length-1?this.words[ru+1]=1:this.words[ru+1]++;return this.length=Math.max(this.length,ru+1),this},na.prototype.isubn=function(_a){if(cs(typeof _a=="number"),cs(_a<67108864),_a<0)return this.iaddn(-_a);if(this.negative!==0)return this.negative=0,this.iaddn(_a),this.negative=1,this;if(this.words[0]-=_a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ru=0;ru<this.length&&this.words[ru]<0;ru++)this.words[ru]+=67108864,this.words[ru+1]-=1;return this.strip()},na.prototype.addn=function(_a){return this.clone().iaddn(_a)},na.prototype.subn=function(_a){return this.clone().isubn(_a)},na.prototype.iabs=function(){return this.negative=0,this},na.prototype.abs=function(){return this.clone().iabs()},na.prototype._ishlnsubmul=function(_a,ru,nu){var uu=_a.length+nu,lu;this._expand(uu);var du,mu=0;for(lu=0;lu<_a.length;lu++){du=(this.words[lu+nu]|0)+mu;var cu=(_a.words[lu]|0)*ru;du-=cu&67108863,mu=(du>>26)-(cu/67108864|0),this.words[lu+nu]=du&67108863}for(;lu<this.length-nu;lu++)du=(this.words[lu+nu]|0)+mu,mu=du>>26,this.words[lu+nu]=du&67108863;if(mu===0)return this.strip();for(cs(mu===-1),mu=0,lu=0;lu<this.length;lu++)du=-(this.words[lu]|0)+mu,mu=du>>26,this.words[lu]=du&67108863;return this.negative=1,this.strip()},na.prototype._wordDiv=function(_a,ru){var nu=this.length-_a.length,uu=this.clone(),lu=_a,du=lu.words[lu.length-1]|0,mu=this._countBits(du);nu=26-mu,nu!==0&&(lu=lu.ushln(nu),uu.iushln(nu),du=lu.words[lu.length-1]|0);var cu=uu.length-lu.length,eu;if(ru!=="mod"){eu=new na(null),eu.length=cu+1,eu.words=new Array(eu.length);for(var hu=0;hu<eu.length;hu++)eu.words[hu]=0}var Eu=uu.clone()._ishlnsubmul(lu,1,cu);Eu.negative===0&&(uu=Eu,eu&&(eu.words[cu]=1));for(var Ru=cu-1;Ru>=0;Ru--){var Tu=(uu.words[lu.length+Ru]|0)*67108864+(uu.words[lu.length+Ru-1]|0);for(Tu=Math.min(Tu/du|0,67108863),uu._ishlnsubmul(lu,Tu,Ru);uu.negative!==0;)Tu--,uu.negative=0,uu._ishlnsubmul(lu,1,Ru),uu.isZero()||(uu.negative^=1);eu&&(eu.words[Ru]=Tu)}return eu&&eu.strip(),uu.strip(),ru!=="div"&&nu!==0&&uu.iushrn(nu),{div:eu||null,mod:uu}},na.prototype.divmod=function(_a,ru,nu){if(cs(!_a.isZero()),this.isZero())return{div:new na(0),mod:new na(0)};var uu,lu,du;return this.negative!==0&&_a.negative===0?(du=this.neg().divmod(_a,ru),ru!=="mod"&&(uu=du.div.neg()),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.iadd(_a)),{div:uu,mod:lu}):this.negative===0&&_a.negative!==0?(du=this.divmod(_a.neg(),ru),ru!=="mod"&&(uu=du.div.neg()),{div:uu,mod:du.mod}):this.negative&_a.negative?(du=this.neg().divmod(_a.neg(),ru),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.isub(_a)),{div:du.div,mod:lu}):_a.length>this.length||this.cmp(_a)<0?{div:new na(0),mod:this}:_a.length===1?ru==="div"?{div:this.divn(_a.words[0]),mod:null}:ru==="mod"?{div:null,mod:new na(this.modn(_a.words[0]))}:{div:this.divn(_a.words[0]),mod:new na(this.modn(_a.words[0]))}:this._wordDiv(_a,ru)},na.prototype.div=function(_a){return this.divmod(_a,"div",!1).div},na.prototype.mod=function(_a){return this.divmod(_a,"mod",!1).mod},na.prototype.umod=function(_a){return this.divmod(_a,"mod",!0).mod},na.prototype.divRound=function(_a){var ru=this.divmod(_a);if(ru.mod.isZero())return ru.div;var nu=ru.div.negative!==0?ru.mod.isub(_a):ru.mod,uu=_a.ushrn(1),lu=_a.andln(1),du=nu.cmp(uu);return du<0||lu===1&&du===0?ru.div:ru.div.negative!==0?ru.div.isubn(1):ru.div.iaddn(1)},na.prototype.modn=function(_a){cs(_a<=67108863);for(var ru=(1<<26)%_a,nu=0,uu=this.length-1;uu>=0;uu--)nu=(ru*nu+(this.words[uu]|0))%_a;return nu},na.prototype.idivn=function(_a){cs(_a<=67108863);for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=(this.words[nu]|0)+ru*67108864;this.words[nu]=uu/_a|0,ru=uu%_a}return this.strip()},na.prototype.divn=function(_a){return this.clone().idivn(_a)},na.prototype.egcd=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=new na(0),mu=new na(1),cu=0;ru.isEven()&&nu.isEven();)ru.iushrn(1),nu.iushrn(1),++cu;for(var eu=nu.clone(),hu=ru.clone();!ru.isZero();){for(var Eu=0,Ru=1;!(ru.words[0]&Ru)&&Eu<26;++Eu,Ru<<=1);if(Eu>0)for(ru.iushrn(Eu);Eu-- >0;)(uu.isOdd()||lu.isOdd())&&(uu.iadd(eu),lu.isub(hu)),uu.iushrn(1),lu.iushrn(1);for(var Tu=0,qu=1;!(nu.words[0]&qu)&&Tu<26;++Tu,qu<<=1);if(Tu>0)for(nu.iushrn(Tu);Tu-- >0;)(du.isOdd()||mu.isOdd())&&(du.iadd(eu),mu.isub(hu)),du.iushrn(1),mu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(du),lu.isub(mu)):(nu.isub(ru),du.isub(uu),mu.isub(lu))}return{a:du,b:mu,gcd:nu.iushln(cu)}},na.prototype._invmp=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=nu.clone();ru.cmpn(1)>0&&nu.cmpn(1)>0;){for(var mu=0,cu=1;!(ru.words[0]&cu)&&mu<26;++mu,cu<<=1);if(mu>0)for(ru.iushrn(mu);mu-- >0;)uu.isOdd()&&uu.iadd(du),uu.iushrn(1);for(var eu=0,hu=1;!(nu.words[0]&hu)&&eu<26;++eu,hu<<=1);if(eu>0)for(nu.iushrn(eu);eu-- >0;)lu.isOdd()&&lu.iadd(du),lu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(lu)):(nu.isub(ru),lu.isub(uu))}var Eu;return ru.cmpn(1)===0?Eu=uu:Eu=lu,Eu.cmpn(0)<0&&Eu.iadd(_a),Eu},na.prototype.gcd=function(_a){if(this.isZero())return _a.abs();if(_a.isZero())return this.abs();var ru=this.clone(),nu=_a.clone();ru.negative=0,nu.negative=0;for(var uu=0;ru.isEven()&&nu.isEven();uu++)ru.iushrn(1),nu.iushrn(1);do{for(;ru.isEven();)ru.iushrn(1);for(;nu.isEven();)nu.iushrn(1);var lu=ru.cmp(nu);if(lu<0){var du=ru;ru=nu,nu=du}else if(lu===0||nu.cmpn(1)===0)break;ru.isub(nu)}while(!0);return nu.iushln(uu)},na.prototype.invm=function(_a){return this.egcd(_a).a.umod(_a)},na.prototype.isEven=function(){return(this.words[0]&1)===0},na.prototype.isOdd=function(){return(this.words[0]&1)===1},na.prototype.andln=function(_a){return this.words[0]&_a},na.prototype.bincn=function(_a){cs(typeof _a=="number");var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return this._expand(nu+1),this.words[nu]|=uu,this;for(var lu=uu,du=nu;lu!==0&&du<this.length;du++){var mu=this.words[du]|0;mu+=lu,lu=mu>>>26,mu&=67108863,this.words[du]=mu}return lu!==0&&(this.words[du]=lu,this.length++),this},na.prototype.isZero=function(){return this.length===1&&this.words[0]===0},na.prototype.cmpn=function(_a){var ru=_a<0;if(this.negative!==0&&!ru)return-1;if(this.negative===0&&ru)return 1;this.strip();var nu;if(this.length>1)nu=1;else{ru&&(_a=-_a),cs(_a<=67108863,"Number is too big");var uu=this.words[0]|0;nu=uu===_a?0:uu<_a?-1:1}return this.negative!==0?-nu|0:nu},na.prototype.cmp=function(_a){if(this.negative!==0&&_a.negative===0)return-1;if(this.negative===0&&_a.negative!==0)return 1;var ru=this.ucmp(_a);return this.negative!==0?-ru|0:ru},na.prototype.ucmp=function(_a){if(this.length>_a.length)return 1;if(this.length<_a.length)return-1;for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=this.words[nu]|0,lu=_a.words[nu]|0;if(uu!==lu){uu<lu?ru=-1:uu>lu&&(ru=1);break}}return ru},na.prototype.gtn=function(_a){return this.cmpn(_a)===1},na.prototype.gt=function(_a){return this.cmp(_a)===1},na.prototype.gten=function(_a){return this.cmpn(_a)>=0},na.prototype.gte=function(_a){return this.cmp(_a)>=0},na.prototype.ltn=function(_a){return this.cmpn(_a)===-1},na.prototype.lt=function(_a){return this.cmp(_a)===-1},na.prototype.lten=function(_a){return this.cmpn(_a)<=0},na.prototype.lte=function(_a){return this.cmp(_a)<=0},na.prototype.eqn=function(_a){return this.cmpn(_a)===0},na.prototype.eq=function(_a){return this.cmp(_a)===0},na.red=function(_a){return new Ou(_a)},na.prototype.toRed=function(_a){return cs(!this.red,"Already a number in reduction context"),cs(this.negative===0,"red works only with positives"),_a.convertTo(this)._forceRed(_a)},na.prototype.fromRed=function(){return cs(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},na.prototype._forceRed=function(_a){return this.red=_a,this},na.prototype.forceRed=function(_a){return cs(!this.red,"Already a number in reduction context"),this._forceRed(_a)},na.prototype.redAdd=function(_a){return cs(this.red,"redAdd works only with red numbers"),this.red.add(this,_a)},na.prototype.redIAdd=function(_a){return cs(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_a)},na.prototype.redSub=function(_a){return cs(this.red,"redSub works only with red numbers"),this.red.sub(this,_a)},na.prototype.redISub=function(_a){return cs(this.red,"redISub works only with red numbers"),this.red.isub(this,_a)},na.prototype.redShl=function(_a){return cs(this.red,"redShl works only with red numbers"),this.red.shl(this,_a)},na.prototype.redMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.mul(this,_a)},na.prototype.redIMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.imul(this,_a)},na.prototype.redSqr=function(){return cs(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},na.prototype.redISqr=function(){return cs(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},na.prototype.redSqrt=function(){return cs(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},na.prototype.redInvm=function(){return cs(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},na.prototype.redNeg=function(){return cs(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},na.prototype.redPow=function(_a){return cs(this.red&&!_a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_a)};var _u={k256:null,p224:null,p192:null,p25519:null};function Mu(yu,_a){this.name=yu,this.p=new na(_a,16),this.n=this.p.bitLength(),this.k=new na(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mu.prototype._tmp=function(){var _a=new na(null);return _a.words=new Array(Math.ceil(this.n/13)),_a},Mu.prototype.ireduce=function(_a){var ru=_a,nu;do this.split(ru,this.tmp),ru=this.imulK(ru),ru=ru.iadd(this.tmp),nu=ru.bitLength();while(nu>this.n);var uu=nu<this.n?-1:ru.ucmp(this.p);return uu===0?(ru.words[0]=0,ru.length=1):uu>0?ru.isub(this.p):ru.strip!==void 0?ru.strip():ru._strip(),ru},Mu.prototype.split=function(_a,ru){_a.iushrn(this.n,0,ru)},Mu.prototype.imulK=function(_a){return _a.imul(this.k)};function Au(){Mu.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$a(Au,Mu),Au.prototype.split=function(_a,ru){for(var nu=4194303,uu=Math.min(_a.length,9),lu=0;lu<uu;lu++)ru.words[lu]=_a.words[lu];if(ru.length=uu,_a.length<=9){_a.words[0]=0,_a.length=1;return}var du=_a.words[9];for(ru.words[ru.length++]=du&nu,lu=10;lu<_a.length;lu++){var mu=_a.words[lu]|0;_a.words[lu-10]=(mu&nu)<<4|du>>>22,du=mu}du>>>=22,_a.words[lu-10]=du,du===0&&_a.length>10?_a.length-=10:_a.length-=9},Au.prototype.imulK=function(_a){_a.words[_a.length]=0,_a.words[_a.length+1]=0,_a.length+=2;for(var ru=0,nu=0;nu<_a.length;nu++){var uu=_a.words[nu]|0;ru+=uu*977,_a.words[nu]=ru&67108863,ru=uu*64+(ru/67108864|0)}return _a.words[_a.length-1]===0&&(_a.length--,_a.words[_a.length-1]===0&&_a.length--),_a};function Pu(){Mu.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$a(Pu,Mu);function Su(){Mu.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$a(Su,Mu);function Bu(){Mu.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$a(Bu,Mu),Bu.prototype.imulK=function(_a){for(var ru=0,nu=0;nu<_a.length;nu++){var uu=(_a.words[nu]|0)*19+ru,lu=uu&67108863;uu>>>=26,_a.words[nu]=lu,ru=uu}return ru!==0&&(_a.words[_a.length++]=ru),_a},na._prime=function(_a){if(_u[_a])return _u[_a];var ru;if(_a==="k256")ru=new Au;else if(_a==="p224")ru=new Pu;else if(_a==="p192")ru=new Su;else if(_a==="p25519")ru=new Bu;else throw new Error("Unknown prime "+_a);return _u[_a]=ru,ru};function Ou(yu){if(typeof yu=="string"){var _a=na._prime(yu);this.m=_a.p,this.prime=_a}else cs(yu.gtn(1),"modulus must be greater than 1"),this.m=yu,this.prime=null}Ou.prototype._verify1=function(_a){cs(_a.negative===0,"red works only with positives"),cs(_a.red,"red works only with red numbers")},Ou.prototype._verify2=function(_a,ru){cs((_a.negative|ru.negative)===0,"red works only with positives"),cs(_a.red&&_a.red===ru.red,"red works only with red numbers")},Ou.prototype.imod=function(_a){return this.prime?this.prime.ireduce(_a)._forceRed(this):_a.umod(this.m)._forceRed(this)},Ou.prototype.neg=function(_a){return _a.isZero()?_a.clone():this.m.sub(_a)._forceRed(this)},Ou.prototype.add=function(_a,ru){this._verify2(_a,ru);var nu=_a.add(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu._forceRed(this)},Ou.prototype.iadd=function(_a,ru){this._verify2(_a,ru);var nu=_a.iadd(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu},Ou.prototype.sub=function(_a,ru){this._verify2(_a,ru);var nu=_a.sub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu._forceRed(this)},Ou.prototype.isub=function(_a,ru){this._verify2(_a,ru);var nu=_a.isub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu},Ou.prototype.shl=function(_a,ru){return this._verify1(_a),this.imod(_a.ushln(ru))},Ou.prototype.imul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.imul(ru))},Ou.prototype.mul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.mul(ru))},Ou.prototype.isqr=function(_a){return this.imul(_a,_a.clone())},Ou.prototype.sqr=function(_a){return this.mul(_a,_a)},Ou.prototype.sqrt=function(_a){if(_a.isZero())return _a.clone();var ru=this.m.andln(3);if(cs(ru%2===1),ru===3){var nu=this.m.add(new na(1)).iushrn(2);return this.pow(_a,nu)}for(var uu=this.m.subn(1),lu=0;!uu.isZero()&&uu.andln(1)===0;)lu++,uu.iushrn(1);cs(!uu.isZero());var du=new na(1).toRed(this),mu=du.redNeg(),cu=this.m.subn(1).iushrn(1),eu=this.m.bitLength();for(eu=new na(2*eu*eu).toRed(this);this.pow(eu,cu).cmp(mu)!==0;)eu.redIAdd(mu);for(var hu=this.pow(eu,uu),Eu=this.pow(_a,uu.addn(1).iushrn(1)),Ru=this.pow(_a,uu),Tu=lu;Ru.cmp(du)!==0;){for(var qu=Ru,Du=0;qu.cmp(du)!==0;Du++)qu=qu.redSqr();cs(Du<Tu);var Iu=this.pow(hu,new na(1).iushln(Tu-Du-1));Eu=Eu.redMul(Iu),hu=Iu.redSqr(),Ru=Ru.redMul(hu),Tu=Du}return Eu},Ou.prototype.invm=function(_a){var ru=_a._invmp(this.m);return ru.negative!==0?(ru.negative=0,this.imod(ru).redNeg()):this.imod(ru)},Ou.prototype.pow=function(_a,ru){if(ru.isZero())return new na(1).toRed(this);if(ru.cmpn(1)===0)return _a.clone();var nu=4,uu=new Array(1<<nu);uu[0]=new na(1).toRed(this),uu[1]=_a;for(var lu=2;lu<uu.length;lu++)uu[lu]=this.mul(uu[lu-1],_a);var du=uu[0],mu=0,cu=0,eu=ru.bitLength()%26;for(eu===0&&(eu=26),lu=ru.length-1;lu>=0;lu--){for(var hu=ru.words[lu],Eu=eu-1;Eu>=0;Eu--){var Ru=hu>>Eu&1;if(du!==uu[0]&&(du=this.sqr(du)),Ru===0&&mu===0){cu=0;continue}mu<<=1,mu|=Ru,cu++,!(cu!==nu&&(lu!==0||Eu!==0))&&(du=this.mul(du,uu[mu]),cu=0,mu=0)}eu=26}return du},Ou.prototype.convertTo=function(_a){var ru=_a.umod(this.m);return ru===_a?ru.clone():ru},Ou.prototype.convertFrom=function(_a){var ru=_a.clone();return ru.red=null,ru},na.mont=function(_a){return new Vu(_a)};function Vu(yu){Ou.call(this,yu),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new na(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$a(Vu,Ou),Vu.prototype.convertTo=function(_a){return this.imod(_a.ushln(this.shift))},Vu.prototype.convertFrom=function(_a){var ru=this.imod(_a.mul(this.rinv));return ru.red=null,ru},Vu.prototype.imul=function(_a,ru){if(_a.isZero()||ru.isZero())return _a.words[0]=0,_a.length=1,_a;var nu=_a.imul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.mul=function(_a,ru){if(_a.isZero()||ru.isZero())return new na(0)._forceRed(this);var nu=_a.mul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.invm=function(_a){var ru=this.imod(_a._invmp(this.m).mul(this.r2));return ru._forceRed(this)}})(ss,commonjsGlobal)}(bn$8)),bn$8.exports}var bn$7={exports:{}};bn$7.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(ss){(function(as,us){function cs(yu,_a){if(!yu)throw new Error(_a||"Assertion failed")}function $a(yu,_a){yu.super_=_a;var ru=function(){};ru.prototype=_a.prototype,yu.prototype=new ru,yu.prototype.constructor=yu}function na(yu,_a,ru){if(na.isBN(yu))return yu;this.negative=0,this.words=null,this.length=0,this.red=null,yu!==null&&((_a==="le"||_a==="be")&&(ru=_a,_a=10),this._init(yu||0,_a||10,ru||"be"))}typeof as=="object"?as.exports=na:us.BN=na,na.BN=na,na.wordSize=26;var tu;try{typeof window<"u"&&typeof window.Buffer<"u"?tu=window.Buffer:tu=require$$0$3.Buffer}catch{}na.isBN=function(_a){return _a instanceof na?!0:_a!==null&&typeof _a=="object"&&_a.constructor.wordSize===na.wordSize&&Array.isArray(_a.words)},na.max=function(_a,ru){return _a.cmp(ru)>0?_a:ru},na.min=function(_a,ru){return _a.cmp(ru)<0?_a:ru},na.prototype._init=function(_a,ru,nu){if(typeof _a=="number")return this._initNumber(_a,ru,nu);if(typeof _a=="object")return this._initArray(_a,ru,nu);ru==="hex"&&(ru=16),cs(ru===(ru|0)&&ru>=2&&ru<=36),_a=_a.toString().replace(/\s+/g,"");var uu=0;_a[0]==="-"&&(uu++,this.negative=1),uu<_a.length&&(ru===16?this._parseHex(_a,uu,nu):(this._parseBase(_a,ru,uu),nu==="le"&&this._initArray(this.toArray(),ru,nu)))},na.prototype._initNumber=function(_a,ru,nu){_a<0&&(this.negative=1,_a=-_a),_a<67108864?(this.words=[_a&67108863],this.length=1):_a<4503599627370496?(this.words=[_a&67108863,_a/67108864&67108863],this.length=2):(cs(_a<9007199254740992),this.words=[_a&67108863,_a/67108864&67108863,1],this.length=3),nu==="le"&&this._initArray(this.toArray(),ru,nu)},na.prototype._initArray=function(_a,ru,nu){if(cs(typeof _a.length=="number"),_a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_a.length/3),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu,du,mu=0;if(nu==="be")for(uu=_a.length-1,lu=0;uu>=0;uu-=3)du=_a[uu]|_a[uu-1]<<8|_a[uu-2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);else if(nu==="le")for(uu=0,lu=0;uu<_a.length;uu+=3)du=_a[uu]|_a[uu+1]<<8|_a[uu+2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);return this.strip()};function iu(yu,_a){var ru=yu.charCodeAt(_a);return ru>=65&&ru<=70?ru-55:ru>=97&&ru<=102?ru-87:ru-48&15}function su(yu,_a,ru){var nu=iu(yu,ru);return ru-1>=_a&&(nu|=iu(yu,ru-1)<<4),nu}na.prototype._parseHex=function(_a,ru,nu){this.length=Math.ceil((_a.length-ru)/6),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu=0,du=0,mu;if(nu==="be")for(uu=_a.length-1;uu>=ru;uu-=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8;else{var cu=_a.length-ru;for(uu=cu%2===0?ru+1:ru;uu<_a.length;uu+=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8}this.strip()};function au(yu,_a,ru,nu){for(var uu=0,lu=Math.min(yu.length,ru),du=_a;du<lu;du++){var mu=yu.charCodeAt(du)-48;uu*=nu,mu>=49?uu+=mu-49+10:mu>=17?uu+=mu-17+10:uu+=mu}return uu}na.prototype._parseBase=function(_a,ru,nu){this.words=[0],this.length=1;for(var uu=0,lu=1;lu<=67108863;lu*=ru)uu++;uu--,lu=lu/ru|0;for(var du=_a.length-nu,mu=du%uu,cu=Math.min(du,du-mu)+nu,eu=0,hu=nu;hu<cu;hu+=uu)eu=au(_a,hu,hu+uu,ru),this.imuln(lu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu);if(mu!==0){var Eu=1;for(eu=au(_a,hu,_a.length,ru),hu=0;hu<mu;hu++)Eu*=ru;this.imuln(Eu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu)}this.strip()},na.prototype.copy=function(_a){_a.words=new Array(this.length);for(var ru=0;ru<this.length;ru++)_a.words[ru]=this.words[ru];_a.length=this.length,_a.negative=this.negative,_a.red=this.red},na.prototype.clone=function(){var _a=new na(null);return this.copy(_a),_a},na.prototype._expand=function(_a){for(;this.length<_a;)this.words[this.length++]=0;return this},na.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},na.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},na.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ou=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fu=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];na.prototype.toString=function(_a,ru){_a=_a||10,ru=ru|0||1;var nu;if(_a===16||_a==="hex"){nu="";for(var uu=0,lu=0,du=0;du<this.length;du++){var mu=this.words[du],cu=((mu<<uu|lu)&16777215).toString(16);lu=mu>>>24-uu&16777215,uu+=2,uu>=26&&(uu-=26,du--),lu!==0||du!==this.length-1?nu=ou[6-cu.length]+cu+nu:nu=cu+nu}for(lu!==0&&(nu=lu.toString(16)+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}if(_a===(_a|0)&&_a>=2&&_a<=36){var eu=fu[_a],hu=pu[_a];nu="";var Eu=this.clone();for(Eu.negative=0;!Eu.isZero();){var Ru=Eu.modn(hu).toString(_a);Eu=Eu.idivn(hu),Eu.isZero()?nu=Ru+nu:nu=ou[eu-Ru.length]+Ru+nu}for(this.isZero()&&(nu="0"+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}cs(!1,"Base should be between 2 and 36")},na.prototype.toNumber=function(){var _a=this.words[0];return this.length===2?_a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_a+=4503599627370496+this.words[1]*67108864:this.length>2&&cs(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_a:_a},na.prototype.toJSON=function(){return this.toString(16)},na.prototype.toBuffer=function(_a,ru){return cs(typeof tu<"u"),this.toArrayLike(tu,_a,ru)},na.prototype.toArray=function(_a,ru){return this.toArrayLike(Array,_a,ru)},na.prototype.toArrayLike=function(_a,ru,nu){var uu=this.byteLength(),lu=nu||Math.max(1,uu);cs(uu<=lu,"byte array longer than desired length"),cs(lu>0,"Requested array length <= 0"),this.strip();var du=ru==="le",mu=new _a(lu),cu,eu,hu=this.clone();if(du){for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[eu]=cu;for(;eu<lu;eu++)mu[eu]=0}else{for(eu=0;eu<lu-uu;eu++)mu[eu]=0;for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[lu-eu-1]=cu}return mu},Math.clz32?na.prototype._countBits=function(_a){return 32-Math.clz32(_a)}:na.prototype._countBits=function(_a){var ru=_a,nu=0;return ru>=4096&&(nu+=13,ru>>>=13),ru>=64&&(nu+=7,ru>>>=7),ru>=8&&(nu+=4,ru>>>=4),ru>=2&&(nu+=2,ru>>>=2),nu+ru},na.prototype._zeroBits=function(_a){if(_a===0)return 26;var ru=_a,nu=0;return ru&8191||(nu+=13,ru>>>=13),ru&127||(nu+=7,ru>>>=7),ru&15||(nu+=4,ru>>>=4),ru&3||(nu+=2,ru>>>=2),ru&1||nu++,nu},na.prototype.bitLength=function(){var _a=this.words[this.length-1],ru=this._countBits(_a);return(this.length-1)*26+ru};function vu(yu){for(var _a=new Array(yu.bitLength()),ru=0;ru<_a.length;ru++){var nu=ru/26|0,uu=ru%26;_a[ru]=(yu.words[nu]&1<<uu)>>>uu}return _a}na.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _a=0,ru=0;ru<this.length;ru++){var nu=this._zeroBits(this.words[ru]);if(_a+=nu,nu!==26)break}return _a},na.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},na.prototype.toTwos=function(_a){return this.negative!==0?this.abs().inotn(_a).iaddn(1):this.clone()},na.prototype.fromTwos=function(_a){return this.testn(_a-1)?this.notn(_a).iaddn(1).ineg():this.clone()},na.prototype.isNeg=function(){return this.negative!==0},na.prototype.neg=function(){return this.clone().ineg()},na.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},na.prototype.iuor=function(_a){for(;this.length<_a.length;)this.words[this.length++]=0;for(var ru=0;ru<_a.length;ru++)this.words[ru]=this.words[ru]|_a.words[ru];return this.strip()},na.prototype.ior=function(_a){return cs((this.negative|_a.negative)===0),this.iuor(_a)},na.prototype.or=function(_a){return this.length>_a.length?this.clone().ior(_a):_a.clone().ior(this)},na.prototype.uor=function(_a){return this.length>_a.length?this.clone().iuor(_a):_a.clone().iuor(this)},na.prototype.iuand=function(_a){var ru;this.length>_a.length?ru=_a:ru=this;for(var nu=0;nu<ru.length;nu++)this.words[nu]=this.words[nu]&_a.words[nu];return this.length=ru.length,this.strip()},na.prototype.iand=function(_a){return cs((this.negative|_a.negative)===0),this.iuand(_a)},na.prototype.and=function(_a){return this.length>_a.length?this.clone().iand(_a):_a.clone().iand(this)},na.prototype.uand=function(_a){return this.length>_a.length?this.clone().iuand(_a):_a.clone().iuand(this)},na.prototype.iuxor=function(_a){var ru,nu;this.length>_a.length?(ru=this,nu=_a):(ru=_a,nu=this);for(var uu=0;uu<nu.length;uu++)this.words[uu]=ru.words[uu]^nu.words[uu];if(this!==ru)for(;uu<ru.length;uu++)this.words[uu]=ru.words[uu];return this.length=ru.length,this.strip()},na.prototype.ixor=function(_a){return cs((this.negative|_a.negative)===0),this.iuxor(_a)},na.prototype.xor=function(_a){return this.length>_a.length?this.clone().ixor(_a):_a.clone().ixor(this)},na.prototype.uxor=function(_a){return this.length>_a.length?this.clone().iuxor(_a):_a.clone().iuxor(this)},na.prototype.inotn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=Math.ceil(_a/26)|0,nu=_a%26;this._expand(ru),nu>0&&ru--;for(var uu=0;uu<ru;uu++)this.words[uu]=~this.words[uu]&67108863;return nu>0&&(this.words[uu]=~this.words[uu]&67108863>>26-nu),this.strip()},na.prototype.notn=function(_a){return this.clone().inotn(_a)},na.prototype.setn=function(_a,ru){cs(typeof _a=="number"&&_a>=0);var nu=_a/26|0,uu=_a%26;return this._expand(nu+1),ru?this.words[nu]=this.words[nu]|1<<uu:this.words[nu]=this.words[nu]&~(1<<uu),this.strip()},na.prototype.iadd=function(_a){var ru;if(this.negative!==0&&_a.negative===0)return this.negative=0,ru=this.isub(_a),this.negative^=1,this._normSign();if(this.negative===0&&_a.negative!==0)return _a.negative=0,ru=this.isub(_a),_a.negative=1,ru._normSign();var nu,uu;this.length>_a.length?(nu=this,uu=_a):(nu=_a,uu=this);for(var lu=0,du=0;du<uu.length;du++)ru=(nu.words[du]|0)+(uu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;for(;lu!==0&&du<nu.length;du++)ru=(nu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;if(this.length=nu.length,lu!==0)this.words[this.length]=lu,this.length++;else if(nu!==this)for(;du<nu.length;du++)this.words[du]=nu.words[du];return this},na.prototype.add=function(_a){var ru;return _a.negative!==0&&this.negative===0?(_a.negative=0,ru=this.sub(_a),_a.negative^=1,ru):_a.negative===0&&this.negative!==0?(this.negative=0,ru=_a.sub(this),this.negative=1,ru):this.length>_a.length?this.clone().iadd(_a):_a.clone().iadd(this)},na.prototype.isub=function(_a){if(_a.negative!==0){_a.negative=0;var ru=this.iadd(_a);return _a.negative=1,ru._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_a),this.negative=1,this._normSign();var nu=this.cmp(_a);if(nu===0)return this.negative=0,this.length=1,this.words[0]=0,this;var uu,lu;nu>0?(uu=this,lu=_a):(uu=_a,lu=this);for(var du=0,mu=0;mu<lu.length;mu++)ru=(uu.words[mu]|0)-(lu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;for(;du!==0&&mu<uu.length;mu++)ru=(uu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;if(du===0&&mu<uu.length&&uu!==this)for(;mu<uu.length;mu++)this.words[mu]=uu.words[mu];return this.length=Math.max(this.length,mu),uu!==this&&(this.negative=1),this.strip()},na.prototype.sub=function(_a){return this.clone().isub(_a)};function gu(yu,_a,ru){ru.negative=_a.negative^yu.negative;var nu=yu.length+_a.length|0;ru.length=nu,nu=nu-1|0;var uu=yu.words[0]|0,lu=_a.words[0]|0,du=uu*lu,mu=du&67108863,cu=du/67108864|0;ru.words[0]=mu;for(var eu=1;eu<nu;eu++){for(var hu=cu>>>26,Eu=cu&67108863,Ru=Math.min(eu,_a.length-1),Tu=Math.max(0,eu-yu.length+1);Tu<=Ru;Tu++){var qu=eu-Tu|0;uu=yu.words[qu]|0,lu=_a.words[Tu]|0,du=uu*lu+Eu,hu+=du/67108864|0,Eu=du&67108863}ru.words[eu]=Eu|0,cu=hu|0}return cu!==0?ru.words[eu]=cu|0:ru.length--,ru.strip()}var bu=function(_a,ru,nu){var uu=_a.words,lu=ru.words,du=nu.words,mu=0,cu,eu,hu,Eu=uu[0]|0,Ru=Eu&8191,Tu=Eu>>>13,qu=uu[1]|0,Du=qu&8191,Iu=qu>>>13,Lu=uu[2]|0,Uu=Lu&8191,Hu=Lu>>>13,zu=uu[3]|0,ju=zu&8191,Wu=zu>>>13,Dl=uu[4]|0,Zu=Dl&8191,Yu=Dl>>>13,Vl=uu[5]|0,_l=Vl&8191,Qu=Vl>>>13,Gl=uu[6]|0,yl=Gl&8191,Sl=Gl>>>13,Ql=uu[7]|0,Xu=Ql&8191,$l=Ql>>>13,Zl=uu[8]|0,wl=Zl&8191,Ml=Zl>>>13,Xl=uu[9]|0,Nu=Xl&8191,Cu=Xl>>>13,ku=lu[0]|0,Fu=ku&8191,Ku=ku>>>13,Ju=lu[1]|0,Gu=Ju&8191,El=Ju>>>13,Yl=lu[2]|0,xl=Yl&8191,Rl=Yl>>>13,Jl=lu[3]|0,Al=Jl&8191,Nl=Jl>>>13,e0=lu[4]|0,Cl=e0&8191,Ll=e0>>>13,t0=lu[5]|0,Pl=t0&8191,Fl=t0>>>13,r0=lu[6]|0,Il=r0&8191,Ul=r0>>>13,i0=lu[7]|0,Bl=i0&8191,zl=i0>>>13,n0=lu[8]|0,Tl=n0&8191,Hl=n0>>>13,s0=lu[9]|0,Ol=s0&8191,Kl=s0>>>13;nu.negative=_a.negative^ru.negative,nu.length=19,cu=Math.imul(Ru,Fu),eu=Math.imul(Ru,Ku),eu=eu+Math.imul(Tu,Fu)|0,hu=Math.imul(Tu,Ku);var _f=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_f>>>26)|0,_f&=67108863,cu=Math.imul(Du,Fu),eu=Math.imul(Du,Ku),eu=eu+Math.imul(Iu,Fu)|0,hu=Math.imul(Iu,Ku),cu=cu+Math.imul(Ru,Gu)|0,eu=eu+Math.imul(Ru,El)|0,eu=eu+Math.imul(Tu,Gu)|0,hu=hu+Math.imul(Tu,El)|0;var _h=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_h>>>26)|0,_h&=67108863,cu=Math.imul(Uu,Fu),eu=Math.imul(Uu,Ku),eu=eu+Math.imul(Hu,Fu)|0,hu=Math.imul(Hu,Ku),cu=cu+Math.imul(Du,Gu)|0,eu=eu+Math.imul(Du,El)|0,eu=eu+Math.imul(Iu,Gu)|0,hu=hu+Math.imul(Iu,El)|0,cu=cu+Math.imul(Ru,xl)|0,eu=eu+Math.imul(Ru,Rl)|0,eu=eu+Math.imul(Tu,xl)|0,hu=hu+Math.imul(Tu,Rl)|0;var a0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(a0>>>26)|0,a0&=67108863,cu=Math.imul(ju,Fu),eu=Math.imul(ju,Ku),eu=eu+Math.imul(Wu,Fu)|0,hu=Math.imul(Wu,Ku),cu=cu+Math.imul(Uu,Gu)|0,eu=eu+Math.imul(Uu,El)|0,eu=eu+Math.imul(Hu,Gu)|0,hu=hu+Math.imul(Hu,El)|0,cu=cu+Math.imul(Du,xl)|0,eu=eu+Math.imul(Du,Rl)|0,eu=eu+Math.imul(Iu,xl)|0,hu=hu+Math.imul(Iu,Rl)|0,cu=cu+Math.imul(Ru,Al)|0,eu=eu+Math.imul(Ru,Nl)|0,eu=eu+Math.imul(Tu,Al)|0,hu=hu+Math.imul(Tu,Nl)|0;var u0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(u0>>>26)|0,u0&=67108863,cu=Math.imul(Zu,Fu),eu=Math.imul(Zu,Ku),eu=eu+Math.imul(Yu,Fu)|0,hu=Math.imul(Yu,Ku),cu=cu+Math.imul(ju,Gu)|0,eu=eu+Math.imul(ju,El)|0,eu=eu+Math.imul(Wu,Gu)|0,hu=hu+Math.imul(Wu,El)|0,cu=cu+Math.imul(Uu,xl)|0,eu=eu+Math.imul(Uu,Rl)|0,eu=eu+Math.imul(Hu,xl)|0,hu=hu+Math.imul(Hu,Rl)|0,cu=cu+Math.imul(Du,Al)|0,eu=eu+Math.imul(Du,Nl)|0,eu=eu+Math.imul(Iu,Al)|0,hu=hu+Math.imul(Iu,Nl)|0,cu=cu+Math.imul(Ru,Cl)|0,eu=eu+Math.imul(Ru,Ll)|0,eu=eu+Math.imul(Tu,Cl)|0,hu=hu+Math.imul(Tu,Ll)|0;var l0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(l0>>>26)|0,l0&=67108863,cu=Math.imul(_l,Fu),eu=Math.imul(_l,Ku),eu=eu+Math.imul(Qu,Fu)|0,hu=Math.imul(Qu,Ku),cu=cu+Math.imul(Zu,Gu)|0,eu=eu+Math.imul(Zu,El)|0,eu=eu+Math.imul(Yu,Gu)|0,hu=hu+Math.imul(Yu,El)|0,cu=cu+Math.imul(ju,xl)|0,eu=eu+Math.imul(ju,Rl)|0,eu=eu+Math.imul(Wu,xl)|0,hu=hu+Math.imul(Wu,Rl)|0,cu=cu+Math.imul(Uu,Al)|0,eu=eu+Math.imul(Uu,Nl)|0,eu=eu+Math.imul(Hu,Al)|0,hu=hu+Math.imul(Hu,Nl)|0,cu=cu+Math.imul(Du,Cl)|0,eu=eu+Math.imul(Du,Ll)|0,eu=eu+Math.imul(Iu,Cl)|0,hu=hu+Math.imul(Iu,Ll)|0,cu=cu+Math.imul(Ru,Pl)|0,eu=eu+Math.imul(Ru,Fl)|0,eu=eu+Math.imul(Tu,Pl)|0,hu=hu+Math.imul(Tu,Fl)|0;var c0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(c0>>>26)|0,c0&=67108863,cu=Math.imul(yl,Fu),eu=Math.imul(yl,Ku),eu=eu+Math.imul(Sl,Fu)|0,hu=Math.imul(Sl,Ku),cu=cu+Math.imul(_l,Gu)|0,eu=eu+Math.imul(_l,El)|0,eu=eu+Math.imul(Qu,Gu)|0,hu=hu+Math.imul(Qu,El)|0,cu=cu+Math.imul(Zu,xl)|0,eu=eu+Math.imul(Zu,Rl)|0,eu=eu+Math.imul(Yu,xl)|0,hu=hu+Math.imul(Yu,Rl)|0,cu=cu+Math.imul(ju,Al)|0,eu=eu+Math.imul(ju,Nl)|0,eu=eu+Math.imul(Wu,Al)|0,hu=hu+Math.imul(Wu,Nl)|0,cu=cu+Math.imul(Uu,Cl)|0,eu=eu+Math.imul(Uu,Ll)|0,eu=eu+Math.imul(Hu,Cl)|0,hu=hu+Math.imul(Hu,Ll)|0,cu=cu+Math.imul(Du,Pl)|0,eu=eu+Math.imul(Du,Fl)|0,eu=eu+Math.imul(Iu,Pl)|0,hu=hu+Math.imul(Iu,Fl)|0,cu=cu+Math.imul(Ru,Il)|0,eu=eu+Math.imul(Ru,Ul)|0,eu=eu+Math.imul(Tu,Il)|0,hu=hu+Math.imul(Tu,Ul)|0;var f0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(f0>>>26)|0,f0&=67108863,cu=Math.imul(Xu,Fu),eu=Math.imul(Xu,Ku),eu=eu+Math.imul($l,Fu)|0,hu=Math.imul($l,Ku),cu=cu+Math.imul(yl,Gu)|0,eu=eu+Math.imul(yl,El)|0,eu=eu+Math.imul(Sl,Gu)|0,hu=hu+Math.imul(Sl,El)|0,cu=cu+Math.imul(_l,xl)|0,eu=eu+Math.imul(_l,Rl)|0,eu=eu+Math.imul(Qu,xl)|0,hu=hu+Math.imul(Qu,Rl)|0,cu=cu+Math.imul(Zu,Al)|0,eu=eu+Math.imul(Zu,Nl)|0,eu=eu+Math.imul(Yu,Al)|0,hu=hu+Math.imul(Yu,Nl)|0,cu=cu+Math.imul(ju,Cl)|0,eu=eu+Math.imul(ju,Ll)|0,eu=eu+Math.imul(Wu,Cl)|0,hu=hu+Math.imul(Wu,Ll)|0,cu=cu+Math.imul(Uu,Pl)|0,eu=eu+Math.imul(Uu,Fl)|0,eu=eu+Math.imul(Hu,Pl)|0,hu=hu+Math.imul(Hu,Fl)|0,cu=cu+Math.imul(Du,Il)|0,eu=eu+Math.imul(Du,Ul)|0,eu=eu+Math.imul(Iu,Il)|0,hu=hu+Math.imul(Iu,Ul)|0,cu=cu+Math.imul(Ru,Bl)|0,eu=eu+Math.imul(Ru,zl)|0,eu=eu+Math.imul(Tu,Bl)|0,hu=hu+Math.imul(Tu,zl)|0;var h0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(h0>>>26)|0,h0&=67108863,cu=Math.imul(wl,Fu),eu=Math.imul(wl,Ku),eu=eu+Math.imul(Ml,Fu)|0,hu=Math.imul(Ml,Ku),cu=cu+Math.imul(Xu,Gu)|0,eu=eu+Math.imul(Xu,El)|0,eu=eu+Math.imul($l,Gu)|0,hu=hu+Math.imul($l,El)|0,cu=cu+Math.imul(yl,xl)|0,eu=eu+Math.imul(yl,Rl)|0,eu=eu+Math.imul(Sl,xl)|0,hu=hu+Math.imul(Sl,Rl)|0,cu=cu+Math.imul(_l,Al)|0,eu=eu+Math.imul(_l,Nl)|0,eu=eu+Math.imul(Qu,Al)|0,hu=hu+Math.imul(Qu,Nl)|0,cu=cu+Math.imul(Zu,Cl)|0,eu=eu+Math.imul(Zu,Ll)|0,eu=eu+Math.imul(Yu,Cl)|0,hu=hu+Math.imul(Yu,Ll)|0,cu=cu+Math.imul(ju,Pl)|0,eu=eu+Math.imul(ju,Fl)|0,eu=eu+Math.imul(Wu,Pl)|0,hu=hu+Math.imul(Wu,Fl)|0,cu=cu+Math.imul(Uu,Il)|0,eu=eu+Math.imul(Uu,Ul)|0,eu=eu+Math.imul(Hu,Il)|0,hu=hu+Math.imul(Hu,Ul)|0,cu=cu+Math.imul(Du,Bl)|0,eu=eu+Math.imul(Du,zl)|0,eu=eu+Math.imul(Iu,Bl)|0,hu=hu+Math.imul(Iu,zl)|0,cu=cu+Math.imul(Ru,Tl)|0,eu=eu+Math.imul(Ru,Hl)|0,eu=eu+Math.imul(Tu,Tl)|0,hu=hu+Math.imul(Tu,Hl)|0;var d0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(d0>>>26)|0,d0&=67108863,cu=Math.imul(Nu,Fu),eu=Math.imul(Nu,Ku),eu=eu+Math.imul(Cu,Fu)|0,hu=Math.imul(Cu,Ku),cu=cu+Math.imul(wl,Gu)|0,eu=eu+Math.imul(wl,El)|0,eu=eu+Math.imul(Ml,Gu)|0,hu=hu+Math.imul(Ml,El)|0,cu=cu+Math.imul(Xu,xl)|0,eu=eu+Math.imul(Xu,Rl)|0,eu=eu+Math.imul($l,xl)|0,hu=hu+Math.imul($l,Rl)|0,cu=cu+Math.imul(yl,Al)|0,eu=eu+Math.imul(yl,Nl)|0,eu=eu+Math.imul(Sl,Al)|0,hu=hu+Math.imul(Sl,Nl)|0,cu=cu+Math.imul(_l,Cl)|0,eu=eu+Math.imul(_l,Ll)|0,eu=eu+Math.imul(Qu,Cl)|0,hu=hu+Math.imul(Qu,Ll)|0,cu=cu+Math.imul(Zu,Pl)|0,eu=eu+Math.imul(Zu,Fl)|0,eu=eu+Math.imul(Yu,Pl)|0,hu=hu+Math.imul(Yu,Fl)|0,cu=cu+Math.imul(ju,Il)|0,eu=eu+Math.imul(ju,Ul)|0,eu=eu+Math.imul(Wu,Il)|0,hu=hu+Math.imul(Wu,Ul)|0,cu=cu+Math.imul(Uu,Bl)|0,eu=eu+Math.imul(Uu,zl)|0,eu=eu+Math.imul(Hu,Bl)|0,hu=hu+Math.imul(Hu,zl)|0,cu=cu+Math.imul(Du,Tl)|0,eu=eu+Math.imul(Du,Hl)|0,eu=eu+Math.imul(Iu,Tl)|0,hu=hu+Math.imul(Iu,Hl)|0,cu=cu+Math.imul(Ru,Ol)|0,eu=eu+Math.imul(Ru,Kl)|0,eu=eu+Math.imul(Tu,Ol)|0,hu=hu+Math.imul(Tu,Kl)|0;var p0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(p0>>>26)|0,p0&=67108863,cu=Math.imul(Nu,Gu),eu=Math.imul(Nu,El),eu=eu+Math.imul(Cu,Gu)|0,hu=Math.imul(Cu,El),cu=cu+Math.imul(wl,xl)|0,eu=eu+Math.imul(wl,Rl)|0,eu=eu+Math.imul(Ml,xl)|0,hu=hu+Math.imul(Ml,Rl)|0,cu=cu+Math.imul(Xu,Al)|0,eu=eu+Math.imul(Xu,Nl)|0,eu=eu+Math.imul($l,Al)|0,hu=hu+Math.imul($l,Nl)|0,cu=cu+Math.imul(yl,Cl)|0,eu=eu+Math.imul(yl,Ll)|0,eu=eu+Math.imul(Sl,Cl)|0,hu=hu+Math.imul(Sl,Ll)|0,cu=cu+Math.imul(_l,Pl)|0,eu=eu+Math.imul(_l,Fl)|0,eu=eu+Math.imul(Qu,Pl)|0,hu=hu+Math.imul(Qu,Fl)|0,cu=cu+Math.imul(Zu,Il)|0,eu=eu+Math.imul(Zu,Ul)|0,eu=eu+Math.imul(Yu,Il)|0,hu=hu+Math.imul(Yu,Ul)|0,cu=cu+Math.imul(ju,Bl)|0,eu=eu+Math.imul(ju,zl)|0,eu=eu+Math.imul(Wu,Bl)|0,hu=hu+Math.imul(Wu,zl)|0,cu=cu+Math.imul(Uu,Tl)|0,eu=eu+Math.imul(Uu,Hl)|0,eu=eu+Math.imul(Hu,Tl)|0,hu=hu+Math.imul(Hu,Hl)|0,cu=cu+Math.imul(Du,Ol)|0,eu=eu+Math.imul(Du,Kl)|0,eu=eu+Math.imul(Iu,Ol)|0,hu=hu+Math.imul(Iu,Kl)|0;var m0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(m0>>>26)|0,m0&=67108863,cu=Math.imul(Nu,xl),eu=Math.imul(Nu,Rl),eu=eu+Math.imul(Cu,xl)|0,hu=Math.imul(Cu,Rl),cu=cu+Math.imul(wl,Al)|0,eu=eu+Math.imul(wl,Nl)|0,eu=eu+Math.imul(Ml,Al)|0,hu=hu+Math.imul(Ml,Nl)|0,cu=cu+Math.imul(Xu,Cl)|0,eu=eu+Math.imul(Xu,Ll)|0,eu=eu+Math.imul($l,Cl)|0,hu=hu+Math.imul($l,Ll)|0,cu=cu+Math.imul(yl,Pl)|0,eu=eu+Math.imul(yl,Fl)|0,eu=eu+Math.imul(Sl,Pl)|0,hu=hu+Math.imul(Sl,Fl)|0,cu=cu+Math.imul(_l,Il)|0,eu=eu+Math.imul(_l,Ul)|0,eu=eu+Math.imul(Qu,Il)|0,hu=hu+Math.imul(Qu,Ul)|0,cu=cu+Math.imul(Zu,Bl)|0,eu=eu+Math.imul(Zu,zl)|0,eu=eu+Math.imul(Yu,Bl)|0,hu=hu+Math.imul(Yu,zl)|0,cu=cu+Math.imul(ju,Tl)|0,eu=eu+Math.imul(ju,Hl)|0,eu=eu+Math.imul(Wu,Tl)|0,hu=hu+Math.imul(Wu,Hl)|0,cu=cu+Math.imul(Uu,Ol)|0,eu=eu+Math.imul(Uu,Kl)|0,eu=eu+Math.imul(Hu,Ol)|0,hu=hu+Math.imul(Hu,Kl)|0;var v0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(v0>>>26)|0,v0&=67108863,cu=Math.imul(Nu,Al),eu=Math.imul(Nu,Nl),eu=eu+Math.imul(Cu,Al)|0,hu=Math.imul(Cu,Nl),cu=cu+Math.imul(wl,Cl)|0,eu=eu+Math.imul(wl,Ll)|0,eu=eu+Math.imul(Ml,Cl)|0,hu=hu+Math.imul(Ml,Ll)|0,cu=cu+Math.imul(Xu,Pl)|0,eu=eu+Math.imul(Xu,Fl)|0,eu=eu+Math.imul($l,Pl)|0,hu=hu+Math.imul($l,Fl)|0,cu=cu+Math.imul(yl,Il)|0,eu=eu+Math.imul(yl,Ul)|0,eu=eu+Math.imul(Sl,Il)|0,hu=hu+Math.imul(Sl,Ul)|0,cu=cu+Math.imul(_l,Bl)|0,eu=eu+Math.imul(_l,zl)|0,eu=eu+Math.imul(Qu,Bl)|0,hu=hu+Math.imul(Qu,zl)|0,cu=cu+Math.imul(Zu,Tl)|0,eu=eu+Math.imul(Zu,Hl)|0,eu=eu+Math.imul(Yu,Tl)|0,hu=hu+Math.imul(Yu,Hl)|0,cu=cu+Math.imul(ju,Ol)|0,eu=eu+Math.imul(ju,Kl)|0,eu=eu+Math.imul(Wu,Ol)|0,hu=hu+Math.imul(Wu,Kl)|0;var g0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(g0>>>26)|0,g0&=67108863,cu=Math.imul(Nu,Cl),eu=Math.imul(Nu,Ll),eu=eu+Math.imul(Cu,Cl)|0,hu=Math.imul(Cu,Ll),cu=cu+Math.imul(wl,Pl)|0,eu=eu+Math.imul(wl,Fl)|0,eu=eu+Math.imul(Ml,Pl)|0,hu=hu+Math.imul(Ml,Fl)|0,cu=cu+Math.imul(Xu,Il)|0,eu=eu+Math.imul(Xu,Ul)|0,eu=eu+Math.imul($l,Il)|0,hu=hu+Math.imul($l,Ul)|0,cu=cu+Math.imul(yl,Bl)|0,eu=eu+Math.imul(yl,zl)|0,eu=eu+Math.imul(Sl,Bl)|0,hu=hu+Math.imul(Sl,zl)|0,cu=cu+Math.imul(_l,Tl)|0,eu=eu+Math.imul(_l,Hl)|0,eu=eu+Math.imul(Qu,Tl)|0,hu=hu+Math.imul(Qu,Hl)|0,cu=cu+Math.imul(Zu,Ol)|0,eu=eu+Math.imul(Zu,Kl)|0,eu=eu+Math.imul(Yu,Ol)|0,hu=hu+Math.imul(Yu,Kl)|0;var y0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(y0>>>26)|0,y0&=67108863,cu=Math.imul(Nu,Pl),eu=Math.imul(Nu,Fl),eu=eu+Math.imul(Cu,Pl)|0,hu=Math.imul(Cu,Fl),cu=cu+Math.imul(wl,Il)|0,eu=eu+Math.imul(wl,Ul)|0,eu=eu+Math.imul(Ml,Il)|0,hu=hu+Math.imul(Ml,Ul)|0,cu=cu+Math.imul(Xu,Bl)|0,eu=eu+Math.imul(Xu,zl)|0,eu=eu+Math.imul($l,Bl)|0,hu=hu+Math.imul($l,zl)|0,cu=cu+Math.imul(yl,Tl)|0,eu=eu+Math.imul(yl,Hl)|0,eu=eu+Math.imul(Sl,Tl)|0,hu=hu+Math.imul(Sl,Hl)|0,cu=cu+Math.imul(_l,Ol)|0,eu=eu+Math.imul(_l,Kl)|0,eu=eu+Math.imul(Qu,Ol)|0,hu=hu+Math.imul(Qu,Kl)|0;var b0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(b0>>>26)|0,b0&=67108863,cu=Math.imul(Nu,Il),eu=Math.imul(Nu,Ul),eu=eu+Math.imul(Cu,Il)|0,hu=Math.imul(Cu,Ul),cu=cu+Math.imul(wl,Bl)|0,eu=eu+Math.imul(wl,zl)|0,eu=eu+Math.imul(Ml,Bl)|0,hu=hu+Math.imul(Ml,zl)|0,cu=cu+Math.imul(Xu,Tl)|0,eu=eu+Math.imul(Xu,Hl)|0,eu=eu+Math.imul($l,Tl)|0,hu=hu+Math.imul($l,Hl)|0,cu=cu+Math.imul(yl,Ol)|0,eu=eu+Math.imul(yl,Kl)|0,eu=eu+Math.imul(Sl,Ol)|0,hu=hu+Math.imul(Sl,Kl)|0;var w0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(w0>>>26)|0,w0&=67108863,cu=Math.imul(Nu,Bl),eu=Math.imul(Nu,zl),eu=eu+Math.imul(Cu,Bl)|0,hu=Math.imul(Cu,zl),cu=cu+Math.imul(wl,Tl)|0,eu=eu+Math.imul(wl,Hl)|0,eu=eu+Math.imul(Ml,Tl)|0,hu=hu+Math.imul(Ml,Hl)|0,cu=cu+Math.imul(Xu,Ol)|0,eu=eu+Math.imul(Xu,Kl)|0,eu=eu+Math.imul($l,Ol)|0,hu=hu+Math.imul($l,Kl)|0;var $0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+($0>>>26)|0,$0&=67108863,cu=Math.imul(Nu,Tl),eu=Math.imul(Nu,Hl),eu=eu+Math.imul(Cu,Tl)|0,hu=Math.imul(Cu,Hl),cu=cu+Math.imul(wl,Ol)|0,eu=eu+Math.imul(wl,Kl)|0,eu=eu+Math.imul(Ml,Ol)|0,hu=hu+Math.imul(Ml,Kl)|0;var x0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(x0>>>26)|0,x0&=67108863,cu=Math.imul(Nu,Ol),eu=Math.imul(Nu,Kl),eu=eu+Math.imul(Cu,Ol)|0,hu=Math.imul(Cu,Kl);var _0=(mu+cu|0)+((eu&8191)<<13)|0;return mu=(hu+(eu>>>13)|0)+(_0>>>26)|0,_0&=67108863,du[0]=_f,du[1]=_h,du[2]=a0,du[3]=u0,du[4]=l0,du[5]=c0,du[6]=f0,du[7]=h0,du[8]=d0,du[9]=p0,du[10]=m0,du[11]=v0,du[12]=g0,du[13]=y0,du[14]=b0,du[15]=w0,du[16]=$0,du[17]=x0,du[18]=_0,mu!==0&&(du[19]=mu,nu.length++),nu};Math.imul||(bu=gu);function xu(yu,_a,ru){ru.negative=_a.negative^yu.negative,ru.length=yu.length+_a.length;for(var nu=0,uu=0,lu=0;lu<ru.length-1;lu++){var du=uu;uu=0;for(var mu=nu&67108863,cu=Math.min(lu,_a.length-1),eu=Math.max(0,lu-yu.length+1);eu<=cu;eu++){var hu=lu-eu,Eu=yu.words[hu]|0,Ru=_a.words[eu]|0,Tu=Eu*Ru,qu=Tu&67108863;du=du+(Tu/67108864|0)|0,qu=qu+mu|0,mu=qu&67108863,du=du+(qu>>>26)|0,uu+=du>>>26,du&=67108863}ru.words[lu]=mu,nu=du,du=uu}return nu!==0?ru.words[lu]=nu:ru.length--,ru.strip()}function $u(yu,_a,ru){var nu=new wu;return nu.mulp(yu,_a,ru)}na.prototype.mulTo=function(_a,ru){var nu,uu=this.length+_a.length;return this.length===10&&_a.length===10?nu=bu(this,_a,ru):uu<63?nu=gu(this,_a,ru):uu<1024?nu=xu(this,_a,ru):nu=$u(this,_a,ru),nu};function wu(yu,_a){this.x=yu,this.y=_a}wu.prototype.makeRBT=function(_a){for(var ru=new Array(_a),nu=na.prototype._countBits(_a)-1,uu=0;uu<_a;uu++)ru[uu]=this.revBin(uu,nu,_a);return ru},wu.prototype.revBin=function(_a,ru,nu){if(_a===0||_a===nu-1)return _a;for(var uu=0,lu=0;lu<ru;lu++)uu|=(_a&1)<<ru-lu-1,_a>>=1;return uu},wu.prototype.permute=function(_a,ru,nu,uu,lu,du){for(var mu=0;mu<du;mu++)uu[mu]=ru[_a[mu]],lu[mu]=nu[_a[mu]]},wu.prototype.transform=function(_a,ru,nu,uu,lu,du){this.permute(du,_a,ru,nu,uu,lu);for(var mu=1;mu<lu;mu<<=1)for(var cu=mu<<1,eu=Math.cos(2*Math.PI/cu),hu=Math.sin(2*Math.PI/cu),Eu=0;Eu<lu;Eu+=cu)for(var Ru=eu,Tu=hu,qu=0;qu<mu;qu++){var Du=nu[Eu+qu],Iu=uu[Eu+qu],Lu=nu[Eu+qu+mu],Uu=uu[Eu+qu+mu],Hu=Ru*Lu-Tu*Uu;Uu=Ru*Uu+Tu*Lu,Lu=Hu,nu[Eu+qu]=Du+Lu,uu[Eu+qu]=Iu+Uu,nu[Eu+qu+mu]=Du-Lu,uu[Eu+qu+mu]=Iu-Uu,qu!==cu&&(Hu=eu*Ru-hu*Tu,Tu=eu*Tu+hu*Ru,Ru=Hu)}},wu.prototype.guessLen13b=function(_a,ru){var nu=Math.max(ru,_a)|1,uu=nu&1,lu=0;for(nu=nu/2|0;nu;nu=nu>>>1)lu++;return 1<<lu+1+uu},wu.prototype.conjugate=function(_a,ru,nu){if(!(nu<=1))for(var uu=0;uu<nu/2;uu++){var lu=_a[uu];_a[uu]=_a[nu-uu-1],_a[nu-uu-1]=lu,lu=ru[uu],ru[uu]=-ru[nu-uu-1],ru[nu-uu-1]=-lu}},wu.prototype.normalize13b=function(_a,ru){for(var nu=0,uu=0;uu<ru/2;uu++){var lu=Math.round(_a[2*uu+1]/ru)*8192+Math.round(_a[2*uu]/ru)+nu;_a[uu]=lu&67108863,lu<67108864?nu=0:nu=lu/67108864|0}return _a},wu.prototype.convert13b=function(_a,ru,nu,uu){for(var lu=0,du=0;du<ru;du++)lu=lu+(_a[du]|0),nu[2*du]=lu&8191,lu=lu>>>13,nu[2*du+1]=lu&8191,lu=lu>>>13;for(du=2*ru;du<uu;++du)nu[du]=0;cs(lu===0),cs((lu&-8192)===0)},wu.prototype.stub=function(_a){for(var ru=new Array(_a),nu=0;nu<_a;nu++)ru[nu]=0;return ru},wu.prototype.mulp=function(_a,ru,nu){var uu=2*this.guessLen13b(_a.length,ru.length),lu=this.makeRBT(uu),du=this.stub(uu),mu=new Array(uu),cu=new Array(uu),eu=new Array(uu),hu=new Array(uu),Eu=new Array(uu),Ru=new Array(uu),Tu=nu.words;Tu.length=uu,this.convert13b(_a.words,_a.length,mu,uu),this.convert13b(ru.words,ru.length,hu,uu),this.transform(mu,du,cu,eu,uu,lu),this.transform(hu,du,Eu,Ru,uu,lu);for(var qu=0;qu<uu;qu++){var Du=cu[qu]*Eu[qu]-eu[qu]*Ru[qu];eu[qu]=cu[qu]*Ru[qu]+eu[qu]*Eu[qu],cu[qu]=Du}return this.conjugate(cu,eu,uu),this.transform(cu,eu,Tu,du,uu,lu),this.conjugate(Tu,du,uu),this.normalize13b(Tu,uu),nu.negative=_a.negative^ru.negative,nu.length=_a.length+ru.length,nu.strip()},na.prototype.mul=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),this.mulTo(_a,ru)},na.prototype.mulf=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),$u(this,_a,ru)},na.prototype.imul=function(_a){return this.clone().mulTo(_a,this)},na.prototype.imuln=function(_a){cs(typeof _a=="number"),cs(_a<67108864);for(var ru=0,nu=0;nu<this.length;nu++){var uu=(this.words[nu]|0)*_a,lu=(uu&67108863)+(ru&67108863);ru>>=26,ru+=uu/67108864|0,ru+=lu>>>26,this.words[nu]=lu&67108863}return ru!==0&&(this.words[nu]=ru,this.length++),this},na.prototype.muln=function(_a){return this.clone().imuln(_a)},na.prototype.sqr=function(){return this.mul(this)},na.prototype.isqr=function(){return this.imul(this.clone())},na.prototype.pow=function(_a){var ru=vu(_a);if(ru.length===0)return new na(1);for(var nu=this,uu=0;uu<ru.length&&ru[uu]===0;uu++,nu=nu.sqr());if(++uu<ru.length)for(var lu=nu.sqr();uu<ru.length;uu++,lu=lu.sqr())ru[uu]!==0&&(nu=nu.mul(lu));return nu},na.prototype.iushln=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=67108863>>>26-ru<<26-ru,lu;if(ru!==0){var du=0;for(lu=0;lu<this.length;lu++){var mu=this.words[lu]&uu,cu=(this.words[lu]|0)-mu<<ru;this.words[lu]=cu|du,du=mu>>>26-ru}du&&(this.words[lu]=du,this.length++)}if(nu!==0){for(lu=this.length-1;lu>=0;lu--)this.words[lu+nu]=this.words[lu];for(lu=0;lu<nu;lu++)this.words[lu]=0;this.length+=nu}return this.strip()},na.prototype.ishln=function(_a){return cs(this.negative===0),this.iushln(_a)},na.prototype.iushrn=function(_a,ru,nu){cs(typeof _a=="number"&&_a>=0);var uu;ru?uu=(ru-ru%26)/26:uu=0;var lu=_a%26,du=Math.min((_a-lu)/26,this.length),mu=67108863^67108863>>>lu<<lu,cu=nu;if(uu-=du,uu=Math.max(0,uu),cu){for(var eu=0;eu<du;eu++)cu.words[eu]=this.words[eu];cu.length=du}if(du!==0)if(this.length>du)for(this.length-=du,eu=0;eu<this.length;eu++)this.words[eu]=this.words[eu+du];else this.words[0]=0,this.length=1;var hu=0;for(eu=this.length-1;eu>=0&&(hu!==0||eu>=uu);eu--){var Eu=this.words[eu]|0;this.words[eu]=hu<<26-lu|Eu>>>lu,hu=Eu&mu}return cu&&hu!==0&&(cu.words[cu.length++]=hu),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},na.prototype.ishrn=function(_a,ru,nu){return cs(this.negative===0),this.iushrn(_a,ru,nu)},na.prototype.shln=function(_a){return this.clone().ishln(_a)},na.prototype.ushln=function(_a){return this.clone().iushln(_a)},na.prototype.shrn=function(_a){return this.clone().ishrn(_a)},na.prototype.ushrn=function(_a){return this.clone().iushrn(_a)},na.prototype.testn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return!1;var lu=this.words[nu];return!!(lu&uu)},na.prototype.imaskn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26;if(cs(this.negative===0,"imaskn works only with positive numbers"),this.length<=nu)return this;if(ru!==0&&nu++,this.length=Math.min(nu,this.length),ru!==0){var uu=67108863^67108863>>>ru<<ru;this.words[this.length-1]&=uu}return this.strip()},na.prototype.maskn=function(_a){return this.clone().imaskn(_a)},na.prototype.iaddn=function(_a){return cs(typeof _a=="number"),cs(_a<67108864),_a<0?this.isubn(-_a):this.negative!==0?this.length===1&&(this.words[0]|0)<_a?(this.words[0]=_a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_a),this.negative=1,this):this._iaddn(_a)},na.prototype._iaddn=function(_a){this.words[0]+=_a;for(var ru=0;ru<this.length&&this.words[ru]>=67108864;ru++)this.words[ru]-=67108864,ru===this.length-1?this.words[ru+1]=1:this.words[ru+1]++;return this.length=Math.max(this.length,ru+1),this},na.prototype.isubn=function(_a){if(cs(typeof _a=="number"),cs(_a<67108864),_a<0)return this.iaddn(-_a);if(this.negative!==0)return this.negative=0,this.iaddn(_a),this.negative=1,this;if(this.words[0]-=_a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ru=0;ru<this.length&&this.words[ru]<0;ru++)this.words[ru]+=67108864,this.words[ru+1]-=1;return this.strip()},na.prototype.addn=function(_a){return this.clone().iaddn(_a)},na.prototype.subn=function(_a){return this.clone().isubn(_a)},na.prototype.iabs=function(){return this.negative=0,this},na.prototype.abs=function(){return this.clone().iabs()},na.prototype._ishlnsubmul=function(_a,ru,nu){var uu=_a.length+nu,lu;this._expand(uu);var du,mu=0;for(lu=0;lu<_a.length;lu++){du=(this.words[lu+nu]|0)+mu;var cu=(_a.words[lu]|0)*ru;du-=cu&67108863,mu=(du>>26)-(cu/67108864|0),this.words[lu+nu]=du&67108863}for(;lu<this.length-nu;lu++)du=(this.words[lu+nu]|0)+mu,mu=du>>26,this.words[lu+nu]=du&67108863;if(mu===0)return this.strip();for(cs(mu===-1),mu=0,lu=0;lu<this.length;lu++)du=-(this.words[lu]|0)+mu,mu=du>>26,this.words[lu]=du&67108863;return this.negative=1,this.strip()},na.prototype._wordDiv=function(_a,ru){var nu=this.length-_a.length,uu=this.clone(),lu=_a,du=lu.words[lu.length-1]|0,mu=this._countBits(du);nu=26-mu,nu!==0&&(lu=lu.ushln(nu),uu.iushln(nu),du=lu.words[lu.length-1]|0);var cu=uu.length-lu.length,eu;if(ru!=="mod"){eu=new na(null),eu.length=cu+1,eu.words=new Array(eu.length);for(var hu=0;hu<eu.length;hu++)eu.words[hu]=0}var Eu=uu.clone()._ishlnsubmul(lu,1,cu);Eu.negative===0&&(uu=Eu,eu&&(eu.words[cu]=1));for(var Ru=cu-1;Ru>=0;Ru--){var Tu=(uu.words[lu.length+Ru]|0)*67108864+(uu.words[lu.length+Ru-1]|0);for(Tu=Math.min(Tu/du|0,67108863),uu._ishlnsubmul(lu,Tu,Ru);uu.negative!==0;)Tu--,uu.negative=0,uu._ishlnsubmul(lu,1,Ru),uu.isZero()||(uu.negative^=1);eu&&(eu.words[Ru]=Tu)}return eu&&eu.strip(),uu.strip(),ru!=="div"&&nu!==0&&uu.iushrn(nu),{div:eu||null,mod:uu}},na.prototype.divmod=function(_a,ru,nu){if(cs(!_a.isZero()),this.isZero())return{div:new na(0),mod:new na(0)};var uu,lu,du;return this.negative!==0&&_a.negative===0?(du=this.neg().divmod(_a,ru),ru!=="mod"&&(uu=du.div.neg()),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.iadd(_a)),{div:uu,mod:lu}):this.negative===0&&_a.negative!==0?(du=this.divmod(_a.neg(),ru),ru!=="mod"&&(uu=du.div.neg()),{div:uu,mod:du.mod}):this.negative&_a.negative?(du=this.neg().divmod(_a.neg(),ru),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.isub(_a)),{div:du.div,mod:lu}):_a.length>this.length||this.cmp(_a)<0?{div:new na(0),mod:this}:_a.length===1?ru==="div"?{div:this.divn(_a.words[0]),mod:null}:ru==="mod"?{div:null,mod:new na(this.modn(_a.words[0]))}:{div:this.divn(_a.words[0]),mod:new na(this.modn(_a.words[0]))}:this._wordDiv(_a,ru)},na.prototype.div=function(_a){return this.divmod(_a,"div",!1).div},na.prototype.mod=function(_a){return this.divmod(_a,"mod",!1).mod},na.prototype.umod=function(_a){return this.divmod(_a,"mod",!0).mod},na.prototype.divRound=function(_a){var ru=this.divmod(_a);if(ru.mod.isZero())return ru.div;var nu=ru.div.negative!==0?ru.mod.isub(_a):ru.mod,uu=_a.ushrn(1),lu=_a.andln(1),du=nu.cmp(uu);return du<0||lu===1&&du===0?ru.div:ru.div.negative!==0?ru.div.isubn(1):ru.div.iaddn(1)},na.prototype.modn=function(_a){cs(_a<=67108863);for(var ru=(1<<26)%_a,nu=0,uu=this.length-1;uu>=0;uu--)nu=(ru*nu+(this.words[uu]|0))%_a;return nu},na.prototype.idivn=function(_a){cs(_a<=67108863);for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=(this.words[nu]|0)+ru*67108864;this.words[nu]=uu/_a|0,ru=uu%_a}return this.strip()},na.prototype.divn=function(_a){return this.clone().idivn(_a)},na.prototype.egcd=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=new na(0),mu=new na(1),cu=0;ru.isEven()&&nu.isEven();)ru.iushrn(1),nu.iushrn(1),++cu;for(var eu=nu.clone(),hu=ru.clone();!ru.isZero();){for(var Eu=0,Ru=1;!(ru.words[0]&Ru)&&Eu<26;++Eu,Ru<<=1);if(Eu>0)for(ru.iushrn(Eu);Eu-- >0;)(uu.isOdd()||lu.isOdd())&&(uu.iadd(eu),lu.isub(hu)),uu.iushrn(1),lu.iushrn(1);for(var Tu=0,qu=1;!(nu.words[0]&qu)&&Tu<26;++Tu,qu<<=1);if(Tu>0)for(nu.iushrn(Tu);Tu-- >0;)(du.isOdd()||mu.isOdd())&&(du.iadd(eu),mu.isub(hu)),du.iushrn(1),mu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(du),lu.isub(mu)):(nu.isub(ru),du.isub(uu),mu.isub(lu))}return{a:du,b:mu,gcd:nu.iushln(cu)}},na.prototype._invmp=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=nu.clone();ru.cmpn(1)>0&&nu.cmpn(1)>0;){for(var mu=0,cu=1;!(ru.words[0]&cu)&&mu<26;++mu,cu<<=1);if(mu>0)for(ru.iushrn(mu);mu-- >0;)uu.isOdd()&&uu.iadd(du),uu.iushrn(1);for(var eu=0,hu=1;!(nu.words[0]&hu)&&eu<26;++eu,hu<<=1);if(eu>0)for(nu.iushrn(eu);eu-- >0;)lu.isOdd()&&lu.iadd(du),lu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(lu)):(nu.isub(ru),lu.isub(uu))}var Eu;return ru.cmpn(1)===0?Eu=uu:Eu=lu,Eu.cmpn(0)<0&&Eu.iadd(_a),Eu},na.prototype.gcd=function(_a){if(this.isZero())return _a.abs();if(_a.isZero())return this.abs();var ru=this.clone(),nu=_a.clone();ru.negative=0,nu.negative=0;for(var uu=0;ru.isEven()&&nu.isEven();uu++)ru.iushrn(1),nu.iushrn(1);do{for(;ru.isEven();)ru.iushrn(1);for(;nu.isEven();)nu.iushrn(1);var lu=ru.cmp(nu);if(lu<0){var du=ru;ru=nu,nu=du}else if(lu===0||nu.cmpn(1)===0)break;ru.isub(nu)}while(!0);return nu.iushln(uu)},na.prototype.invm=function(_a){return this.egcd(_a).a.umod(_a)},na.prototype.isEven=function(){return(this.words[0]&1)===0},na.prototype.isOdd=function(){return(this.words[0]&1)===1},na.prototype.andln=function(_a){return this.words[0]&_a},na.prototype.bincn=function(_a){cs(typeof _a=="number");var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return this._expand(nu+1),this.words[nu]|=uu,this;for(var lu=uu,du=nu;lu!==0&&du<this.length;du++){var mu=this.words[du]|0;mu+=lu,lu=mu>>>26,mu&=67108863,this.words[du]=mu}return lu!==0&&(this.words[du]=lu,this.length++),this},na.prototype.isZero=function(){return this.length===1&&this.words[0]===0},na.prototype.cmpn=function(_a){var ru=_a<0;if(this.negative!==0&&!ru)return-1;if(this.negative===0&&ru)return 1;this.strip();var nu;if(this.length>1)nu=1;else{ru&&(_a=-_a),cs(_a<=67108863,"Number is too big");var uu=this.words[0]|0;nu=uu===_a?0:uu<_a?-1:1}return this.negative!==0?-nu|0:nu},na.prototype.cmp=function(_a){if(this.negative!==0&&_a.negative===0)return-1;if(this.negative===0&&_a.negative!==0)return 1;var ru=this.ucmp(_a);return this.negative!==0?-ru|0:ru},na.prototype.ucmp=function(_a){if(this.length>_a.length)return 1;if(this.length<_a.length)return-1;for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=this.words[nu]|0,lu=_a.words[nu]|0;if(uu!==lu){uu<lu?ru=-1:uu>lu&&(ru=1);break}}return ru},na.prototype.gtn=function(_a){return this.cmpn(_a)===1},na.prototype.gt=function(_a){return this.cmp(_a)===1},na.prototype.gten=function(_a){return this.cmpn(_a)>=0},na.prototype.gte=function(_a){return this.cmp(_a)>=0},na.prototype.ltn=function(_a){return this.cmpn(_a)===-1},na.prototype.lt=function(_a){return this.cmp(_a)===-1},na.prototype.lten=function(_a){return this.cmpn(_a)<=0},na.prototype.lte=function(_a){return this.cmp(_a)<=0},na.prototype.eqn=function(_a){return this.cmpn(_a)===0},na.prototype.eq=function(_a){return this.cmp(_a)===0},na.red=function(_a){return new Ou(_a)},na.prototype.toRed=function(_a){return cs(!this.red,"Already a number in reduction context"),cs(this.negative===0,"red works only with positives"),_a.convertTo(this)._forceRed(_a)},na.prototype.fromRed=function(){return cs(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},na.prototype._forceRed=function(_a){return this.red=_a,this},na.prototype.forceRed=function(_a){return cs(!this.red,"Already a number in reduction context"),this._forceRed(_a)},na.prototype.redAdd=function(_a){return cs(this.red,"redAdd works only with red numbers"),this.red.add(this,_a)},na.prototype.redIAdd=function(_a){return cs(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_a)},na.prototype.redSub=function(_a){return cs(this.red,"redSub works only with red numbers"),this.red.sub(this,_a)},na.prototype.redISub=function(_a){return cs(this.red,"redISub works only with red numbers"),this.red.isub(this,_a)},na.prototype.redShl=function(_a){return cs(this.red,"redShl works only with red numbers"),this.red.shl(this,_a)},na.prototype.redMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.mul(this,_a)},na.prototype.redIMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.imul(this,_a)},na.prototype.redSqr=function(){return cs(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},na.prototype.redISqr=function(){return cs(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},na.prototype.redSqrt=function(){return cs(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},na.prototype.redInvm=function(){return cs(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},na.prototype.redNeg=function(){return cs(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},na.prototype.redPow=function(_a){return cs(this.red&&!_a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_a)};var _u={k256:null,p224:null,p192:null,p25519:null};function Mu(yu,_a){this.name=yu,this.p=new na(_a,16),this.n=this.p.bitLength(),this.k=new na(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mu.prototype._tmp=function(){var _a=new na(null);return _a.words=new Array(Math.ceil(this.n/13)),_a},Mu.prototype.ireduce=function(_a){var ru=_a,nu;do this.split(ru,this.tmp),ru=this.imulK(ru),ru=ru.iadd(this.tmp),nu=ru.bitLength();while(nu>this.n);var uu=nu<this.n?-1:ru.ucmp(this.p);return uu===0?(ru.words[0]=0,ru.length=1):uu>0?ru.isub(this.p):ru.strip!==void 0?ru.strip():ru._strip(),ru},Mu.prototype.split=function(_a,ru){_a.iushrn(this.n,0,ru)},Mu.prototype.imulK=function(_a){return _a.imul(this.k)};function Au(){Mu.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$a(Au,Mu),Au.prototype.split=function(_a,ru){for(var nu=4194303,uu=Math.min(_a.length,9),lu=0;lu<uu;lu++)ru.words[lu]=_a.words[lu];if(ru.length=uu,_a.length<=9){_a.words[0]=0,_a.length=1;return}var du=_a.words[9];for(ru.words[ru.length++]=du&nu,lu=10;lu<_a.length;lu++){var mu=_a.words[lu]|0;_a.words[lu-10]=(mu&nu)<<4|du>>>22,du=mu}du>>>=22,_a.words[lu-10]=du,du===0&&_a.length>10?_a.length-=10:_a.length-=9},Au.prototype.imulK=function(_a){_a.words[_a.length]=0,_a.words[_a.length+1]=0,_a.length+=2;for(var ru=0,nu=0;nu<_a.length;nu++){var uu=_a.words[nu]|0;ru+=uu*977,_a.words[nu]=ru&67108863,ru=uu*64+(ru/67108864|0)}return _a.words[_a.length-1]===0&&(_a.length--,_a.words[_a.length-1]===0&&_a.length--),_a};function Pu(){Mu.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$a(Pu,Mu);function Su(){Mu.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$a(Su,Mu);function Bu(){Mu.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$a(Bu,Mu),Bu.prototype.imulK=function(_a){for(var ru=0,nu=0;nu<_a.length;nu++){var uu=(_a.words[nu]|0)*19+ru,lu=uu&67108863;uu>>>=26,_a.words[nu]=lu,ru=uu}return ru!==0&&(_a.words[_a.length++]=ru),_a},na._prime=function(_a){if(_u[_a])return _u[_a];var ru;if(_a==="k256")ru=new Au;else if(_a==="p224")ru=new Pu;else if(_a==="p192")ru=new Su;else if(_a==="p25519")ru=new Bu;else throw new Error("Unknown prime "+_a);return _u[_a]=ru,ru};function Ou(yu){if(typeof yu=="string"){var _a=na._prime(yu);this.m=_a.p,this.prime=_a}else cs(yu.gtn(1),"modulus must be greater than 1"),this.m=yu,this.prime=null}Ou.prototype._verify1=function(_a){cs(_a.negative===0,"red works only with positives"),cs(_a.red,"red works only with red numbers")},Ou.prototype._verify2=function(_a,ru){cs((_a.negative|ru.negative)===0,"red works only with positives"),cs(_a.red&&_a.red===ru.red,"red works only with red numbers")},Ou.prototype.imod=function(_a){return this.prime?this.prime.ireduce(_a)._forceRed(this):_a.umod(this.m)._forceRed(this)},Ou.prototype.neg=function(_a){return _a.isZero()?_a.clone():this.m.sub(_a)._forceRed(this)},Ou.prototype.add=function(_a,ru){this._verify2(_a,ru);var nu=_a.add(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu._forceRed(this)},Ou.prototype.iadd=function(_a,ru){this._verify2(_a,ru);var nu=_a.iadd(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu},Ou.prototype.sub=function(_a,ru){this._verify2(_a,ru);var nu=_a.sub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu._forceRed(this)},Ou.prototype.isub=function(_a,ru){this._verify2(_a,ru);var nu=_a.isub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu},Ou.prototype.shl=function(_a,ru){return this._verify1(_a),this.imod(_a.ushln(ru))},Ou.prototype.imul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.imul(ru))},Ou.prototype.mul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.mul(ru))},Ou.prototype.isqr=function(_a){return this.imul(_a,_a.clone())},Ou.prototype.sqr=function(_a){return this.mul(_a,_a)},Ou.prototype.sqrt=function(_a){if(_a.isZero())return _a.clone();var ru=this.m.andln(3);if(cs(ru%2===1),ru===3){var nu=this.m.add(new na(1)).iushrn(2);return this.pow(_a,nu)}for(var uu=this.m.subn(1),lu=0;!uu.isZero()&&uu.andln(1)===0;)lu++,uu.iushrn(1);cs(!uu.isZero());var du=new na(1).toRed(this),mu=du.redNeg(),cu=this.m.subn(1).iushrn(1),eu=this.m.bitLength();for(eu=new na(2*eu*eu).toRed(this);this.pow(eu,cu).cmp(mu)!==0;)eu.redIAdd(mu);for(var hu=this.pow(eu,uu),Eu=this.pow(_a,uu.addn(1).iushrn(1)),Ru=this.pow(_a,uu),Tu=lu;Ru.cmp(du)!==0;){for(var qu=Ru,Du=0;qu.cmp(du)!==0;Du++)qu=qu.redSqr();cs(Du<Tu);var Iu=this.pow(hu,new na(1).iushln(Tu-Du-1));Eu=Eu.redMul(Iu),hu=Iu.redSqr(),Ru=Ru.redMul(hu),Tu=Du}return Eu},Ou.prototype.invm=function(_a){var ru=_a._invmp(this.m);return ru.negative!==0?(ru.negative=0,this.imod(ru).redNeg()):this.imod(ru)},Ou.prototype.pow=function(_a,ru){if(ru.isZero())return new na(1).toRed(this);if(ru.cmpn(1)===0)return _a.clone();var nu=4,uu=new Array(1<<nu);uu[0]=new na(1).toRed(this),uu[1]=_a;for(var lu=2;lu<uu.length;lu++)uu[lu]=this.mul(uu[lu-1],_a);var du=uu[0],mu=0,cu=0,eu=ru.bitLength()%26;for(eu===0&&(eu=26),lu=ru.length-1;lu>=0;lu--){for(var hu=ru.words[lu],Eu=eu-1;Eu>=0;Eu--){var Ru=hu>>Eu&1;if(du!==uu[0]&&(du=this.sqr(du)),Ru===0&&mu===0){cu=0;continue}mu<<=1,mu|=Ru,cu++,!(cu!==nu&&(lu!==0||Eu!==0))&&(du=this.mul(du,uu[mu]),cu=0,mu=0)}eu=26}return du},Ou.prototype.convertTo=function(_a){var ru=_a.umod(this.m);return ru===_a?ru.clone():ru},Ou.prototype.convertFrom=function(_a){var ru=_a.clone();return ru.red=null,ru},na.mont=function(_a){return new Vu(_a)};function Vu(yu){Ou.call(this,yu),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new na(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$a(Vu,Ou),Vu.prototype.convertTo=function(_a){return this.imod(_a.ushln(this.shift))},Vu.prototype.convertFrom=function(_a){var ru=this.imod(_a.mul(this.rinv));return ru.red=null,ru},Vu.prototype.imul=function(_a,ru){if(_a.isZero()||ru.isZero())return _a.words[0]=0,_a.length=1,_a;var nu=_a.imul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.mul=function(_a,ru){if(_a.isZero()||ru.isZero())return new na(0)._forceRed(this);var nu=_a.mul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.invm=function(_a){var ru=this.imod(_a._invmp(this.m).mul(this.r2));return ru._forceRed(this)}})(ss,commonjsGlobal)}(bn$7)),bn$7.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var ss;brorand.exports=function($a){return ss||(ss=new as(null)),ss.generate($a)};function as(cs){this.rand=cs}if(brorand.exports.Rand=as,as.prototype.generate=function($a){return this._rand($a)},as.prototype._rand=function($a){if(this.rand.getBytes)return this.rand.getBytes($a);for(var na=new Uint8Array($a),tu=0;tu<na.length;tu++)na[tu]=this.rand.getByte();return na},typeof self=="object")self.crypto&&self.crypto.getRandomValues?as.prototype._rand=function($a){var na=new Uint8Array($a);return self.crypto.getRandomValues(na),na}:self.msCrypto&&self.msCrypto.getRandomValues?as.prototype._rand=function($a){var na=new Uint8Array($a);return self.msCrypto.getRandomValues(na),na}:typeof window=="object"&&(as.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var us=requireCryptoBrowserify();if(typeof us.randomBytes!="function")throw new Error("Not supported");as.prototype._rand=function($a){return us.randomBytes($a)}}catch{}return brorand.exports}var mr$3,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$3;hasRequiredMr=1;var ss=requireBn$4(),as=requireBrorand();function us(cs){this.rand=cs||new as.Rand}return mr$3=us,us.create=function($a){return new us($a)},us.prototype._randbelow=function($a){var na=$a.bitLength(),tu=Math.ceil(na/8);do var iu=new ss(this.rand.generate(tu));while(iu.cmp($a)>=0);return iu},us.prototype._randrange=function($a,na){var tu=na.sub($a);return $a.add(this._randbelow(tu))},us.prototype.test=function($a,na,tu){var iu=$a.bitLength(),su=ss.mont($a),au=new ss(1).toRed(su);na||(na=Math.max(1,iu/48|0));for(var ou=$a.subn(1),fu=0;!ou.testn(fu);fu++);for(var pu=$a.shrn(fu),vu=ou.toRed(su),gu=!0;na>0;na--){var bu=this._randrange(new ss(2),ou);tu&&tu(bu);var xu=bu.toRed(su).redPow(pu);if(!(xu.cmp(au)===0||xu.cmp(vu)===0)){for(var $u=1;$u<fu;$u++){if(xu=xu.redSqr(),xu.cmp(au)===0)return!1;if(xu.cmp(vu)===0)break}if($u===fu)return!1}}return gu},us.prototype.getDivisor=function($a,na){var tu=$a.bitLength(),iu=ss.mont($a),su=new ss(1).toRed(iu);na||(na=Math.max(1,tu/48|0));for(var au=$a.subn(1),ou=0;!au.testn(ou);ou++);for(var fu=$a.shrn(ou),pu=au.toRed(iu);na>0;na--){var vu=this._randrange(new ss(2),au),gu=$a.gcd(vu);if(gu.cmpn(1)!==0)return gu;var bu=vu.toRed(iu).redPow(fu);if(!(bu.cmp(su)===0||bu.cmp(pu)===0)){for(var xu=1;xu<ou;xu++){if(bu=bu.redSqr(),bu.cmp(su)===0)return bu.fromRed().subn(1).gcd($a);if(bu.cmp(pu)===0)break}if(xu===ou)return bu=bu.redSqr(),bu.fromRed().subn(1).gcd($a)}}return!1},mr$3}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var ss=requireBrowser$b();generatePrime=xu,xu.simpleSieve=gu,xu.fermatTest=bu;var as=requireBn$5(),us=new as(24),cs=requireMr(),$a=new cs,na=new as(1),tu=new as(2),iu=new as(5);new as(16),new as(8);var su=new as(10),au=new as(3);new as(7);var ou=new as(11),fu=new as(4);new as(12);var pu=null;function vu(){if(pu!==null)return pu;var $u=1048576,wu=[];wu[0]=2;for(var _u=1,Mu=3;Mu<$u;Mu+=2){for(var Au=Math.ceil(Math.sqrt(Mu)),Pu=0;Pu<_u&&wu[Pu]<=Au&&Mu%wu[Pu]!==0;Pu++);_u!==Pu&&wu[Pu]<=Au||(wu[_u++]=Mu)}return pu=wu,wu}function gu($u){for(var wu=vu(),_u=0;_u<wu.length;_u++)if($u.modn(wu[_u])===0)return $u.cmpn(wu[_u])===0;return!0}function bu($u){var wu=as.mont($u);return tu.toRed(wu).redPow($u.subn(1)).fromRed().cmpn(1)===0}function xu($u,wu){if($u<16)return wu===2||wu===5?new as([140,123]):new as([140,39]);wu=new as(wu);for(var _u,Mu;;){for(_u=new as(ss(Math.ceil($u/8)));_u.bitLength()>$u;)_u.ishrn(1);if(_u.isEven()&&_u.iadd(na),_u.testn(1)||_u.iadd(tu),wu.cmp(tu)){if(!wu.cmp(iu))for(;_u.mod(su).cmp(au);)_u.iadd(fu)}else for(;_u.mod(us).cmp(ou);)_u.iadd(fu);if(Mu=_u.shrn(1),gu(Mu)&&gu(_u)&&bu(Mu)&&bu(_u)&&$a.test(Mu)&&$a.test(_u))return _u}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var ss=requireBn$5(),as=requireMr(),us=new as,cs=new ss(24),$a=new ss(11),na=new ss(10),tu=new ss(3),iu=new ss(7),su=requireGeneratePrime(),au=requireBrowser$b();dh=gu;function ou(xu,$u){return $u=$u||"utf8",Buffer$7.isBuffer(xu)||(xu=new Buffer$7(xu,$u)),this._pub=new ss(xu),this}function fu(xu,$u){return $u=$u||"utf8",Buffer$7.isBuffer(xu)||(xu=new Buffer$7(xu,$u)),this._priv=new ss(xu),this}var pu={};function vu(xu,$u){var wu=$u.toString("hex"),_u=[wu,xu.toString(16)].join("_");if(_u in pu)return pu[_u];var Mu=0;if(xu.isEven()||!su.simpleSieve||!su.fermatTest(xu)||!us.test(xu))return Mu+=1,wu==="02"||wu==="05"?Mu+=8:Mu+=4,pu[_u]=Mu,Mu;us.test(xu.shrn(1))||(Mu+=2);var Au;switch(wu){case"02":xu.mod(cs).cmp($a)&&(Mu+=8);break;case"05":Au=xu.mod(na),Au.cmp(tu)&&Au.cmp(iu)&&(Mu+=8);break;default:Mu+=4}return pu[_u]=Mu,Mu}function gu(xu,$u,wu){this.setGenerator($u),this.__prime=new ss(xu),this._prime=ss.mont(this.__prime),this._primeLen=xu.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,wu?(this.setPublicKey=ou,this.setPrivateKey=fu):this._primeCode=8}Object.defineProperty(gu.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=vu(this.__prime,this.__gen)),this._primeCode}}),gu.prototype.generateKeys=function(){return this._priv||(this._priv=new ss(au(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},gu.prototype.computeSecret=function(xu){xu=new ss(xu),xu=xu.toRed(this._prime);var $u=xu.redPow(this._priv).fromRed(),wu=new Buffer$7($u.toArray()),_u=this.getPrime();if(wu.length<_u.length){var Mu=new Buffer$7(_u.length-wu.length);Mu.fill(0),wu=Buffer$7.concat([Mu,wu])}return wu},gu.prototype.getPublicKey=function($u){return bu(this._pub,$u)},gu.prototype.getPrivateKey=function($u){return bu(this._priv,$u)},gu.prototype.getPrime=function(xu){return bu(this.__prime,xu)},gu.prototype.getGenerator=function(xu){return bu(this._gen,xu)},gu.prototype.setGenerator=function(xu,$u){return $u=$u||"utf8",Buffer$7.isBuffer(xu)||(xu=new Buffer$7(xu,$u)),this.__gen=xu,this._gen=new ss(xu),this};function bu(xu,$u){var wu=new Buffer$7(xu.toArray());return $u?wu.toString($u):wu}return dh}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var ss=requireGeneratePrime(),as=require$$1$1,us=requireDh();function cs(tu){var iu=new Buffer$7(as[tu].prime,"hex"),su=new Buffer$7(as[tu].gen,"hex");return new us(iu,su)}var $a={binary:!0,hex:!0,base64:!0};function na(tu,iu,su,au){return Buffer$7.isBuffer(iu)||$a[iu]===void 0?na(tu,"binary",iu,su):(iu=iu||"binary",au=au||"binary",su=su||new Buffer$7([2]),Buffer$7.isBuffer(su)||(su=new Buffer$7(su,au)),typeof tu=="number"?new us(ss(tu,su),su,!0):(Buffer$7.isBuffer(tu)||(tu=new Buffer$7(tu,iu)),new us(tu,su,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=cs,browser$6.createDiffieHellman=browser$6.DiffieHellman=na,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:ss}:processNextickArgs.exports=process$1;function ss(as,us,cs,$a){if(typeof as!="function")throw new TypeError('"callback" argument must be a function');var na=arguments.length,tu,iu;switch(na){case 0:case 1:return process$1.nextTick(as);case 2:return process$1.nextTick(function(){as.call(null,us)});case 3:return process$1.nextTick(function(){as.call(null,us,cs)});case 4:return process$1.nextTick(function(){as.call(null,us,cs,$a)});default:for(tu=new Array(na-1),iu=0;iu<tu.length;)tu[iu++]=arguments[iu];return process$1.nextTick(function(){as.apply(null,tu)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var ss={}.toString;return isarray=Array.isArray||function(as){return ss.call(as)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(ss,as){var us=require$$0$3,cs=us.Buffer;function $a(tu,iu){for(var su in tu)iu[su]=tu[su]}cs.from&&cs.alloc&&cs.allocUnsafe&&cs.allocUnsafeSlow?ss.exports=us:($a(us,as),as.Buffer=na);function na(tu,iu,su){return cs(tu,iu,su)}$a(cs,na),na.from=function(tu,iu,su){if(typeof tu=="number")throw new TypeError("Argument must not be a number");return cs(tu,iu,su)},na.alloc=function(tu,iu,su){if(typeof tu!="number")throw new TypeError("Argument must be a number");var au=cs(tu);return iu!==void 0?typeof su=="string"?au.fill(iu,su):au.fill(iu):au.fill(0),au},na.allocUnsafe=function(tu){if(typeof tu!="number")throw new TypeError("Argument must be a number");return cs(tu)},na.allocUnsafeSlow=function(tu){if(typeof tu!="number")throw new TypeError("Argument must be a number");return us.SlowBuffer(tu)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function ss(bu){return Array.isArray?Array.isArray(bu):gu(bu)==="[object Array]"}util.isArray=ss;function as(bu){return typeof bu=="boolean"}util.isBoolean=as;function us(bu){return bu===null}util.isNull=us;function cs(bu){return bu==null}util.isNullOrUndefined=cs;function $a(bu){return typeof bu=="number"}util.isNumber=$a;function na(bu){return typeof bu=="string"}util.isString=na;function tu(bu){return typeof bu=="symbol"}util.isSymbol=tu;function iu(bu){return bu===void 0}util.isUndefined=iu;function su(bu){return gu(bu)==="[object RegExp]"}util.isRegExp=su;function au(bu){return typeof bu=="object"&&bu!==null}util.isObject=au;function ou(bu){return gu(bu)==="[object Date]"}util.isDate=ou;function fu(bu){return gu(bu)==="[object Error]"||bu instanceof Error}util.isError=fu;function pu(bu){return typeof bu=="function"}util.isFunction=pu;function vu(bu){return bu===null||typeof bu=="boolean"||typeof bu=="number"||typeof bu=="string"||typeof bu=="symbol"||typeof bu>"u"}util.isPrimitive=vu,util.isBuffer=require$$0$3.Buffer.isBuffer;function gu(bu){return Object.prototype.toString.call(bu)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(ss){function as(na,tu){if(!(na instanceof tu))throw new TypeError("Cannot call a class as a function")}var us=requireSafeBuffer().Buffer,cs=util$1;function $a(na,tu,iu){na.copy(tu,iu)}ss.exports=function(){function na(){as(this,na),this.head=null,this.tail=null,this.length=0}return na.prototype.push=function(iu){var su={data:iu,next:null};this.length>0?this.tail.next=su:this.head=su,this.tail=su,++this.length},na.prototype.unshift=function(iu){var su={data:iu,next:this.head};this.length===0&&(this.tail=su),this.head=su,++this.length},na.prototype.shift=function(){if(this.length!==0){var iu=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,iu}},na.prototype.clear=function(){this.head=this.tail=null,this.length=0},na.prototype.join=function(iu){if(this.length===0)return"";for(var su=this.head,au=""+su.data;su=su.next;)au+=iu+su.data;return au},na.prototype.concat=function(iu){if(this.length===0)return us.alloc(0);for(var su=us.allocUnsafe(iu>>>0),au=this.head,ou=0;au;)$a(au.data,su,ou),ou+=au.data.length,au=au.next;return su},na}(),cs&&cs.inspect&&cs.inspect.custom&&(ss.exports.prototype[cs.inspect.custom]=function(){var na=cs.inspect({length:this.length});return this.constructor.name+" "+na})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var ss=requireProcessNextickArgs();function as($a,na){var tu=this,iu=this._readableState&&this._readableState.destroyed,su=this._writableState&&this._writableState.destroyed;return iu||su?(na?na($a):$a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ss.nextTick(cs,this,$a)):ss.nextTick(cs,this,$a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy($a||null,function(au){!na&&au?tu._writableState?tu._writableState.errorEmitted||(tu._writableState.errorEmitted=!0,ss.nextTick(cs,tu,au)):ss.nextTick(cs,tu,au):na&&na(au)}),this)}function us(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function cs($a,na){$a.emit("error",na)}return destroy_1={destroy:as,undestroy:us},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var ss=requireProcessNextickArgs();_stream_writable=bu;function as(du){var mu=this;this.next=null,this.entry=null,this.finish=function(){lu(mu,du)}}var us=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:ss.nextTick,cs;bu.WritableState=vu;var $a=Object.create(requireUtil());$a.inherits=inherits_browserExports;var na={deprecate:browser$c},tu=requireStreamBrowser(),iu=requireSafeBuffer().Buffer,su=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function au(du){return iu.from(du)}function ou(du){return iu.isBuffer(du)||du instanceof su}var fu=requireDestroy();$a.inherits(bu,tu);function pu(){}function vu(du,mu){cs=cs||require_stream_duplex(),du=du||{};var cu=mu instanceof cs;this.objectMode=!!du.objectMode,cu&&(this.objectMode=this.objectMode||!!du.writableObjectMode);var eu=du.highWaterMark,hu=du.writableHighWaterMark,Eu=this.objectMode?16:16*1024;eu||eu===0?this.highWaterMark=eu:cu&&(hu||hu===0)?this.highWaterMark=hu:this.highWaterMark=Eu,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ru=du.decodeStrings===!1;this.decodeStrings=!Ru,this.defaultEncoding=du.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Tu){Su(mu,Tu)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new as(this)}vu.prototype.getBuffer=function(){for(var mu=this.bufferedRequest,cu=[];mu;)cu.push(mu),mu=mu.next;return cu},function(){try{Object.defineProperty(vu.prototype,"buffer",{get:na.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var gu;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gu=Function.prototype[Symbol.hasInstance],Object.defineProperty(bu,Symbol.hasInstance,{value:function(du){return gu.call(this,du)?!0:this!==bu?!1:du&&du._writableState instanceof vu}})):gu=function(du){return du instanceof this};function bu(du){if(cs=cs||require_stream_duplex(),!gu.call(bu,this)&&!(this instanceof cs))return new bu(du);this._writableState=new vu(du,this),this.writable=!0,du&&(typeof du.write=="function"&&(this._write=du.write),typeof du.writev=="function"&&(this._writev=du.writev),typeof du.destroy=="function"&&(this._destroy=du.destroy),typeof du.final=="function"&&(this._final=du.final)),tu.call(this)}bu.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function xu(du,mu){var cu=new Error("write after end");du.emit("error",cu),ss.nextTick(mu,cu)}function $u(du,mu,cu,eu){var hu=!0,Eu=!1;return cu===null?Eu=new TypeError("May not write null values to stream"):typeof cu!="string"&&cu!==void 0&&!mu.objectMode&&(Eu=new TypeError("Invalid non-string/buffer chunk")),Eu&&(du.emit("error",Eu),ss.nextTick(eu,Eu),hu=!1),hu}bu.prototype.write=function(du,mu,cu){var eu=this._writableState,hu=!1,Eu=!eu.objectMode&&ou(du);return Eu&&!iu.isBuffer(du)&&(du=au(du)),typeof mu=="function"&&(cu=mu,mu=null),Eu?mu="buffer":mu||(mu=eu.defaultEncoding),typeof cu!="function"&&(cu=pu),eu.ended?xu(this,cu):(Eu||$u(this,eu,du,cu))&&(eu.pendingcb++,hu=_u(this,eu,Eu,du,mu,cu)),hu},bu.prototype.cork=function(){var du=this._writableState;du.corked++},bu.prototype.uncork=function(){var du=this._writableState;du.corked&&(du.corked--,!du.writing&&!du.corked&&!du.bufferProcessing&&du.bufferedRequest&&Vu(this,du))},bu.prototype.setDefaultEncoding=function(mu){if(typeof mu=="string"&&(mu=mu.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((mu+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+mu);return this._writableState.defaultEncoding=mu,this};function wu(du,mu,cu){return!du.objectMode&&du.decodeStrings!==!1&&typeof mu=="string"&&(mu=iu.from(mu,cu)),mu}Object.defineProperty(bu.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _u(du,mu,cu,eu,hu,Eu){if(!cu){var Ru=wu(mu,eu,hu);eu!==Ru&&(cu=!0,hu="buffer",eu=Ru)}var Tu=mu.objectMode?1:eu.length;mu.length+=Tu;var qu=mu.length<mu.highWaterMark;if(qu||(mu.needDrain=!0),mu.writing||mu.corked){var Du=mu.lastBufferedRequest;mu.lastBufferedRequest={chunk:eu,encoding:hu,isBuf:cu,callback:Eu,next:null},Du?Du.next=mu.lastBufferedRequest:mu.bufferedRequest=mu.lastBufferedRequest,mu.bufferedRequestCount+=1}else Mu(du,mu,!1,Tu,eu,hu,Eu);return qu}function Mu(du,mu,cu,eu,hu,Eu,Ru){mu.writelen=eu,mu.writecb=Ru,mu.writing=!0,mu.sync=!0,cu?du._writev(hu,mu.onwrite):du._write(hu,Eu,mu.onwrite),mu.sync=!1}function Au(du,mu,cu,eu,hu){--mu.pendingcb,cu?(ss.nextTick(hu,eu),ss.nextTick(nu,du,mu),du._writableState.errorEmitted=!0,du.emit("error",eu)):(hu(eu),du._writableState.errorEmitted=!0,du.emit("error",eu),nu(du,mu))}function Pu(du){du.writing=!1,du.writecb=null,du.length-=du.writelen,du.writelen=0}function Su(du,mu){var cu=du._writableState,eu=cu.sync,hu=cu.writecb;if(Pu(cu),mu)Au(du,cu,eu,mu,hu);else{var Eu=yu(cu);!Eu&&!cu.corked&&!cu.bufferProcessing&&cu.bufferedRequest&&Vu(du,cu),eu?us(Bu,du,cu,Eu,hu):Bu(du,cu,Eu,hu)}}function Bu(du,mu,cu,eu){cu||Ou(du,mu),mu.pendingcb--,eu(),nu(du,mu)}function Ou(du,mu){mu.length===0&&mu.needDrain&&(mu.needDrain=!1,du.emit("drain"))}function Vu(du,mu){mu.bufferProcessing=!0;var cu=mu.bufferedRequest;if(du._writev&&cu&&cu.next){var eu=mu.bufferedRequestCount,hu=new Array(eu),Eu=mu.corkedRequestsFree;Eu.entry=cu;for(var Ru=0,Tu=!0;cu;)hu[Ru]=cu,cu.isBuf||(Tu=!1),cu=cu.next,Ru+=1;hu.allBuffers=Tu,Mu(du,mu,!0,mu.length,hu,"",Eu.finish),mu.pendingcb++,mu.lastBufferedRequest=null,Eu.next?(mu.corkedRequestsFree=Eu.next,Eu.next=null):mu.corkedRequestsFree=new as(mu),mu.bufferedRequestCount=0}else{for(;cu;){var qu=cu.chunk,Du=cu.encoding,Iu=cu.callback,Lu=mu.objectMode?1:qu.length;if(Mu(du,mu,!1,Lu,qu,Du,Iu),cu=cu.next,mu.bufferedRequestCount--,mu.writing)break}cu===null&&(mu.lastBufferedRequest=null)}mu.bufferedRequest=cu,mu.bufferProcessing=!1}bu.prototype._write=function(du,mu,cu){cu(new Error("_write() is not implemented"))},bu.prototype._writev=null,bu.prototype.end=function(du,mu,cu){var eu=this._writableState;typeof du=="function"?(cu=du,du=null,mu=null):typeof mu=="function"&&(cu=mu,mu=null),du!=null&&this.write(du,mu),eu.corked&&(eu.corked=1,this.uncork()),eu.ending||uu(this,eu,cu)};function yu(du){return du.ending&&du.length===0&&du.bufferedRequest===null&&!du.finished&&!du.writing}function _a(du,mu){du._final(function(cu){mu.pendingcb--,cu&&du.emit("error",cu),mu.prefinished=!0,du.emit("prefinish"),nu(du,mu)})}function ru(du,mu){!mu.prefinished&&!mu.finalCalled&&(typeof du._final=="function"?(mu.pendingcb++,mu.finalCalled=!0,ss.nextTick(_a,du,mu)):(mu.prefinished=!0,du.emit("prefinish")))}function nu(du,mu){var cu=yu(mu);return cu&&(ru(du,mu),mu.pendingcb===0&&(mu.finished=!0,du.emit("finish"))),cu}function uu(du,mu,cu){mu.ending=!0,nu(du,mu),cu&&(mu.finished?ss.nextTick(cu):du.once("finish",cu)),mu.ended=!0,du.writable=!1}function lu(du,mu,cu){var eu=du.entry;for(du.entry=null;eu;){var hu=eu.callback;mu.pendingcb--,hu(cu),eu=eu.next}mu.corkedRequestsFree.next=du}return Object.defineProperty(bu.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(du){this._writableState&&(this._writableState.destroyed=du)}}),bu.prototype.destroy=fu.destroy,bu.prototype._undestroy=fu.undestroy,bu.prototype._destroy=function(du,mu){this.end(),mu(du)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var ss=requireProcessNextickArgs(),as=Object.keys||function(fu){var pu=[];for(var vu in fu)pu.push(vu);return pu};_stream_duplex=su;var us=Object.create(requireUtil());us.inherits=inherits_browserExports;var cs=require_stream_readable(),$a=require_stream_writable();us.inherits(su,cs);for(var na=as($a.prototype),tu=0;tu<na.length;tu++){var iu=na[tu];su.prototype[iu]||(su.prototype[iu]=$a.prototype[iu])}function su(fu){if(!(this instanceof su))return new su(fu);cs.call(this,fu),$a.call(this,fu),fu&&fu.readable===!1&&(this.readable=!1),fu&&fu.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,fu&&fu.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",au)}Object.defineProperty(su.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function au(){this.allowHalfOpen||this._writableState.ended||ss.nextTick(ou,this)}function ou(fu){fu.end()}return Object.defineProperty(su.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(fu){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=fu,this._writableState.destroyed=fu)}}),su.prototype._destroy=function(fu,pu){this.push(null),this.end(),ss.nextTick(pu,fu)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var ss=requireProcessNextickArgs();_stream_readable=wu;var as=requireIsarray(),us;wu.ReadableState=$u,eventsExports.EventEmitter;var cs=function(Iu,Lu){return Iu.listeners(Lu).length},$a=requireStreamBrowser(),na=requireSafeBuffer().Buffer,tu=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function iu(Iu){return na.from(Iu)}function su(Iu){return na.isBuffer(Iu)||Iu instanceof tu}var au=Object.create(requireUtil());au.inherits=inherits_browserExports;var ou=util$1,fu=void 0;ou&&ou.debuglog?fu=ou.debuglog("stream"):fu=function(){};var pu=requireBufferList(),vu=requireDestroy(),gu;au.inherits(wu,$a);var bu=["error","close","destroy","pause","resume"];function xu(Iu,Lu,Uu){if(typeof Iu.prependListener=="function")return Iu.prependListener(Lu,Uu);!Iu._events||!Iu._events[Lu]?Iu.on(Lu,Uu):as(Iu._events[Lu])?Iu._events[Lu].unshift(Uu):Iu._events[Lu]=[Uu,Iu._events[Lu]]}function $u(Iu,Lu){us=us||require_stream_duplex(),Iu=Iu||{};var Uu=Lu instanceof us;this.objectMode=!!Iu.objectMode,Uu&&(this.objectMode=this.objectMode||!!Iu.readableObjectMode);var Hu=Iu.highWaterMark,zu=Iu.readableHighWaterMark,ju=this.objectMode?16:16*1024;Hu||Hu===0?this.highWaterMark=Hu:Uu&&(zu||zu===0)?this.highWaterMark=zu:this.highWaterMark=ju,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new pu,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Iu.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Iu.encoding&&(gu||(gu=requireString_decoder().StringDecoder),this.decoder=new gu(Iu.encoding),this.encoding=Iu.encoding)}function wu(Iu){if(us=us||require_stream_duplex(),!(this instanceof wu))return new wu(Iu);this._readableState=new $u(Iu,this),this.readable=!0,Iu&&(typeof Iu.read=="function"&&(this._read=Iu.read),typeof Iu.destroy=="function"&&(this._destroy=Iu.destroy)),$a.call(this)}Object.defineProperty(wu.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Iu){this._readableState&&(this._readableState.destroyed=Iu)}}),wu.prototype.destroy=vu.destroy,wu.prototype._undestroy=vu.undestroy,wu.prototype._destroy=function(Iu,Lu){this.push(null),Lu(Iu)},wu.prototype.push=function(Iu,Lu){var Uu=this._readableState,Hu;return Uu.objectMode?Hu=!0:typeof Iu=="string"&&(Lu=Lu||Uu.defaultEncoding,Lu!==Uu.encoding&&(Iu=na.from(Iu,Lu),Lu=""),Hu=!0),_u(this,Iu,Lu,!1,Hu)},wu.prototype.unshift=function(Iu){return _u(this,Iu,null,!0,!1)};function _u(Iu,Lu,Uu,Hu,zu){var ju=Iu._readableState;if(Lu===null)ju.reading=!1,Vu(Iu,ju);else{var Wu;zu||(Wu=Au(ju,Lu)),Wu?Iu.emit("error",Wu):ju.objectMode||Lu&&Lu.length>0?(typeof Lu!="string"&&!ju.objectMode&&Object.getPrototypeOf(Lu)!==na.prototype&&(Lu=iu(Lu)),Hu?ju.endEmitted?Iu.emit("error",new Error("stream.unshift() after end event")):Mu(Iu,ju,Lu,!0):ju.ended?Iu.emit("error",new Error("stream.push() after EOF")):(ju.reading=!1,ju.decoder&&!Uu?(Lu=ju.decoder.write(Lu),ju.objectMode||Lu.length!==0?Mu(Iu,ju,Lu,!1):ru(Iu,ju)):Mu(Iu,ju,Lu,!1))):Hu||(ju.reading=!1)}return Pu(ju)}function Mu(Iu,Lu,Uu,Hu){Lu.flowing&&Lu.length===0&&!Lu.sync?(Iu.emit("data",Uu),Iu.read(0)):(Lu.length+=Lu.objectMode?1:Uu.length,Hu?Lu.buffer.unshift(Uu):Lu.buffer.push(Uu),Lu.needReadable&&yu(Iu)),ru(Iu,Lu)}function Au(Iu,Lu){var Uu;return!su(Lu)&&typeof Lu!="string"&&Lu!==void 0&&!Iu.objectMode&&(Uu=new TypeError("Invalid non-string/buffer chunk")),Uu}function Pu(Iu){return!Iu.ended&&(Iu.needReadable||Iu.length<Iu.highWaterMark||Iu.length===0)}wu.prototype.isPaused=function(){return this._readableState.flowing===!1},wu.prototype.setEncoding=function(Iu){return gu||(gu=requireString_decoder().StringDecoder),this._readableState.decoder=new gu(Iu),this._readableState.encoding=Iu,this};var Su=8388608;function Bu(Iu){return Iu>=Su?Iu=Su:(Iu--,Iu|=Iu>>>1,Iu|=Iu>>>2,Iu|=Iu>>>4,Iu|=Iu>>>8,Iu|=Iu>>>16,Iu++),Iu}function Ou(Iu,Lu){return Iu<=0||Lu.length===0&&Lu.ended?0:Lu.objectMode?1:Iu!==Iu?Lu.flowing&&Lu.length?Lu.buffer.head.data.length:Lu.length:(Iu>Lu.highWaterMark&&(Lu.highWaterMark=Bu(Iu)),Iu<=Lu.length?Iu:Lu.ended?Lu.length:(Lu.needReadable=!0,0))}wu.prototype.read=function(Iu){fu("read",Iu),Iu=parseInt(Iu,10);var Lu=this._readableState,Uu=Iu;if(Iu!==0&&(Lu.emittedReadable=!1),Iu===0&&Lu.needReadable&&(Lu.length>=Lu.highWaterMark||Lu.ended))return fu("read: emitReadable",Lu.length,Lu.ended),Lu.length===0&&Lu.ended?Tu(this):yu(this),null;if(Iu=Ou(Iu,Lu),Iu===0&&Lu.ended)return Lu.length===0&&Tu(this),null;var Hu=Lu.needReadable;fu("need readable",Hu),(Lu.length===0||Lu.length-Iu<Lu.highWaterMark)&&(Hu=!0,fu("length less than watermark",Hu)),Lu.ended||Lu.reading?(Hu=!1,fu("reading or ended",Hu)):Hu&&(fu("do read"),Lu.reading=!0,Lu.sync=!0,Lu.length===0&&(Lu.needReadable=!0),this._read(Lu.highWaterMark),Lu.sync=!1,Lu.reading||(Iu=Ou(Uu,Lu)));var zu;return Iu>0?zu=eu(Iu,Lu):zu=null,zu===null?(Lu.needReadable=!0,Iu=0):Lu.length-=Iu,Lu.length===0&&(Lu.ended||(Lu.needReadable=!0),Uu!==Iu&&Lu.ended&&Tu(this)),zu!==null&&this.emit("data",zu),zu};function Vu(Iu,Lu){if(!Lu.ended){if(Lu.decoder){var Uu=Lu.decoder.end();Uu&&Uu.length&&(Lu.buffer.push(Uu),Lu.length+=Lu.objectMode?1:Uu.length)}Lu.ended=!0,yu(Iu)}}function yu(Iu){var Lu=Iu._readableState;Lu.needReadable=!1,Lu.emittedReadable||(fu("emitReadable",Lu.flowing),Lu.emittedReadable=!0,Lu.sync?ss.nextTick(_a,Iu):_a(Iu))}function _a(Iu){fu("emit readable"),Iu.emit("readable"),cu(Iu)}function ru(Iu,Lu){Lu.readingMore||(Lu.readingMore=!0,ss.nextTick(nu,Iu,Lu))}function nu(Iu,Lu){for(var Uu=Lu.length;!Lu.reading&&!Lu.flowing&&!Lu.ended&&Lu.length<Lu.highWaterMark&&(fu("maybeReadMore read 0"),Iu.read(0),Uu!==Lu.length);)Uu=Lu.length;Lu.readingMore=!1}wu.prototype._read=function(Iu){this.emit("error",new Error("_read() is not implemented"))},wu.prototype.pipe=function(Iu,Lu){var Uu=this,Hu=this._readableState;switch(Hu.pipesCount){case 0:Hu.pipes=Iu;break;case 1:Hu.pipes=[Hu.pipes,Iu];break;default:Hu.pipes.push(Iu);break}Hu.pipesCount+=1,fu("pipe count=%d opts=%j",Hu.pipesCount,Lu);var zu=(!Lu||Lu.end!==!1)&&Iu!==process$1.stdout&&Iu!==process$1.stderr,ju=zu?Dl:Ql;Hu.endEmitted?ss.nextTick(ju):Uu.once("end",ju),Iu.on("unpipe",Wu);function Wu(Xu,$l){fu("onunpipe"),Xu===Uu&&$l&&$l.hasUnpiped===!1&&($l.hasUnpiped=!0,Vl())}function Dl(){fu("onend"),Iu.end()}var Zu=uu(Uu);Iu.on("drain",Zu);var Yu=!1;function Vl(){fu("cleanup"),Iu.removeListener("close",yl),Iu.removeListener("finish",Sl),Iu.removeListener("drain",Zu),Iu.removeListener("error",Gl),Iu.removeListener("unpipe",Wu),Uu.removeListener("end",Dl),Uu.removeListener("end",Ql),Uu.removeListener("data",Qu),Yu=!0,Hu.awaitDrain&&(!Iu._writableState||Iu._writableState.needDrain)&&Zu()}var _l=!1;Uu.on("data",Qu);function Qu(Xu){fu("ondata"),_l=!1;var $l=Iu.write(Xu);$l===!1&&!_l&&((Hu.pipesCount===1&&Hu.pipes===Iu||Hu.pipesCount>1&&Du(Hu.pipes,Iu)!==-1)&&!Yu&&(fu("false write response, pause",Hu.awaitDrain),Hu.awaitDrain++,_l=!0),Uu.pause())}function Gl(Xu){fu("onerror",Xu),Ql(),Iu.removeListener("error",Gl),cs(Iu,"error")===0&&Iu.emit("error",Xu)}xu(Iu,"error",Gl);function yl(){Iu.removeListener("finish",Sl),Ql()}Iu.once("close",yl);function Sl(){fu("onfinish"),Iu.removeListener("close",yl),Ql()}Iu.once("finish",Sl);function Ql(){fu("unpipe"),Uu.unpipe(Iu)}return Iu.emit("pipe",Uu),Hu.flowing||(fu("pipe resume"),Uu.resume()),Iu};function uu(Iu){return function(){var Lu=Iu._readableState;fu("pipeOnDrain",Lu.awaitDrain),Lu.awaitDrain&&Lu.awaitDrain--,Lu.awaitDrain===0&&cs(Iu,"data")&&(Lu.flowing=!0,cu(Iu))}}wu.prototype.unpipe=function(Iu){var Lu=this._readableState,Uu={hasUnpiped:!1};if(Lu.pipesCount===0)return this;if(Lu.pipesCount===1)return Iu&&Iu!==Lu.pipes?this:(Iu||(Iu=Lu.pipes),Lu.pipes=null,Lu.pipesCount=0,Lu.flowing=!1,Iu&&Iu.emit("unpipe",this,Uu),this);if(!Iu){var Hu=Lu.pipes,zu=Lu.pipesCount;Lu.pipes=null,Lu.pipesCount=0,Lu.flowing=!1;for(var ju=0;ju<zu;ju++)Hu[ju].emit("unpipe",this,{hasUnpiped:!1});return this}var Wu=Du(Lu.pipes,Iu);return Wu===-1?this:(Lu.pipes.splice(Wu,1),Lu.pipesCount-=1,Lu.pipesCount===1&&(Lu.pipes=Lu.pipes[0]),Iu.emit("unpipe",this,Uu),this)},wu.prototype.on=function(Iu,Lu){var Uu=$a.prototype.on.call(this,Iu,Lu);if(Iu==="data")this._readableState.flowing!==!1&&this.resume();else if(Iu==="readable"){var Hu=this._readableState;!Hu.endEmitted&&!Hu.readableListening&&(Hu.readableListening=Hu.needReadable=!0,Hu.emittedReadable=!1,Hu.reading?Hu.length&&yu(this):ss.nextTick(lu,this))}return Uu},wu.prototype.addListener=wu.prototype.on;function lu(Iu){fu("readable nexttick read 0"),Iu.read(0)}wu.prototype.resume=function(){var Iu=this._readableState;return Iu.flowing||(fu("resume"),Iu.flowing=!0,du(this,Iu)),this};function du(Iu,Lu){Lu.resumeScheduled||(Lu.resumeScheduled=!0,ss.nextTick(mu,Iu,Lu))}function mu(Iu,Lu){Lu.reading||(fu("resume read 0"),Iu.read(0)),Lu.resumeScheduled=!1,Lu.awaitDrain=0,Iu.emit("resume"),cu(Iu),Lu.flowing&&!Lu.reading&&Iu.read(0)}wu.prototype.pause=function(){return fu("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(fu("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function cu(Iu){var Lu=Iu._readableState;for(fu("flow",Lu.flowing);Lu.flowing&&Iu.read()!==null;);}wu.prototype.wrap=function(Iu){var Lu=this,Uu=this._readableState,Hu=!1;Iu.on("end",function(){if(fu("wrapped end"),Uu.decoder&&!Uu.ended){var Wu=Uu.decoder.end();Wu&&Wu.length&&Lu.push(Wu)}Lu.push(null)}),Iu.on("data",function(Wu){if(fu("wrapped data"),Uu.decoder&&(Wu=Uu.decoder.write(Wu)),!(Uu.objectMode&&Wu==null)&&!(!Uu.objectMode&&(!Wu||!Wu.length))){var Dl=Lu.push(Wu);Dl||(Hu=!0,Iu.pause())}});for(var zu in Iu)this[zu]===void 0&&typeof Iu[zu]=="function"&&(this[zu]=function(Wu){return function(){return Iu[Wu].apply(Iu,arguments)}}(zu));for(var ju=0;ju<bu.length;ju++)Iu.on(bu[ju],this.emit.bind(this,bu[ju]));return this._read=function(Wu){fu("wrapped _read",Wu),Hu&&(Hu=!1,Iu.resume())},this},Object.defineProperty(wu.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),wu._fromList=eu;function eu(Iu,Lu){if(Lu.length===0)return null;var Uu;return Lu.objectMode?Uu=Lu.buffer.shift():!Iu||Iu>=Lu.length?(Lu.decoder?Uu=Lu.buffer.join(""):Lu.buffer.length===1?Uu=Lu.buffer.head.data:Uu=Lu.buffer.concat(Lu.length),Lu.buffer.clear()):Uu=hu(Iu,Lu.buffer,Lu.decoder),Uu}function hu(Iu,Lu,Uu){var Hu;return Iu<Lu.head.data.length?(Hu=Lu.head.data.slice(0,Iu),Lu.head.data=Lu.head.data.slice(Iu)):Iu===Lu.head.data.length?Hu=Lu.shift():Hu=Uu?Eu(Iu,Lu):Ru(Iu,Lu),Hu}function Eu(Iu,Lu){var Uu=Lu.head,Hu=1,zu=Uu.data;for(Iu-=zu.length;Uu=Uu.next;){var ju=Uu.data,Wu=Iu>ju.length?ju.length:Iu;if(Wu===ju.length?zu+=ju:zu+=ju.slice(0,Iu),Iu-=Wu,Iu===0){Wu===ju.length?(++Hu,Uu.next?Lu.head=Uu.next:Lu.head=Lu.tail=null):(Lu.head=Uu,Uu.data=ju.slice(Wu));break}++Hu}return Lu.length-=Hu,zu}function Ru(Iu,Lu){var Uu=na.allocUnsafe(Iu),Hu=Lu.head,zu=1;for(Hu.data.copy(Uu),Iu-=Hu.data.length;Hu=Hu.next;){var ju=Hu.data,Wu=Iu>ju.length?ju.length:Iu;if(ju.copy(Uu,Uu.length-Iu,0,Wu),Iu-=Wu,Iu===0){Wu===ju.length?(++zu,Hu.next?Lu.head=Hu.next:Lu.head=Lu.tail=null):(Lu.head=Hu,Hu.data=ju.slice(Wu));break}++zu}return Lu.length-=zu,Uu}function Tu(Iu){var Lu=Iu._readableState;if(Lu.length>0)throw new Error('"endReadable()" called on non-empty stream');Lu.endEmitted||(Lu.ended=!0,ss.nextTick(qu,Lu,Iu))}function qu(Iu,Lu){!Iu.endEmitted&&Iu.length===0&&(Iu.endEmitted=!0,Lu.readable=!1,Lu.emit("end"))}function Du(Iu,Lu){for(var Uu=0,Hu=Iu.length;Uu<Hu;Uu++)if(Iu[Uu]===Lu)return Uu;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=cs;var ss=require_stream_duplex(),as=Object.create(requireUtil());as.inherits=inherits_browserExports,as.inherits(cs,ss);function us(tu,iu){var su=this._transformState;su.transforming=!1;var au=su.writecb;if(!au)return this.emit("error",new Error("write callback called multiple times"));su.writechunk=null,su.writecb=null,iu!=null&&this.push(iu),au(tu);var ou=this._readableState;ou.reading=!1,(ou.needReadable||ou.length<ou.highWaterMark)&&this._read(ou.highWaterMark)}function cs(tu){if(!(this instanceof cs))return new cs(tu);ss.call(this,tu),this._transformState={afterTransform:us.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,tu&&(typeof tu.transform=="function"&&(this._transform=tu.transform),typeof tu.flush=="function"&&(this._flush=tu.flush)),this.on("prefinish",$a)}function $a(){var tu=this;typeof this._flush=="function"?this._flush(function(iu,su){na(tu,iu,su)}):na(this,null,null)}cs.prototype.push=function(tu,iu){return this._transformState.needTransform=!1,ss.prototype.push.call(this,tu,iu)},cs.prototype._transform=function(tu,iu,su){throw new Error("_transform() is not implemented")},cs.prototype._write=function(tu,iu,su){var au=this._transformState;if(au.writecb=su,au.writechunk=tu,au.writeencoding=iu,!au.transforming){var ou=this._readableState;(au.needTransform||ou.needReadable||ou.length<ou.highWaterMark)&&this._read(ou.highWaterMark)}},cs.prototype._read=function(tu){var iu=this._transformState;iu.writechunk!==null&&iu.writecb&&!iu.transforming?(iu.transforming=!0,this._transform(iu.writechunk,iu.writeencoding,iu.afterTransform)):iu.needTransform=!0},cs.prototype._destroy=function(tu,iu){var su=this;ss.prototype._destroy.call(this,tu,function(au){iu(au),su.emit("close")})};function na(tu,iu,su){if(iu)return tu.emit("error",iu);if(su!=null&&tu.push(su),tu._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(tu._transformState.transforming)throw new Error("Calling transform done when still transforming");return tu.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=us;var ss=require_stream_transform(),as=Object.create(requireUtil());as.inherits=inherits_browserExports,as.inherits(us,ss);function us(cs){if(!(this instanceof us))return new us(cs);ss.call(this,cs)}return us.prototype._transform=function(cs,$a,na){na(null,cs)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(ss,as){as=ss.exports=require_stream_readable(),as.Stream=as,as.Readable=as,as.Writable=require_stream_writable(),as.Duplex=require_stream_duplex(),as.Transform=require_stream_transform(),as.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$6={exports:{}};bn$6.exports;(function(ss){(function(as,us){function cs(ru,nu){if(!ru)throw new Error(nu||"Assertion failed")}function $a(ru,nu){ru.super_=nu;var uu=function(){};uu.prototype=nu.prototype,ru.prototype=new uu,ru.prototype.constructor=ru}function na(ru,nu,uu){if(na.isBN(ru))return ru;this.negative=0,this.words=null,this.length=0,this.red=null,ru!==null&&((nu==="le"||nu==="be")&&(uu=nu,nu=10),this._init(ru||0,nu||10,uu||"be"))}typeof as=="object"?as.exports=na:us.BN=na,na.BN=na,na.wordSize=26;var tu;try{typeof window<"u"&&typeof window.Buffer<"u"?tu=window.Buffer:tu=require$$0$3.Buffer}catch{}na.isBN=function(nu){return nu instanceof na?!0:nu!==null&&typeof nu=="object"&&nu.constructor.wordSize===na.wordSize&&Array.isArray(nu.words)},na.max=function(nu,uu){return nu.cmp(uu)>0?nu:uu},na.min=function(nu,uu){return nu.cmp(uu)<0?nu:uu},na.prototype._init=function(nu,uu,lu){if(typeof nu=="number")return this._initNumber(nu,uu,lu);if(typeof nu=="object")return this._initArray(nu,uu,lu);uu==="hex"&&(uu=16),cs(uu===(uu|0)&&uu>=2&&uu<=36),nu=nu.toString().replace(/\s+/g,"");var du=0;nu[0]==="-"&&(du++,this.negative=1),du<nu.length&&(uu===16?this._parseHex(nu,du,lu):(this._parseBase(nu,uu,du),lu==="le"&&this._initArray(this.toArray(),uu,lu)))},na.prototype._initNumber=function(nu,uu,lu){nu<0&&(this.negative=1,nu=-nu),nu<67108864?(this.words=[nu&67108863],this.length=1):nu<4503599627370496?(this.words=[nu&67108863,nu/67108864&67108863],this.length=2):(cs(nu<9007199254740992),this.words=[nu&67108863,nu/67108864&67108863,1],this.length=3),lu==="le"&&this._initArray(this.toArray(),uu,lu)},na.prototype._initArray=function(nu,uu,lu){if(cs(typeof nu.length=="number"),nu.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(nu.length/3),this.words=new Array(this.length);for(var du=0;du<this.length;du++)this.words[du]=0;var mu,cu,eu=0;if(lu==="be")for(du=nu.length-1,mu=0;du>=0;du-=3)cu=nu[du]|nu[du-1]<<8|nu[du-2]<<16,this.words[mu]|=cu<<eu&67108863,this.words[mu+1]=cu>>>26-eu&67108863,eu+=24,eu>=26&&(eu-=26,mu++);else if(lu==="le")for(du=0,mu=0;du<nu.length;du+=3)cu=nu[du]|nu[du+1]<<8|nu[du+2]<<16,this.words[mu]|=cu<<eu&67108863,this.words[mu+1]=cu>>>26-eu&67108863,eu+=24,eu>=26&&(eu-=26,mu++);return this._strip()};function iu(ru,nu){var uu=ru.charCodeAt(nu);if(uu>=48&&uu<=57)return uu-48;if(uu>=65&&uu<=70)return uu-55;if(uu>=97&&uu<=102)return uu-87;cs(!1,"Invalid character in "+ru)}function su(ru,nu,uu){var lu=iu(ru,uu);return uu-1>=nu&&(lu|=iu(ru,uu-1)<<4),lu}na.prototype._parseHex=function(nu,uu,lu){this.length=Math.ceil((nu.length-uu)/6),this.words=new Array(this.length);for(var du=0;du<this.length;du++)this.words[du]=0;var mu=0,cu=0,eu;if(lu==="be")for(du=nu.length-1;du>=uu;du-=2)eu=su(nu,uu,du)<<mu,this.words[cu]|=eu&67108863,mu>=18?(mu-=18,cu+=1,this.words[cu]|=eu>>>26):mu+=8;else{var hu=nu.length-uu;for(du=hu%2===0?uu+1:uu;du<nu.length;du+=2)eu=su(nu,uu,du)<<mu,this.words[cu]|=eu&67108863,mu>=18?(mu-=18,cu+=1,this.words[cu]|=eu>>>26):mu+=8}this._strip()};function au(ru,nu,uu,lu){for(var du=0,mu=0,cu=Math.min(ru.length,uu),eu=nu;eu<cu;eu++){var hu=ru.charCodeAt(eu)-48;du*=lu,hu>=49?mu=hu-49+10:hu>=17?mu=hu-17+10:mu=hu,cs(hu>=0&&mu<lu,"Invalid character"),du+=mu}return du}na.prototype._parseBase=function(nu,uu,lu){this.words=[0],this.length=1;for(var du=0,mu=1;mu<=67108863;mu*=uu)du++;du--,mu=mu/uu|0;for(var cu=nu.length-lu,eu=cu%du,hu=Math.min(cu,cu-eu)+lu,Eu=0,Ru=lu;Ru<hu;Ru+=du)Eu=au(nu,Ru,Ru+du,uu),this.imuln(mu),this.words[0]+Eu<67108864?this.words[0]+=Eu:this._iaddn(Eu);if(eu!==0){var Tu=1;for(Eu=au(nu,Ru,nu.length,uu),Ru=0;Ru<eu;Ru++)Tu*=uu;this.imuln(Tu),this.words[0]+Eu<67108864?this.words[0]+=Eu:this._iaddn(Eu)}this._strip()},na.prototype.copy=function(nu){nu.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)nu.words[uu]=this.words[uu];nu.length=this.length,nu.negative=this.negative,nu.red=this.red};function ou(ru,nu){ru.words=nu.words,ru.length=nu.length,ru.negative=nu.negative,ru.red=nu.red}if(na.prototype._move=function(nu){ou(nu,this)},na.prototype.clone=function(){var nu=new na(null);return this.copy(nu),nu},na.prototype._expand=function(nu){for(;this.length<nu;)this.words[this.length++]=0;return this},na.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},na.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{na.prototype[Symbol.for("nodejs.util.inspect.custom")]=fu}catch{na.prototype.inspect=fu}else na.prototype.inspect=fu;function fu(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var pu=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],vu=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];na.prototype.toString=function(nu,uu){nu=nu||10,uu=uu|0||1;var lu;if(nu===16||nu==="hex"){lu="";for(var du=0,mu=0,cu=0;cu<this.length;cu++){var eu=this.words[cu],hu=((eu<<du|mu)&16777215).toString(16);mu=eu>>>24-du&16777215,du+=2,du>=26&&(du-=26,cu--),mu!==0||cu!==this.length-1?lu=pu[6-hu.length]+hu+lu:lu=hu+lu}for(mu!==0&&(lu=mu.toString(16)+lu);lu.length%uu!==0;)lu="0"+lu;return this.negative!==0&&(lu="-"+lu),lu}if(nu===(nu|0)&&nu>=2&&nu<=36){var Eu=vu[nu],Ru=gu[nu];lu="";var Tu=this.clone();for(Tu.negative=0;!Tu.isZero();){var qu=Tu.modrn(Ru).toString(nu);Tu=Tu.idivn(Ru),Tu.isZero()?lu=qu+lu:lu=pu[Eu-qu.length]+qu+lu}for(this.isZero()&&(lu="0"+lu);lu.length%uu!==0;)lu="0"+lu;return this.negative!==0&&(lu="-"+lu),lu}cs(!1,"Base should be between 2 and 36")},na.prototype.toNumber=function(){var nu=this.words[0];return this.length===2?nu+=this.words[1]*67108864:this.length===3&&this.words[2]===1?nu+=4503599627370496+this.words[1]*67108864:this.length>2&&cs(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-nu:nu},na.prototype.toJSON=function(){return this.toString(16,2)},tu&&(na.prototype.toBuffer=function(nu,uu){return this.toArrayLike(tu,nu,uu)}),na.prototype.toArray=function(nu,uu){return this.toArrayLike(Array,nu,uu)};var bu=function(nu,uu){return nu.allocUnsafe?nu.allocUnsafe(uu):new nu(uu)};na.prototype.toArrayLike=function(nu,uu,lu){this._strip();var du=this.byteLength(),mu=lu||Math.max(1,du);cs(du<=mu,"byte array longer than desired length"),cs(mu>0,"Requested array length <= 0");var cu=bu(nu,mu),eu=uu==="le"?"LE":"BE";return this["_toArrayLike"+eu](cu,du),cu},na.prototype._toArrayLikeLE=function(nu,uu){for(var lu=0,du=0,mu=0,cu=0;mu<this.length;mu++){var eu=this.words[mu]<<cu|du;nu[lu++]=eu&255,lu<nu.length&&(nu[lu++]=eu>>8&255),lu<nu.length&&(nu[lu++]=eu>>16&255),cu===6?(lu<nu.length&&(nu[lu++]=eu>>24&255),du=0,cu=0):(du=eu>>>24,cu+=2)}if(lu<nu.length)for(nu[lu++]=du;lu<nu.length;)nu[lu++]=0},na.prototype._toArrayLikeBE=function(nu,uu){for(var lu=nu.length-1,du=0,mu=0,cu=0;mu<this.length;mu++){var eu=this.words[mu]<<cu|du;nu[lu--]=eu&255,lu>=0&&(nu[lu--]=eu>>8&255),lu>=0&&(nu[lu--]=eu>>16&255),cu===6?(lu>=0&&(nu[lu--]=eu>>24&255),du=0,cu=0):(du=eu>>>24,cu+=2)}if(lu>=0)for(nu[lu--]=du;lu>=0;)nu[lu--]=0},Math.clz32?na.prototype._countBits=function(nu){return 32-Math.clz32(nu)}:na.prototype._countBits=function(nu){var uu=nu,lu=0;return uu>=4096&&(lu+=13,uu>>>=13),uu>=64&&(lu+=7,uu>>>=7),uu>=8&&(lu+=4,uu>>>=4),uu>=2&&(lu+=2,uu>>>=2),lu+uu},na.prototype._zeroBits=function(nu){if(nu===0)return 26;var uu=nu,lu=0;return uu&8191||(lu+=13,uu>>>=13),uu&127||(lu+=7,uu>>>=7),uu&15||(lu+=4,uu>>>=4),uu&3||(lu+=2,uu>>>=2),uu&1||lu++,lu},na.prototype.bitLength=function(){var nu=this.words[this.length-1],uu=this._countBits(nu);return(this.length-1)*26+uu};function xu(ru){for(var nu=new Array(ru.bitLength()),uu=0;uu<nu.length;uu++){var lu=uu/26|0,du=uu%26;nu[uu]=ru.words[lu]>>>du&1}return nu}na.prototype.zeroBits=function(){if(this.isZero())return 0;for(var nu=0,uu=0;uu<this.length;uu++){var lu=this._zeroBits(this.words[uu]);if(nu+=lu,lu!==26)break}return nu},na.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},na.prototype.toTwos=function(nu){return this.negative!==0?this.abs().inotn(nu).iaddn(1):this.clone()},na.prototype.fromTwos=function(nu){return this.testn(nu-1)?this.notn(nu).iaddn(1).ineg():this.clone()},na.prototype.isNeg=function(){return this.negative!==0},na.prototype.neg=function(){return this.clone().ineg()},na.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},na.prototype.iuor=function(nu){for(;this.length<nu.length;)this.words[this.length++]=0;for(var uu=0;uu<nu.length;uu++)this.words[uu]=this.words[uu]|nu.words[uu];return this._strip()},na.prototype.ior=function(nu){return cs((this.negative|nu.negative)===0),this.iuor(nu)},na.prototype.or=function(nu){return this.length>nu.length?this.clone().ior(nu):nu.clone().ior(this)},na.prototype.uor=function(nu){return this.length>nu.length?this.clone().iuor(nu):nu.clone().iuor(this)},na.prototype.iuand=function(nu){var uu;this.length>nu.length?uu=nu:uu=this;for(var lu=0;lu<uu.length;lu++)this.words[lu]=this.words[lu]&nu.words[lu];return this.length=uu.length,this._strip()},na.prototype.iand=function(nu){return cs((this.negative|nu.negative)===0),this.iuand(nu)},na.prototype.and=function(nu){return this.length>nu.length?this.clone().iand(nu):nu.clone().iand(this)},na.prototype.uand=function(nu){return this.length>nu.length?this.clone().iuand(nu):nu.clone().iuand(this)},na.prototype.iuxor=function(nu){var uu,lu;this.length>nu.length?(uu=this,lu=nu):(uu=nu,lu=this);for(var du=0;du<lu.length;du++)this.words[du]=uu.words[du]^lu.words[du];if(this!==uu)for(;du<uu.length;du++)this.words[du]=uu.words[du];return this.length=uu.length,this._strip()},na.prototype.ixor=function(nu){return cs((this.negative|nu.negative)===0),this.iuxor(nu)},na.prototype.xor=function(nu){return this.length>nu.length?this.clone().ixor(nu):nu.clone().ixor(this)},na.prototype.uxor=function(nu){return this.length>nu.length?this.clone().iuxor(nu):nu.clone().iuxor(this)},na.prototype.inotn=function(nu){cs(typeof nu=="number"&&nu>=0);var uu=Math.ceil(nu/26)|0,lu=nu%26;this._expand(uu),lu>0&&uu--;for(var du=0;du<uu;du++)this.words[du]=~this.words[du]&67108863;return lu>0&&(this.words[du]=~this.words[du]&67108863>>26-lu),this._strip()},na.prototype.notn=function(nu){return this.clone().inotn(nu)},na.prototype.setn=function(nu,uu){cs(typeof nu=="number"&&nu>=0);var lu=nu/26|0,du=nu%26;return this._expand(lu+1),uu?this.words[lu]=this.words[lu]|1<<du:this.words[lu]=this.words[lu]&~(1<<du),this._strip()},na.prototype.iadd=function(nu){var uu;if(this.negative!==0&&nu.negative===0)return this.negative=0,uu=this.isub(nu),this.negative^=1,this._normSign();if(this.negative===0&&nu.negative!==0)return nu.negative=0,uu=this.isub(nu),nu.negative=1,uu._normSign();var lu,du;this.length>nu.length?(lu=this,du=nu):(lu=nu,du=this);for(var mu=0,cu=0;cu<du.length;cu++)uu=(lu.words[cu]|0)+(du.words[cu]|0)+mu,this.words[cu]=uu&67108863,mu=uu>>>26;for(;mu!==0&&cu<lu.length;cu++)uu=(lu.words[cu]|0)+mu,this.words[cu]=uu&67108863,mu=uu>>>26;if(this.length=lu.length,mu!==0)this.words[this.length]=mu,this.length++;else if(lu!==this)for(;cu<lu.length;cu++)this.words[cu]=lu.words[cu];return this},na.prototype.add=function(nu){var uu;return nu.negative!==0&&this.negative===0?(nu.negative=0,uu=this.sub(nu),nu.negative^=1,uu):nu.negative===0&&this.negative!==0?(this.negative=0,uu=nu.sub(this),this.negative=1,uu):this.length>nu.length?this.clone().iadd(nu):nu.clone().iadd(this)},na.prototype.isub=function(nu){if(nu.negative!==0){nu.negative=0;var uu=this.iadd(nu);return nu.negative=1,uu._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(nu),this.negative=1,this._normSign();var lu=this.cmp(nu);if(lu===0)return this.negative=0,this.length=1,this.words[0]=0,this;var du,mu;lu>0?(du=this,mu=nu):(du=nu,mu=this);for(var cu=0,eu=0;eu<mu.length;eu++)uu=(du.words[eu]|0)-(mu.words[eu]|0)+cu,cu=uu>>26,this.words[eu]=uu&67108863;for(;cu!==0&&eu<du.length;eu++)uu=(du.words[eu]|0)+cu,cu=uu>>26,this.words[eu]=uu&67108863;if(cu===0&&eu<du.length&&du!==this)for(;eu<du.length;eu++)this.words[eu]=du.words[eu];return this.length=Math.max(this.length,eu),du!==this&&(this.negative=1),this._strip()},na.prototype.sub=function(nu){return this.clone().isub(nu)};function $u(ru,nu,uu){uu.negative=nu.negative^ru.negative;var lu=ru.length+nu.length|0;uu.length=lu,lu=lu-1|0;var du=ru.words[0]|0,mu=nu.words[0]|0,cu=du*mu,eu=cu&67108863,hu=cu/67108864|0;uu.words[0]=eu;for(var Eu=1;Eu<lu;Eu++){for(var Ru=hu>>>26,Tu=hu&67108863,qu=Math.min(Eu,nu.length-1),Du=Math.max(0,Eu-ru.length+1);Du<=qu;Du++){var Iu=Eu-Du|0;du=ru.words[Iu]|0,mu=nu.words[Du]|0,cu=du*mu+Tu,Ru+=cu/67108864|0,Tu=cu&67108863}uu.words[Eu]=Tu|0,hu=Ru|0}return hu!==0?uu.words[Eu]=hu|0:uu.length--,uu._strip()}var wu=function(nu,uu,lu){var du=nu.words,mu=uu.words,cu=lu.words,eu=0,hu,Eu,Ru,Tu=du[0]|0,qu=Tu&8191,Du=Tu>>>13,Iu=du[1]|0,Lu=Iu&8191,Uu=Iu>>>13,Hu=du[2]|0,zu=Hu&8191,ju=Hu>>>13,Wu=du[3]|0,Dl=Wu&8191,Zu=Wu>>>13,Yu=du[4]|0,Vl=Yu&8191,_l=Yu>>>13,Qu=du[5]|0,Gl=Qu&8191,yl=Qu>>>13,Sl=du[6]|0,Ql=Sl&8191,Xu=Sl>>>13,$l=du[7]|0,Zl=$l&8191,wl=$l>>>13,Ml=du[8]|0,Xl=Ml&8191,Nu=Ml>>>13,Cu=du[9]|0,ku=Cu&8191,Fu=Cu>>>13,Ku=mu[0]|0,Ju=Ku&8191,Gu=Ku>>>13,El=mu[1]|0,Yl=El&8191,xl=El>>>13,Rl=mu[2]|0,Jl=Rl&8191,Al=Rl>>>13,Nl=mu[3]|0,e0=Nl&8191,Cl=Nl>>>13,Ll=mu[4]|0,t0=Ll&8191,Pl=Ll>>>13,Fl=mu[5]|0,r0=Fl&8191,Il=Fl>>>13,Ul=mu[6]|0,i0=Ul&8191,Bl=Ul>>>13,zl=mu[7]|0,n0=zl&8191,Tl=zl>>>13,Hl=mu[8]|0,s0=Hl&8191,Ol=Hl>>>13,Kl=mu[9]|0,_f=Kl&8191,_h=Kl>>>13;lu.negative=nu.negative^uu.negative,lu.length=19,hu=Math.imul(qu,Ju),Eu=Math.imul(qu,Gu),Eu=Eu+Math.imul(Du,Ju)|0,Ru=Math.imul(Du,Gu);var a0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(a0>>>26)|0,a0&=67108863,hu=Math.imul(Lu,Ju),Eu=Math.imul(Lu,Gu),Eu=Eu+Math.imul(Uu,Ju)|0,Ru=Math.imul(Uu,Gu),hu=hu+Math.imul(qu,Yl)|0,Eu=Eu+Math.imul(qu,xl)|0,Eu=Eu+Math.imul(Du,Yl)|0,Ru=Ru+Math.imul(Du,xl)|0;var u0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(u0>>>26)|0,u0&=67108863,hu=Math.imul(zu,Ju),Eu=Math.imul(zu,Gu),Eu=Eu+Math.imul(ju,Ju)|0,Ru=Math.imul(ju,Gu),hu=hu+Math.imul(Lu,Yl)|0,Eu=Eu+Math.imul(Lu,xl)|0,Eu=Eu+Math.imul(Uu,Yl)|0,Ru=Ru+Math.imul(Uu,xl)|0,hu=hu+Math.imul(qu,Jl)|0,Eu=Eu+Math.imul(qu,Al)|0,Eu=Eu+Math.imul(Du,Jl)|0,Ru=Ru+Math.imul(Du,Al)|0;var l0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(l0>>>26)|0,l0&=67108863,hu=Math.imul(Dl,Ju),Eu=Math.imul(Dl,Gu),Eu=Eu+Math.imul(Zu,Ju)|0,Ru=Math.imul(Zu,Gu),hu=hu+Math.imul(zu,Yl)|0,Eu=Eu+Math.imul(zu,xl)|0,Eu=Eu+Math.imul(ju,Yl)|0,Ru=Ru+Math.imul(ju,xl)|0,hu=hu+Math.imul(Lu,Jl)|0,Eu=Eu+Math.imul(Lu,Al)|0,Eu=Eu+Math.imul(Uu,Jl)|0,Ru=Ru+Math.imul(Uu,Al)|0,hu=hu+Math.imul(qu,e0)|0,Eu=Eu+Math.imul(qu,Cl)|0,Eu=Eu+Math.imul(Du,e0)|0,Ru=Ru+Math.imul(Du,Cl)|0;var c0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(c0>>>26)|0,c0&=67108863,hu=Math.imul(Vl,Ju),Eu=Math.imul(Vl,Gu),Eu=Eu+Math.imul(_l,Ju)|0,Ru=Math.imul(_l,Gu),hu=hu+Math.imul(Dl,Yl)|0,Eu=Eu+Math.imul(Dl,xl)|0,Eu=Eu+Math.imul(Zu,Yl)|0,Ru=Ru+Math.imul(Zu,xl)|0,hu=hu+Math.imul(zu,Jl)|0,Eu=Eu+Math.imul(zu,Al)|0,Eu=Eu+Math.imul(ju,Jl)|0,Ru=Ru+Math.imul(ju,Al)|0,hu=hu+Math.imul(Lu,e0)|0,Eu=Eu+Math.imul(Lu,Cl)|0,Eu=Eu+Math.imul(Uu,e0)|0,Ru=Ru+Math.imul(Uu,Cl)|0,hu=hu+Math.imul(qu,t0)|0,Eu=Eu+Math.imul(qu,Pl)|0,Eu=Eu+Math.imul(Du,t0)|0,Ru=Ru+Math.imul(Du,Pl)|0;var f0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(f0>>>26)|0,f0&=67108863,hu=Math.imul(Gl,Ju),Eu=Math.imul(Gl,Gu),Eu=Eu+Math.imul(yl,Ju)|0,Ru=Math.imul(yl,Gu),hu=hu+Math.imul(Vl,Yl)|0,Eu=Eu+Math.imul(Vl,xl)|0,Eu=Eu+Math.imul(_l,Yl)|0,Ru=Ru+Math.imul(_l,xl)|0,hu=hu+Math.imul(Dl,Jl)|0,Eu=Eu+Math.imul(Dl,Al)|0,Eu=Eu+Math.imul(Zu,Jl)|0,Ru=Ru+Math.imul(Zu,Al)|0,hu=hu+Math.imul(zu,e0)|0,Eu=Eu+Math.imul(zu,Cl)|0,Eu=Eu+Math.imul(ju,e0)|0,Ru=Ru+Math.imul(ju,Cl)|0,hu=hu+Math.imul(Lu,t0)|0,Eu=Eu+Math.imul(Lu,Pl)|0,Eu=Eu+Math.imul(Uu,t0)|0,Ru=Ru+Math.imul(Uu,Pl)|0,hu=hu+Math.imul(qu,r0)|0,Eu=Eu+Math.imul(qu,Il)|0,Eu=Eu+Math.imul(Du,r0)|0,Ru=Ru+Math.imul(Du,Il)|0;var h0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(h0>>>26)|0,h0&=67108863,hu=Math.imul(Ql,Ju),Eu=Math.imul(Ql,Gu),Eu=Eu+Math.imul(Xu,Ju)|0,Ru=Math.imul(Xu,Gu),hu=hu+Math.imul(Gl,Yl)|0,Eu=Eu+Math.imul(Gl,xl)|0,Eu=Eu+Math.imul(yl,Yl)|0,Ru=Ru+Math.imul(yl,xl)|0,hu=hu+Math.imul(Vl,Jl)|0,Eu=Eu+Math.imul(Vl,Al)|0,Eu=Eu+Math.imul(_l,Jl)|0,Ru=Ru+Math.imul(_l,Al)|0,hu=hu+Math.imul(Dl,e0)|0,Eu=Eu+Math.imul(Dl,Cl)|0,Eu=Eu+Math.imul(Zu,e0)|0,Ru=Ru+Math.imul(Zu,Cl)|0,hu=hu+Math.imul(zu,t0)|0,Eu=Eu+Math.imul(zu,Pl)|0,Eu=Eu+Math.imul(ju,t0)|0,Ru=Ru+Math.imul(ju,Pl)|0,hu=hu+Math.imul(Lu,r0)|0,Eu=Eu+Math.imul(Lu,Il)|0,Eu=Eu+Math.imul(Uu,r0)|0,Ru=Ru+Math.imul(Uu,Il)|0,hu=hu+Math.imul(qu,i0)|0,Eu=Eu+Math.imul(qu,Bl)|0,Eu=Eu+Math.imul(Du,i0)|0,Ru=Ru+Math.imul(Du,Bl)|0;var d0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(d0>>>26)|0,d0&=67108863,hu=Math.imul(Zl,Ju),Eu=Math.imul(Zl,Gu),Eu=Eu+Math.imul(wl,Ju)|0,Ru=Math.imul(wl,Gu),hu=hu+Math.imul(Ql,Yl)|0,Eu=Eu+Math.imul(Ql,xl)|0,Eu=Eu+Math.imul(Xu,Yl)|0,Ru=Ru+Math.imul(Xu,xl)|0,hu=hu+Math.imul(Gl,Jl)|0,Eu=Eu+Math.imul(Gl,Al)|0,Eu=Eu+Math.imul(yl,Jl)|0,Ru=Ru+Math.imul(yl,Al)|0,hu=hu+Math.imul(Vl,e0)|0,Eu=Eu+Math.imul(Vl,Cl)|0,Eu=Eu+Math.imul(_l,e0)|0,Ru=Ru+Math.imul(_l,Cl)|0,hu=hu+Math.imul(Dl,t0)|0,Eu=Eu+Math.imul(Dl,Pl)|0,Eu=Eu+Math.imul(Zu,t0)|0,Ru=Ru+Math.imul(Zu,Pl)|0,hu=hu+Math.imul(zu,r0)|0,Eu=Eu+Math.imul(zu,Il)|0,Eu=Eu+Math.imul(ju,r0)|0,Ru=Ru+Math.imul(ju,Il)|0,hu=hu+Math.imul(Lu,i0)|0,Eu=Eu+Math.imul(Lu,Bl)|0,Eu=Eu+Math.imul(Uu,i0)|0,Ru=Ru+Math.imul(Uu,Bl)|0,hu=hu+Math.imul(qu,n0)|0,Eu=Eu+Math.imul(qu,Tl)|0,Eu=Eu+Math.imul(Du,n0)|0,Ru=Ru+Math.imul(Du,Tl)|0;var p0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(p0>>>26)|0,p0&=67108863,hu=Math.imul(Xl,Ju),Eu=Math.imul(Xl,Gu),Eu=Eu+Math.imul(Nu,Ju)|0,Ru=Math.imul(Nu,Gu),hu=hu+Math.imul(Zl,Yl)|0,Eu=Eu+Math.imul(Zl,xl)|0,Eu=Eu+Math.imul(wl,Yl)|0,Ru=Ru+Math.imul(wl,xl)|0,hu=hu+Math.imul(Ql,Jl)|0,Eu=Eu+Math.imul(Ql,Al)|0,Eu=Eu+Math.imul(Xu,Jl)|0,Ru=Ru+Math.imul(Xu,Al)|0,hu=hu+Math.imul(Gl,e0)|0,Eu=Eu+Math.imul(Gl,Cl)|0,Eu=Eu+Math.imul(yl,e0)|0,Ru=Ru+Math.imul(yl,Cl)|0,hu=hu+Math.imul(Vl,t0)|0,Eu=Eu+Math.imul(Vl,Pl)|0,Eu=Eu+Math.imul(_l,t0)|0,Ru=Ru+Math.imul(_l,Pl)|0,hu=hu+Math.imul(Dl,r0)|0,Eu=Eu+Math.imul(Dl,Il)|0,Eu=Eu+Math.imul(Zu,r0)|0,Ru=Ru+Math.imul(Zu,Il)|0,hu=hu+Math.imul(zu,i0)|0,Eu=Eu+Math.imul(zu,Bl)|0,Eu=Eu+Math.imul(ju,i0)|0,Ru=Ru+Math.imul(ju,Bl)|0,hu=hu+Math.imul(Lu,n0)|0,Eu=Eu+Math.imul(Lu,Tl)|0,Eu=Eu+Math.imul(Uu,n0)|0,Ru=Ru+Math.imul(Uu,Tl)|0,hu=hu+Math.imul(qu,s0)|0,Eu=Eu+Math.imul(qu,Ol)|0,Eu=Eu+Math.imul(Du,s0)|0,Ru=Ru+Math.imul(Du,Ol)|0;var m0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(m0>>>26)|0,m0&=67108863,hu=Math.imul(ku,Ju),Eu=Math.imul(ku,Gu),Eu=Eu+Math.imul(Fu,Ju)|0,Ru=Math.imul(Fu,Gu),hu=hu+Math.imul(Xl,Yl)|0,Eu=Eu+Math.imul(Xl,xl)|0,Eu=Eu+Math.imul(Nu,Yl)|0,Ru=Ru+Math.imul(Nu,xl)|0,hu=hu+Math.imul(Zl,Jl)|0,Eu=Eu+Math.imul(Zl,Al)|0,Eu=Eu+Math.imul(wl,Jl)|0,Ru=Ru+Math.imul(wl,Al)|0,hu=hu+Math.imul(Ql,e0)|0,Eu=Eu+Math.imul(Ql,Cl)|0,Eu=Eu+Math.imul(Xu,e0)|0,Ru=Ru+Math.imul(Xu,Cl)|0,hu=hu+Math.imul(Gl,t0)|0,Eu=Eu+Math.imul(Gl,Pl)|0,Eu=Eu+Math.imul(yl,t0)|0,Ru=Ru+Math.imul(yl,Pl)|0,hu=hu+Math.imul(Vl,r0)|0,Eu=Eu+Math.imul(Vl,Il)|0,Eu=Eu+Math.imul(_l,r0)|0,Ru=Ru+Math.imul(_l,Il)|0,hu=hu+Math.imul(Dl,i0)|0,Eu=Eu+Math.imul(Dl,Bl)|0,Eu=Eu+Math.imul(Zu,i0)|0,Ru=Ru+Math.imul(Zu,Bl)|0,hu=hu+Math.imul(zu,n0)|0,Eu=Eu+Math.imul(zu,Tl)|0,Eu=Eu+Math.imul(ju,n0)|0,Ru=Ru+Math.imul(ju,Tl)|0,hu=hu+Math.imul(Lu,s0)|0,Eu=Eu+Math.imul(Lu,Ol)|0,Eu=Eu+Math.imul(Uu,s0)|0,Ru=Ru+Math.imul(Uu,Ol)|0,hu=hu+Math.imul(qu,_f)|0,Eu=Eu+Math.imul(qu,_h)|0,Eu=Eu+Math.imul(Du,_f)|0,Ru=Ru+Math.imul(Du,_h)|0;var v0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(v0>>>26)|0,v0&=67108863,hu=Math.imul(ku,Yl),Eu=Math.imul(ku,xl),Eu=Eu+Math.imul(Fu,Yl)|0,Ru=Math.imul(Fu,xl),hu=hu+Math.imul(Xl,Jl)|0,Eu=Eu+Math.imul(Xl,Al)|0,Eu=Eu+Math.imul(Nu,Jl)|0,Ru=Ru+Math.imul(Nu,Al)|0,hu=hu+Math.imul(Zl,e0)|0,Eu=Eu+Math.imul(Zl,Cl)|0,Eu=Eu+Math.imul(wl,e0)|0,Ru=Ru+Math.imul(wl,Cl)|0,hu=hu+Math.imul(Ql,t0)|0,Eu=Eu+Math.imul(Ql,Pl)|0,Eu=Eu+Math.imul(Xu,t0)|0,Ru=Ru+Math.imul(Xu,Pl)|0,hu=hu+Math.imul(Gl,r0)|0,Eu=Eu+Math.imul(Gl,Il)|0,Eu=Eu+Math.imul(yl,r0)|0,Ru=Ru+Math.imul(yl,Il)|0,hu=hu+Math.imul(Vl,i0)|0,Eu=Eu+Math.imul(Vl,Bl)|0,Eu=Eu+Math.imul(_l,i0)|0,Ru=Ru+Math.imul(_l,Bl)|0,hu=hu+Math.imul(Dl,n0)|0,Eu=Eu+Math.imul(Dl,Tl)|0,Eu=Eu+Math.imul(Zu,n0)|0,Ru=Ru+Math.imul(Zu,Tl)|0,hu=hu+Math.imul(zu,s0)|0,Eu=Eu+Math.imul(zu,Ol)|0,Eu=Eu+Math.imul(ju,s0)|0,Ru=Ru+Math.imul(ju,Ol)|0,hu=hu+Math.imul(Lu,_f)|0,Eu=Eu+Math.imul(Lu,_h)|0,Eu=Eu+Math.imul(Uu,_f)|0,Ru=Ru+Math.imul(Uu,_h)|0;var g0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(g0>>>26)|0,g0&=67108863,hu=Math.imul(ku,Jl),Eu=Math.imul(ku,Al),Eu=Eu+Math.imul(Fu,Jl)|0,Ru=Math.imul(Fu,Al),hu=hu+Math.imul(Xl,e0)|0,Eu=Eu+Math.imul(Xl,Cl)|0,Eu=Eu+Math.imul(Nu,e0)|0,Ru=Ru+Math.imul(Nu,Cl)|0,hu=hu+Math.imul(Zl,t0)|0,Eu=Eu+Math.imul(Zl,Pl)|0,Eu=Eu+Math.imul(wl,t0)|0,Ru=Ru+Math.imul(wl,Pl)|0,hu=hu+Math.imul(Ql,r0)|0,Eu=Eu+Math.imul(Ql,Il)|0,Eu=Eu+Math.imul(Xu,r0)|0,Ru=Ru+Math.imul(Xu,Il)|0,hu=hu+Math.imul(Gl,i0)|0,Eu=Eu+Math.imul(Gl,Bl)|0,Eu=Eu+Math.imul(yl,i0)|0,Ru=Ru+Math.imul(yl,Bl)|0,hu=hu+Math.imul(Vl,n0)|0,Eu=Eu+Math.imul(Vl,Tl)|0,Eu=Eu+Math.imul(_l,n0)|0,Ru=Ru+Math.imul(_l,Tl)|0,hu=hu+Math.imul(Dl,s0)|0,Eu=Eu+Math.imul(Dl,Ol)|0,Eu=Eu+Math.imul(Zu,s0)|0,Ru=Ru+Math.imul(Zu,Ol)|0,hu=hu+Math.imul(zu,_f)|0,Eu=Eu+Math.imul(zu,_h)|0,Eu=Eu+Math.imul(ju,_f)|0,Ru=Ru+Math.imul(ju,_h)|0;var y0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(y0>>>26)|0,y0&=67108863,hu=Math.imul(ku,e0),Eu=Math.imul(ku,Cl),Eu=Eu+Math.imul(Fu,e0)|0,Ru=Math.imul(Fu,Cl),hu=hu+Math.imul(Xl,t0)|0,Eu=Eu+Math.imul(Xl,Pl)|0,Eu=Eu+Math.imul(Nu,t0)|0,Ru=Ru+Math.imul(Nu,Pl)|0,hu=hu+Math.imul(Zl,r0)|0,Eu=Eu+Math.imul(Zl,Il)|0,Eu=Eu+Math.imul(wl,r0)|0,Ru=Ru+Math.imul(wl,Il)|0,hu=hu+Math.imul(Ql,i0)|0,Eu=Eu+Math.imul(Ql,Bl)|0,Eu=Eu+Math.imul(Xu,i0)|0,Ru=Ru+Math.imul(Xu,Bl)|0,hu=hu+Math.imul(Gl,n0)|0,Eu=Eu+Math.imul(Gl,Tl)|0,Eu=Eu+Math.imul(yl,n0)|0,Ru=Ru+Math.imul(yl,Tl)|0,hu=hu+Math.imul(Vl,s0)|0,Eu=Eu+Math.imul(Vl,Ol)|0,Eu=Eu+Math.imul(_l,s0)|0,Ru=Ru+Math.imul(_l,Ol)|0,hu=hu+Math.imul(Dl,_f)|0,Eu=Eu+Math.imul(Dl,_h)|0,Eu=Eu+Math.imul(Zu,_f)|0,Ru=Ru+Math.imul(Zu,_h)|0;var b0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(b0>>>26)|0,b0&=67108863,hu=Math.imul(ku,t0),Eu=Math.imul(ku,Pl),Eu=Eu+Math.imul(Fu,t0)|0,Ru=Math.imul(Fu,Pl),hu=hu+Math.imul(Xl,r0)|0,Eu=Eu+Math.imul(Xl,Il)|0,Eu=Eu+Math.imul(Nu,r0)|0,Ru=Ru+Math.imul(Nu,Il)|0,hu=hu+Math.imul(Zl,i0)|0,Eu=Eu+Math.imul(Zl,Bl)|0,Eu=Eu+Math.imul(wl,i0)|0,Ru=Ru+Math.imul(wl,Bl)|0,hu=hu+Math.imul(Ql,n0)|0,Eu=Eu+Math.imul(Ql,Tl)|0,Eu=Eu+Math.imul(Xu,n0)|0,Ru=Ru+Math.imul(Xu,Tl)|0,hu=hu+Math.imul(Gl,s0)|0,Eu=Eu+Math.imul(Gl,Ol)|0,Eu=Eu+Math.imul(yl,s0)|0,Ru=Ru+Math.imul(yl,Ol)|0,hu=hu+Math.imul(Vl,_f)|0,Eu=Eu+Math.imul(Vl,_h)|0,Eu=Eu+Math.imul(_l,_f)|0,Ru=Ru+Math.imul(_l,_h)|0;var w0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(w0>>>26)|0,w0&=67108863,hu=Math.imul(ku,r0),Eu=Math.imul(ku,Il),Eu=Eu+Math.imul(Fu,r0)|0,Ru=Math.imul(Fu,Il),hu=hu+Math.imul(Xl,i0)|0,Eu=Eu+Math.imul(Xl,Bl)|0,Eu=Eu+Math.imul(Nu,i0)|0,Ru=Ru+Math.imul(Nu,Bl)|0,hu=hu+Math.imul(Zl,n0)|0,Eu=Eu+Math.imul(Zl,Tl)|0,Eu=Eu+Math.imul(wl,n0)|0,Ru=Ru+Math.imul(wl,Tl)|0,hu=hu+Math.imul(Ql,s0)|0,Eu=Eu+Math.imul(Ql,Ol)|0,Eu=Eu+Math.imul(Xu,s0)|0,Ru=Ru+Math.imul(Xu,Ol)|0,hu=hu+Math.imul(Gl,_f)|0,Eu=Eu+Math.imul(Gl,_h)|0,Eu=Eu+Math.imul(yl,_f)|0,Ru=Ru+Math.imul(yl,_h)|0;var $0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+($0>>>26)|0,$0&=67108863,hu=Math.imul(ku,i0),Eu=Math.imul(ku,Bl),Eu=Eu+Math.imul(Fu,i0)|0,Ru=Math.imul(Fu,Bl),hu=hu+Math.imul(Xl,n0)|0,Eu=Eu+Math.imul(Xl,Tl)|0,Eu=Eu+Math.imul(Nu,n0)|0,Ru=Ru+Math.imul(Nu,Tl)|0,hu=hu+Math.imul(Zl,s0)|0,Eu=Eu+Math.imul(Zl,Ol)|0,Eu=Eu+Math.imul(wl,s0)|0,Ru=Ru+Math.imul(wl,Ol)|0,hu=hu+Math.imul(Ql,_f)|0,Eu=Eu+Math.imul(Ql,_h)|0,Eu=Eu+Math.imul(Xu,_f)|0,Ru=Ru+Math.imul(Xu,_h)|0;var x0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(x0>>>26)|0,x0&=67108863,hu=Math.imul(ku,n0),Eu=Math.imul(ku,Tl),Eu=Eu+Math.imul(Fu,n0)|0,Ru=Math.imul(Fu,Tl),hu=hu+Math.imul(Xl,s0)|0,Eu=Eu+Math.imul(Xl,Ol)|0,Eu=Eu+Math.imul(Nu,s0)|0,Ru=Ru+Math.imul(Nu,Ol)|0,hu=hu+Math.imul(Zl,_f)|0,Eu=Eu+Math.imul(Zl,_h)|0,Eu=Eu+Math.imul(wl,_f)|0,Ru=Ru+Math.imul(wl,_h)|0;var _0=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(_0>>>26)|0,_0&=67108863,hu=Math.imul(ku,s0),Eu=Math.imul(ku,Ol),Eu=Eu+Math.imul(Fu,s0)|0,Ru=Math.imul(Fu,Ol),hu=hu+Math.imul(Xl,_f)|0,Eu=Eu+Math.imul(Xl,_h)|0,Eu=Eu+Math.imul(Nu,_f)|0,Ru=Ru+Math.imul(Nu,_h)|0;var sp=(eu+hu|0)+((Eu&8191)<<13)|0;eu=(Ru+(Eu>>>13)|0)+(sp>>>26)|0,sp&=67108863,hu=Math.imul(ku,_f),Eu=Math.imul(ku,_h),Eu=Eu+Math.imul(Fu,_f)|0,Ru=Math.imul(Fu,_h);var op=(eu+hu|0)+((Eu&8191)<<13)|0;return eu=(Ru+(Eu>>>13)|0)+(op>>>26)|0,op&=67108863,cu[0]=a0,cu[1]=u0,cu[2]=l0,cu[3]=c0,cu[4]=f0,cu[5]=h0,cu[6]=d0,cu[7]=p0,cu[8]=m0,cu[9]=v0,cu[10]=g0,cu[11]=y0,cu[12]=b0,cu[13]=w0,cu[14]=$0,cu[15]=x0,cu[16]=_0,cu[17]=sp,cu[18]=op,eu!==0&&(cu[19]=eu,lu.length++),lu};Math.imul||(wu=$u);function _u(ru,nu,uu){uu.negative=nu.negative^ru.negative,uu.length=ru.length+nu.length;for(var lu=0,du=0,mu=0;mu<uu.length-1;mu++){var cu=du;du=0;for(var eu=lu&67108863,hu=Math.min(mu,nu.length-1),Eu=Math.max(0,mu-ru.length+1);Eu<=hu;Eu++){var Ru=mu-Eu,Tu=ru.words[Ru]|0,qu=nu.words[Eu]|0,Du=Tu*qu,Iu=Du&67108863;cu=cu+(Du/67108864|0)|0,Iu=Iu+eu|0,eu=Iu&67108863,cu=cu+(Iu>>>26)|0,du+=cu>>>26,cu&=67108863}uu.words[mu]=eu,lu=cu,cu=du}return lu!==0?uu.words[mu]=lu:uu.length--,uu._strip()}function Mu(ru,nu,uu){return _u(ru,nu,uu)}na.prototype.mulTo=function(nu,uu){var lu,du=this.length+nu.length;return this.length===10&&nu.length===10?lu=wu(this,nu,uu):du<63?lu=$u(this,nu,uu):du<1024?lu=_u(this,nu,uu):lu=Mu(this,nu,uu),lu},na.prototype.mul=function(nu){var uu=new na(null);return uu.words=new Array(this.length+nu.length),this.mulTo(nu,uu)},na.prototype.mulf=function(nu){var uu=new na(null);return uu.words=new Array(this.length+nu.length),Mu(this,nu,uu)},na.prototype.imul=function(nu){return this.clone().mulTo(nu,this)},na.prototype.imuln=function(nu){var uu=nu<0;uu&&(nu=-nu),cs(typeof nu=="number"),cs(nu<67108864);for(var lu=0,du=0;du<this.length;du++){var mu=(this.words[du]|0)*nu,cu=(mu&67108863)+(lu&67108863);lu>>=26,lu+=mu/67108864|0,lu+=cu>>>26,this.words[du]=cu&67108863}return lu!==0&&(this.words[du]=lu,this.length++),uu?this.ineg():this},na.prototype.muln=function(nu){return this.clone().imuln(nu)},na.prototype.sqr=function(){return this.mul(this)},na.prototype.isqr=function(){return this.imul(this.clone())},na.prototype.pow=function(nu){var uu=xu(nu);if(uu.length===0)return new na(1);for(var lu=this,du=0;du<uu.length&&uu[du]===0;du++,lu=lu.sqr());if(++du<uu.length)for(var mu=lu.sqr();du<uu.length;du++,mu=mu.sqr())uu[du]!==0&&(lu=lu.mul(mu));return lu},na.prototype.iushln=function(nu){cs(typeof nu=="number"&&nu>=0);var uu=nu%26,lu=(nu-uu)/26,du=67108863>>>26-uu<<26-uu,mu;if(uu!==0){var cu=0;for(mu=0;mu<this.length;mu++){var eu=this.words[mu]&du,hu=(this.words[mu]|0)-eu<<uu;this.words[mu]=hu|cu,cu=eu>>>26-uu}cu&&(this.words[mu]=cu,this.length++)}if(lu!==0){for(mu=this.length-1;mu>=0;mu--)this.words[mu+lu]=this.words[mu];for(mu=0;mu<lu;mu++)this.words[mu]=0;this.length+=lu}return this._strip()},na.prototype.ishln=function(nu){return cs(this.negative===0),this.iushln(nu)},na.prototype.iushrn=function(nu,uu,lu){cs(typeof nu=="number"&&nu>=0);var du;uu?du=(uu-uu%26)/26:du=0;var mu=nu%26,cu=Math.min((nu-mu)/26,this.length),eu=67108863^67108863>>>mu<<mu,hu=lu;if(du-=cu,du=Math.max(0,du),hu){for(var Eu=0;Eu<cu;Eu++)hu.words[Eu]=this.words[Eu];hu.length=cu}if(cu!==0)if(this.length>cu)for(this.length-=cu,Eu=0;Eu<this.length;Eu++)this.words[Eu]=this.words[Eu+cu];else this.words[0]=0,this.length=1;var Ru=0;for(Eu=this.length-1;Eu>=0&&(Ru!==0||Eu>=du);Eu--){var Tu=this.words[Eu]|0;this.words[Eu]=Ru<<26-mu|Tu>>>mu,Ru=Tu&eu}return hu&&Ru!==0&&(hu.words[hu.length++]=Ru),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},na.prototype.ishrn=function(nu,uu,lu){return cs(this.negative===0),this.iushrn(nu,uu,lu)},na.prototype.shln=function(nu){return this.clone().ishln(nu)},na.prototype.ushln=function(nu){return this.clone().iushln(nu)},na.prototype.shrn=function(nu){return this.clone().ishrn(nu)},na.prototype.ushrn=function(nu){return this.clone().iushrn(nu)},na.prototype.testn=function(nu){cs(typeof nu=="number"&&nu>=0);var uu=nu%26,lu=(nu-uu)/26,du=1<<uu;if(this.length<=lu)return!1;var mu=this.words[lu];return!!(mu&du)},na.prototype.imaskn=function(nu){cs(typeof nu=="number"&&nu>=0);var uu=nu%26,lu=(nu-uu)/26;if(cs(this.negative===0,"imaskn works only with positive numbers"),this.length<=lu)return this;if(uu!==0&&lu++,this.length=Math.min(lu,this.length),uu!==0){var du=67108863^67108863>>>uu<<uu;this.words[this.length-1]&=du}return this._strip()},na.prototype.maskn=function(nu){return this.clone().imaskn(nu)},na.prototype.iaddn=function(nu){return cs(typeof nu=="number"),cs(nu<67108864),nu<0?this.isubn(-nu):this.negative!==0?this.length===1&&(this.words[0]|0)<=nu?(this.words[0]=nu-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(nu),this.negative=1,this):this._iaddn(nu)},na.prototype._iaddn=function(nu){this.words[0]+=nu;for(var uu=0;uu<this.length&&this.words[uu]>=67108864;uu++)this.words[uu]-=67108864,uu===this.length-1?this.words[uu+1]=1:this.words[uu+1]++;return this.length=Math.max(this.length,uu+1),this},na.prototype.isubn=function(nu){if(cs(typeof nu=="number"),cs(nu<67108864),nu<0)return this.iaddn(-nu);if(this.negative!==0)return this.negative=0,this.iaddn(nu),this.negative=1,this;if(this.words[0]-=nu,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var uu=0;uu<this.length&&this.words[uu]<0;uu++)this.words[uu]+=67108864,this.words[uu+1]-=1;return this._strip()},na.prototype.addn=function(nu){return this.clone().iaddn(nu)},na.prototype.subn=function(nu){return this.clone().isubn(nu)},na.prototype.iabs=function(){return this.negative=0,this},na.prototype.abs=function(){return this.clone().iabs()},na.prototype._ishlnsubmul=function(nu,uu,lu){var du=nu.length+lu,mu;this._expand(du);var cu,eu=0;for(mu=0;mu<nu.length;mu++){cu=(this.words[mu+lu]|0)+eu;var hu=(nu.words[mu]|0)*uu;cu-=hu&67108863,eu=(cu>>26)-(hu/67108864|0),this.words[mu+lu]=cu&67108863}for(;mu<this.length-lu;mu++)cu=(this.words[mu+lu]|0)+eu,eu=cu>>26,this.words[mu+lu]=cu&67108863;if(eu===0)return this._strip();for(cs(eu===-1),eu=0,mu=0;mu<this.length;mu++)cu=-(this.words[mu]|0)+eu,eu=cu>>26,this.words[mu]=cu&67108863;return this.negative=1,this._strip()},na.prototype._wordDiv=function(nu,uu){var lu=this.length-nu.length,du=this.clone(),mu=nu,cu=mu.words[mu.length-1]|0,eu=this._countBits(cu);lu=26-eu,lu!==0&&(mu=mu.ushln(lu),du.iushln(lu),cu=mu.words[mu.length-1]|0);var hu=du.length-mu.length,Eu;if(uu!=="mod"){Eu=new na(null),Eu.length=hu+1,Eu.words=new Array(Eu.length);for(var Ru=0;Ru<Eu.length;Ru++)Eu.words[Ru]=0}var Tu=du.clone()._ishlnsubmul(mu,1,hu);Tu.negative===0&&(du=Tu,Eu&&(Eu.words[hu]=1));for(var qu=hu-1;qu>=0;qu--){var Du=(du.words[mu.length+qu]|0)*67108864+(du.words[mu.length+qu-1]|0);for(Du=Math.min(Du/cu|0,67108863),du._ishlnsubmul(mu,Du,qu);du.negative!==0;)Du--,du.negative=0,du._ishlnsubmul(mu,1,qu),du.isZero()||(du.negative^=1);Eu&&(Eu.words[qu]=Du)}return Eu&&Eu._strip(),du._strip(),uu!=="div"&&lu!==0&&du.iushrn(lu),{div:Eu||null,mod:du}},na.prototype.divmod=function(nu,uu,lu){if(cs(!nu.isZero()),this.isZero())return{div:new na(0),mod:new na(0)};var du,mu,cu;return this.negative!==0&&nu.negative===0?(cu=this.neg().divmod(nu,uu),uu!=="mod"&&(du=cu.div.neg()),uu!=="div"&&(mu=cu.mod.neg(),lu&&mu.negative!==0&&mu.iadd(nu)),{div:du,mod:mu}):this.negative===0&&nu.negative!==0?(cu=this.divmod(nu.neg(),uu),uu!=="mod"&&(du=cu.div.neg()),{div:du,mod:cu.mod}):this.negative&nu.negative?(cu=this.neg().divmod(nu.neg(),uu),uu!=="div"&&(mu=cu.mod.neg(),lu&&mu.negative!==0&&mu.isub(nu)),{div:cu.div,mod:mu}):nu.length>this.length||this.cmp(nu)<0?{div:new na(0),mod:this}:nu.length===1?uu==="div"?{div:this.divn(nu.words[0]),mod:null}:uu==="mod"?{div:null,mod:new na(this.modrn(nu.words[0]))}:{div:this.divn(nu.words[0]),mod:new na(this.modrn(nu.words[0]))}:this._wordDiv(nu,uu)},na.prototype.div=function(nu){return this.divmod(nu,"div",!1).div},na.prototype.mod=function(nu){return this.divmod(nu,"mod",!1).mod},na.prototype.umod=function(nu){return this.divmod(nu,"mod",!0).mod},na.prototype.divRound=function(nu){var uu=this.divmod(nu);if(uu.mod.isZero())return uu.div;var lu=uu.div.negative!==0?uu.mod.isub(nu):uu.mod,du=nu.ushrn(1),mu=nu.andln(1),cu=lu.cmp(du);return cu<0||mu===1&&cu===0?uu.div:uu.div.negative!==0?uu.div.isubn(1):uu.div.iaddn(1)},na.prototype.modrn=function(nu){var uu=nu<0;uu&&(nu=-nu),cs(nu<=67108863);for(var lu=(1<<26)%nu,du=0,mu=this.length-1;mu>=0;mu--)du=(lu*du+(this.words[mu]|0))%nu;return uu?-du:du},na.prototype.modn=function(nu){return this.modrn(nu)},na.prototype.idivn=function(nu){var uu=nu<0;uu&&(nu=-nu),cs(nu<=67108863);for(var lu=0,du=this.length-1;du>=0;du--){var mu=(this.words[du]|0)+lu*67108864;this.words[du]=mu/nu|0,lu=mu%nu}return this._strip(),uu?this.ineg():this},na.prototype.divn=function(nu){return this.clone().idivn(nu)},na.prototype.egcd=function(nu){cs(nu.negative===0),cs(!nu.isZero());var uu=this,lu=nu.clone();uu.negative!==0?uu=uu.umod(nu):uu=uu.clone();for(var du=new na(1),mu=new na(0),cu=new na(0),eu=new na(1),hu=0;uu.isEven()&&lu.isEven();)uu.iushrn(1),lu.iushrn(1),++hu;for(var Eu=lu.clone(),Ru=uu.clone();!uu.isZero();){for(var Tu=0,qu=1;!(uu.words[0]&qu)&&Tu<26;++Tu,qu<<=1);if(Tu>0)for(uu.iushrn(Tu);Tu-- >0;)(du.isOdd()||mu.isOdd())&&(du.iadd(Eu),mu.isub(Ru)),du.iushrn(1),mu.iushrn(1);for(var Du=0,Iu=1;!(lu.words[0]&Iu)&&Du<26;++Du,Iu<<=1);if(Du>0)for(lu.iushrn(Du);Du-- >0;)(cu.isOdd()||eu.isOdd())&&(cu.iadd(Eu),eu.isub(Ru)),cu.iushrn(1),eu.iushrn(1);uu.cmp(lu)>=0?(uu.isub(lu),du.isub(cu),mu.isub(eu)):(lu.isub(uu),cu.isub(du),eu.isub(mu))}return{a:cu,b:eu,gcd:lu.iushln(hu)}},na.prototype._invmp=function(nu){cs(nu.negative===0),cs(!nu.isZero());var uu=this,lu=nu.clone();uu.negative!==0?uu=uu.umod(nu):uu=uu.clone();for(var du=new na(1),mu=new na(0),cu=lu.clone();uu.cmpn(1)>0&&lu.cmpn(1)>0;){for(var eu=0,hu=1;!(uu.words[0]&hu)&&eu<26;++eu,hu<<=1);if(eu>0)for(uu.iushrn(eu);eu-- >0;)du.isOdd()&&du.iadd(cu),du.iushrn(1);for(var Eu=0,Ru=1;!(lu.words[0]&Ru)&&Eu<26;++Eu,Ru<<=1);if(Eu>0)for(lu.iushrn(Eu);Eu-- >0;)mu.isOdd()&&mu.iadd(cu),mu.iushrn(1);uu.cmp(lu)>=0?(uu.isub(lu),du.isub(mu)):(lu.isub(uu),mu.isub(du))}var Tu;return uu.cmpn(1)===0?Tu=du:Tu=mu,Tu.cmpn(0)<0&&Tu.iadd(nu),Tu},na.prototype.gcd=function(nu){if(this.isZero())return nu.abs();if(nu.isZero())return this.abs();var uu=this.clone(),lu=nu.clone();uu.negative=0,lu.negative=0;for(var du=0;uu.isEven()&&lu.isEven();du++)uu.iushrn(1),lu.iushrn(1);do{for(;uu.isEven();)uu.iushrn(1);for(;lu.isEven();)lu.iushrn(1);var mu=uu.cmp(lu);if(mu<0){var cu=uu;uu=lu,lu=cu}else if(mu===0||lu.cmpn(1)===0)break;uu.isub(lu)}while(!0);return lu.iushln(du)},na.prototype.invm=function(nu){return this.egcd(nu).a.umod(nu)},na.prototype.isEven=function(){return(this.words[0]&1)===0},na.prototype.isOdd=function(){return(this.words[0]&1)===1},na.prototype.andln=function(nu){return this.words[0]&nu},na.prototype.bincn=function(nu){cs(typeof nu=="number");var uu=nu%26,lu=(nu-uu)/26,du=1<<uu;if(this.length<=lu)return this._expand(lu+1),this.words[lu]|=du,this;for(var mu=du,cu=lu;mu!==0&&cu<this.length;cu++){var eu=this.words[cu]|0;eu+=mu,mu=eu>>>26,eu&=67108863,this.words[cu]=eu}return mu!==0&&(this.words[cu]=mu,this.length++),this},na.prototype.isZero=function(){return this.length===1&&this.words[0]===0},na.prototype.cmpn=function(nu){var uu=nu<0;if(this.negative!==0&&!uu)return-1;if(this.negative===0&&uu)return 1;this._strip();var lu;if(this.length>1)lu=1;else{uu&&(nu=-nu),cs(nu<=67108863,"Number is too big");var du=this.words[0]|0;lu=du===nu?0:du<nu?-1:1}return this.negative!==0?-lu|0:lu},na.prototype.cmp=function(nu){if(this.negative!==0&&nu.negative===0)return-1;if(this.negative===0&&nu.negative!==0)return 1;var uu=this.ucmp(nu);return this.negative!==0?-uu|0:uu},na.prototype.ucmp=function(nu){if(this.length>nu.length)return 1;if(this.length<nu.length)return-1;for(var uu=0,lu=this.length-1;lu>=0;lu--){var du=this.words[lu]|0,mu=nu.words[lu]|0;if(du!==mu){du<mu?uu=-1:du>mu&&(uu=1);break}}return uu},na.prototype.gtn=function(nu){return this.cmpn(nu)===1},na.prototype.gt=function(nu){return this.cmp(nu)===1},na.prototype.gten=function(nu){return this.cmpn(nu)>=0},na.prototype.gte=function(nu){return this.cmp(nu)>=0},na.prototype.ltn=function(nu){return this.cmpn(nu)===-1},na.prototype.lt=function(nu){return this.cmp(nu)===-1},na.prototype.lten=function(nu){return this.cmpn(nu)<=0},na.prototype.lte=function(nu){return this.cmp(nu)<=0},na.prototype.eqn=function(nu){return this.cmpn(nu)===0},na.prototype.eq=function(nu){return this.cmp(nu)===0},na.red=function(nu){return new yu(nu)},na.prototype.toRed=function(nu){return cs(!this.red,"Already a number in reduction context"),cs(this.negative===0,"red works only with positives"),nu.convertTo(this)._forceRed(nu)},na.prototype.fromRed=function(){return cs(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},na.prototype._forceRed=function(nu){return this.red=nu,this},na.prototype.forceRed=function(nu){return cs(!this.red,"Already a number in reduction context"),this._forceRed(nu)},na.prototype.redAdd=function(nu){return cs(this.red,"redAdd works only with red numbers"),this.red.add(this,nu)},na.prototype.redIAdd=function(nu){return cs(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,nu)},na.prototype.redSub=function(nu){return cs(this.red,"redSub works only with red numbers"),this.red.sub(this,nu)},na.prototype.redISub=function(nu){return cs(this.red,"redISub works only with red numbers"),this.red.isub(this,nu)},na.prototype.redShl=function(nu){return cs(this.red,"redShl works only with red numbers"),this.red.shl(this,nu)},na.prototype.redMul=function(nu){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,nu),this.red.mul(this,nu)},na.prototype.redIMul=function(nu){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,nu),this.red.imul(this,nu)},na.prototype.redSqr=function(){return cs(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},na.prototype.redISqr=function(){return cs(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},na.prototype.redSqrt=function(){return cs(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},na.prototype.redInvm=function(){return cs(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},na.prototype.redNeg=function(){return cs(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},na.prototype.redPow=function(nu){return cs(this.red&&!nu.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,nu)};var Au={k256:null,p224:null,p192:null,p25519:null};function Pu(ru,nu){this.name=ru,this.p=new na(nu,16),this.n=this.p.bitLength(),this.k=new na(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Pu.prototype._tmp=function(){var nu=new na(null);return nu.words=new Array(Math.ceil(this.n/13)),nu},Pu.prototype.ireduce=function(nu){var uu=nu,lu;do this.split(uu,this.tmp),uu=this.imulK(uu),uu=uu.iadd(this.tmp),lu=uu.bitLength();while(lu>this.n);var du=lu<this.n?-1:uu.ucmp(this.p);return du===0?(uu.words[0]=0,uu.length=1):du>0?uu.isub(this.p):uu.strip!==void 0?uu.strip():uu._strip(),uu},Pu.prototype.split=function(nu,uu){nu.iushrn(this.n,0,uu)},Pu.prototype.imulK=function(nu){return nu.imul(this.k)};function Su(){Pu.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$a(Su,Pu),Su.prototype.split=function(nu,uu){for(var lu=4194303,du=Math.min(nu.length,9),mu=0;mu<du;mu++)uu.words[mu]=nu.words[mu];if(uu.length=du,nu.length<=9){nu.words[0]=0,nu.length=1;return}var cu=nu.words[9];for(uu.words[uu.length++]=cu&lu,mu=10;mu<nu.length;mu++){var eu=nu.words[mu]|0;nu.words[mu-10]=(eu&lu)<<4|cu>>>22,cu=eu}cu>>>=22,nu.words[mu-10]=cu,cu===0&&nu.length>10?nu.length-=10:nu.length-=9},Su.prototype.imulK=function(nu){nu.words[nu.length]=0,nu.words[nu.length+1]=0,nu.length+=2;for(var uu=0,lu=0;lu<nu.length;lu++){var du=nu.words[lu]|0;uu+=du*977,nu.words[lu]=uu&67108863,uu=du*64+(uu/67108864|0)}return nu.words[nu.length-1]===0&&(nu.length--,nu.words[nu.length-1]===0&&nu.length--),nu};function Bu(){Pu.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$a(Bu,Pu);function Ou(){Pu.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$a(Ou,Pu);function Vu(){Pu.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$a(Vu,Pu),Vu.prototype.imulK=function(nu){for(var uu=0,lu=0;lu<nu.length;lu++){var du=(nu.words[lu]|0)*19+uu,mu=du&67108863;du>>>=26,nu.words[lu]=mu,uu=du}return uu!==0&&(nu.words[nu.length++]=uu),nu},na._prime=function(nu){if(Au[nu])return Au[nu];var uu;if(nu==="k256")uu=new Su;else if(nu==="p224")uu=new Bu;else if(nu==="p192")uu=new Ou;else if(nu==="p25519")uu=new Vu;else throw new Error("Unknown prime "+nu);return Au[nu]=uu,uu};function yu(ru){if(typeof ru=="string"){var nu=na._prime(ru);this.m=nu.p,this.prime=nu}else cs(ru.gtn(1),"modulus must be greater than 1"),this.m=ru,this.prime=null}yu.prototype._verify1=function(nu){cs(nu.negative===0,"red works only with positives"),cs(nu.red,"red works only with red numbers")},yu.prototype._verify2=function(nu,uu){cs((nu.negative|uu.negative)===0,"red works only with positives"),cs(nu.red&&nu.red===uu.red,"red works only with red numbers")},yu.prototype.imod=function(nu){return this.prime?this.prime.ireduce(nu)._forceRed(this):(ou(nu,nu.umod(this.m)._forceRed(this)),nu)},yu.prototype.neg=function(nu){return nu.isZero()?nu.clone():this.m.sub(nu)._forceRed(this)},yu.prototype.add=function(nu,uu){this._verify2(nu,uu);var lu=nu.add(uu);return lu.cmp(this.m)>=0&&lu.isub(this.m),lu._forceRed(this)},yu.prototype.iadd=function(nu,uu){this._verify2(nu,uu);var lu=nu.iadd(uu);return lu.cmp(this.m)>=0&&lu.isub(this.m),lu},yu.prototype.sub=function(nu,uu){this._verify2(nu,uu);var lu=nu.sub(uu);return lu.cmpn(0)<0&&lu.iadd(this.m),lu._forceRed(this)},yu.prototype.isub=function(nu,uu){this._verify2(nu,uu);var lu=nu.isub(uu);return lu.cmpn(0)<0&&lu.iadd(this.m),lu},yu.prototype.shl=function(nu,uu){return this._verify1(nu),this.imod(nu.ushln(uu))},yu.prototype.imul=function(nu,uu){return this._verify2(nu,uu),this.imod(nu.imul(uu))},yu.prototype.mul=function(nu,uu){return this._verify2(nu,uu),this.imod(nu.mul(uu))},yu.prototype.isqr=function(nu){return this.imul(nu,nu.clone())},yu.prototype.sqr=function(nu){return this.mul(nu,nu)},yu.prototype.sqrt=function(nu){if(nu.isZero())return nu.clone();var uu=this.m.andln(3);if(cs(uu%2===1),uu===3){var lu=this.m.add(new na(1)).iushrn(2);return this.pow(nu,lu)}for(var du=this.m.subn(1),mu=0;!du.isZero()&&du.andln(1)===0;)mu++,du.iushrn(1);cs(!du.isZero());var cu=new na(1).toRed(this),eu=cu.redNeg(),hu=this.m.subn(1).iushrn(1),Eu=this.m.bitLength();for(Eu=new na(2*Eu*Eu).toRed(this);this.pow(Eu,hu).cmp(eu)!==0;)Eu.redIAdd(eu);for(var Ru=this.pow(Eu,du),Tu=this.pow(nu,du.addn(1).iushrn(1)),qu=this.pow(nu,du),Du=mu;qu.cmp(cu)!==0;){for(var Iu=qu,Lu=0;Iu.cmp(cu)!==0;Lu++)Iu=Iu.redSqr();cs(Lu<Du);var Uu=this.pow(Ru,new na(1).iushln(Du-Lu-1));Tu=Tu.redMul(Uu),Ru=Uu.redSqr(),qu=qu.redMul(Ru),Du=Lu}return Tu},yu.prototype.invm=function(nu){var uu=nu._invmp(this.m);return uu.negative!==0?(uu.negative=0,this.imod(uu).redNeg()):this.imod(uu)},yu.prototype.pow=function(nu,uu){if(uu.isZero())return new na(1).toRed(this);if(uu.cmpn(1)===0)return nu.clone();var lu=4,du=new Array(1<<lu);du[0]=new na(1).toRed(this),du[1]=nu;for(var mu=2;mu<du.length;mu++)du[mu]=this.mul(du[mu-1],nu);var cu=du[0],eu=0,hu=0,Eu=uu.bitLength()%26;for(Eu===0&&(Eu=26),mu=uu.length-1;mu>=0;mu--){for(var Ru=uu.words[mu],Tu=Eu-1;Tu>=0;Tu--){var qu=Ru>>Tu&1;if(cu!==du[0]&&(cu=this.sqr(cu)),qu===0&&eu===0){hu=0;continue}eu<<=1,eu|=qu,hu++,!(hu!==lu&&(mu!==0||Tu!==0))&&(cu=this.mul(cu,du[eu]),hu=0,eu=0)}Eu=26}return cu},yu.prototype.convertTo=function(nu){var uu=nu.umod(this.m);return uu===nu?uu.clone():uu},yu.prototype.convertFrom=function(nu){var uu=nu.clone();return uu.red=null,uu},na.mont=function(nu){return new _a(nu)};function _a(ru){yu.call(this,ru),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new na(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$a(_a,yu),_a.prototype.convertTo=function(nu){return this.imod(nu.ushln(this.shift))},_a.prototype.convertFrom=function(nu){var uu=this.imod(nu.mul(this.rinv));return uu.red=null,uu},_a.prototype.imul=function(nu,uu){if(nu.isZero()||uu.isZero())return nu.words[0]=0,nu.length=1,nu;var lu=nu.imul(uu),du=lu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),mu=lu.isub(du).iushrn(this.shift),cu=mu;return mu.cmp(this.m)>=0?cu=mu.isub(this.m):mu.cmpn(0)<0&&(cu=mu.iadd(this.m)),cu._forceRed(this)},_a.prototype.mul=function(nu,uu){if(nu.isZero()||uu.isZero())return new na(0)._forceRed(this);var lu=nu.mul(uu),du=lu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),mu=lu.isub(du).iushrn(this.shift),cu=mu;return mu.cmp(this.m)>=0?cu=mu.isub(this.m):mu.cmpn(0)<0&&(cu=mu.iadd(this.m)),cu._forceRed(this)},_a.prototype.invm=function(nu){var uu=this.imod(nu._invmp(this.m).mul(this.r2));return uu._forceRed(this)}})(ss,commonjsGlobal)})(bn$6);var bnExports=bn$6.exports,browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var ss=bnExports,as=requireBrowser$b(),us=safeBufferExports.Buffer;function cs(tu){var iu=tu.modulus.byteLength(),su;do su=new ss(as(iu));while(su.cmp(tu.modulus)>=0||!su.umod(tu.prime1)||!su.umod(tu.prime2));return su}function $a(tu){var iu=cs(tu),su=iu.toRed(ss.mont(tu.modulus)).redPow(new ss(tu.publicExponent)).fromRed();return{blinder:su,unblinder:iu.invm(tu.modulus)}}function na(tu,iu){var su=$a(iu),au=iu.modulus.byteLength(),ou=new ss(tu).mul(su.blinder).umod(iu.modulus),fu=ou.toRed(ss.mont(iu.prime1)),pu=ou.toRed(ss.mont(iu.prime2)),vu=iu.coefficient,gu=iu.prime1,bu=iu.prime2,xu=fu.redPow(iu.exponent1).fromRed(),$u=pu.redPow(iu.exponent2).fromRed(),wu=xu.isub($u).imul(vu).umod(gu).imul(bu);return $u.iadd(wu).imul(su.unblinder).umod(iu.modulus).toArrayLike(us,"be",au)}return na.getr=cs,browserifyRsa=na,browserifyRsa}var elliptic={};const version$1="6.6.1",require$$0$2={version:version$1};var utils$3={},bn$5={exports:{}};bn$5.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(ss){(function(as,us){function cs(yu,_a){if(!yu)throw new Error(_a||"Assertion failed")}function $a(yu,_a){yu.super_=_a;var ru=function(){};ru.prototype=_a.prototype,yu.prototype=new ru,yu.prototype.constructor=yu}function na(yu,_a,ru){if(na.isBN(yu))return yu;this.negative=0,this.words=null,this.length=0,this.red=null,yu!==null&&((_a==="le"||_a==="be")&&(ru=_a,_a=10),this._init(yu||0,_a||10,ru||"be"))}typeof as=="object"?as.exports=na:us.BN=na,na.BN=na,na.wordSize=26;var tu;try{typeof window<"u"&&typeof window.Buffer<"u"?tu=window.Buffer:tu=require$$0$3.Buffer}catch{}na.isBN=function(_a){return _a instanceof na?!0:_a!==null&&typeof _a=="object"&&_a.constructor.wordSize===na.wordSize&&Array.isArray(_a.words)},na.max=function(_a,ru){return _a.cmp(ru)>0?_a:ru},na.min=function(_a,ru){return _a.cmp(ru)<0?_a:ru},na.prototype._init=function(_a,ru,nu){if(typeof _a=="number")return this._initNumber(_a,ru,nu);if(typeof _a=="object")return this._initArray(_a,ru,nu);ru==="hex"&&(ru=16),cs(ru===(ru|0)&&ru>=2&&ru<=36),_a=_a.toString().replace(/\s+/g,"");var uu=0;_a[0]==="-"&&(uu++,this.negative=1),uu<_a.length&&(ru===16?this._parseHex(_a,uu,nu):(this._parseBase(_a,ru,uu),nu==="le"&&this._initArray(this.toArray(),ru,nu)))},na.prototype._initNumber=function(_a,ru,nu){_a<0&&(this.negative=1,_a=-_a),_a<67108864?(this.words=[_a&67108863],this.length=1):_a<4503599627370496?(this.words=[_a&67108863,_a/67108864&67108863],this.length=2):(cs(_a<9007199254740992),this.words=[_a&67108863,_a/67108864&67108863,1],this.length=3),nu==="le"&&this._initArray(this.toArray(),ru,nu)},na.prototype._initArray=function(_a,ru,nu){if(cs(typeof _a.length=="number"),_a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_a.length/3),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu,du,mu=0;if(nu==="be")for(uu=_a.length-1,lu=0;uu>=0;uu-=3)du=_a[uu]|_a[uu-1]<<8|_a[uu-2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);else if(nu==="le")for(uu=0,lu=0;uu<_a.length;uu+=3)du=_a[uu]|_a[uu+1]<<8|_a[uu+2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);return this.strip()};function iu(yu,_a){var ru=yu.charCodeAt(_a);return ru>=65&&ru<=70?ru-55:ru>=97&&ru<=102?ru-87:ru-48&15}function su(yu,_a,ru){var nu=iu(yu,ru);return ru-1>=_a&&(nu|=iu(yu,ru-1)<<4),nu}na.prototype._parseHex=function(_a,ru,nu){this.length=Math.ceil((_a.length-ru)/6),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu=0,du=0,mu;if(nu==="be")for(uu=_a.length-1;uu>=ru;uu-=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8;else{var cu=_a.length-ru;for(uu=cu%2===0?ru+1:ru;uu<_a.length;uu+=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8}this.strip()};function au(yu,_a,ru,nu){for(var uu=0,lu=Math.min(yu.length,ru),du=_a;du<lu;du++){var mu=yu.charCodeAt(du)-48;uu*=nu,mu>=49?uu+=mu-49+10:mu>=17?uu+=mu-17+10:uu+=mu}return uu}na.prototype._parseBase=function(_a,ru,nu){this.words=[0],this.length=1;for(var uu=0,lu=1;lu<=67108863;lu*=ru)uu++;uu--,lu=lu/ru|0;for(var du=_a.length-nu,mu=du%uu,cu=Math.min(du,du-mu)+nu,eu=0,hu=nu;hu<cu;hu+=uu)eu=au(_a,hu,hu+uu,ru),this.imuln(lu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu);if(mu!==0){var Eu=1;for(eu=au(_a,hu,_a.length,ru),hu=0;hu<mu;hu++)Eu*=ru;this.imuln(Eu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu)}this.strip()},na.prototype.copy=function(_a){_a.words=new Array(this.length);for(var ru=0;ru<this.length;ru++)_a.words[ru]=this.words[ru];_a.length=this.length,_a.negative=this.negative,_a.red=this.red},na.prototype.clone=function(){var _a=new na(null);return this.copy(_a),_a},na.prototype._expand=function(_a){for(;this.length<_a;)this.words[this.length++]=0;return this},na.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},na.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},na.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ou=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fu=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];na.prototype.toString=function(_a,ru){_a=_a||10,ru=ru|0||1;var nu;if(_a===16||_a==="hex"){nu="";for(var uu=0,lu=0,du=0;du<this.length;du++){var mu=this.words[du],cu=((mu<<uu|lu)&16777215).toString(16);lu=mu>>>24-uu&16777215,uu+=2,uu>=26&&(uu-=26,du--),lu!==0||du!==this.length-1?nu=ou[6-cu.length]+cu+nu:nu=cu+nu}for(lu!==0&&(nu=lu.toString(16)+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}if(_a===(_a|0)&&_a>=2&&_a<=36){var eu=fu[_a],hu=pu[_a];nu="";var Eu=this.clone();for(Eu.negative=0;!Eu.isZero();){var Ru=Eu.modn(hu).toString(_a);Eu=Eu.idivn(hu),Eu.isZero()?nu=Ru+nu:nu=ou[eu-Ru.length]+Ru+nu}for(this.isZero()&&(nu="0"+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}cs(!1,"Base should be between 2 and 36")},na.prototype.toNumber=function(){var _a=this.words[0];return this.length===2?_a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_a+=4503599627370496+this.words[1]*67108864:this.length>2&&cs(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_a:_a},na.prototype.toJSON=function(){return this.toString(16)},na.prototype.toBuffer=function(_a,ru){return cs(typeof tu<"u"),this.toArrayLike(tu,_a,ru)},na.prototype.toArray=function(_a,ru){return this.toArrayLike(Array,_a,ru)},na.prototype.toArrayLike=function(_a,ru,nu){var uu=this.byteLength(),lu=nu||Math.max(1,uu);cs(uu<=lu,"byte array longer than desired length"),cs(lu>0,"Requested array length <= 0"),this.strip();var du=ru==="le",mu=new _a(lu),cu,eu,hu=this.clone();if(du){for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[eu]=cu;for(;eu<lu;eu++)mu[eu]=0}else{for(eu=0;eu<lu-uu;eu++)mu[eu]=0;for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[lu-eu-1]=cu}return mu},Math.clz32?na.prototype._countBits=function(_a){return 32-Math.clz32(_a)}:na.prototype._countBits=function(_a){var ru=_a,nu=0;return ru>=4096&&(nu+=13,ru>>>=13),ru>=64&&(nu+=7,ru>>>=7),ru>=8&&(nu+=4,ru>>>=4),ru>=2&&(nu+=2,ru>>>=2),nu+ru},na.prototype._zeroBits=function(_a){if(_a===0)return 26;var ru=_a,nu=0;return ru&8191||(nu+=13,ru>>>=13),ru&127||(nu+=7,ru>>>=7),ru&15||(nu+=4,ru>>>=4),ru&3||(nu+=2,ru>>>=2),ru&1||nu++,nu},na.prototype.bitLength=function(){var _a=this.words[this.length-1],ru=this._countBits(_a);return(this.length-1)*26+ru};function vu(yu){for(var _a=new Array(yu.bitLength()),ru=0;ru<_a.length;ru++){var nu=ru/26|0,uu=ru%26;_a[ru]=(yu.words[nu]&1<<uu)>>>uu}return _a}na.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _a=0,ru=0;ru<this.length;ru++){var nu=this._zeroBits(this.words[ru]);if(_a+=nu,nu!==26)break}return _a},na.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},na.prototype.toTwos=function(_a){return this.negative!==0?this.abs().inotn(_a).iaddn(1):this.clone()},na.prototype.fromTwos=function(_a){return this.testn(_a-1)?this.notn(_a).iaddn(1).ineg():this.clone()},na.prototype.isNeg=function(){return this.negative!==0},na.prototype.neg=function(){return this.clone().ineg()},na.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},na.prototype.iuor=function(_a){for(;this.length<_a.length;)this.words[this.length++]=0;for(var ru=0;ru<_a.length;ru++)this.words[ru]=this.words[ru]|_a.words[ru];return this.strip()},na.prototype.ior=function(_a){return cs((this.negative|_a.negative)===0),this.iuor(_a)},na.prototype.or=function(_a){return this.length>_a.length?this.clone().ior(_a):_a.clone().ior(this)},na.prototype.uor=function(_a){return this.length>_a.length?this.clone().iuor(_a):_a.clone().iuor(this)},na.prototype.iuand=function(_a){var ru;this.length>_a.length?ru=_a:ru=this;for(var nu=0;nu<ru.length;nu++)this.words[nu]=this.words[nu]&_a.words[nu];return this.length=ru.length,this.strip()},na.prototype.iand=function(_a){return cs((this.negative|_a.negative)===0),this.iuand(_a)},na.prototype.and=function(_a){return this.length>_a.length?this.clone().iand(_a):_a.clone().iand(this)},na.prototype.uand=function(_a){return this.length>_a.length?this.clone().iuand(_a):_a.clone().iuand(this)},na.prototype.iuxor=function(_a){var ru,nu;this.length>_a.length?(ru=this,nu=_a):(ru=_a,nu=this);for(var uu=0;uu<nu.length;uu++)this.words[uu]=ru.words[uu]^nu.words[uu];if(this!==ru)for(;uu<ru.length;uu++)this.words[uu]=ru.words[uu];return this.length=ru.length,this.strip()},na.prototype.ixor=function(_a){return cs((this.negative|_a.negative)===0),this.iuxor(_a)},na.prototype.xor=function(_a){return this.length>_a.length?this.clone().ixor(_a):_a.clone().ixor(this)},na.prototype.uxor=function(_a){return this.length>_a.length?this.clone().iuxor(_a):_a.clone().iuxor(this)},na.prototype.inotn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=Math.ceil(_a/26)|0,nu=_a%26;this._expand(ru),nu>0&&ru--;for(var uu=0;uu<ru;uu++)this.words[uu]=~this.words[uu]&67108863;return nu>0&&(this.words[uu]=~this.words[uu]&67108863>>26-nu),this.strip()},na.prototype.notn=function(_a){return this.clone().inotn(_a)},na.prototype.setn=function(_a,ru){cs(typeof _a=="number"&&_a>=0);var nu=_a/26|0,uu=_a%26;return this._expand(nu+1),ru?this.words[nu]=this.words[nu]|1<<uu:this.words[nu]=this.words[nu]&~(1<<uu),this.strip()},na.prototype.iadd=function(_a){var ru;if(this.negative!==0&&_a.negative===0)return this.negative=0,ru=this.isub(_a),this.negative^=1,this._normSign();if(this.negative===0&&_a.negative!==0)return _a.negative=0,ru=this.isub(_a),_a.negative=1,ru._normSign();var nu,uu;this.length>_a.length?(nu=this,uu=_a):(nu=_a,uu=this);for(var lu=0,du=0;du<uu.length;du++)ru=(nu.words[du]|0)+(uu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;for(;lu!==0&&du<nu.length;du++)ru=(nu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;if(this.length=nu.length,lu!==0)this.words[this.length]=lu,this.length++;else if(nu!==this)for(;du<nu.length;du++)this.words[du]=nu.words[du];return this},na.prototype.add=function(_a){var ru;return _a.negative!==0&&this.negative===0?(_a.negative=0,ru=this.sub(_a),_a.negative^=1,ru):_a.negative===0&&this.negative!==0?(this.negative=0,ru=_a.sub(this),this.negative=1,ru):this.length>_a.length?this.clone().iadd(_a):_a.clone().iadd(this)},na.prototype.isub=function(_a){if(_a.negative!==0){_a.negative=0;var ru=this.iadd(_a);return _a.negative=1,ru._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_a),this.negative=1,this._normSign();var nu=this.cmp(_a);if(nu===0)return this.negative=0,this.length=1,this.words[0]=0,this;var uu,lu;nu>0?(uu=this,lu=_a):(uu=_a,lu=this);for(var du=0,mu=0;mu<lu.length;mu++)ru=(uu.words[mu]|0)-(lu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;for(;du!==0&&mu<uu.length;mu++)ru=(uu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;if(du===0&&mu<uu.length&&uu!==this)for(;mu<uu.length;mu++)this.words[mu]=uu.words[mu];return this.length=Math.max(this.length,mu),uu!==this&&(this.negative=1),this.strip()},na.prototype.sub=function(_a){return this.clone().isub(_a)};function gu(yu,_a,ru){ru.negative=_a.negative^yu.negative;var nu=yu.length+_a.length|0;ru.length=nu,nu=nu-1|0;var uu=yu.words[0]|0,lu=_a.words[0]|0,du=uu*lu,mu=du&67108863,cu=du/67108864|0;ru.words[0]=mu;for(var eu=1;eu<nu;eu++){for(var hu=cu>>>26,Eu=cu&67108863,Ru=Math.min(eu,_a.length-1),Tu=Math.max(0,eu-yu.length+1);Tu<=Ru;Tu++){var qu=eu-Tu|0;uu=yu.words[qu]|0,lu=_a.words[Tu]|0,du=uu*lu+Eu,hu+=du/67108864|0,Eu=du&67108863}ru.words[eu]=Eu|0,cu=hu|0}return cu!==0?ru.words[eu]=cu|0:ru.length--,ru.strip()}var bu=function(_a,ru,nu){var uu=_a.words,lu=ru.words,du=nu.words,mu=0,cu,eu,hu,Eu=uu[0]|0,Ru=Eu&8191,Tu=Eu>>>13,qu=uu[1]|0,Du=qu&8191,Iu=qu>>>13,Lu=uu[2]|0,Uu=Lu&8191,Hu=Lu>>>13,zu=uu[3]|0,ju=zu&8191,Wu=zu>>>13,Dl=uu[4]|0,Zu=Dl&8191,Yu=Dl>>>13,Vl=uu[5]|0,_l=Vl&8191,Qu=Vl>>>13,Gl=uu[6]|0,yl=Gl&8191,Sl=Gl>>>13,Ql=uu[7]|0,Xu=Ql&8191,$l=Ql>>>13,Zl=uu[8]|0,wl=Zl&8191,Ml=Zl>>>13,Xl=uu[9]|0,Nu=Xl&8191,Cu=Xl>>>13,ku=lu[0]|0,Fu=ku&8191,Ku=ku>>>13,Ju=lu[1]|0,Gu=Ju&8191,El=Ju>>>13,Yl=lu[2]|0,xl=Yl&8191,Rl=Yl>>>13,Jl=lu[3]|0,Al=Jl&8191,Nl=Jl>>>13,e0=lu[4]|0,Cl=e0&8191,Ll=e0>>>13,t0=lu[5]|0,Pl=t0&8191,Fl=t0>>>13,r0=lu[6]|0,Il=r0&8191,Ul=r0>>>13,i0=lu[7]|0,Bl=i0&8191,zl=i0>>>13,n0=lu[8]|0,Tl=n0&8191,Hl=n0>>>13,s0=lu[9]|0,Ol=s0&8191,Kl=s0>>>13;nu.negative=_a.negative^ru.negative,nu.length=19,cu=Math.imul(Ru,Fu),eu=Math.imul(Ru,Ku),eu=eu+Math.imul(Tu,Fu)|0,hu=Math.imul(Tu,Ku);var _f=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_f>>>26)|0,_f&=67108863,cu=Math.imul(Du,Fu),eu=Math.imul(Du,Ku),eu=eu+Math.imul(Iu,Fu)|0,hu=Math.imul(Iu,Ku),cu=cu+Math.imul(Ru,Gu)|0,eu=eu+Math.imul(Ru,El)|0,eu=eu+Math.imul(Tu,Gu)|0,hu=hu+Math.imul(Tu,El)|0;var _h=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_h>>>26)|0,_h&=67108863,cu=Math.imul(Uu,Fu),eu=Math.imul(Uu,Ku),eu=eu+Math.imul(Hu,Fu)|0,hu=Math.imul(Hu,Ku),cu=cu+Math.imul(Du,Gu)|0,eu=eu+Math.imul(Du,El)|0,eu=eu+Math.imul(Iu,Gu)|0,hu=hu+Math.imul(Iu,El)|0,cu=cu+Math.imul(Ru,xl)|0,eu=eu+Math.imul(Ru,Rl)|0,eu=eu+Math.imul(Tu,xl)|0,hu=hu+Math.imul(Tu,Rl)|0;var a0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(a0>>>26)|0,a0&=67108863,cu=Math.imul(ju,Fu),eu=Math.imul(ju,Ku),eu=eu+Math.imul(Wu,Fu)|0,hu=Math.imul(Wu,Ku),cu=cu+Math.imul(Uu,Gu)|0,eu=eu+Math.imul(Uu,El)|0,eu=eu+Math.imul(Hu,Gu)|0,hu=hu+Math.imul(Hu,El)|0,cu=cu+Math.imul(Du,xl)|0,eu=eu+Math.imul(Du,Rl)|0,eu=eu+Math.imul(Iu,xl)|0,hu=hu+Math.imul(Iu,Rl)|0,cu=cu+Math.imul(Ru,Al)|0,eu=eu+Math.imul(Ru,Nl)|0,eu=eu+Math.imul(Tu,Al)|0,hu=hu+Math.imul(Tu,Nl)|0;var u0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(u0>>>26)|0,u0&=67108863,cu=Math.imul(Zu,Fu),eu=Math.imul(Zu,Ku),eu=eu+Math.imul(Yu,Fu)|0,hu=Math.imul(Yu,Ku),cu=cu+Math.imul(ju,Gu)|0,eu=eu+Math.imul(ju,El)|0,eu=eu+Math.imul(Wu,Gu)|0,hu=hu+Math.imul(Wu,El)|0,cu=cu+Math.imul(Uu,xl)|0,eu=eu+Math.imul(Uu,Rl)|0,eu=eu+Math.imul(Hu,xl)|0,hu=hu+Math.imul(Hu,Rl)|0,cu=cu+Math.imul(Du,Al)|0,eu=eu+Math.imul(Du,Nl)|0,eu=eu+Math.imul(Iu,Al)|0,hu=hu+Math.imul(Iu,Nl)|0,cu=cu+Math.imul(Ru,Cl)|0,eu=eu+Math.imul(Ru,Ll)|0,eu=eu+Math.imul(Tu,Cl)|0,hu=hu+Math.imul(Tu,Ll)|0;var l0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(l0>>>26)|0,l0&=67108863,cu=Math.imul(_l,Fu),eu=Math.imul(_l,Ku),eu=eu+Math.imul(Qu,Fu)|0,hu=Math.imul(Qu,Ku),cu=cu+Math.imul(Zu,Gu)|0,eu=eu+Math.imul(Zu,El)|0,eu=eu+Math.imul(Yu,Gu)|0,hu=hu+Math.imul(Yu,El)|0,cu=cu+Math.imul(ju,xl)|0,eu=eu+Math.imul(ju,Rl)|0,eu=eu+Math.imul(Wu,xl)|0,hu=hu+Math.imul(Wu,Rl)|0,cu=cu+Math.imul(Uu,Al)|0,eu=eu+Math.imul(Uu,Nl)|0,eu=eu+Math.imul(Hu,Al)|0,hu=hu+Math.imul(Hu,Nl)|0,cu=cu+Math.imul(Du,Cl)|0,eu=eu+Math.imul(Du,Ll)|0,eu=eu+Math.imul(Iu,Cl)|0,hu=hu+Math.imul(Iu,Ll)|0,cu=cu+Math.imul(Ru,Pl)|0,eu=eu+Math.imul(Ru,Fl)|0,eu=eu+Math.imul(Tu,Pl)|0,hu=hu+Math.imul(Tu,Fl)|0;var c0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(c0>>>26)|0,c0&=67108863,cu=Math.imul(yl,Fu),eu=Math.imul(yl,Ku),eu=eu+Math.imul(Sl,Fu)|0,hu=Math.imul(Sl,Ku),cu=cu+Math.imul(_l,Gu)|0,eu=eu+Math.imul(_l,El)|0,eu=eu+Math.imul(Qu,Gu)|0,hu=hu+Math.imul(Qu,El)|0,cu=cu+Math.imul(Zu,xl)|0,eu=eu+Math.imul(Zu,Rl)|0,eu=eu+Math.imul(Yu,xl)|0,hu=hu+Math.imul(Yu,Rl)|0,cu=cu+Math.imul(ju,Al)|0,eu=eu+Math.imul(ju,Nl)|0,eu=eu+Math.imul(Wu,Al)|0,hu=hu+Math.imul(Wu,Nl)|0,cu=cu+Math.imul(Uu,Cl)|0,eu=eu+Math.imul(Uu,Ll)|0,eu=eu+Math.imul(Hu,Cl)|0,hu=hu+Math.imul(Hu,Ll)|0,cu=cu+Math.imul(Du,Pl)|0,eu=eu+Math.imul(Du,Fl)|0,eu=eu+Math.imul(Iu,Pl)|0,hu=hu+Math.imul(Iu,Fl)|0,cu=cu+Math.imul(Ru,Il)|0,eu=eu+Math.imul(Ru,Ul)|0,eu=eu+Math.imul(Tu,Il)|0,hu=hu+Math.imul(Tu,Ul)|0;var f0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(f0>>>26)|0,f0&=67108863,cu=Math.imul(Xu,Fu),eu=Math.imul(Xu,Ku),eu=eu+Math.imul($l,Fu)|0,hu=Math.imul($l,Ku),cu=cu+Math.imul(yl,Gu)|0,eu=eu+Math.imul(yl,El)|0,eu=eu+Math.imul(Sl,Gu)|0,hu=hu+Math.imul(Sl,El)|0,cu=cu+Math.imul(_l,xl)|0,eu=eu+Math.imul(_l,Rl)|0,eu=eu+Math.imul(Qu,xl)|0,hu=hu+Math.imul(Qu,Rl)|0,cu=cu+Math.imul(Zu,Al)|0,eu=eu+Math.imul(Zu,Nl)|0,eu=eu+Math.imul(Yu,Al)|0,hu=hu+Math.imul(Yu,Nl)|0,cu=cu+Math.imul(ju,Cl)|0,eu=eu+Math.imul(ju,Ll)|0,eu=eu+Math.imul(Wu,Cl)|0,hu=hu+Math.imul(Wu,Ll)|0,cu=cu+Math.imul(Uu,Pl)|0,eu=eu+Math.imul(Uu,Fl)|0,eu=eu+Math.imul(Hu,Pl)|0,hu=hu+Math.imul(Hu,Fl)|0,cu=cu+Math.imul(Du,Il)|0,eu=eu+Math.imul(Du,Ul)|0,eu=eu+Math.imul(Iu,Il)|0,hu=hu+Math.imul(Iu,Ul)|0,cu=cu+Math.imul(Ru,Bl)|0,eu=eu+Math.imul(Ru,zl)|0,eu=eu+Math.imul(Tu,Bl)|0,hu=hu+Math.imul(Tu,zl)|0;var h0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(h0>>>26)|0,h0&=67108863,cu=Math.imul(wl,Fu),eu=Math.imul(wl,Ku),eu=eu+Math.imul(Ml,Fu)|0,hu=Math.imul(Ml,Ku),cu=cu+Math.imul(Xu,Gu)|0,eu=eu+Math.imul(Xu,El)|0,eu=eu+Math.imul($l,Gu)|0,hu=hu+Math.imul($l,El)|0,cu=cu+Math.imul(yl,xl)|0,eu=eu+Math.imul(yl,Rl)|0,eu=eu+Math.imul(Sl,xl)|0,hu=hu+Math.imul(Sl,Rl)|0,cu=cu+Math.imul(_l,Al)|0,eu=eu+Math.imul(_l,Nl)|0,eu=eu+Math.imul(Qu,Al)|0,hu=hu+Math.imul(Qu,Nl)|0,cu=cu+Math.imul(Zu,Cl)|0,eu=eu+Math.imul(Zu,Ll)|0,eu=eu+Math.imul(Yu,Cl)|0,hu=hu+Math.imul(Yu,Ll)|0,cu=cu+Math.imul(ju,Pl)|0,eu=eu+Math.imul(ju,Fl)|0,eu=eu+Math.imul(Wu,Pl)|0,hu=hu+Math.imul(Wu,Fl)|0,cu=cu+Math.imul(Uu,Il)|0,eu=eu+Math.imul(Uu,Ul)|0,eu=eu+Math.imul(Hu,Il)|0,hu=hu+Math.imul(Hu,Ul)|0,cu=cu+Math.imul(Du,Bl)|0,eu=eu+Math.imul(Du,zl)|0,eu=eu+Math.imul(Iu,Bl)|0,hu=hu+Math.imul(Iu,zl)|0,cu=cu+Math.imul(Ru,Tl)|0,eu=eu+Math.imul(Ru,Hl)|0,eu=eu+Math.imul(Tu,Tl)|0,hu=hu+Math.imul(Tu,Hl)|0;var d0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(d0>>>26)|0,d0&=67108863,cu=Math.imul(Nu,Fu),eu=Math.imul(Nu,Ku),eu=eu+Math.imul(Cu,Fu)|0,hu=Math.imul(Cu,Ku),cu=cu+Math.imul(wl,Gu)|0,eu=eu+Math.imul(wl,El)|0,eu=eu+Math.imul(Ml,Gu)|0,hu=hu+Math.imul(Ml,El)|0,cu=cu+Math.imul(Xu,xl)|0,eu=eu+Math.imul(Xu,Rl)|0,eu=eu+Math.imul($l,xl)|0,hu=hu+Math.imul($l,Rl)|0,cu=cu+Math.imul(yl,Al)|0,eu=eu+Math.imul(yl,Nl)|0,eu=eu+Math.imul(Sl,Al)|0,hu=hu+Math.imul(Sl,Nl)|0,cu=cu+Math.imul(_l,Cl)|0,eu=eu+Math.imul(_l,Ll)|0,eu=eu+Math.imul(Qu,Cl)|0,hu=hu+Math.imul(Qu,Ll)|0,cu=cu+Math.imul(Zu,Pl)|0,eu=eu+Math.imul(Zu,Fl)|0,eu=eu+Math.imul(Yu,Pl)|0,hu=hu+Math.imul(Yu,Fl)|0,cu=cu+Math.imul(ju,Il)|0,eu=eu+Math.imul(ju,Ul)|0,eu=eu+Math.imul(Wu,Il)|0,hu=hu+Math.imul(Wu,Ul)|0,cu=cu+Math.imul(Uu,Bl)|0,eu=eu+Math.imul(Uu,zl)|0,eu=eu+Math.imul(Hu,Bl)|0,hu=hu+Math.imul(Hu,zl)|0,cu=cu+Math.imul(Du,Tl)|0,eu=eu+Math.imul(Du,Hl)|0,eu=eu+Math.imul(Iu,Tl)|0,hu=hu+Math.imul(Iu,Hl)|0,cu=cu+Math.imul(Ru,Ol)|0,eu=eu+Math.imul(Ru,Kl)|0,eu=eu+Math.imul(Tu,Ol)|0,hu=hu+Math.imul(Tu,Kl)|0;var p0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(p0>>>26)|0,p0&=67108863,cu=Math.imul(Nu,Gu),eu=Math.imul(Nu,El),eu=eu+Math.imul(Cu,Gu)|0,hu=Math.imul(Cu,El),cu=cu+Math.imul(wl,xl)|0,eu=eu+Math.imul(wl,Rl)|0,eu=eu+Math.imul(Ml,xl)|0,hu=hu+Math.imul(Ml,Rl)|0,cu=cu+Math.imul(Xu,Al)|0,eu=eu+Math.imul(Xu,Nl)|0,eu=eu+Math.imul($l,Al)|0,hu=hu+Math.imul($l,Nl)|0,cu=cu+Math.imul(yl,Cl)|0,eu=eu+Math.imul(yl,Ll)|0,eu=eu+Math.imul(Sl,Cl)|0,hu=hu+Math.imul(Sl,Ll)|0,cu=cu+Math.imul(_l,Pl)|0,eu=eu+Math.imul(_l,Fl)|0,eu=eu+Math.imul(Qu,Pl)|0,hu=hu+Math.imul(Qu,Fl)|0,cu=cu+Math.imul(Zu,Il)|0,eu=eu+Math.imul(Zu,Ul)|0,eu=eu+Math.imul(Yu,Il)|0,hu=hu+Math.imul(Yu,Ul)|0,cu=cu+Math.imul(ju,Bl)|0,eu=eu+Math.imul(ju,zl)|0,eu=eu+Math.imul(Wu,Bl)|0,hu=hu+Math.imul(Wu,zl)|0,cu=cu+Math.imul(Uu,Tl)|0,eu=eu+Math.imul(Uu,Hl)|0,eu=eu+Math.imul(Hu,Tl)|0,hu=hu+Math.imul(Hu,Hl)|0,cu=cu+Math.imul(Du,Ol)|0,eu=eu+Math.imul(Du,Kl)|0,eu=eu+Math.imul(Iu,Ol)|0,hu=hu+Math.imul(Iu,Kl)|0;var m0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(m0>>>26)|0,m0&=67108863,cu=Math.imul(Nu,xl),eu=Math.imul(Nu,Rl),eu=eu+Math.imul(Cu,xl)|0,hu=Math.imul(Cu,Rl),cu=cu+Math.imul(wl,Al)|0,eu=eu+Math.imul(wl,Nl)|0,eu=eu+Math.imul(Ml,Al)|0,hu=hu+Math.imul(Ml,Nl)|0,cu=cu+Math.imul(Xu,Cl)|0,eu=eu+Math.imul(Xu,Ll)|0,eu=eu+Math.imul($l,Cl)|0,hu=hu+Math.imul($l,Ll)|0,cu=cu+Math.imul(yl,Pl)|0,eu=eu+Math.imul(yl,Fl)|0,eu=eu+Math.imul(Sl,Pl)|0,hu=hu+Math.imul(Sl,Fl)|0,cu=cu+Math.imul(_l,Il)|0,eu=eu+Math.imul(_l,Ul)|0,eu=eu+Math.imul(Qu,Il)|0,hu=hu+Math.imul(Qu,Ul)|0,cu=cu+Math.imul(Zu,Bl)|0,eu=eu+Math.imul(Zu,zl)|0,eu=eu+Math.imul(Yu,Bl)|0,hu=hu+Math.imul(Yu,zl)|0,cu=cu+Math.imul(ju,Tl)|0,eu=eu+Math.imul(ju,Hl)|0,eu=eu+Math.imul(Wu,Tl)|0,hu=hu+Math.imul(Wu,Hl)|0,cu=cu+Math.imul(Uu,Ol)|0,eu=eu+Math.imul(Uu,Kl)|0,eu=eu+Math.imul(Hu,Ol)|0,hu=hu+Math.imul(Hu,Kl)|0;var v0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(v0>>>26)|0,v0&=67108863,cu=Math.imul(Nu,Al),eu=Math.imul(Nu,Nl),eu=eu+Math.imul(Cu,Al)|0,hu=Math.imul(Cu,Nl),cu=cu+Math.imul(wl,Cl)|0,eu=eu+Math.imul(wl,Ll)|0,eu=eu+Math.imul(Ml,Cl)|0,hu=hu+Math.imul(Ml,Ll)|0,cu=cu+Math.imul(Xu,Pl)|0,eu=eu+Math.imul(Xu,Fl)|0,eu=eu+Math.imul($l,Pl)|0,hu=hu+Math.imul($l,Fl)|0,cu=cu+Math.imul(yl,Il)|0,eu=eu+Math.imul(yl,Ul)|0,eu=eu+Math.imul(Sl,Il)|0,hu=hu+Math.imul(Sl,Ul)|0,cu=cu+Math.imul(_l,Bl)|0,eu=eu+Math.imul(_l,zl)|0,eu=eu+Math.imul(Qu,Bl)|0,hu=hu+Math.imul(Qu,zl)|0,cu=cu+Math.imul(Zu,Tl)|0,eu=eu+Math.imul(Zu,Hl)|0,eu=eu+Math.imul(Yu,Tl)|0,hu=hu+Math.imul(Yu,Hl)|0,cu=cu+Math.imul(ju,Ol)|0,eu=eu+Math.imul(ju,Kl)|0,eu=eu+Math.imul(Wu,Ol)|0,hu=hu+Math.imul(Wu,Kl)|0;var g0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(g0>>>26)|0,g0&=67108863,cu=Math.imul(Nu,Cl),eu=Math.imul(Nu,Ll),eu=eu+Math.imul(Cu,Cl)|0,hu=Math.imul(Cu,Ll),cu=cu+Math.imul(wl,Pl)|0,eu=eu+Math.imul(wl,Fl)|0,eu=eu+Math.imul(Ml,Pl)|0,hu=hu+Math.imul(Ml,Fl)|0,cu=cu+Math.imul(Xu,Il)|0,eu=eu+Math.imul(Xu,Ul)|0,eu=eu+Math.imul($l,Il)|0,hu=hu+Math.imul($l,Ul)|0,cu=cu+Math.imul(yl,Bl)|0,eu=eu+Math.imul(yl,zl)|0,eu=eu+Math.imul(Sl,Bl)|0,hu=hu+Math.imul(Sl,zl)|0,cu=cu+Math.imul(_l,Tl)|0,eu=eu+Math.imul(_l,Hl)|0,eu=eu+Math.imul(Qu,Tl)|0,hu=hu+Math.imul(Qu,Hl)|0,cu=cu+Math.imul(Zu,Ol)|0,eu=eu+Math.imul(Zu,Kl)|0,eu=eu+Math.imul(Yu,Ol)|0,hu=hu+Math.imul(Yu,Kl)|0;var y0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(y0>>>26)|0,y0&=67108863,cu=Math.imul(Nu,Pl),eu=Math.imul(Nu,Fl),eu=eu+Math.imul(Cu,Pl)|0,hu=Math.imul(Cu,Fl),cu=cu+Math.imul(wl,Il)|0,eu=eu+Math.imul(wl,Ul)|0,eu=eu+Math.imul(Ml,Il)|0,hu=hu+Math.imul(Ml,Ul)|0,cu=cu+Math.imul(Xu,Bl)|0,eu=eu+Math.imul(Xu,zl)|0,eu=eu+Math.imul($l,Bl)|0,hu=hu+Math.imul($l,zl)|0,cu=cu+Math.imul(yl,Tl)|0,eu=eu+Math.imul(yl,Hl)|0,eu=eu+Math.imul(Sl,Tl)|0,hu=hu+Math.imul(Sl,Hl)|0,cu=cu+Math.imul(_l,Ol)|0,eu=eu+Math.imul(_l,Kl)|0,eu=eu+Math.imul(Qu,Ol)|0,hu=hu+Math.imul(Qu,Kl)|0;var b0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(b0>>>26)|0,b0&=67108863,cu=Math.imul(Nu,Il),eu=Math.imul(Nu,Ul),eu=eu+Math.imul(Cu,Il)|0,hu=Math.imul(Cu,Ul),cu=cu+Math.imul(wl,Bl)|0,eu=eu+Math.imul(wl,zl)|0,eu=eu+Math.imul(Ml,Bl)|0,hu=hu+Math.imul(Ml,zl)|0,cu=cu+Math.imul(Xu,Tl)|0,eu=eu+Math.imul(Xu,Hl)|0,eu=eu+Math.imul($l,Tl)|0,hu=hu+Math.imul($l,Hl)|0,cu=cu+Math.imul(yl,Ol)|0,eu=eu+Math.imul(yl,Kl)|0,eu=eu+Math.imul(Sl,Ol)|0,hu=hu+Math.imul(Sl,Kl)|0;var w0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(w0>>>26)|0,w0&=67108863,cu=Math.imul(Nu,Bl),eu=Math.imul(Nu,zl),eu=eu+Math.imul(Cu,Bl)|0,hu=Math.imul(Cu,zl),cu=cu+Math.imul(wl,Tl)|0,eu=eu+Math.imul(wl,Hl)|0,eu=eu+Math.imul(Ml,Tl)|0,hu=hu+Math.imul(Ml,Hl)|0,cu=cu+Math.imul(Xu,Ol)|0,eu=eu+Math.imul(Xu,Kl)|0,eu=eu+Math.imul($l,Ol)|0,hu=hu+Math.imul($l,Kl)|0;var $0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+($0>>>26)|0,$0&=67108863,cu=Math.imul(Nu,Tl),eu=Math.imul(Nu,Hl),eu=eu+Math.imul(Cu,Tl)|0,hu=Math.imul(Cu,Hl),cu=cu+Math.imul(wl,Ol)|0,eu=eu+Math.imul(wl,Kl)|0,eu=eu+Math.imul(Ml,Ol)|0,hu=hu+Math.imul(Ml,Kl)|0;var x0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(x0>>>26)|0,x0&=67108863,cu=Math.imul(Nu,Ol),eu=Math.imul(Nu,Kl),eu=eu+Math.imul(Cu,Ol)|0,hu=Math.imul(Cu,Kl);var _0=(mu+cu|0)+((eu&8191)<<13)|0;return mu=(hu+(eu>>>13)|0)+(_0>>>26)|0,_0&=67108863,du[0]=_f,du[1]=_h,du[2]=a0,du[3]=u0,du[4]=l0,du[5]=c0,du[6]=f0,du[7]=h0,du[8]=d0,du[9]=p0,du[10]=m0,du[11]=v0,du[12]=g0,du[13]=y0,du[14]=b0,du[15]=w0,du[16]=$0,du[17]=x0,du[18]=_0,mu!==0&&(du[19]=mu,nu.length++),nu};Math.imul||(bu=gu);function xu(yu,_a,ru){ru.negative=_a.negative^yu.negative,ru.length=yu.length+_a.length;for(var nu=0,uu=0,lu=0;lu<ru.length-1;lu++){var du=uu;uu=0;for(var mu=nu&67108863,cu=Math.min(lu,_a.length-1),eu=Math.max(0,lu-yu.length+1);eu<=cu;eu++){var hu=lu-eu,Eu=yu.words[hu]|0,Ru=_a.words[eu]|0,Tu=Eu*Ru,qu=Tu&67108863;du=du+(Tu/67108864|0)|0,qu=qu+mu|0,mu=qu&67108863,du=du+(qu>>>26)|0,uu+=du>>>26,du&=67108863}ru.words[lu]=mu,nu=du,du=uu}return nu!==0?ru.words[lu]=nu:ru.length--,ru.strip()}function $u(yu,_a,ru){var nu=new wu;return nu.mulp(yu,_a,ru)}na.prototype.mulTo=function(_a,ru){var nu,uu=this.length+_a.length;return this.length===10&&_a.length===10?nu=bu(this,_a,ru):uu<63?nu=gu(this,_a,ru):uu<1024?nu=xu(this,_a,ru):nu=$u(this,_a,ru),nu};function wu(yu,_a){this.x=yu,this.y=_a}wu.prototype.makeRBT=function(_a){for(var ru=new Array(_a),nu=na.prototype._countBits(_a)-1,uu=0;uu<_a;uu++)ru[uu]=this.revBin(uu,nu,_a);return ru},wu.prototype.revBin=function(_a,ru,nu){if(_a===0||_a===nu-1)return _a;for(var uu=0,lu=0;lu<ru;lu++)uu|=(_a&1)<<ru-lu-1,_a>>=1;return uu},wu.prototype.permute=function(_a,ru,nu,uu,lu,du){for(var mu=0;mu<du;mu++)uu[mu]=ru[_a[mu]],lu[mu]=nu[_a[mu]]},wu.prototype.transform=function(_a,ru,nu,uu,lu,du){this.permute(du,_a,ru,nu,uu,lu);for(var mu=1;mu<lu;mu<<=1)for(var cu=mu<<1,eu=Math.cos(2*Math.PI/cu),hu=Math.sin(2*Math.PI/cu),Eu=0;Eu<lu;Eu+=cu)for(var Ru=eu,Tu=hu,qu=0;qu<mu;qu++){var Du=nu[Eu+qu],Iu=uu[Eu+qu],Lu=nu[Eu+qu+mu],Uu=uu[Eu+qu+mu],Hu=Ru*Lu-Tu*Uu;Uu=Ru*Uu+Tu*Lu,Lu=Hu,nu[Eu+qu]=Du+Lu,uu[Eu+qu]=Iu+Uu,nu[Eu+qu+mu]=Du-Lu,uu[Eu+qu+mu]=Iu-Uu,qu!==cu&&(Hu=eu*Ru-hu*Tu,Tu=eu*Tu+hu*Ru,Ru=Hu)}},wu.prototype.guessLen13b=function(_a,ru){var nu=Math.max(ru,_a)|1,uu=nu&1,lu=0;for(nu=nu/2|0;nu;nu=nu>>>1)lu++;return 1<<lu+1+uu},wu.prototype.conjugate=function(_a,ru,nu){if(!(nu<=1))for(var uu=0;uu<nu/2;uu++){var lu=_a[uu];_a[uu]=_a[nu-uu-1],_a[nu-uu-1]=lu,lu=ru[uu],ru[uu]=-ru[nu-uu-1],ru[nu-uu-1]=-lu}},wu.prototype.normalize13b=function(_a,ru){for(var nu=0,uu=0;uu<ru/2;uu++){var lu=Math.round(_a[2*uu+1]/ru)*8192+Math.round(_a[2*uu]/ru)+nu;_a[uu]=lu&67108863,lu<67108864?nu=0:nu=lu/67108864|0}return _a},wu.prototype.convert13b=function(_a,ru,nu,uu){for(var lu=0,du=0;du<ru;du++)lu=lu+(_a[du]|0),nu[2*du]=lu&8191,lu=lu>>>13,nu[2*du+1]=lu&8191,lu=lu>>>13;for(du=2*ru;du<uu;++du)nu[du]=0;cs(lu===0),cs((lu&-8192)===0)},wu.prototype.stub=function(_a){for(var ru=new Array(_a),nu=0;nu<_a;nu++)ru[nu]=0;return ru},wu.prototype.mulp=function(_a,ru,nu){var uu=2*this.guessLen13b(_a.length,ru.length),lu=this.makeRBT(uu),du=this.stub(uu),mu=new Array(uu),cu=new Array(uu),eu=new Array(uu),hu=new Array(uu),Eu=new Array(uu),Ru=new Array(uu),Tu=nu.words;Tu.length=uu,this.convert13b(_a.words,_a.length,mu,uu),this.convert13b(ru.words,ru.length,hu,uu),this.transform(mu,du,cu,eu,uu,lu),this.transform(hu,du,Eu,Ru,uu,lu);for(var qu=0;qu<uu;qu++){var Du=cu[qu]*Eu[qu]-eu[qu]*Ru[qu];eu[qu]=cu[qu]*Ru[qu]+eu[qu]*Eu[qu],cu[qu]=Du}return this.conjugate(cu,eu,uu),this.transform(cu,eu,Tu,du,uu,lu),this.conjugate(Tu,du,uu),this.normalize13b(Tu,uu),nu.negative=_a.negative^ru.negative,nu.length=_a.length+ru.length,nu.strip()},na.prototype.mul=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),this.mulTo(_a,ru)},na.prototype.mulf=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),$u(this,_a,ru)},na.prototype.imul=function(_a){return this.clone().mulTo(_a,this)},na.prototype.imuln=function(_a){cs(typeof _a=="number"),cs(_a<67108864);for(var ru=0,nu=0;nu<this.length;nu++){var uu=(this.words[nu]|0)*_a,lu=(uu&67108863)+(ru&67108863);ru>>=26,ru+=uu/67108864|0,ru+=lu>>>26,this.words[nu]=lu&67108863}return ru!==0&&(this.words[nu]=ru,this.length++),this},na.prototype.muln=function(_a){return this.clone().imuln(_a)},na.prototype.sqr=function(){return this.mul(this)},na.prototype.isqr=function(){return this.imul(this.clone())},na.prototype.pow=function(_a){var ru=vu(_a);if(ru.length===0)return new na(1);for(var nu=this,uu=0;uu<ru.length&&ru[uu]===0;uu++,nu=nu.sqr());if(++uu<ru.length)for(var lu=nu.sqr();uu<ru.length;uu++,lu=lu.sqr())ru[uu]!==0&&(nu=nu.mul(lu));return nu},na.prototype.iushln=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=67108863>>>26-ru<<26-ru,lu;if(ru!==0){var du=0;for(lu=0;lu<this.length;lu++){var mu=this.words[lu]&uu,cu=(this.words[lu]|0)-mu<<ru;this.words[lu]=cu|du,du=mu>>>26-ru}du&&(this.words[lu]=du,this.length++)}if(nu!==0){for(lu=this.length-1;lu>=0;lu--)this.words[lu+nu]=this.words[lu];for(lu=0;lu<nu;lu++)this.words[lu]=0;this.length+=nu}return this.strip()},na.prototype.ishln=function(_a){return cs(this.negative===0),this.iushln(_a)},na.prototype.iushrn=function(_a,ru,nu){cs(typeof _a=="number"&&_a>=0);var uu;ru?uu=(ru-ru%26)/26:uu=0;var lu=_a%26,du=Math.min((_a-lu)/26,this.length),mu=67108863^67108863>>>lu<<lu,cu=nu;if(uu-=du,uu=Math.max(0,uu),cu){for(var eu=0;eu<du;eu++)cu.words[eu]=this.words[eu];cu.length=du}if(du!==0)if(this.length>du)for(this.length-=du,eu=0;eu<this.length;eu++)this.words[eu]=this.words[eu+du];else this.words[0]=0,this.length=1;var hu=0;for(eu=this.length-1;eu>=0&&(hu!==0||eu>=uu);eu--){var Eu=this.words[eu]|0;this.words[eu]=hu<<26-lu|Eu>>>lu,hu=Eu&mu}return cu&&hu!==0&&(cu.words[cu.length++]=hu),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},na.prototype.ishrn=function(_a,ru,nu){return cs(this.negative===0),this.iushrn(_a,ru,nu)},na.prototype.shln=function(_a){return this.clone().ishln(_a)},na.prototype.ushln=function(_a){return this.clone().iushln(_a)},na.prototype.shrn=function(_a){return this.clone().ishrn(_a)},na.prototype.ushrn=function(_a){return this.clone().iushrn(_a)},na.prototype.testn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return!1;var lu=this.words[nu];return!!(lu&uu)},na.prototype.imaskn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26;if(cs(this.negative===0,"imaskn works only with positive numbers"),this.length<=nu)return this;if(ru!==0&&nu++,this.length=Math.min(nu,this.length),ru!==0){var uu=67108863^67108863>>>ru<<ru;this.words[this.length-1]&=uu}return this.strip()},na.prototype.maskn=function(_a){return this.clone().imaskn(_a)},na.prototype.iaddn=function(_a){return cs(typeof _a=="number"),cs(_a<67108864),_a<0?this.isubn(-_a):this.negative!==0?this.length===1&&(this.words[0]|0)<_a?(this.words[0]=_a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_a),this.negative=1,this):this._iaddn(_a)},na.prototype._iaddn=function(_a){this.words[0]+=_a;for(var ru=0;ru<this.length&&this.words[ru]>=67108864;ru++)this.words[ru]-=67108864,ru===this.length-1?this.words[ru+1]=1:this.words[ru+1]++;return this.length=Math.max(this.length,ru+1),this},na.prototype.isubn=function(_a){if(cs(typeof _a=="number"),cs(_a<67108864),_a<0)return this.iaddn(-_a);if(this.negative!==0)return this.negative=0,this.iaddn(_a),this.negative=1,this;if(this.words[0]-=_a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ru=0;ru<this.length&&this.words[ru]<0;ru++)this.words[ru]+=67108864,this.words[ru+1]-=1;return this.strip()},na.prototype.addn=function(_a){return this.clone().iaddn(_a)},na.prototype.subn=function(_a){return this.clone().isubn(_a)},na.prototype.iabs=function(){return this.negative=0,this},na.prototype.abs=function(){return this.clone().iabs()},na.prototype._ishlnsubmul=function(_a,ru,nu){var uu=_a.length+nu,lu;this._expand(uu);var du,mu=0;for(lu=0;lu<_a.length;lu++){du=(this.words[lu+nu]|0)+mu;var cu=(_a.words[lu]|0)*ru;du-=cu&67108863,mu=(du>>26)-(cu/67108864|0),this.words[lu+nu]=du&67108863}for(;lu<this.length-nu;lu++)du=(this.words[lu+nu]|0)+mu,mu=du>>26,this.words[lu+nu]=du&67108863;if(mu===0)return this.strip();for(cs(mu===-1),mu=0,lu=0;lu<this.length;lu++)du=-(this.words[lu]|0)+mu,mu=du>>26,this.words[lu]=du&67108863;return this.negative=1,this.strip()},na.prototype._wordDiv=function(_a,ru){var nu=this.length-_a.length,uu=this.clone(),lu=_a,du=lu.words[lu.length-1]|0,mu=this._countBits(du);nu=26-mu,nu!==0&&(lu=lu.ushln(nu),uu.iushln(nu),du=lu.words[lu.length-1]|0);var cu=uu.length-lu.length,eu;if(ru!=="mod"){eu=new na(null),eu.length=cu+1,eu.words=new Array(eu.length);for(var hu=0;hu<eu.length;hu++)eu.words[hu]=0}var Eu=uu.clone()._ishlnsubmul(lu,1,cu);Eu.negative===0&&(uu=Eu,eu&&(eu.words[cu]=1));for(var Ru=cu-1;Ru>=0;Ru--){var Tu=(uu.words[lu.length+Ru]|0)*67108864+(uu.words[lu.length+Ru-1]|0);for(Tu=Math.min(Tu/du|0,67108863),uu._ishlnsubmul(lu,Tu,Ru);uu.negative!==0;)Tu--,uu.negative=0,uu._ishlnsubmul(lu,1,Ru),uu.isZero()||(uu.negative^=1);eu&&(eu.words[Ru]=Tu)}return eu&&eu.strip(),uu.strip(),ru!=="div"&&nu!==0&&uu.iushrn(nu),{div:eu||null,mod:uu}},na.prototype.divmod=function(_a,ru,nu){if(cs(!_a.isZero()),this.isZero())return{div:new na(0),mod:new na(0)};var uu,lu,du;return this.negative!==0&&_a.negative===0?(du=this.neg().divmod(_a,ru),ru!=="mod"&&(uu=du.div.neg()),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.iadd(_a)),{div:uu,mod:lu}):this.negative===0&&_a.negative!==0?(du=this.divmod(_a.neg(),ru),ru!=="mod"&&(uu=du.div.neg()),{div:uu,mod:du.mod}):this.negative&_a.negative?(du=this.neg().divmod(_a.neg(),ru),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.isub(_a)),{div:du.div,mod:lu}):_a.length>this.length||this.cmp(_a)<0?{div:new na(0),mod:this}:_a.length===1?ru==="div"?{div:this.divn(_a.words[0]),mod:null}:ru==="mod"?{div:null,mod:new na(this.modn(_a.words[0]))}:{div:this.divn(_a.words[0]),mod:new na(this.modn(_a.words[0]))}:this._wordDiv(_a,ru)},na.prototype.div=function(_a){return this.divmod(_a,"div",!1).div},na.prototype.mod=function(_a){return this.divmod(_a,"mod",!1).mod},na.prototype.umod=function(_a){return this.divmod(_a,"mod",!0).mod},na.prototype.divRound=function(_a){var ru=this.divmod(_a);if(ru.mod.isZero())return ru.div;var nu=ru.div.negative!==0?ru.mod.isub(_a):ru.mod,uu=_a.ushrn(1),lu=_a.andln(1),du=nu.cmp(uu);return du<0||lu===1&&du===0?ru.div:ru.div.negative!==0?ru.div.isubn(1):ru.div.iaddn(1)},na.prototype.modn=function(_a){cs(_a<=67108863);for(var ru=(1<<26)%_a,nu=0,uu=this.length-1;uu>=0;uu--)nu=(ru*nu+(this.words[uu]|0))%_a;return nu},na.prototype.idivn=function(_a){cs(_a<=67108863);for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=(this.words[nu]|0)+ru*67108864;this.words[nu]=uu/_a|0,ru=uu%_a}return this.strip()},na.prototype.divn=function(_a){return this.clone().idivn(_a)},na.prototype.egcd=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=new na(0),mu=new na(1),cu=0;ru.isEven()&&nu.isEven();)ru.iushrn(1),nu.iushrn(1),++cu;for(var eu=nu.clone(),hu=ru.clone();!ru.isZero();){for(var Eu=0,Ru=1;!(ru.words[0]&Ru)&&Eu<26;++Eu,Ru<<=1);if(Eu>0)for(ru.iushrn(Eu);Eu-- >0;)(uu.isOdd()||lu.isOdd())&&(uu.iadd(eu),lu.isub(hu)),uu.iushrn(1),lu.iushrn(1);for(var Tu=0,qu=1;!(nu.words[0]&qu)&&Tu<26;++Tu,qu<<=1);if(Tu>0)for(nu.iushrn(Tu);Tu-- >0;)(du.isOdd()||mu.isOdd())&&(du.iadd(eu),mu.isub(hu)),du.iushrn(1),mu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(du),lu.isub(mu)):(nu.isub(ru),du.isub(uu),mu.isub(lu))}return{a:du,b:mu,gcd:nu.iushln(cu)}},na.prototype._invmp=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=nu.clone();ru.cmpn(1)>0&&nu.cmpn(1)>0;){for(var mu=0,cu=1;!(ru.words[0]&cu)&&mu<26;++mu,cu<<=1);if(mu>0)for(ru.iushrn(mu);mu-- >0;)uu.isOdd()&&uu.iadd(du),uu.iushrn(1);for(var eu=0,hu=1;!(nu.words[0]&hu)&&eu<26;++eu,hu<<=1);if(eu>0)for(nu.iushrn(eu);eu-- >0;)lu.isOdd()&&lu.iadd(du),lu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(lu)):(nu.isub(ru),lu.isub(uu))}var Eu;return ru.cmpn(1)===0?Eu=uu:Eu=lu,Eu.cmpn(0)<0&&Eu.iadd(_a),Eu},na.prototype.gcd=function(_a){if(this.isZero())return _a.abs();if(_a.isZero())return this.abs();var ru=this.clone(),nu=_a.clone();ru.negative=0,nu.negative=0;for(var uu=0;ru.isEven()&&nu.isEven();uu++)ru.iushrn(1),nu.iushrn(1);do{for(;ru.isEven();)ru.iushrn(1);for(;nu.isEven();)nu.iushrn(1);var lu=ru.cmp(nu);if(lu<0){var du=ru;ru=nu,nu=du}else if(lu===0||nu.cmpn(1)===0)break;ru.isub(nu)}while(!0);return nu.iushln(uu)},na.prototype.invm=function(_a){return this.egcd(_a).a.umod(_a)},na.prototype.isEven=function(){return(this.words[0]&1)===0},na.prototype.isOdd=function(){return(this.words[0]&1)===1},na.prototype.andln=function(_a){return this.words[0]&_a},na.prototype.bincn=function(_a){cs(typeof _a=="number");var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return this._expand(nu+1),this.words[nu]|=uu,this;for(var lu=uu,du=nu;lu!==0&&du<this.length;du++){var mu=this.words[du]|0;mu+=lu,lu=mu>>>26,mu&=67108863,this.words[du]=mu}return lu!==0&&(this.words[du]=lu,this.length++),this},na.prototype.isZero=function(){return this.length===1&&this.words[0]===0},na.prototype.cmpn=function(_a){var ru=_a<0;if(this.negative!==0&&!ru)return-1;if(this.negative===0&&ru)return 1;this.strip();var nu;if(this.length>1)nu=1;else{ru&&(_a=-_a),cs(_a<=67108863,"Number is too big");var uu=this.words[0]|0;nu=uu===_a?0:uu<_a?-1:1}return this.negative!==0?-nu|0:nu},na.prototype.cmp=function(_a){if(this.negative!==0&&_a.negative===0)return-1;if(this.negative===0&&_a.negative!==0)return 1;var ru=this.ucmp(_a);return this.negative!==0?-ru|0:ru},na.prototype.ucmp=function(_a){if(this.length>_a.length)return 1;if(this.length<_a.length)return-1;for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=this.words[nu]|0,lu=_a.words[nu]|0;if(uu!==lu){uu<lu?ru=-1:uu>lu&&(ru=1);break}}return ru},na.prototype.gtn=function(_a){return this.cmpn(_a)===1},na.prototype.gt=function(_a){return this.cmp(_a)===1},na.prototype.gten=function(_a){return this.cmpn(_a)>=0},na.prototype.gte=function(_a){return this.cmp(_a)>=0},na.prototype.ltn=function(_a){return this.cmpn(_a)===-1},na.prototype.lt=function(_a){return this.cmp(_a)===-1},na.prototype.lten=function(_a){return this.cmpn(_a)<=0},na.prototype.lte=function(_a){return this.cmp(_a)<=0},na.prototype.eqn=function(_a){return this.cmpn(_a)===0},na.prototype.eq=function(_a){return this.cmp(_a)===0},na.red=function(_a){return new Ou(_a)},na.prototype.toRed=function(_a){return cs(!this.red,"Already a number in reduction context"),cs(this.negative===0,"red works only with positives"),_a.convertTo(this)._forceRed(_a)},na.prototype.fromRed=function(){return cs(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},na.prototype._forceRed=function(_a){return this.red=_a,this},na.prototype.forceRed=function(_a){return cs(!this.red,"Already a number in reduction context"),this._forceRed(_a)},na.prototype.redAdd=function(_a){return cs(this.red,"redAdd works only with red numbers"),this.red.add(this,_a)},na.prototype.redIAdd=function(_a){return cs(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_a)},na.prototype.redSub=function(_a){return cs(this.red,"redSub works only with red numbers"),this.red.sub(this,_a)},na.prototype.redISub=function(_a){return cs(this.red,"redISub works only with red numbers"),this.red.isub(this,_a)},na.prototype.redShl=function(_a){return cs(this.red,"redShl works only with red numbers"),this.red.shl(this,_a)},na.prototype.redMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.mul(this,_a)},na.prototype.redIMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.imul(this,_a)},na.prototype.redSqr=function(){return cs(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},na.prototype.redISqr=function(){return cs(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},na.prototype.redSqrt=function(){return cs(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},na.prototype.redInvm=function(){return cs(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},na.prototype.redNeg=function(){return cs(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},na.prototype.redPow=function(_a){return cs(this.red&&!_a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_a)};var _u={k256:null,p224:null,p192:null,p25519:null};function Mu(yu,_a){this.name=yu,this.p=new na(_a,16),this.n=this.p.bitLength(),this.k=new na(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mu.prototype._tmp=function(){var _a=new na(null);return _a.words=new Array(Math.ceil(this.n/13)),_a},Mu.prototype.ireduce=function(_a){var ru=_a,nu;do this.split(ru,this.tmp),ru=this.imulK(ru),ru=ru.iadd(this.tmp),nu=ru.bitLength();while(nu>this.n);var uu=nu<this.n?-1:ru.ucmp(this.p);return uu===0?(ru.words[0]=0,ru.length=1):uu>0?ru.isub(this.p):ru.strip!==void 0?ru.strip():ru._strip(),ru},Mu.prototype.split=function(_a,ru){_a.iushrn(this.n,0,ru)},Mu.prototype.imulK=function(_a){return _a.imul(this.k)};function Au(){Mu.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$a(Au,Mu),Au.prototype.split=function(_a,ru){for(var nu=4194303,uu=Math.min(_a.length,9),lu=0;lu<uu;lu++)ru.words[lu]=_a.words[lu];if(ru.length=uu,_a.length<=9){_a.words[0]=0,_a.length=1;return}var du=_a.words[9];for(ru.words[ru.length++]=du&nu,lu=10;lu<_a.length;lu++){var mu=_a.words[lu]|0;_a.words[lu-10]=(mu&nu)<<4|du>>>22,du=mu}du>>>=22,_a.words[lu-10]=du,du===0&&_a.length>10?_a.length-=10:_a.length-=9},Au.prototype.imulK=function(_a){_a.words[_a.length]=0,_a.words[_a.length+1]=0,_a.length+=2;for(var ru=0,nu=0;nu<_a.length;nu++){var uu=_a.words[nu]|0;ru+=uu*977,_a.words[nu]=ru&67108863,ru=uu*64+(ru/67108864|0)}return _a.words[_a.length-1]===0&&(_a.length--,_a.words[_a.length-1]===0&&_a.length--),_a};function Pu(){Mu.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$a(Pu,Mu);function Su(){Mu.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$a(Su,Mu);function Bu(){Mu.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$a(Bu,Mu),Bu.prototype.imulK=function(_a){for(var ru=0,nu=0;nu<_a.length;nu++){var uu=(_a.words[nu]|0)*19+ru,lu=uu&67108863;uu>>>=26,_a.words[nu]=lu,ru=uu}return ru!==0&&(_a.words[_a.length++]=ru),_a},na._prime=function(_a){if(_u[_a])return _u[_a];var ru;if(_a==="k256")ru=new Au;else if(_a==="p224")ru=new Pu;else if(_a==="p192")ru=new Su;else if(_a==="p25519")ru=new Bu;else throw new Error("Unknown prime "+_a);return _u[_a]=ru,ru};function Ou(yu){if(typeof yu=="string"){var _a=na._prime(yu);this.m=_a.p,this.prime=_a}else cs(yu.gtn(1),"modulus must be greater than 1"),this.m=yu,this.prime=null}Ou.prototype._verify1=function(_a){cs(_a.negative===0,"red works only with positives"),cs(_a.red,"red works only with red numbers")},Ou.prototype._verify2=function(_a,ru){cs((_a.negative|ru.negative)===0,"red works only with positives"),cs(_a.red&&_a.red===ru.red,"red works only with red numbers")},Ou.prototype.imod=function(_a){return this.prime?this.prime.ireduce(_a)._forceRed(this):_a.umod(this.m)._forceRed(this)},Ou.prototype.neg=function(_a){return _a.isZero()?_a.clone():this.m.sub(_a)._forceRed(this)},Ou.prototype.add=function(_a,ru){this._verify2(_a,ru);var nu=_a.add(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu._forceRed(this)},Ou.prototype.iadd=function(_a,ru){this._verify2(_a,ru);var nu=_a.iadd(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu},Ou.prototype.sub=function(_a,ru){this._verify2(_a,ru);var nu=_a.sub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu._forceRed(this)},Ou.prototype.isub=function(_a,ru){this._verify2(_a,ru);var nu=_a.isub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu},Ou.prototype.shl=function(_a,ru){return this._verify1(_a),this.imod(_a.ushln(ru))},Ou.prototype.imul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.imul(ru))},Ou.prototype.mul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.mul(ru))},Ou.prototype.isqr=function(_a){return this.imul(_a,_a.clone())},Ou.prototype.sqr=function(_a){return this.mul(_a,_a)},Ou.prototype.sqrt=function(_a){if(_a.isZero())return _a.clone();var ru=this.m.andln(3);if(cs(ru%2===1),ru===3){var nu=this.m.add(new na(1)).iushrn(2);return this.pow(_a,nu)}for(var uu=this.m.subn(1),lu=0;!uu.isZero()&&uu.andln(1)===0;)lu++,uu.iushrn(1);cs(!uu.isZero());var du=new na(1).toRed(this),mu=du.redNeg(),cu=this.m.subn(1).iushrn(1),eu=this.m.bitLength();for(eu=new na(2*eu*eu).toRed(this);this.pow(eu,cu).cmp(mu)!==0;)eu.redIAdd(mu);for(var hu=this.pow(eu,uu),Eu=this.pow(_a,uu.addn(1).iushrn(1)),Ru=this.pow(_a,uu),Tu=lu;Ru.cmp(du)!==0;){for(var qu=Ru,Du=0;qu.cmp(du)!==0;Du++)qu=qu.redSqr();cs(Du<Tu);var Iu=this.pow(hu,new na(1).iushln(Tu-Du-1));Eu=Eu.redMul(Iu),hu=Iu.redSqr(),Ru=Ru.redMul(hu),Tu=Du}return Eu},Ou.prototype.invm=function(_a){var ru=_a._invmp(this.m);return ru.negative!==0?(ru.negative=0,this.imod(ru).redNeg()):this.imod(ru)},Ou.prototype.pow=function(_a,ru){if(ru.isZero())return new na(1).toRed(this);if(ru.cmpn(1)===0)return _a.clone();var nu=4,uu=new Array(1<<nu);uu[0]=new na(1).toRed(this),uu[1]=_a;for(var lu=2;lu<uu.length;lu++)uu[lu]=this.mul(uu[lu-1],_a);var du=uu[0],mu=0,cu=0,eu=ru.bitLength()%26;for(eu===0&&(eu=26),lu=ru.length-1;lu>=0;lu--){for(var hu=ru.words[lu],Eu=eu-1;Eu>=0;Eu--){var Ru=hu>>Eu&1;if(du!==uu[0]&&(du=this.sqr(du)),Ru===0&&mu===0){cu=0;continue}mu<<=1,mu|=Ru,cu++,!(cu!==nu&&(lu!==0||Eu!==0))&&(du=this.mul(du,uu[mu]),cu=0,mu=0)}eu=26}return du},Ou.prototype.convertTo=function(_a){var ru=_a.umod(this.m);return ru===_a?ru.clone():ru},Ou.prototype.convertFrom=function(_a){var ru=_a.clone();return ru.red=null,ru},na.mont=function(_a){return new Vu(_a)};function Vu(yu){Ou.call(this,yu),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new na(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$a(Vu,Ou),Vu.prototype.convertTo=function(_a){return this.imod(_a.ushln(this.shift))},Vu.prototype.convertFrom=function(_a){var ru=this.imod(_a.mul(this.rinv));return ru.red=null,ru},Vu.prototype.imul=function(_a,ru){if(_a.isZero()||ru.isZero())return _a.words[0]=0,_a.length=1,_a;var nu=_a.imul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.mul=function(_a,ru){if(_a.isZero()||ru.isZero())return new na(0)._forceRed(this);var nu=_a.mul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.invm=function(_a){var ru=this.imod(_a._invmp(this.m).mul(this.r2));return ru._forceRed(this)}})(ss,commonjsGlobal)}(bn$5)),bn$5.exports}var utils$2={},hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,function(ss){var as=ss;function us(na,tu){if(Array.isArray(na))return na.slice();if(!na)return[];var iu=[];if(typeof na!="string"){for(var su=0;su<na.length;su++)iu[su]=na[su]|0;return iu}if(tu==="hex"){na=na.replace(/[^a-z0-9]+/ig,""),na.length%2!==0&&(na="0"+na);for(var su=0;su<na.length;su+=2)iu.push(parseInt(na[su]+na[su+1],16))}else for(var su=0;su<na.length;su++){var au=na.charCodeAt(su),ou=au>>8,fu=au&255;ou?iu.push(ou,fu):iu.push(fu)}return iu}as.toArray=us;function cs(na){return na.length===1?"0"+na:na}as.zero2=cs;function $a(na){for(var tu="",iu=0;iu<na.length;iu++)tu+=cs(na[iu].toString(16));return tu}as.toHex=$a,as.encode=function(tu,iu){return iu==="hex"?$a(tu):tu}}(utils$2)),utils$2}var hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(ss){var as=ss,us=requireBn$3(),cs=requireMinimalisticAssert(),$a=requireUtils$3();as.assert=cs,as.toArray=$a.toArray,as.zero2=$a.zero2,as.toHex=$a.toHex,as.encode=$a.encode;function na(ou,fu,pu){var vu=new Array(Math.max(ou.bitLength(),pu)+1),gu;for(gu=0;gu<vu.length;gu+=1)vu[gu]=0;var bu=1<<fu+1,xu=ou.clone();for(gu=0;gu<vu.length;gu++){var $u,wu=xu.andln(bu-1);xu.isOdd()?(wu>(bu>>1)-1?$u=(bu>>1)-wu:$u=wu,xu.isubn($u)):$u=0,vu[gu]=$u,xu.iushrn(1)}return vu}as.getNAF=na;function tu(ou,fu){var pu=[[],[]];ou=ou.clone(),fu=fu.clone();for(var vu=0,gu=0,bu;ou.cmpn(-vu)>0||fu.cmpn(-gu)>0;){var xu=ou.andln(3)+vu&3,$u=fu.andln(3)+gu&3;xu===3&&(xu=-1),$u===3&&($u=-1);var wu;xu&1?(bu=ou.andln(7)+vu&7,(bu===3||bu===5)&&$u===2?wu=-xu:wu=xu):wu=0,pu[0].push(wu);var _u;$u&1?(bu=fu.andln(7)+gu&7,(bu===3||bu===5)&&xu===2?_u=-$u:_u=$u):_u=0,pu[1].push(_u),2*vu===wu+1&&(vu=1-vu),2*gu===_u+1&&(gu=1-gu),ou.iushrn(1),fu.iushrn(1)}return pu}as.getJSF=tu;function iu(ou,fu,pu){var vu="_"+fu;ou.prototype[fu]=function(){return this[vu]!==void 0?this[vu]:this[vu]=pu.call(this)}}as.cachedProperty=iu;function su(ou){return typeof ou=="string"?as.toArray(ou,"hex"):ou}as.parseBytes=su;function au(ou){return new us(ou,"hex","le")}as.intFromLE=au}(utils$3)),utils$3}var curve={},base$3,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$3;hasRequiredBase$1=1;var ss=requireBn$3(),as=requireUtils$2(),us=as.getNAF,cs=as.getJSF,$a=as.assert;function na(iu,su){this.type=iu,this.p=new ss(su.p,16),this.red=su.prime?ss.red(su.prime):ss.mont(this.p),this.zero=new ss(0).toRed(this.red),this.one=new ss(1).toRed(this.red),this.two=new ss(2).toRed(this.red),this.n=su.n&&new ss(su.n,16),this.g=su.g&&this.pointFromJSON(su.g,su.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var au=this.n&&this.p.div(this.n);!au||au.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$3=na,na.prototype.point=function(){throw new Error("Not implemented")},na.prototype.validate=function(){throw new Error("Not implemented")},na.prototype._fixedNafMul=function(su,au){$a(su.precomputed);var ou=su._getDoubles(),fu=us(au,1,this._bitLength),pu=(1<<ou.step+1)-(ou.step%2===0?2:1);pu/=3;var vu=[],gu,bu;for(gu=0;gu<fu.length;gu+=ou.step){bu=0;for(var xu=gu+ou.step-1;xu>=gu;xu--)bu=(bu<<1)+fu[xu];vu.push(bu)}for(var $u=this.jpoint(null,null,null),wu=this.jpoint(null,null,null),_u=pu;_u>0;_u--){for(gu=0;gu<vu.length;gu++)bu=vu[gu],bu===_u?wu=wu.mixedAdd(ou.points[gu]):bu===-_u&&(wu=wu.mixedAdd(ou.points[gu].neg()));$u=$u.add(wu)}return $u.toP()},na.prototype._wnafMul=function(su,au){var ou=4,fu=su._getNAFPoints(ou);ou=fu.wnd;for(var pu=fu.points,vu=us(au,ou,this._bitLength),gu=this.jpoint(null,null,null),bu=vu.length-1;bu>=0;bu--){for(var xu=0;bu>=0&&vu[bu]===0;bu--)xu++;if(bu>=0&&xu++,gu=gu.dblp(xu),bu<0)break;var $u=vu[bu];$a($u!==0),su.type==="affine"?$u>0?gu=gu.mixedAdd(pu[$u-1>>1]):gu=gu.mixedAdd(pu[-$u-1>>1].neg()):$u>0?gu=gu.add(pu[$u-1>>1]):gu=gu.add(pu[-$u-1>>1].neg())}return su.type==="affine"?gu.toP():gu},na.prototype._wnafMulAdd=function(su,au,ou,fu,pu){var vu=this._wnafT1,gu=this._wnafT2,bu=this._wnafT3,xu=0,$u,wu,_u;for($u=0;$u<fu;$u++){_u=au[$u];var Mu=_u._getNAFPoints(su);vu[$u]=Mu.wnd,gu[$u]=Mu.points}for($u=fu-1;$u>=1;$u-=2){var Au=$u-1,Pu=$u;if(vu[Au]!==1||vu[Pu]!==1){bu[Au]=us(ou[Au],vu[Au],this._bitLength),bu[Pu]=us(ou[Pu],vu[Pu],this._bitLength),xu=Math.max(bu[Au].length,xu),xu=Math.max(bu[Pu].length,xu);continue}var Su=[au[Au],null,null,au[Pu]];au[Au].y.cmp(au[Pu].y)===0?(Su[1]=au[Au].add(au[Pu]),Su[2]=au[Au].toJ().mixedAdd(au[Pu].neg())):au[Au].y.cmp(au[Pu].y.redNeg())===0?(Su[1]=au[Au].toJ().mixedAdd(au[Pu]),Su[2]=au[Au].add(au[Pu].neg())):(Su[1]=au[Au].toJ().mixedAdd(au[Pu]),Su[2]=au[Au].toJ().mixedAdd(au[Pu].neg()));var Bu=[-3,-1,-5,-7,0,7,5,1,3],Ou=cs(ou[Au],ou[Pu]);for(xu=Math.max(Ou[0].length,xu),bu[Au]=new Array(xu),bu[Pu]=new Array(xu),wu=0;wu<xu;wu++){var Vu=Ou[0][wu]|0,yu=Ou[1][wu]|0;bu[Au][wu]=Bu[(Vu+1)*3+(yu+1)],bu[Pu][wu]=0,gu[Au]=Su}}var _a=this.jpoint(null,null,null),ru=this._wnafT4;for($u=xu;$u>=0;$u--){for(var nu=0;$u>=0;){var uu=!0;for(wu=0;wu<fu;wu++)ru[wu]=bu[wu][$u]|0,ru[wu]!==0&&(uu=!1);if(!uu)break;nu++,$u--}if($u>=0&&nu++,_a=_a.dblp(nu),$u<0)break;for(wu=0;wu<fu;wu++){var lu=ru[wu];lu!==0&&(lu>0?_u=gu[wu][lu-1>>1]:lu<0&&(_u=gu[wu][-lu-1>>1].neg()),_u.type==="affine"?_a=_a.mixedAdd(_u):_a=_a.add(_u))}}for($u=0;$u<fu;$u++)gu[$u]=null;return pu?_a:_a.toP()};function tu(iu,su){this.curve=iu,this.type=su,this.precomputed=null}return na.BasePoint=tu,tu.prototype.eq=function(){throw new Error("Not implemented")},tu.prototype.validate=function(){return this.curve.validate(this)},na.prototype.decodePoint=function(su,au){su=as.toArray(su,au);var ou=this.p.byteLength();if((su[0]===4||su[0]===6||su[0]===7)&&su.length-1===2*ou){su[0]===6?$a(su[su.length-1]%2===0):su[0]===7&&$a(su[su.length-1]%2===1);var fu=this.point(su.slice(1,1+ou),su.slice(1+ou,1+2*ou));return fu}else if((su[0]===2||su[0]===3)&&su.length-1===ou)return this.pointFromX(su.slice(1,1+ou),su[0]===3);throw new Error("Unknown point format")},tu.prototype.encodeCompressed=function(su){return this.encode(su,!0)},tu.prototype._encode=function(su){var au=this.curve.p.byteLength(),ou=this.getX().toArray("be",au);return su?[this.getY().isEven()?2:3].concat(ou):[4].concat(ou,this.getY().toArray("be",au))},tu.prototype.encode=function(su,au){return as.encode(this._encode(au),su)},tu.prototype.precompute=function(su){if(this.precomputed)return this;var au={doubles:null,naf:null,beta:null};return au.naf=this._getNAFPoints(8),au.doubles=this._getDoubles(4,su),au.beta=this._getBeta(),this.precomputed=au,this},tu.prototype._hasDoubles=function(su){if(!this.precomputed)return!1;var au=this.precomputed.doubles;return au?au.points.length>=Math.ceil((su.bitLength()+1)/au.step):!1},tu.prototype._getDoubles=function(su,au){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ou=[this],fu=this,pu=0;pu<au;pu+=su){for(var vu=0;vu<su;vu++)fu=fu.dbl();ou.push(fu)}return{step:su,points:ou}},tu.prototype._getNAFPoints=function(su){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var au=[this],ou=(1<<su)-1,fu=ou===1?null:this.dbl(),pu=1;pu<ou;pu++)au[pu]=au[pu-1].add(fu);return{wnd:su,points:au}},tu.prototype._getBeta=function(){return null},tu.prototype.dblp=function(su){for(var au=this,ou=0;ou<su;ou++)au=au.dbl();return au},base$3}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var ss=requireUtils$2(),as=requireBn$3(),us=inherits_browserExports,cs=requireBase$1(),$a=ss.assert;function na(su){cs.call(this,"short",su),this.a=new as(su.a,16).toRed(this.red),this.b=new as(su.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(su),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}us(na,cs),short=na,na.prototype._getEndomorphism=function(au){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var ou,fu;if(au.beta)ou=new as(au.beta,16).toRed(this.red);else{var pu=this._getEndoRoots(this.p);ou=pu[0].cmp(pu[1])<0?pu[0]:pu[1],ou=ou.toRed(this.red)}if(au.lambda)fu=new as(au.lambda,16);else{var vu=this._getEndoRoots(this.n);this.g.mul(vu[0]).x.cmp(this.g.x.redMul(ou))===0?fu=vu[0]:(fu=vu[1],$a(this.g.mul(fu).x.cmp(this.g.x.redMul(ou))===0))}var gu;return au.basis?gu=au.basis.map(function(bu){return{a:new as(bu.a,16),b:new as(bu.b,16)}}):gu=this._getEndoBasis(fu),{beta:ou,lambda:fu,basis:gu}}},na.prototype._getEndoRoots=function(au){var ou=au===this.p?this.red:as.mont(au),fu=new as(2).toRed(ou).redInvm(),pu=fu.redNeg(),vu=new as(3).toRed(ou).redNeg().redSqrt().redMul(fu),gu=pu.redAdd(vu).fromRed(),bu=pu.redSub(vu).fromRed();return[gu,bu]},na.prototype._getEndoBasis=function(au){for(var ou=this.n.ushrn(Math.floor(this.n.bitLength()/2)),fu=au,pu=this.n.clone(),vu=new as(1),gu=new as(0),bu=new as(0),xu=new as(1),$u,wu,_u,Mu,Au,Pu,Su,Bu=0,Ou,Vu;fu.cmpn(0)!==0;){var yu=pu.div(fu);Ou=pu.sub(yu.mul(fu)),Vu=bu.sub(yu.mul(vu));var _a=xu.sub(yu.mul(gu));if(!_u&&Ou.cmp(ou)<0)$u=Su.neg(),wu=vu,_u=Ou.neg(),Mu=Vu;else if(_u&&++Bu===2)break;Su=Ou,pu=fu,fu=Ou,bu=vu,vu=Vu,xu=gu,gu=_a}Au=Ou.neg(),Pu=Vu;var ru=_u.sqr().add(Mu.sqr()),nu=Au.sqr().add(Pu.sqr());return nu.cmp(ru)>=0&&(Au=$u,Pu=wu),_u.negative&&(_u=_u.neg(),Mu=Mu.neg()),Au.negative&&(Au=Au.neg(),Pu=Pu.neg()),[{a:_u,b:Mu},{a:Au,b:Pu}]},na.prototype._endoSplit=function(au){var ou=this.endo.basis,fu=ou[0],pu=ou[1],vu=pu.b.mul(au).divRound(this.n),gu=fu.b.neg().mul(au).divRound(this.n),bu=vu.mul(fu.a),xu=gu.mul(pu.a),$u=vu.mul(fu.b),wu=gu.mul(pu.b),_u=au.sub(bu).sub(xu),Mu=$u.add(wu).neg();return{k1:_u,k2:Mu}},na.prototype.pointFromX=function(au,ou){au=new as(au,16),au.red||(au=au.toRed(this.red));var fu=au.redSqr().redMul(au).redIAdd(au.redMul(this.a)).redIAdd(this.b),pu=fu.redSqrt();if(pu.redSqr().redSub(fu).cmp(this.zero)!==0)throw new Error("invalid point");var vu=pu.fromRed().isOdd();return(ou&&!vu||!ou&&vu)&&(pu=pu.redNeg()),this.point(au,pu)},na.prototype.validate=function(au){if(au.inf)return!0;var ou=au.x,fu=au.y,pu=this.a.redMul(ou),vu=ou.redSqr().redMul(ou).redIAdd(pu).redIAdd(this.b);return fu.redSqr().redISub(vu).cmpn(0)===0},na.prototype._endoWnafMulAdd=function(au,ou,fu){for(var pu=this._endoWnafT1,vu=this._endoWnafT2,gu=0;gu<au.length;gu++){var bu=this._endoSplit(ou[gu]),xu=au[gu],$u=xu._getBeta();bu.k1.negative&&(bu.k1.ineg(),xu=xu.neg(!0)),bu.k2.negative&&(bu.k2.ineg(),$u=$u.neg(!0)),pu[gu*2]=xu,pu[gu*2+1]=$u,vu[gu*2]=bu.k1,vu[gu*2+1]=bu.k2}for(var wu=this._wnafMulAdd(1,pu,vu,gu*2,fu),_u=0;_u<gu*2;_u++)pu[_u]=null,vu[_u]=null;return wu};function tu(su,au,ou,fu){cs.BasePoint.call(this,su,"affine"),au===null&&ou===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new as(au,16),this.y=new as(ou,16),fu&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}us(tu,cs.BasePoint),na.prototype.point=function(au,ou,fu){return new tu(this,au,ou,fu)},na.prototype.pointFromJSON=function(au,ou){return tu.fromJSON(this,au,ou)},tu.prototype._getBeta=function(){if(this.curve.endo){var au=this.precomputed;if(au&&au.beta)return au.beta;var ou=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(au){var fu=this.curve,pu=function(vu){return fu.point(vu.x.redMul(fu.endo.beta),vu.y)};au.beta=ou,ou.precomputed={beta:null,naf:au.naf&&{wnd:au.naf.wnd,points:au.naf.points.map(pu)},doubles:au.doubles&&{step:au.doubles.step,points:au.doubles.points.map(pu)}}}return ou}},tu.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},tu.fromJSON=function(au,ou,fu){typeof ou=="string"&&(ou=JSON.parse(ou));var pu=au.point(ou[0],ou[1],fu);if(!ou[2])return pu;function vu(bu){return au.point(bu[0],bu[1],fu)}var gu=ou[2];return pu.precomputed={beta:null,doubles:gu.doubles&&{step:gu.doubles.step,points:[pu].concat(gu.doubles.points.map(vu))},naf:gu.naf&&{wnd:gu.naf.wnd,points:[pu].concat(gu.naf.points.map(vu))}},pu},tu.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},tu.prototype.isInfinity=function(){return this.inf},tu.prototype.add=function(au){if(this.inf)return au;if(au.inf)return this;if(this.eq(au))return this.dbl();if(this.neg().eq(au))return this.curve.point(null,null);if(this.x.cmp(au.x)===0)return this.curve.point(null,null);var ou=this.y.redSub(au.y);ou.cmpn(0)!==0&&(ou=ou.redMul(this.x.redSub(au.x).redInvm()));var fu=ou.redSqr().redISub(this.x).redISub(au.x),pu=ou.redMul(this.x.redSub(fu)).redISub(this.y);return this.curve.point(fu,pu)},tu.prototype.dbl=function(){if(this.inf)return this;var au=this.y.redAdd(this.y);if(au.cmpn(0)===0)return this.curve.point(null,null);var ou=this.curve.a,fu=this.x.redSqr(),pu=au.redInvm(),vu=fu.redAdd(fu).redIAdd(fu).redIAdd(ou).redMul(pu),gu=vu.redSqr().redISub(this.x.redAdd(this.x)),bu=vu.redMul(this.x.redSub(gu)).redISub(this.y);return this.curve.point(gu,bu)},tu.prototype.getX=function(){return this.x.fromRed()},tu.prototype.getY=function(){return this.y.fromRed()},tu.prototype.mul=function(au){return au=new as(au,16),this.isInfinity()?this:this._hasDoubles(au)?this.curve._fixedNafMul(this,au):this.curve.endo?this.curve._endoWnafMulAdd([this],[au]):this.curve._wnafMul(this,au)},tu.prototype.mulAdd=function(au,ou,fu){var pu=[this,ou],vu=[au,fu];return this.curve.endo?this.curve._endoWnafMulAdd(pu,vu):this.curve._wnafMulAdd(1,pu,vu,2)},tu.prototype.jmulAdd=function(au,ou,fu){var pu=[this,ou],vu=[au,fu];return this.curve.endo?this.curve._endoWnafMulAdd(pu,vu,!0):this.curve._wnafMulAdd(1,pu,vu,2,!0)},tu.prototype.eq=function(au){return this===au||this.inf===au.inf&&(this.inf||this.x.cmp(au.x)===0&&this.y.cmp(au.y)===0)},tu.prototype.neg=function(au){if(this.inf)return this;var ou=this.curve.point(this.x,this.y.redNeg());if(au&&this.precomputed){var fu=this.precomputed,pu=function(vu){return vu.neg()};ou.precomputed={naf:fu.naf&&{wnd:fu.naf.wnd,points:fu.naf.points.map(pu)},doubles:fu.doubles&&{step:fu.doubles.step,points:fu.doubles.points.map(pu)}}}return ou},tu.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var au=this.curve.jpoint(this.x,this.y,this.curve.one);return au};function iu(su,au,ou,fu){cs.BasePoint.call(this,su,"jacobian"),au===null&&ou===null&&fu===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new as(0)):(this.x=new as(au,16),this.y=new as(ou,16),this.z=new as(fu,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return us(iu,cs.BasePoint),na.prototype.jpoint=function(au,ou,fu){return new iu(this,au,ou,fu)},iu.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var au=this.z.redInvm(),ou=au.redSqr(),fu=this.x.redMul(ou),pu=this.y.redMul(ou).redMul(au);return this.curve.point(fu,pu)},iu.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},iu.prototype.add=function(au){if(this.isInfinity())return au;if(au.isInfinity())return this;var ou=au.z.redSqr(),fu=this.z.redSqr(),pu=this.x.redMul(ou),vu=au.x.redMul(fu),gu=this.y.redMul(ou.redMul(au.z)),bu=au.y.redMul(fu.redMul(this.z)),xu=pu.redSub(vu),$u=gu.redSub(bu);if(xu.cmpn(0)===0)return $u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var wu=xu.redSqr(),_u=wu.redMul(xu),Mu=pu.redMul(wu),Au=$u.redSqr().redIAdd(_u).redISub(Mu).redISub(Mu),Pu=$u.redMul(Mu.redISub(Au)).redISub(gu.redMul(_u)),Su=this.z.redMul(au.z).redMul(xu);return this.curve.jpoint(Au,Pu,Su)},iu.prototype.mixedAdd=function(au){if(this.isInfinity())return au.toJ();if(au.isInfinity())return this;var ou=this.z.redSqr(),fu=this.x,pu=au.x.redMul(ou),vu=this.y,gu=au.y.redMul(ou).redMul(this.z),bu=fu.redSub(pu),xu=vu.redSub(gu);if(bu.cmpn(0)===0)return xu.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var $u=bu.redSqr(),wu=$u.redMul(bu),_u=fu.redMul($u),Mu=xu.redSqr().redIAdd(wu).redISub(_u).redISub(_u),Au=xu.redMul(_u.redISub(Mu)).redISub(vu.redMul(wu)),Pu=this.z.redMul(bu);return this.curve.jpoint(Mu,Au,Pu)},iu.prototype.dblp=function(au){if(au===0)return this;if(this.isInfinity())return this;if(!au)return this.dbl();var ou;if(this.curve.zeroA||this.curve.threeA){var fu=this;for(ou=0;ou<au;ou++)fu=fu.dbl();return fu}var pu=this.curve.a,vu=this.curve.tinv,gu=this.x,bu=this.y,xu=this.z,$u=xu.redSqr().redSqr(),wu=bu.redAdd(bu);for(ou=0;ou<au;ou++){var _u=gu.redSqr(),Mu=wu.redSqr(),Au=Mu.redSqr(),Pu=_u.redAdd(_u).redIAdd(_u).redIAdd(pu.redMul($u)),Su=gu.redMul(Mu),Bu=Pu.redSqr().redISub(Su.redAdd(Su)),Ou=Su.redISub(Bu),Vu=Pu.redMul(Ou);Vu=Vu.redIAdd(Vu).redISub(Au);var yu=wu.redMul(xu);ou+1<au&&($u=$u.redMul(Au)),gu=Bu,xu=yu,wu=Vu}return this.curve.jpoint(gu,wu.redMul(vu),xu)},iu.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},iu.prototype._zeroDbl=function(){var au,ou,fu;if(this.zOne){var pu=this.x.redSqr(),vu=this.y.redSqr(),gu=vu.redSqr(),bu=this.x.redAdd(vu).redSqr().redISub(pu).redISub(gu);bu=bu.redIAdd(bu);var xu=pu.redAdd(pu).redIAdd(pu),$u=xu.redSqr().redISub(bu).redISub(bu),wu=gu.redIAdd(gu);wu=wu.redIAdd(wu),wu=wu.redIAdd(wu),au=$u,ou=xu.redMul(bu.redISub($u)).redISub(wu),fu=this.y.redAdd(this.y)}else{var _u=this.x.redSqr(),Mu=this.y.redSqr(),Au=Mu.redSqr(),Pu=this.x.redAdd(Mu).redSqr().redISub(_u).redISub(Au);Pu=Pu.redIAdd(Pu);var Su=_u.redAdd(_u).redIAdd(_u),Bu=Su.redSqr(),Ou=Au.redIAdd(Au);Ou=Ou.redIAdd(Ou),Ou=Ou.redIAdd(Ou),au=Bu.redISub(Pu).redISub(Pu),ou=Su.redMul(Pu.redISub(au)).redISub(Ou),fu=this.y.redMul(this.z),fu=fu.redIAdd(fu)}return this.curve.jpoint(au,ou,fu)},iu.prototype._threeDbl=function(){var au,ou,fu;if(this.zOne){var pu=this.x.redSqr(),vu=this.y.redSqr(),gu=vu.redSqr(),bu=this.x.redAdd(vu).redSqr().redISub(pu).redISub(gu);bu=bu.redIAdd(bu);var xu=pu.redAdd(pu).redIAdd(pu).redIAdd(this.curve.a),$u=xu.redSqr().redISub(bu).redISub(bu);au=$u;var wu=gu.redIAdd(gu);wu=wu.redIAdd(wu),wu=wu.redIAdd(wu),ou=xu.redMul(bu.redISub($u)).redISub(wu),fu=this.y.redAdd(this.y)}else{var _u=this.z.redSqr(),Mu=this.y.redSqr(),Au=this.x.redMul(Mu),Pu=this.x.redSub(_u).redMul(this.x.redAdd(_u));Pu=Pu.redAdd(Pu).redIAdd(Pu);var Su=Au.redIAdd(Au);Su=Su.redIAdd(Su);var Bu=Su.redAdd(Su);au=Pu.redSqr().redISub(Bu),fu=this.y.redAdd(this.z).redSqr().redISub(Mu).redISub(_u);var Ou=Mu.redSqr();Ou=Ou.redIAdd(Ou),Ou=Ou.redIAdd(Ou),Ou=Ou.redIAdd(Ou),ou=Pu.redMul(Su.redISub(au)).redISub(Ou)}return this.curve.jpoint(au,ou,fu)},iu.prototype._dbl=function(){var au=this.curve.a,ou=this.x,fu=this.y,pu=this.z,vu=pu.redSqr().redSqr(),gu=ou.redSqr(),bu=fu.redSqr(),xu=gu.redAdd(gu).redIAdd(gu).redIAdd(au.redMul(vu)),$u=ou.redAdd(ou);$u=$u.redIAdd($u);var wu=$u.redMul(bu),_u=xu.redSqr().redISub(wu.redAdd(wu)),Mu=wu.redISub(_u),Au=bu.redSqr();Au=Au.redIAdd(Au),Au=Au.redIAdd(Au),Au=Au.redIAdd(Au);var Pu=xu.redMul(Mu).redISub(Au),Su=fu.redAdd(fu).redMul(pu);return this.curve.jpoint(_u,Pu,Su)},iu.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var au=this.x.redSqr(),ou=this.y.redSqr(),fu=this.z.redSqr(),pu=ou.redSqr(),vu=au.redAdd(au).redIAdd(au),gu=vu.redSqr(),bu=this.x.redAdd(ou).redSqr().redISub(au).redISub(pu);bu=bu.redIAdd(bu),bu=bu.redAdd(bu).redIAdd(bu),bu=bu.redISub(gu);var xu=bu.redSqr(),$u=pu.redIAdd(pu);$u=$u.redIAdd($u),$u=$u.redIAdd($u),$u=$u.redIAdd($u);var wu=vu.redIAdd(bu).redSqr().redISub(gu).redISub(xu).redISub($u),_u=ou.redMul(wu);_u=_u.redIAdd(_u),_u=_u.redIAdd(_u);var Mu=this.x.redMul(xu).redISub(_u);Mu=Mu.redIAdd(Mu),Mu=Mu.redIAdd(Mu);var Au=this.y.redMul(wu.redMul($u.redISub(wu)).redISub(bu.redMul(xu)));Au=Au.redIAdd(Au),Au=Au.redIAdd(Au),Au=Au.redIAdd(Au);var Pu=this.z.redAdd(bu).redSqr().redISub(fu).redISub(xu);return this.curve.jpoint(Mu,Au,Pu)},iu.prototype.mul=function(au,ou){return au=new as(au,ou),this.curve._wnafMul(this,au)},iu.prototype.eq=function(au){if(au.type==="affine")return this.eq(au.toJ());if(this===au)return!0;var ou=this.z.redSqr(),fu=au.z.redSqr();if(this.x.redMul(fu).redISub(au.x.redMul(ou)).cmpn(0)!==0)return!1;var pu=ou.redMul(this.z),vu=fu.redMul(au.z);return this.y.redMul(vu).redISub(au.y.redMul(pu)).cmpn(0)===0},iu.prototype.eqXToP=function(au){var ou=this.z.redSqr(),fu=au.toRed(this.curve.red).redMul(ou);if(this.x.cmp(fu)===0)return!0;for(var pu=au.clone(),vu=this.curve.redN.redMul(ou);;){if(pu.iadd(this.curve.n),pu.cmp(this.curve.p)>=0)return!1;if(fu.redIAdd(vu),this.x.cmp(fu)===0)return!0}},iu.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},iu.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var ss=requireBn$3(),as=inherits_browserExports,us=requireBase$1(),cs=requireUtils$2();function $a(tu){us.call(this,"mont",tu),this.a=new ss(tu.a,16).toRed(this.red),this.b=new ss(tu.b,16).toRed(this.red),this.i4=new ss(4).toRed(this.red).redInvm(),this.two=new ss(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}as($a,us),mont=$a,$a.prototype.validate=function(iu){var su=iu.normalize().x,au=su.redSqr(),ou=au.redMul(su).redAdd(au.redMul(this.a)).redAdd(su),fu=ou.redSqrt();return fu.redSqr().cmp(ou)===0};function na(tu,iu,su){us.BasePoint.call(this,tu,"projective"),iu===null&&su===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ss(iu,16),this.z=new ss(su,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return as(na,us.BasePoint),$a.prototype.decodePoint=function(iu,su){return this.point(cs.toArray(iu,su),1)},$a.prototype.point=function(iu,su){return new na(this,iu,su)},$a.prototype.pointFromJSON=function(iu){return na.fromJSON(this,iu)},na.prototype.precompute=function(){},na.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},na.fromJSON=function(iu,su){return new na(iu,su[0],su[1]||iu.one)},na.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},na.prototype.isInfinity=function(){return this.z.cmpn(0)===0},na.prototype.dbl=function(){var iu=this.x.redAdd(this.z),su=iu.redSqr(),au=this.x.redSub(this.z),ou=au.redSqr(),fu=su.redSub(ou),pu=su.redMul(ou),vu=fu.redMul(ou.redAdd(this.curve.a24.redMul(fu)));return this.curve.point(pu,vu)},na.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},na.prototype.diffAdd=function(iu,su){var au=this.x.redAdd(this.z),ou=this.x.redSub(this.z),fu=iu.x.redAdd(iu.z),pu=iu.x.redSub(iu.z),vu=pu.redMul(au),gu=fu.redMul(ou),bu=su.z.redMul(vu.redAdd(gu).redSqr()),xu=su.x.redMul(vu.redISub(gu).redSqr());return this.curve.point(bu,xu)},na.prototype.mul=function(iu){for(var su=iu.clone(),au=this,ou=this.curve.point(null,null),fu=this,pu=[];su.cmpn(0)!==0;su.iushrn(1))pu.push(su.andln(1));for(var vu=pu.length-1;vu>=0;vu--)pu[vu]===0?(au=au.diffAdd(ou,fu),ou=ou.dbl()):(ou=au.diffAdd(ou,fu),au=au.dbl());return ou},na.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},na.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},na.prototype.eq=function(iu){return this.getX().cmp(iu.getX())===0},na.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},na.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var ss=requireUtils$2(),as=requireBn$3(),us=inherits_browserExports,cs=requireBase$1(),$a=ss.assert;function na(iu){this.twisted=(iu.a|0)!==1,this.mOneA=this.twisted&&(iu.a|0)===-1,this.extended=this.mOneA,cs.call(this,"edwards",iu),this.a=new as(iu.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new as(iu.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new as(iu.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),$a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(iu.c|0)===1}us(na,cs),edwards=na,na.prototype._mulA=function(su){return this.mOneA?su.redNeg():this.a.redMul(su)},na.prototype._mulC=function(su){return this.oneC?su:this.c.redMul(su)},na.prototype.jpoint=function(su,au,ou,fu){return this.point(su,au,ou,fu)},na.prototype.pointFromX=function(su,au){su=new as(su,16),su.red||(su=su.toRed(this.red));var ou=su.redSqr(),fu=this.c2.redSub(this.a.redMul(ou)),pu=this.one.redSub(this.c2.redMul(this.d).redMul(ou)),vu=fu.redMul(pu.redInvm()),gu=vu.redSqrt();if(gu.redSqr().redSub(vu).cmp(this.zero)!==0)throw new Error("invalid point");var bu=gu.fromRed().isOdd();return(au&&!bu||!au&&bu)&&(gu=gu.redNeg()),this.point(su,gu)},na.prototype.pointFromY=function(su,au){su=new as(su,16),su.red||(su=su.toRed(this.red));var ou=su.redSqr(),fu=ou.redSub(this.c2),pu=ou.redMul(this.d).redMul(this.c2).redSub(this.a),vu=fu.redMul(pu.redInvm());if(vu.cmp(this.zero)===0){if(au)throw new Error("invalid point");return this.point(this.zero,su)}var gu=vu.redSqrt();if(gu.redSqr().redSub(vu).cmp(this.zero)!==0)throw new Error("invalid point");return gu.fromRed().isOdd()!==au&&(gu=gu.redNeg()),this.point(gu,su)},na.prototype.validate=function(su){if(su.isInfinity())return!0;su.normalize();var au=su.x.redSqr(),ou=su.y.redSqr(),fu=au.redMul(this.a).redAdd(ou),pu=this.c2.redMul(this.one.redAdd(this.d.redMul(au).redMul(ou)));return fu.cmp(pu)===0};function tu(iu,su,au,ou,fu){cs.BasePoint.call(this,iu,"projective"),su===null&&au===null&&ou===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new as(su,16),this.y=new as(au,16),this.z=ou?new as(ou,16):this.curve.one,this.t=fu&&new as(fu,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return us(tu,cs.BasePoint),na.prototype.pointFromJSON=function(su){return tu.fromJSON(this,su)},na.prototype.point=function(su,au,ou,fu){return new tu(this,su,au,ou,fu)},tu.fromJSON=function(su,au){return new tu(su,au[0],au[1],au[2])},tu.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},tu.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},tu.prototype._extDbl=function(){var su=this.x.redSqr(),au=this.y.redSqr(),ou=this.z.redSqr();ou=ou.redIAdd(ou);var fu=this.curve._mulA(su),pu=this.x.redAdd(this.y).redSqr().redISub(su).redISub(au),vu=fu.redAdd(au),gu=vu.redSub(ou),bu=fu.redSub(au),xu=pu.redMul(gu),$u=vu.redMul(bu),wu=pu.redMul(bu),_u=gu.redMul(vu);return this.curve.point(xu,$u,_u,wu)},tu.prototype._projDbl=function(){var su=this.x.redAdd(this.y).redSqr(),au=this.x.redSqr(),ou=this.y.redSqr(),fu,pu,vu,gu,bu,xu;if(this.curve.twisted){gu=this.curve._mulA(au);var $u=gu.redAdd(ou);this.zOne?(fu=su.redSub(au).redSub(ou).redMul($u.redSub(this.curve.two)),pu=$u.redMul(gu.redSub(ou)),vu=$u.redSqr().redSub($u).redSub($u)):(bu=this.z.redSqr(),xu=$u.redSub(bu).redISub(bu),fu=su.redSub(au).redISub(ou).redMul(xu),pu=$u.redMul(gu.redSub(ou)),vu=$u.redMul(xu))}else gu=au.redAdd(ou),bu=this.curve._mulC(this.z).redSqr(),xu=gu.redSub(bu).redSub(bu),fu=this.curve._mulC(su.redISub(gu)).redMul(xu),pu=this.curve._mulC(gu).redMul(au.redISub(ou)),vu=gu.redMul(xu);return this.curve.point(fu,pu,vu)},tu.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},tu.prototype._extAdd=function(su){var au=this.y.redSub(this.x).redMul(su.y.redSub(su.x)),ou=this.y.redAdd(this.x).redMul(su.y.redAdd(su.x)),fu=this.t.redMul(this.curve.dd).redMul(su.t),pu=this.z.redMul(su.z.redAdd(su.z)),vu=ou.redSub(au),gu=pu.redSub(fu),bu=pu.redAdd(fu),xu=ou.redAdd(au),$u=vu.redMul(gu),wu=bu.redMul(xu),_u=vu.redMul(xu),Mu=gu.redMul(bu);return this.curve.point($u,wu,Mu,_u)},tu.prototype._projAdd=function(su){var au=this.z.redMul(su.z),ou=au.redSqr(),fu=this.x.redMul(su.x),pu=this.y.redMul(su.y),vu=this.curve.d.redMul(fu).redMul(pu),gu=ou.redSub(vu),bu=ou.redAdd(vu),xu=this.x.redAdd(this.y).redMul(su.x.redAdd(su.y)).redISub(fu).redISub(pu),$u=au.redMul(gu).redMul(xu),wu,_u;return this.curve.twisted?(wu=au.redMul(bu).redMul(pu.redSub(this.curve._mulA(fu))),_u=gu.redMul(bu)):(wu=au.redMul(bu).redMul(pu.redSub(fu)),_u=this.curve._mulC(gu).redMul(bu)),this.curve.point($u,wu,_u)},tu.prototype.add=function(su){return this.isInfinity()?su:su.isInfinity()?this:this.curve.extended?this._extAdd(su):this._projAdd(su)},tu.prototype.mul=function(su){return this._hasDoubles(su)?this.curve._fixedNafMul(this,su):this.curve._wnafMul(this,su)},tu.prototype.mulAdd=function(su,au,ou){return this.curve._wnafMulAdd(1,[this,au],[su,ou],2,!1)},tu.prototype.jmulAdd=function(su,au,ou){return this.curve._wnafMulAdd(1,[this,au],[su,ou],2,!0)},tu.prototype.normalize=function(){if(this.zOne)return this;var su=this.z.redInvm();return this.x=this.x.redMul(su),this.y=this.y.redMul(su),this.t&&(this.t=this.t.redMul(su)),this.z=this.curve.one,this.zOne=!0,this},tu.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},tu.prototype.getX=function(){return this.normalize(),this.x.fromRed()},tu.prototype.getY=function(){return this.normalize(),this.y.fromRed()},tu.prototype.eq=function(su){return this===su||this.getX().cmp(su.getX())===0&&this.getY().cmp(su.getY())===0},tu.prototype.eqXToP=function(su){var au=su.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(au)===0)return!0;for(var ou=su.clone(),fu=this.curve.redN.redMul(this.z);;){if(ou.iadd(this.curve.n),ou.cmp(this.curve.p)>=0)return!1;if(au.redIAdd(fu),this.x.cmp(au)===0)return!0}},tu.prototype.toP=tu.prototype.normalize,tu.prototype.mixedAdd=tu.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(ss){var as=ss;as.base=requireBase$1(),as.short=requireShort(),as.mont=requireMont(),as.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$1={},hasRequiredUtils$1;function requireUtils$1(){if(hasRequiredUtils$1)return utils$1;hasRequiredUtils$1=1;var ss=requireMinimalisticAssert(),as=inherits_browserExports;utils$1.inherits=as;function us(_a,ru){return(_a.charCodeAt(ru)&64512)!==55296||ru<0||ru+1>=_a.length?!1:(_a.charCodeAt(ru+1)&64512)===56320}function cs(_a,ru){if(Array.isArray(_a))return _a.slice();if(!_a)return[];var nu=[];if(typeof _a=="string")if(ru){if(ru==="hex")for(_a=_a.replace(/[^a-z0-9]+/ig,""),_a.length%2!==0&&(_a="0"+_a),lu=0;lu<_a.length;lu+=2)nu.push(parseInt(_a[lu]+_a[lu+1],16))}else for(var uu=0,lu=0;lu<_a.length;lu++){var du=_a.charCodeAt(lu);du<128?nu[uu++]=du:du<2048?(nu[uu++]=du>>6|192,nu[uu++]=du&63|128):us(_a,lu)?(du=65536+((du&1023)<<10)+(_a.charCodeAt(++lu)&1023),nu[uu++]=du>>18|240,nu[uu++]=du>>12&63|128,nu[uu++]=du>>6&63|128,nu[uu++]=du&63|128):(nu[uu++]=du>>12|224,nu[uu++]=du>>6&63|128,nu[uu++]=du&63|128)}else for(lu=0;lu<_a.length;lu++)nu[lu]=_a[lu]|0;return nu}utils$1.toArray=cs;function $a(_a){for(var ru="",nu=0;nu<_a.length;nu++)ru+=iu(_a[nu].toString(16));return ru}utils$1.toHex=$a;function na(_a){var ru=_a>>>24|_a>>>8&65280|_a<<8&16711680|(_a&255)<<24;return ru>>>0}utils$1.htonl=na;function tu(_a,ru){for(var nu="",uu=0;uu<_a.length;uu++){var lu=_a[uu];ru==="little"&&(lu=na(lu)),nu+=su(lu.toString(16))}return nu}utils$1.toHex32=tu;function iu(_a){return _a.length===1?"0"+_a:_a}utils$1.zero2=iu;function su(_a){return _a.length===7?"0"+_a:_a.length===6?"00"+_a:_a.length===5?"000"+_a:_a.length===4?"0000"+_a:_a.length===3?"00000"+_a:_a.length===2?"000000"+_a:_a.length===1?"0000000"+_a:_a}utils$1.zero8=su;function au(_a,ru,nu,uu){var lu=nu-ru;ss(lu%4===0);for(var du=new Array(lu/4),mu=0,cu=ru;mu<du.length;mu++,cu+=4){var eu;uu==="big"?eu=_a[cu]<<24|_a[cu+1]<<16|_a[cu+2]<<8|_a[cu+3]:eu=_a[cu+3]<<24|_a[cu+2]<<16|_a[cu+1]<<8|_a[cu],du[mu]=eu>>>0}return du}utils$1.join32=au;function ou(_a,ru){for(var nu=new Array(_a.length*4),uu=0,lu=0;uu<_a.length;uu++,lu+=4){var du=_a[uu];ru==="big"?(nu[lu]=du>>>24,nu[lu+1]=du>>>16&255,nu[lu+2]=du>>>8&255,nu[lu+3]=du&255):(nu[lu+3]=du>>>24,nu[lu+2]=du>>>16&255,nu[lu+1]=du>>>8&255,nu[lu]=du&255)}return nu}utils$1.split32=ou;function fu(_a,ru){return _a>>>ru|_a<<32-ru}utils$1.rotr32=fu;function pu(_a,ru){return _a<<ru|_a>>>32-ru}utils$1.rotl32=pu;function vu(_a,ru){return _a+ru>>>0}utils$1.sum32=vu;function gu(_a,ru,nu){return _a+ru+nu>>>0}utils$1.sum32_3=gu;function bu(_a,ru,nu,uu){return _a+ru+nu+uu>>>0}utils$1.sum32_4=bu;function xu(_a,ru,nu,uu,lu){return _a+ru+nu+uu+lu>>>0}utils$1.sum32_5=xu;function $u(_a,ru,nu,uu){var lu=_a[ru],du=_a[ru+1],mu=uu+du>>>0,cu=(mu<uu?1:0)+nu+lu;_a[ru]=cu>>>0,_a[ru+1]=mu}utils$1.sum64=$u;function wu(_a,ru,nu,uu){var lu=ru+uu>>>0,du=(lu<ru?1:0)+_a+nu;return du>>>0}utils$1.sum64_hi=wu;function _u(_a,ru,nu,uu){var lu=ru+uu;return lu>>>0}utils$1.sum64_lo=_u;function Mu(_a,ru,nu,uu,lu,du,mu,cu){var eu=0,hu=ru;hu=hu+uu>>>0,eu+=hu<ru?1:0,hu=hu+du>>>0,eu+=hu<du?1:0,hu=hu+cu>>>0,eu+=hu<cu?1:0;var Eu=_a+nu+lu+mu+eu;return Eu>>>0}utils$1.sum64_4_hi=Mu;function Au(_a,ru,nu,uu,lu,du,mu,cu){var eu=ru+uu+du+cu;return eu>>>0}utils$1.sum64_4_lo=Au;function Pu(_a,ru,nu,uu,lu,du,mu,cu,eu,hu){var Eu=0,Ru=ru;Ru=Ru+uu>>>0,Eu+=Ru<ru?1:0,Ru=Ru+du>>>0,Eu+=Ru<du?1:0,Ru=Ru+cu>>>0,Eu+=Ru<cu?1:0,Ru=Ru+hu>>>0,Eu+=Ru<hu?1:0;var Tu=_a+nu+lu+mu+eu+Eu;return Tu>>>0}utils$1.sum64_5_hi=Pu;function Su(_a,ru,nu,uu,lu,du,mu,cu,eu,hu){var Eu=ru+uu+du+cu+hu;return Eu>>>0}utils$1.sum64_5_lo=Su;function Bu(_a,ru,nu){var uu=ru<<32-nu|_a>>>nu;return uu>>>0}utils$1.rotr64_hi=Bu;function Ou(_a,ru,nu){var uu=_a<<32-nu|ru>>>nu;return uu>>>0}utils$1.rotr64_lo=Ou;function Vu(_a,ru,nu){return _a>>>nu}utils$1.shr64_hi=Vu;function yu(_a,ru,nu){var uu=_a<<32-nu|ru>>>nu;return uu>>>0}return utils$1.shr64_lo=yu,utils$1}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var ss=requireUtils$1(),as=requireMinimalisticAssert();function us(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=us,us.prototype.update=function($a,na){if($a=ss.toArray($a,na),this.pending?this.pending=this.pending.concat($a):this.pending=$a,this.pendingTotal+=$a.length,this.pending.length>=this._delta8){$a=this.pending;var tu=$a.length%this._delta8;this.pending=$a.slice($a.length-tu,$a.length),this.pending.length===0&&(this.pending=null),$a=ss.join32($a,0,$a.length-tu,this.endian);for(var iu=0;iu<$a.length;iu+=this._delta32)this._update($a,iu,iu+this._delta32)}return this},us.prototype.digest=function($a){return this.update(this._pad()),as(this.pending===null),this._digest($a)},us.prototype._pad=function(){var $a=this.pendingTotal,na=this._delta8,tu=na-($a+this.padLength)%na,iu=new Array(tu+this.padLength);iu[0]=128;for(var su=1;su<tu;su++)iu[su]=0;if($a<<=3,this.endian==="big"){for(var au=8;au<this.padLength;au++)iu[su++]=0;iu[su++]=0,iu[su++]=0,iu[su++]=0,iu[su++]=0,iu[su++]=$a>>>24&255,iu[su++]=$a>>>16&255,iu[su++]=$a>>>8&255,iu[su++]=$a&255}else for(iu[su++]=$a&255,iu[su++]=$a>>>8&255,iu[su++]=$a>>>16&255,iu[su++]=$a>>>24&255,iu[su++]=0,iu[su++]=0,iu[su++]=0,iu[su++]=0,au=8;au<this.padLength;au++)iu[su++]=0;return iu},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var ss=requireUtils$1(),as=ss.rotr32;function us(ou,fu,pu,vu){if(ou===0)return cs(fu,pu,vu);if(ou===1||ou===3)return na(fu,pu,vu);if(ou===2)return $a(fu,pu,vu)}common.ft_1=us;function cs(ou,fu,pu){return ou&fu^~ou&pu}common.ch32=cs;function $a(ou,fu,pu){return ou&fu^ou&pu^fu&pu}common.maj32=$a;function na(ou,fu,pu){return ou^fu^pu}common.p32=na;function tu(ou){return as(ou,2)^as(ou,13)^as(ou,22)}common.s0_256=tu;function iu(ou){return as(ou,6)^as(ou,11)^as(ou,25)}common.s1_256=iu;function su(ou){return as(ou,7)^as(ou,18)^ou>>>3}common.g0_256=su;function au(ou){return as(ou,17)^as(ou,19)^ou>>>10}return common.g1_256=au,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var ss=requireUtils$1(),as=requireCommon$1(),us=requireCommon(),cs=ss.rotl32,$a=ss.sum32,na=ss.sum32_5,tu=us.ft_1,iu=as.BlockHash,su=[1518500249,1859775393,2400959708,3395469782];function au(){if(!(this instanceof au))return new au;iu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return ss.inherits(au,iu),_1=au,au.blockSize=512,au.outSize=160,au.hmacStrength=80,au.padLength=64,au.prototype._update=function(fu,pu){for(var vu=this.W,gu=0;gu<16;gu++)vu[gu]=fu[pu+gu];for(;gu<vu.length;gu++)vu[gu]=cs(vu[gu-3]^vu[gu-8]^vu[gu-14]^vu[gu-16],1);var bu=this.h[0],xu=this.h[1],$u=this.h[2],wu=this.h[3],_u=this.h[4];for(gu=0;gu<vu.length;gu++){var Mu=~~(gu/20),Au=na(cs(bu,5),tu(Mu,xu,$u,wu),_u,vu[gu],su[Mu]);_u=wu,wu=$u,$u=cs(xu,30),xu=bu,bu=Au}this.h[0]=$a(this.h[0],bu),this.h[1]=$a(this.h[1],xu),this.h[2]=$a(this.h[2],$u),this.h[3]=$a(this.h[3],wu),this.h[4]=$a(this.h[4],_u)},au.prototype._digest=function(fu){return fu==="hex"?ss.toHex32(this.h,"big"):ss.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var ss=requireUtils$1(),as=requireCommon$1(),us=requireCommon(),cs=requireMinimalisticAssert(),$a=ss.sum32,na=ss.sum32_4,tu=ss.sum32_5,iu=us.ch32,su=us.maj32,au=us.s0_256,ou=us.s1_256,fu=us.g0_256,pu=us.g1_256,vu=as.BlockHash,gu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bu(){if(!(this instanceof bu))return new bu;vu.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=gu,this.W=new Array(64)}return ss.inherits(bu,vu),_256=bu,bu.blockSize=512,bu.outSize=256,bu.hmacStrength=192,bu.padLength=64,bu.prototype._update=function($u,wu){for(var _u=this.W,Mu=0;Mu<16;Mu++)_u[Mu]=$u[wu+Mu];for(;Mu<_u.length;Mu++)_u[Mu]=na(pu(_u[Mu-2]),_u[Mu-7],fu(_u[Mu-15]),_u[Mu-16]);var Au=this.h[0],Pu=this.h[1],Su=this.h[2],Bu=this.h[3],Ou=this.h[4],Vu=this.h[5],yu=this.h[6],_a=this.h[7];for(cs(this.k.length===_u.length),Mu=0;Mu<_u.length;Mu++){var ru=tu(_a,ou(Ou),iu(Ou,Vu,yu),this.k[Mu],_u[Mu]),nu=$a(au(Au),su(Au,Pu,Su));_a=yu,yu=Vu,Vu=Ou,Ou=$a(Bu,ru),Bu=Su,Su=Pu,Pu=Au,Au=$a(ru,nu)}this.h[0]=$a(this.h[0],Au),this.h[1]=$a(this.h[1],Pu),this.h[2]=$a(this.h[2],Su),this.h[3]=$a(this.h[3],Bu),this.h[4]=$a(this.h[4],Ou),this.h[5]=$a(this.h[5],Vu),this.h[6]=$a(this.h[6],yu),this.h[7]=$a(this.h[7],_a)},bu.prototype._digest=function($u){return $u==="hex"?ss.toHex32(this.h,"big"):ss.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var ss=requireUtils$1(),as=require_256();function us(){if(!(this instanceof us))return new us;as.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return ss.inherits(us,as),_224=us,us.blockSize=512,us.outSize=224,us.hmacStrength=192,us.padLength=64,us.prototype._digest=function($a){return $a==="hex"?ss.toHex32(this.h.slice(0,7),"big"):ss.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var ss=requireUtils$1(),as=requireCommon$1(),us=requireMinimalisticAssert(),cs=ss.rotr64_hi,$a=ss.rotr64_lo,na=ss.shr64_hi,tu=ss.shr64_lo,iu=ss.sum64,su=ss.sum64_hi,au=ss.sum64_lo,ou=ss.sum64_4_hi,fu=ss.sum64_4_lo,pu=ss.sum64_5_hi,vu=ss.sum64_5_lo,gu=as.BlockHash,bu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xu(){if(!(this instanceof xu))return new xu;gu.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=bu,this.W=new Array(160)}ss.inherits(xu,gu),_512=xu,xu.blockSize=1024,xu.outSize=512,xu.hmacStrength=192,xu.padLength=128,xu.prototype._prepareBlock=function(nu,uu){for(var lu=this.W,du=0;du<32;du++)lu[du]=nu[uu+du];for(;du<lu.length;du+=2){var mu=yu(lu[du-4],lu[du-3]),cu=_a(lu[du-4],lu[du-3]),eu=lu[du-14],hu=lu[du-13],Eu=Ou(lu[du-30],lu[du-29]),Ru=Vu(lu[du-30],lu[du-29]),Tu=lu[du-32],qu=lu[du-31];lu[du]=ou(mu,cu,eu,hu,Eu,Ru,Tu,qu),lu[du+1]=fu(mu,cu,eu,hu,Eu,Ru,Tu,qu)}},xu.prototype._update=function(nu,uu){this._prepareBlock(nu,uu);var lu=this.W,du=this.h[0],mu=this.h[1],cu=this.h[2],eu=this.h[3],hu=this.h[4],Eu=this.h[5],Ru=this.h[6],Tu=this.h[7],qu=this.h[8],Du=this.h[9],Iu=this.h[10],Lu=this.h[11],Uu=this.h[12],Hu=this.h[13],zu=this.h[14],ju=this.h[15];us(this.k.length===lu.length);for(var Wu=0;Wu<lu.length;Wu+=2){var Dl=zu,Zu=ju,Yu=Su(qu,Du),Vl=Bu(qu,Du),_l=$u(qu,Du,Iu,Lu,Uu),Qu=wu(qu,Du,Iu,Lu,Uu,Hu),Gl=this.k[Wu],yl=this.k[Wu+1],Sl=lu[Wu],Ql=lu[Wu+1],Xu=pu(Dl,Zu,Yu,Vl,_l,Qu,Gl,yl,Sl,Ql),$l=vu(Dl,Zu,Yu,Vl,_l,Qu,Gl,yl,Sl,Ql);Dl=Au(du,mu),Zu=Pu(du,mu),Yu=_u(du,mu,cu,eu,hu),Vl=Mu(du,mu,cu,eu,hu,Eu);var Zl=su(Dl,Zu,Yu,Vl),wl=au(Dl,Zu,Yu,Vl);zu=Uu,ju=Hu,Uu=Iu,Hu=Lu,Iu=qu,Lu=Du,qu=su(Ru,Tu,Xu,$l),Du=au(Tu,Tu,Xu,$l),Ru=hu,Tu=Eu,hu=cu,Eu=eu,cu=du,eu=mu,du=su(Xu,$l,Zl,wl),mu=au(Xu,$l,Zl,wl)}iu(this.h,0,du,mu),iu(this.h,2,cu,eu),iu(this.h,4,hu,Eu),iu(this.h,6,Ru,Tu),iu(this.h,8,qu,Du),iu(this.h,10,Iu,Lu),iu(this.h,12,Uu,Hu),iu(this.h,14,zu,ju)},xu.prototype._digest=function(nu){return nu==="hex"?ss.toHex32(this.h,"big"):ss.split32(this.h,"big")};function $u(ru,nu,uu,lu,du){var mu=ru&uu^~ru&du;return mu<0&&(mu+=4294967296),mu}function wu(ru,nu,uu,lu,du,mu){var cu=nu&lu^~nu&mu;return cu<0&&(cu+=4294967296),cu}function _u(ru,nu,uu,lu,du){var mu=ru&uu^ru&du^uu&du;return mu<0&&(mu+=4294967296),mu}function Mu(ru,nu,uu,lu,du,mu){var cu=nu&lu^nu&mu^lu&mu;return cu<0&&(cu+=4294967296),cu}function Au(ru,nu){var uu=cs(ru,nu,28),lu=cs(nu,ru,2),du=cs(nu,ru,7),mu=uu^lu^du;return mu<0&&(mu+=4294967296),mu}function Pu(ru,nu){var uu=$a(ru,nu,28),lu=$a(nu,ru,2),du=$a(nu,ru,7),mu=uu^lu^du;return mu<0&&(mu+=4294967296),mu}function Su(ru,nu){var uu=cs(ru,nu,14),lu=cs(ru,nu,18),du=cs(nu,ru,9),mu=uu^lu^du;return mu<0&&(mu+=4294967296),mu}function Bu(ru,nu){var uu=$a(ru,nu,14),lu=$a(ru,nu,18),du=$a(nu,ru,9),mu=uu^lu^du;return mu<0&&(mu+=4294967296),mu}function Ou(ru,nu){var uu=cs(ru,nu,1),lu=cs(ru,nu,8),du=na(ru,nu,7),mu=uu^lu^du;return mu<0&&(mu+=4294967296),mu}function Vu(ru,nu){var uu=$a(ru,nu,1),lu=$a(ru,nu,8),du=tu(ru,nu,7),mu=uu^lu^du;return mu<0&&(mu+=4294967296),mu}function yu(ru,nu){var uu=cs(ru,nu,19),lu=cs(nu,ru,29),du=na(ru,nu,6),mu=uu^lu^du;return mu<0&&(mu+=4294967296),mu}function _a(ru,nu){var uu=$a(ru,nu,19),lu=$a(nu,ru,29),du=tu(ru,nu,6),mu=uu^lu^du;return mu<0&&(mu+=4294967296),mu}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var ss=requireUtils$1(),as=require_512();function us(){if(!(this instanceof us))return new us;as.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return ss.inherits(us,as),_384=us,us.blockSize=1024,us.outSize=384,us.hmacStrength=192,us.padLength=128,us.prototype._digest=function($a){return $a==="hex"?ss.toHex32(this.h.slice(0,12),"big"):ss.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var ss=requireUtils$1(),as=requireCommon$1(),us=ss.rotl32,cs=ss.sum32,$a=ss.sum32_3,na=ss.sum32_4,tu=as.BlockHash;function iu(){if(!(this instanceof iu))return new iu;tu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ss.inherits(iu,tu),ripemd.ripemd160=iu,iu.blockSize=512,iu.outSize=160,iu.hmacStrength=192,iu.padLength=64,iu.prototype._update=function(xu,$u){for(var wu=this.h[0],_u=this.h[1],Mu=this.h[2],Au=this.h[3],Pu=this.h[4],Su=wu,Bu=_u,Ou=Mu,Vu=Au,yu=Pu,_a=0;_a<80;_a++){var ru=cs(us(na(wu,su(_a,_u,Mu,Au),xu[fu[_a]+$u],au(_a)),vu[_a]),Pu);wu=Pu,Pu=Au,Au=us(Mu,10),Mu=_u,_u=ru,ru=cs(us(na(Su,su(79-_a,Bu,Ou,Vu),xu[pu[_a]+$u],ou(_a)),gu[_a]),yu),Su=yu,yu=Vu,Vu=us(Ou,10),Ou=Bu,Bu=ru}ru=$a(this.h[1],Mu,Vu),this.h[1]=$a(this.h[2],Au,yu),this.h[2]=$a(this.h[3],Pu,Su),this.h[3]=$a(this.h[4],wu,Bu),this.h[4]=$a(this.h[0],_u,Ou),this.h[0]=ru},iu.prototype._digest=function(xu){return xu==="hex"?ss.toHex32(this.h,"little"):ss.split32(this.h,"little")};function su(bu,xu,$u,wu){return bu<=15?xu^$u^wu:bu<=31?xu&$u|~xu&wu:bu<=47?(xu|~$u)^wu:bu<=63?xu&wu|$u&~wu:xu^($u|~wu)}function au(bu){return bu<=15?0:bu<=31?1518500249:bu<=47?1859775393:bu<=63?2400959708:2840853838}function ou(bu){return bu<=15?1352829926:bu<=31?1548603684:bu<=47?1836072691:bu<=63?2053994217:0}var fu=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pu=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],vu=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],gu=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var ss=requireUtils$1(),as=requireMinimalisticAssert();function us(cs,$a,na){if(!(this instanceof us))return new us(cs,$a,na);this.Hash=cs,this.blockSize=cs.blockSize/8,this.outSize=cs.outSize/8,this.inner=null,this.outer=null,this._init(ss.toArray($a,na))}return hmac=us,us.prototype._init=function($a){$a.length>this.blockSize&&($a=new this.Hash().update($a).digest()),as($a.length<=this.blockSize);for(var na=$a.length;na<this.blockSize;na++)$a.push(0);for(na=0;na<$a.length;na++)$a[na]^=54;for(this.inner=new this.Hash().update($a),na=0;na<$a.length;na++)$a[na]^=106;this.outer=new this.Hash().update($a)},us.prototype.update=function($a,na){return this.inner.update($a,na),this},us.prototype.digest=function($a){return this.outer.update(this.inner.digest()),this.outer.digest($a)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(ss){var as=ss;as.utils=requireUtils$1(),as.common=requireCommon$1(),as.sha=requireSha(),as.ripemd=requireRipemd(),as.hmac=requireHmac(),as.sha1=as.sha.sha1,as.sha256=as.sha.sha256,as.sha224=as.sha.sha224,as.sha384=as.sha.sha384,as.sha512=as.sha.sha512,as.ripemd160=as.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(ss){var as=ss,us=requireHash(),cs=requireCurve(),$a=requireUtils$2(),na=$a.assert;function tu(au){au.type==="short"?this.curve=new cs.short(au):au.type==="edwards"?this.curve=new cs.edwards(au):this.curve=new cs.mont(au),this.g=this.curve.g,this.n=this.curve.n,this.hash=au.hash,na(this.g.validate(),"Invalid curve"),na(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}as.PresetCurve=tu;function iu(au,ou){Object.defineProperty(as,au,{configurable:!0,enumerable:!0,get:function(){var fu=new tu(ou);return Object.defineProperty(as,au,{configurable:!0,enumerable:!0,value:fu}),fu}})}iu("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:us.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),iu("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:us.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),iu("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:us.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),iu("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:us.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),iu("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:us.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),iu("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:us.sha256,gRed:!1,g:["9"]}),iu("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:us.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var su;try{su=requireSecp256k1()}catch{su=void 0}iu("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:us.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",su]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var ss=requireHash(),as=requireUtils$3(),us=requireMinimalisticAssert();function cs($a){if(!(this instanceof cs))return new cs($a);this.hash=$a.hash,this.predResist=!!$a.predResist,this.outLen=this.hash.outSize,this.minEntropy=$a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var na=as.toArray($a.entropy,$a.entropyEnc||"hex"),tu=as.toArray($a.nonce,$a.nonceEnc||"hex"),iu=as.toArray($a.pers,$a.persEnc||"hex");us(na.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(na,tu,iu)}return hmacDrbg=cs,cs.prototype._init=function(na,tu,iu){var su=na.concat(tu).concat(iu);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var au=0;au<this.V.length;au++)this.K[au]=0,this.V[au]=1;this._update(su),this._reseed=1,this.reseedInterval=281474976710656},cs.prototype._hmac=function(){return new ss.hmac(this.hash,this.K)},cs.prototype._update=function(na){var tu=this._hmac().update(this.V).update([0]);na&&(tu=tu.update(na)),this.K=tu.digest(),this.V=this._hmac().update(this.V).digest(),na&&(this.K=this._hmac().update(this.V).update([1]).update(na).digest(),this.V=this._hmac().update(this.V).digest())},cs.prototype.reseed=function(na,tu,iu,su){typeof tu!="string"&&(su=iu,iu=tu,tu=null),na=as.toArray(na,tu),iu=as.toArray(iu,su),us(na.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(na.concat(iu||[])),this._reseed=1},cs.prototype.generate=function(na,tu,iu,su){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof tu!="string"&&(su=iu,iu=tu,tu=null),iu&&(iu=as.toArray(iu,su||"hex"),this._update(iu));for(var au=[];au.length<na;)this.V=this._hmac().update(this.V).digest(),au=au.concat(this.V);var ou=au.slice(0,na);return this._update(iu),this._reseed++,as.encode(ou,tu)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var ss=requireBn$3(),as=requireUtils$2(),us=as.assert;function cs($a,na){this.ec=$a,this.priv=null,this.pub=null,na.priv&&this._importPrivate(na.priv,na.privEnc),na.pub&&this._importPublic(na.pub,na.pubEnc)}return key$1=cs,cs.fromPublic=function(na,tu,iu){return tu instanceof cs?tu:new cs(na,{pub:tu,pubEnc:iu})},cs.fromPrivate=function(na,tu,iu){return tu instanceof cs?tu:new cs(na,{priv:tu,privEnc:iu})},cs.prototype.validate=function(){var na=this.getPublic();return na.isInfinity()?{result:!1,reason:"Invalid public key"}:na.validate()?na.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},cs.prototype.getPublic=function(na,tu){return typeof na=="string"&&(tu=na,na=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),tu?this.pub.encode(tu,na):this.pub},cs.prototype.getPrivate=function(na){return na==="hex"?this.priv.toString(16,2):this.priv},cs.prototype._importPrivate=function(na,tu){this.priv=new ss(na,tu||16),this.priv=this.priv.umod(this.ec.curve.n)},cs.prototype._importPublic=function(na,tu){if(na.x||na.y){this.ec.curve.type==="mont"?us(na.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&us(na.x&&na.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(na.x,na.y);return}this.pub=this.ec.curve.decodePoint(na,tu)},cs.prototype.derive=function(na){return na.validate()||us(na.validate(),"public point not validated"),na.mul(this.priv).getX()},cs.prototype.sign=function(na,tu,iu){return this.ec.sign(na,this,tu,iu)},cs.prototype.verify=function(na,tu,iu){return this.ec.verify(na,tu,this,void 0,iu)},cs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var ss=requireBn$3(),as=requireUtils$2(),us=as.assert;function cs(su,au){if(su instanceof cs)return su;this._importDER(su,au)||(us(su.r&&su.s,"Signature without r or s"),this.r=new ss(su.r,16),this.s=new ss(su.s,16),su.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=su.recoveryParam)}signature$1=cs;function $a(){this.place=0}function na(su,au){var ou=su[au.place++];if(!(ou&128))return ou;var fu=ou&15;if(fu===0||fu>4||su[au.place]===0)return!1;for(var pu=0,vu=0,gu=au.place;vu<fu;vu++,gu++)pu<<=8,pu|=su[gu],pu>>>=0;return pu<=127?!1:(au.place=gu,pu)}function tu(su){for(var au=0,ou=su.length-1;!su[au]&&!(su[au+1]&128)&&au<ou;)au++;return au===0?su:su.slice(au)}cs.prototype._importDER=function(au,ou){au=as.toArray(au,ou);var fu=new $a;if(au[fu.place++]!==48)return!1;var pu=na(au,fu);if(pu===!1||pu+fu.place!==au.length||au[fu.place++]!==2)return!1;var vu=na(au,fu);if(vu===!1||au[fu.place]&128)return!1;var gu=au.slice(fu.place,vu+fu.place);if(fu.place+=vu,au[fu.place++]!==2)return!1;var bu=na(au,fu);if(bu===!1||au.length!==bu+fu.place||au[fu.place]&128)return!1;var xu=au.slice(fu.place,bu+fu.place);if(gu[0]===0)if(gu[1]&128)gu=gu.slice(1);else return!1;if(xu[0]===0)if(xu[1]&128)xu=xu.slice(1);else return!1;return this.r=new ss(gu),this.s=new ss(xu),this.recoveryParam=null,!0};function iu(su,au){if(au<128){su.push(au);return}var ou=1+(Math.log(au)/Math.LN2>>>3);for(su.push(ou|128);--ou;)su.push(au>>>(ou<<3)&255);su.push(au)}return cs.prototype.toDER=function(au){var ou=this.r.toArray(),fu=this.s.toArray();for(ou[0]&128&&(ou=[0].concat(ou)),fu[0]&128&&(fu=[0].concat(fu)),ou=tu(ou),fu=tu(fu);!fu[0]&&!(fu[1]&128);)fu=fu.slice(1);var pu=[2];iu(pu,ou.length),pu=pu.concat(ou),pu.push(2),iu(pu,fu.length);var vu=pu.concat(fu),gu=[48];return iu(gu,vu.length),gu=gu.concat(vu),as.encode(gu,au)},signature$1}var ec$1,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec$1;hasRequiredEc=1;var ss=requireBn$3(),as=requireHmacDrbg(),us=requireUtils$2(),cs=requireCurves(),$a=requireBrorand(),na=us.assert,tu=requireKey$1(),iu=requireSignature$1();function su(au){if(!(this instanceof su))return new su(au);typeof au=="string"&&(na(Object.prototype.hasOwnProperty.call(cs,au),"Unknown curve "+au),au=cs[au]),au instanceof cs.PresetCurve&&(au={curve:au}),this.curve=au.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=au.curve.g,this.g.precompute(au.curve.n.bitLength()+1),this.hash=au.hash||au.curve.hash}return ec$1=su,su.prototype.keyPair=function(ou){return new tu(this,ou)},su.prototype.keyFromPrivate=function(ou,fu){return tu.fromPrivate(this,ou,fu)},su.prototype.keyFromPublic=function(ou,fu){return tu.fromPublic(this,ou,fu)},su.prototype.genKeyPair=function(ou){ou||(ou={});for(var fu=new as({hash:this.hash,pers:ou.pers,persEnc:ou.persEnc||"utf8",entropy:ou.entropy||$a(this.hash.hmacStrength),entropyEnc:ou.entropy&&ou.entropyEnc||"utf8",nonce:this.n.toArray()}),pu=this.n.byteLength(),vu=this.n.sub(new ss(2));;){var gu=new ss(fu.generate(pu));if(!(gu.cmp(vu)>0))return gu.iaddn(1),this.keyFromPrivate(gu)}},su.prototype._truncateToN=function(ou,fu,pu){var vu;if(ss.isBN(ou)||typeof ou=="number")ou=new ss(ou,16),vu=ou.byteLength();else if(typeof ou=="object")vu=ou.length,ou=new ss(ou,16);else{var gu=ou.toString();vu=gu.length+1>>>1,ou=new ss(gu,16)}typeof pu!="number"&&(pu=vu*8);var bu=pu-this.n.bitLength();return bu>0&&(ou=ou.ushrn(bu)),!fu&&ou.cmp(this.n)>=0?ou.sub(this.n):ou},su.prototype.sign=function(ou,fu,pu,vu){if(typeof pu=="object"&&(vu=pu,pu=null),vu||(vu={}),typeof ou!="string"&&typeof ou!="number"&&!ss.isBN(ou)){na(typeof ou=="object"&&ou&&typeof ou.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),na(ou.length>>>0===ou.length);for(var gu=0;gu<ou.length;gu++)na((ou[gu]&255)===ou[gu])}fu=this.keyFromPrivate(fu,pu),ou=this._truncateToN(ou,!1,vu.msgBitLength),na(!ou.isNeg(),"Can not sign a negative message");var bu=this.n.byteLength(),xu=fu.getPrivate().toArray("be",bu),$u=ou.toArray("be",bu);na(new ss($u).eq(ou),"Can not sign message");for(var wu=new as({hash:this.hash,entropy:xu,nonce:$u,pers:vu.pers,persEnc:vu.persEnc||"utf8"}),_u=this.n.sub(new ss(1)),Mu=0;;Mu++){var Au=vu.k?vu.k(Mu):new ss(wu.generate(this.n.byteLength()));if(Au=this._truncateToN(Au,!0),!(Au.cmpn(1)<=0||Au.cmp(_u)>=0)){var Pu=this.g.mul(Au);if(!Pu.isInfinity()){var Su=Pu.getX(),Bu=Su.umod(this.n);if(Bu.cmpn(0)!==0){var Ou=Au.invm(this.n).mul(Bu.mul(fu.getPrivate()).iadd(ou));if(Ou=Ou.umod(this.n),Ou.cmpn(0)!==0){var Vu=(Pu.getY().isOdd()?1:0)|(Su.cmp(Bu)!==0?2:0);return vu.canonical&&Ou.cmp(this.nh)>0&&(Ou=this.n.sub(Ou),Vu^=1),new iu({r:Bu,s:Ou,recoveryParam:Vu})}}}}}},su.prototype.verify=function(ou,fu,pu,vu,gu){gu||(gu={}),ou=this._truncateToN(ou,!1,gu.msgBitLength),pu=this.keyFromPublic(pu,vu),fu=new iu(fu,"hex");var bu=fu.r,xu=fu.s;if(bu.cmpn(1)<0||bu.cmp(this.n)>=0||xu.cmpn(1)<0||xu.cmp(this.n)>=0)return!1;var $u=xu.invm(this.n),wu=$u.mul(ou).umod(this.n),_u=$u.mul(bu).umod(this.n),Mu;return this.curve._maxwellTrick?(Mu=this.g.jmulAdd(wu,pu.getPublic(),_u),Mu.isInfinity()?!1:Mu.eqXToP(bu)):(Mu=this.g.mulAdd(wu,pu.getPublic(),_u),Mu.isInfinity()?!1:Mu.getX().umod(this.n).cmp(bu)===0)},su.prototype.recoverPubKey=function(au,ou,fu,pu){na((3&fu)===fu,"The recovery param is more than two bits"),ou=new iu(ou,pu);var vu=this.n,gu=new ss(au),bu=ou.r,xu=ou.s,$u=fu&1,wu=fu>>1;if(bu.cmp(this.curve.p.umod(this.curve.n))>=0&&wu)throw new Error("Unable to find sencond key candinate");wu?bu=this.curve.pointFromX(bu.add(this.curve.n),$u):bu=this.curve.pointFromX(bu,$u);var _u=ou.r.invm(vu),Mu=vu.sub(gu).mul(_u).umod(vu),Au=xu.mul(_u).umod(vu);return this.g.mulAdd(Mu,bu,Au)},su.prototype.getKeyRecoveryParam=function(au,ou,fu,pu){if(ou=new iu(ou,pu),ou.recoveryParam!==null)return ou.recoveryParam;for(var vu=0;vu<4;vu++){var gu;try{gu=this.recoverPubKey(au,ou,vu)}catch{continue}if(gu.eq(fu))return vu}throw new Error("Unable to find valid recovery factor")},ec$1}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var ss=requireUtils$2(),as=ss.assert,us=ss.parseBytes,cs=ss.cachedProperty;function $a(na,tu){this.eddsa=na,this._secret=us(tu.secret),na.isPoint(tu.pub)?this._pub=tu.pub:this._pubBytes=us(tu.pub)}return $a.fromPublic=function(tu,iu){return iu instanceof $a?iu:new $a(tu,{pub:iu})},$a.fromSecret=function(tu,iu){return iu instanceof $a?iu:new $a(tu,{secret:iu})},$a.prototype.secret=function(){return this._secret},cs($a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cs($a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cs($a,"privBytes",function(){var tu=this.eddsa,iu=this.hash(),su=tu.encodingLength-1,au=iu.slice(0,tu.encodingLength);return au[0]&=248,au[su]&=127,au[su]|=64,au}),cs($a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cs($a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cs($a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),$a.prototype.sign=function(tu){return as(this._secret,"KeyPair can only verify"),this.eddsa.sign(tu,this)},$a.prototype.verify=function(tu,iu){return this.eddsa.verify(tu,iu,this)},$a.prototype.getSecret=function(tu){return as(this._secret,"KeyPair is public only"),ss.encode(this.secret(),tu)},$a.prototype.getPublic=function(tu){return ss.encode(this.pubBytes(),tu)},key=$a,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var ss=requireBn$3(),as=requireUtils$2(),us=as.assert,cs=as.cachedProperty,$a=as.parseBytes;function na(tu,iu){this.eddsa=tu,typeof iu!="object"&&(iu=$a(iu)),Array.isArray(iu)&&(us(iu.length===tu.encodingLength*2,"Signature has invalid size"),iu={R:iu.slice(0,tu.encodingLength),S:iu.slice(tu.encodingLength)}),us(iu.R&&iu.S,"Signature without R or S"),tu.isPoint(iu.R)&&(this._R=iu.R),iu.S instanceof ss&&(this._S=iu.S),this._Rencoded=Array.isArray(iu.R)?iu.R:iu.Rencoded,this._Sencoded=Array.isArray(iu.S)?iu.S:iu.Sencoded}return cs(na,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cs(na,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cs(na,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cs(na,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),na.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},na.prototype.toHex=function(){return as.encode(this.toBytes(),"hex").toUpperCase()},signature=na,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var ss=requireHash(),as=requireCurves(),us=requireUtils$2(),cs=us.assert,$a=us.parseBytes,na=requireKey(),tu=requireSignature();function iu(su){if(cs(su==="ed25519","only tested with ed25519 so far"),!(this instanceof iu))return new iu(su);su=as[su].curve,this.curve=su,this.g=su.g,this.g.precompute(su.n.bitLength()+1),this.pointClass=su.point().constructor,this.encodingLength=Math.ceil(su.n.bitLength()/8),this.hash=ss.sha512}return eddsa=iu,iu.prototype.sign=function(au,ou){au=$a(au);var fu=this.keyFromSecret(ou),pu=this.hashInt(fu.messagePrefix(),au),vu=this.g.mul(pu),gu=this.encodePoint(vu),bu=this.hashInt(gu,fu.pubBytes(),au).mul(fu.priv()),xu=pu.add(bu).umod(this.curve.n);return this.makeSignature({R:vu,S:xu,Rencoded:gu})},iu.prototype.verify=function(au,ou,fu){if(au=$a(au),ou=this.makeSignature(ou),ou.S().gte(ou.eddsa.curve.n)||ou.S().isNeg())return!1;var pu=this.keyFromPublic(fu),vu=this.hashInt(ou.Rencoded(),pu.pubBytes(),au),gu=this.g.mul(ou.S()),bu=ou.R().add(pu.pub().mul(vu));return bu.eq(gu)},iu.prototype.hashInt=function(){for(var au=this.hash(),ou=0;ou<arguments.length;ou++)au.update(arguments[ou]);return us.intFromLE(au.digest()).umod(this.curve.n)},iu.prototype.keyFromPublic=function(au){return na.fromPublic(this,au)},iu.prototype.keyFromSecret=function(au){return na.fromSecret(this,au)},iu.prototype.makeSignature=function(au){return au instanceof tu?au:new tu(this,au)},iu.prototype.encodePoint=function(au){var ou=au.getY().toArray("le",this.encodingLength);return ou[this.encodingLength-1]|=au.getX().isOdd()?128:0,ou},iu.prototype.decodePoint=function(au){au=us.parseBytes(au);var ou=au.length-1,fu=au.slice(0,ou).concat(au[ou]&-129),pu=(au[ou]&128)!==0,vu=us.intFromLE(fu);return this.curve.pointFromY(vu,pu)},iu.prototype.encodeInt=function(au){return au.toArray("le",this.encodingLength)},iu.prototype.decodeInt=function(au){return us.intFromLE(au)},iu.prototype.isPoint=function(au){return au instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(ss){var as=ss;as.version=require$$0$2.version,as.utils=requireUtils$2(),as.rand=requireBrorand(),as.curve=requireCurve(),as.curves=requireCurves(),as.ec=requireEc(),as.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(ss){(function(as,us){function cs(yu,_a){if(!yu)throw new Error(_a||"Assertion failed")}function $a(yu,_a){yu.super_=_a;var ru=function(){};ru.prototype=_a.prototype,yu.prototype=new ru,yu.prototype.constructor=yu}function na(yu,_a,ru){if(na.isBN(yu))return yu;this.negative=0,this.words=null,this.length=0,this.red=null,yu!==null&&((_a==="le"||_a==="be")&&(ru=_a,_a=10),this._init(yu||0,_a||10,ru||"be"))}typeof as=="object"?as.exports=na:us.BN=na,na.BN=na,na.wordSize=26;var tu;try{typeof window<"u"&&typeof window.Buffer<"u"?tu=window.Buffer:tu=require$$0$3.Buffer}catch{}na.isBN=function(_a){return _a instanceof na?!0:_a!==null&&typeof _a=="object"&&_a.constructor.wordSize===na.wordSize&&Array.isArray(_a.words)},na.max=function(_a,ru){return _a.cmp(ru)>0?_a:ru},na.min=function(_a,ru){return _a.cmp(ru)<0?_a:ru},na.prototype._init=function(_a,ru,nu){if(typeof _a=="number")return this._initNumber(_a,ru,nu);if(typeof _a=="object")return this._initArray(_a,ru,nu);ru==="hex"&&(ru=16),cs(ru===(ru|0)&&ru>=2&&ru<=36),_a=_a.toString().replace(/\s+/g,"");var uu=0;_a[0]==="-"&&(uu++,this.negative=1),uu<_a.length&&(ru===16?this._parseHex(_a,uu,nu):(this._parseBase(_a,ru,uu),nu==="le"&&this._initArray(this.toArray(),ru,nu)))},na.prototype._initNumber=function(_a,ru,nu){_a<0&&(this.negative=1,_a=-_a),_a<67108864?(this.words=[_a&67108863],this.length=1):_a<4503599627370496?(this.words=[_a&67108863,_a/67108864&67108863],this.length=2):(cs(_a<9007199254740992),this.words=[_a&67108863,_a/67108864&67108863,1],this.length=3),nu==="le"&&this._initArray(this.toArray(),ru,nu)},na.prototype._initArray=function(_a,ru,nu){if(cs(typeof _a.length=="number"),_a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_a.length/3),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu,du,mu=0;if(nu==="be")for(uu=_a.length-1,lu=0;uu>=0;uu-=3)du=_a[uu]|_a[uu-1]<<8|_a[uu-2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);else if(nu==="le")for(uu=0,lu=0;uu<_a.length;uu+=3)du=_a[uu]|_a[uu+1]<<8|_a[uu+2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);return this.strip()};function iu(yu,_a){var ru=yu.charCodeAt(_a);return ru>=65&&ru<=70?ru-55:ru>=97&&ru<=102?ru-87:ru-48&15}function su(yu,_a,ru){var nu=iu(yu,ru);return ru-1>=_a&&(nu|=iu(yu,ru-1)<<4),nu}na.prototype._parseHex=function(_a,ru,nu){this.length=Math.ceil((_a.length-ru)/6),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu=0,du=0,mu;if(nu==="be")for(uu=_a.length-1;uu>=ru;uu-=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8;else{var cu=_a.length-ru;for(uu=cu%2===0?ru+1:ru;uu<_a.length;uu+=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8}this.strip()};function au(yu,_a,ru,nu){for(var uu=0,lu=Math.min(yu.length,ru),du=_a;du<lu;du++){var mu=yu.charCodeAt(du)-48;uu*=nu,mu>=49?uu+=mu-49+10:mu>=17?uu+=mu-17+10:uu+=mu}return uu}na.prototype._parseBase=function(_a,ru,nu){this.words=[0],this.length=1;for(var uu=0,lu=1;lu<=67108863;lu*=ru)uu++;uu--,lu=lu/ru|0;for(var du=_a.length-nu,mu=du%uu,cu=Math.min(du,du-mu)+nu,eu=0,hu=nu;hu<cu;hu+=uu)eu=au(_a,hu,hu+uu,ru),this.imuln(lu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu);if(mu!==0){var Eu=1;for(eu=au(_a,hu,_a.length,ru),hu=0;hu<mu;hu++)Eu*=ru;this.imuln(Eu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu)}this.strip()},na.prototype.copy=function(_a){_a.words=new Array(this.length);for(var ru=0;ru<this.length;ru++)_a.words[ru]=this.words[ru];_a.length=this.length,_a.negative=this.negative,_a.red=this.red},na.prototype.clone=function(){var _a=new na(null);return this.copy(_a),_a},na.prototype._expand=function(_a){for(;this.length<_a;)this.words[this.length++]=0;return this},na.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},na.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},na.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ou=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fu=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];na.prototype.toString=function(_a,ru){_a=_a||10,ru=ru|0||1;var nu;if(_a===16||_a==="hex"){nu="";for(var uu=0,lu=0,du=0;du<this.length;du++){var mu=this.words[du],cu=((mu<<uu|lu)&16777215).toString(16);lu=mu>>>24-uu&16777215,uu+=2,uu>=26&&(uu-=26,du--),lu!==0||du!==this.length-1?nu=ou[6-cu.length]+cu+nu:nu=cu+nu}for(lu!==0&&(nu=lu.toString(16)+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}if(_a===(_a|0)&&_a>=2&&_a<=36){var eu=fu[_a],hu=pu[_a];nu="";var Eu=this.clone();for(Eu.negative=0;!Eu.isZero();){var Ru=Eu.modn(hu).toString(_a);Eu=Eu.idivn(hu),Eu.isZero()?nu=Ru+nu:nu=ou[eu-Ru.length]+Ru+nu}for(this.isZero()&&(nu="0"+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}cs(!1,"Base should be between 2 and 36")},na.prototype.toNumber=function(){var _a=this.words[0];return this.length===2?_a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_a+=4503599627370496+this.words[1]*67108864:this.length>2&&cs(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_a:_a},na.prototype.toJSON=function(){return this.toString(16)},na.prototype.toBuffer=function(_a,ru){return cs(typeof tu<"u"),this.toArrayLike(tu,_a,ru)},na.prototype.toArray=function(_a,ru){return this.toArrayLike(Array,_a,ru)},na.prototype.toArrayLike=function(_a,ru,nu){var uu=this.byteLength(),lu=nu||Math.max(1,uu);cs(uu<=lu,"byte array longer than desired length"),cs(lu>0,"Requested array length <= 0"),this.strip();var du=ru==="le",mu=new _a(lu),cu,eu,hu=this.clone();if(du){for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[eu]=cu;for(;eu<lu;eu++)mu[eu]=0}else{for(eu=0;eu<lu-uu;eu++)mu[eu]=0;for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[lu-eu-1]=cu}return mu},Math.clz32?na.prototype._countBits=function(_a){return 32-Math.clz32(_a)}:na.prototype._countBits=function(_a){var ru=_a,nu=0;return ru>=4096&&(nu+=13,ru>>>=13),ru>=64&&(nu+=7,ru>>>=7),ru>=8&&(nu+=4,ru>>>=4),ru>=2&&(nu+=2,ru>>>=2),nu+ru},na.prototype._zeroBits=function(_a){if(_a===0)return 26;var ru=_a,nu=0;return ru&8191||(nu+=13,ru>>>=13),ru&127||(nu+=7,ru>>>=7),ru&15||(nu+=4,ru>>>=4),ru&3||(nu+=2,ru>>>=2),ru&1||nu++,nu},na.prototype.bitLength=function(){var _a=this.words[this.length-1],ru=this._countBits(_a);return(this.length-1)*26+ru};function vu(yu){for(var _a=new Array(yu.bitLength()),ru=0;ru<_a.length;ru++){var nu=ru/26|0,uu=ru%26;_a[ru]=(yu.words[nu]&1<<uu)>>>uu}return _a}na.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _a=0,ru=0;ru<this.length;ru++){var nu=this._zeroBits(this.words[ru]);if(_a+=nu,nu!==26)break}return _a},na.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},na.prototype.toTwos=function(_a){return this.negative!==0?this.abs().inotn(_a).iaddn(1):this.clone()},na.prototype.fromTwos=function(_a){return this.testn(_a-1)?this.notn(_a).iaddn(1).ineg():this.clone()},na.prototype.isNeg=function(){return this.negative!==0},na.prototype.neg=function(){return this.clone().ineg()},na.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},na.prototype.iuor=function(_a){for(;this.length<_a.length;)this.words[this.length++]=0;for(var ru=0;ru<_a.length;ru++)this.words[ru]=this.words[ru]|_a.words[ru];return this.strip()},na.prototype.ior=function(_a){return cs((this.negative|_a.negative)===0),this.iuor(_a)},na.prototype.or=function(_a){return this.length>_a.length?this.clone().ior(_a):_a.clone().ior(this)},na.prototype.uor=function(_a){return this.length>_a.length?this.clone().iuor(_a):_a.clone().iuor(this)},na.prototype.iuand=function(_a){var ru;this.length>_a.length?ru=_a:ru=this;for(var nu=0;nu<ru.length;nu++)this.words[nu]=this.words[nu]&_a.words[nu];return this.length=ru.length,this.strip()},na.prototype.iand=function(_a){return cs((this.negative|_a.negative)===0),this.iuand(_a)},na.prototype.and=function(_a){return this.length>_a.length?this.clone().iand(_a):_a.clone().iand(this)},na.prototype.uand=function(_a){return this.length>_a.length?this.clone().iuand(_a):_a.clone().iuand(this)},na.prototype.iuxor=function(_a){var ru,nu;this.length>_a.length?(ru=this,nu=_a):(ru=_a,nu=this);for(var uu=0;uu<nu.length;uu++)this.words[uu]=ru.words[uu]^nu.words[uu];if(this!==ru)for(;uu<ru.length;uu++)this.words[uu]=ru.words[uu];return this.length=ru.length,this.strip()},na.prototype.ixor=function(_a){return cs((this.negative|_a.negative)===0),this.iuxor(_a)},na.prototype.xor=function(_a){return this.length>_a.length?this.clone().ixor(_a):_a.clone().ixor(this)},na.prototype.uxor=function(_a){return this.length>_a.length?this.clone().iuxor(_a):_a.clone().iuxor(this)},na.prototype.inotn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=Math.ceil(_a/26)|0,nu=_a%26;this._expand(ru),nu>0&&ru--;for(var uu=0;uu<ru;uu++)this.words[uu]=~this.words[uu]&67108863;return nu>0&&(this.words[uu]=~this.words[uu]&67108863>>26-nu),this.strip()},na.prototype.notn=function(_a){return this.clone().inotn(_a)},na.prototype.setn=function(_a,ru){cs(typeof _a=="number"&&_a>=0);var nu=_a/26|0,uu=_a%26;return this._expand(nu+1),ru?this.words[nu]=this.words[nu]|1<<uu:this.words[nu]=this.words[nu]&~(1<<uu),this.strip()},na.prototype.iadd=function(_a){var ru;if(this.negative!==0&&_a.negative===0)return this.negative=0,ru=this.isub(_a),this.negative^=1,this._normSign();if(this.negative===0&&_a.negative!==0)return _a.negative=0,ru=this.isub(_a),_a.negative=1,ru._normSign();var nu,uu;this.length>_a.length?(nu=this,uu=_a):(nu=_a,uu=this);for(var lu=0,du=0;du<uu.length;du++)ru=(nu.words[du]|0)+(uu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;for(;lu!==0&&du<nu.length;du++)ru=(nu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;if(this.length=nu.length,lu!==0)this.words[this.length]=lu,this.length++;else if(nu!==this)for(;du<nu.length;du++)this.words[du]=nu.words[du];return this},na.prototype.add=function(_a){var ru;return _a.negative!==0&&this.negative===0?(_a.negative=0,ru=this.sub(_a),_a.negative^=1,ru):_a.negative===0&&this.negative!==0?(this.negative=0,ru=_a.sub(this),this.negative=1,ru):this.length>_a.length?this.clone().iadd(_a):_a.clone().iadd(this)},na.prototype.isub=function(_a){if(_a.negative!==0){_a.negative=0;var ru=this.iadd(_a);return _a.negative=1,ru._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_a),this.negative=1,this._normSign();var nu=this.cmp(_a);if(nu===0)return this.negative=0,this.length=1,this.words[0]=0,this;var uu,lu;nu>0?(uu=this,lu=_a):(uu=_a,lu=this);for(var du=0,mu=0;mu<lu.length;mu++)ru=(uu.words[mu]|0)-(lu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;for(;du!==0&&mu<uu.length;mu++)ru=(uu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;if(du===0&&mu<uu.length&&uu!==this)for(;mu<uu.length;mu++)this.words[mu]=uu.words[mu];return this.length=Math.max(this.length,mu),uu!==this&&(this.negative=1),this.strip()},na.prototype.sub=function(_a){return this.clone().isub(_a)};function gu(yu,_a,ru){ru.negative=_a.negative^yu.negative;var nu=yu.length+_a.length|0;ru.length=nu,nu=nu-1|0;var uu=yu.words[0]|0,lu=_a.words[0]|0,du=uu*lu,mu=du&67108863,cu=du/67108864|0;ru.words[0]=mu;for(var eu=1;eu<nu;eu++){for(var hu=cu>>>26,Eu=cu&67108863,Ru=Math.min(eu,_a.length-1),Tu=Math.max(0,eu-yu.length+1);Tu<=Ru;Tu++){var qu=eu-Tu|0;uu=yu.words[qu]|0,lu=_a.words[Tu]|0,du=uu*lu+Eu,hu+=du/67108864|0,Eu=du&67108863}ru.words[eu]=Eu|0,cu=hu|0}return cu!==0?ru.words[eu]=cu|0:ru.length--,ru.strip()}var bu=function(_a,ru,nu){var uu=_a.words,lu=ru.words,du=nu.words,mu=0,cu,eu,hu,Eu=uu[0]|0,Ru=Eu&8191,Tu=Eu>>>13,qu=uu[1]|0,Du=qu&8191,Iu=qu>>>13,Lu=uu[2]|0,Uu=Lu&8191,Hu=Lu>>>13,zu=uu[3]|0,ju=zu&8191,Wu=zu>>>13,Dl=uu[4]|0,Zu=Dl&8191,Yu=Dl>>>13,Vl=uu[5]|0,_l=Vl&8191,Qu=Vl>>>13,Gl=uu[6]|0,yl=Gl&8191,Sl=Gl>>>13,Ql=uu[7]|0,Xu=Ql&8191,$l=Ql>>>13,Zl=uu[8]|0,wl=Zl&8191,Ml=Zl>>>13,Xl=uu[9]|0,Nu=Xl&8191,Cu=Xl>>>13,ku=lu[0]|0,Fu=ku&8191,Ku=ku>>>13,Ju=lu[1]|0,Gu=Ju&8191,El=Ju>>>13,Yl=lu[2]|0,xl=Yl&8191,Rl=Yl>>>13,Jl=lu[3]|0,Al=Jl&8191,Nl=Jl>>>13,e0=lu[4]|0,Cl=e0&8191,Ll=e0>>>13,t0=lu[5]|0,Pl=t0&8191,Fl=t0>>>13,r0=lu[6]|0,Il=r0&8191,Ul=r0>>>13,i0=lu[7]|0,Bl=i0&8191,zl=i0>>>13,n0=lu[8]|0,Tl=n0&8191,Hl=n0>>>13,s0=lu[9]|0,Ol=s0&8191,Kl=s0>>>13;nu.negative=_a.negative^ru.negative,nu.length=19,cu=Math.imul(Ru,Fu),eu=Math.imul(Ru,Ku),eu=eu+Math.imul(Tu,Fu)|0,hu=Math.imul(Tu,Ku);var _f=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_f>>>26)|0,_f&=67108863,cu=Math.imul(Du,Fu),eu=Math.imul(Du,Ku),eu=eu+Math.imul(Iu,Fu)|0,hu=Math.imul(Iu,Ku),cu=cu+Math.imul(Ru,Gu)|0,eu=eu+Math.imul(Ru,El)|0,eu=eu+Math.imul(Tu,Gu)|0,hu=hu+Math.imul(Tu,El)|0;var _h=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_h>>>26)|0,_h&=67108863,cu=Math.imul(Uu,Fu),eu=Math.imul(Uu,Ku),eu=eu+Math.imul(Hu,Fu)|0,hu=Math.imul(Hu,Ku),cu=cu+Math.imul(Du,Gu)|0,eu=eu+Math.imul(Du,El)|0,eu=eu+Math.imul(Iu,Gu)|0,hu=hu+Math.imul(Iu,El)|0,cu=cu+Math.imul(Ru,xl)|0,eu=eu+Math.imul(Ru,Rl)|0,eu=eu+Math.imul(Tu,xl)|0,hu=hu+Math.imul(Tu,Rl)|0;var a0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(a0>>>26)|0,a0&=67108863,cu=Math.imul(ju,Fu),eu=Math.imul(ju,Ku),eu=eu+Math.imul(Wu,Fu)|0,hu=Math.imul(Wu,Ku),cu=cu+Math.imul(Uu,Gu)|0,eu=eu+Math.imul(Uu,El)|0,eu=eu+Math.imul(Hu,Gu)|0,hu=hu+Math.imul(Hu,El)|0,cu=cu+Math.imul(Du,xl)|0,eu=eu+Math.imul(Du,Rl)|0,eu=eu+Math.imul(Iu,xl)|0,hu=hu+Math.imul(Iu,Rl)|0,cu=cu+Math.imul(Ru,Al)|0,eu=eu+Math.imul(Ru,Nl)|0,eu=eu+Math.imul(Tu,Al)|0,hu=hu+Math.imul(Tu,Nl)|0;var u0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(u0>>>26)|0,u0&=67108863,cu=Math.imul(Zu,Fu),eu=Math.imul(Zu,Ku),eu=eu+Math.imul(Yu,Fu)|0,hu=Math.imul(Yu,Ku),cu=cu+Math.imul(ju,Gu)|0,eu=eu+Math.imul(ju,El)|0,eu=eu+Math.imul(Wu,Gu)|0,hu=hu+Math.imul(Wu,El)|0,cu=cu+Math.imul(Uu,xl)|0,eu=eu+Math.imul(Uu,Rl)|0,eu=eu+Math.imul(Hu,xl)|0,hu=hu+Math.imul(Hu,Rl)|0,cu=cu+Math.imul(Du,Al)|0,eu=eu+Math.imul(Du,Nl)|0,eu=eu+Math.imul(Iu,Al)|0,hu=hu+Math.imul(Iu,Nl)|0,cu=cu+Math.imul(Ru,Cl)|0,eu=eu+Math.imul(Ru,Ll)|0,eu=eu+Math.imul(Tu,Cl)|0,hu=hu+Math.imul(Tu,Ll)|0;var l0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(l0>>>26)|0,l0&=67108863,cu=Math.imul(_l,Fu),eu=Math.imul(_l,Ku),eu=eu+Math.imul(Qu,Fu)|0,hu=Math.imul(Qu,Ku),cu=cu+Math.imul(Zu,Gu)|0,eu=eu+Math.imul(Zu,El)|0,eu=eu+Math.imul(Yu,Gu)|0,hu=hu+Math.imul(Yu,El)|0,cu=cu+Math.imul(ju,xl)|0,eu=eu+Math.imul(ju,Rl)|0,eu=eu+Math.imul(Wu,xl)|0,hu=hu+Math.imul(Wu,Rl)|0,cu=cu+Math.imul(Uu,Al)|0,eu=eu+Math.imul(Uu,Nl)|0,eu=eu+Math.imul(Hu,Al)|0,hu=hu+Math.imul(Hu,Nl)|0,cu=cu+Math.imul(Du,Cl)|0,eu=eu+Math.imul(Du,Ll)|0,eu=eu+Math.imul(Iu,Cl)|0,hu=hu+Math.imul(Iu,Ll)|0,cu=cu+Math.imul(Ru,Pl)|0,eu=eu+Math.imul(Ru,Fl)|0,eu=eu+Math.imul(Tu,Pl)|0,hu=hu+Math.imul(Tu,Fl)|0;var c0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(c0>>>26)|0,c0&=67108863,cu=Math.imul(yl,Fu),eu=Math.imul(yl,Ku),eu=eu+Math.imul(Sl,Fu)|0,hu=Math.imul(Sl,Ku),cu=cu+Math.imul(_l,Gu)|0,eu=eu+Math.imul(_l,El)|0,eu=eu+Math.imul(Qu,Gu)|0,hu=hu+Math.imul(Qu,El)|0,cu=cu+Math.imul(Zu,xl)|0,eu=eu+Math.imul(Zu,Rl)|0,eu=eu+Math.imul(Yu,xl)|0,hu=hu+Math.imul(Yu,Rl)|0,cu=cu+Math.imul(ju,Al)|0,eu=eu+Math.imul(ju,Nl)|0,eu=eu+Math.imul(Wu,Al)|0,hu=hu+Math.imul(Wu,Nl)|0,cu=cu+Math.imul(Uu,Cl)|0,eu=eu+Math.imul(Uu,Ll)|0,eu=eu+Math.imul(Hu,Cl)|0,hu=hu+Math.imul(Hu,Ll)|0,cu=cu+Math.imul(Du,Pl)|0,eu=eu+Math.imul(Du,Fl)|0,eu=eu+Math.imul(Iu,Pl)|0,hu=hu+Math.imul(Iu,Fl)|0,cu=cu+Math.imul(Ru,Il)|0,eu=eu+Math.imul(Ru,Ul)|0,eu=eu+Math.imul(Tu,Il)|0,hu=hu+Math.imul(Tu,Ul)|0;var f0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(f0>>>26)|0,f0&=67108863,cu=Math.imul(Xu,Fu),eu=Math.imul(Xu,Ku),eu=eu+Math.imul($l,Fu)|0,hu=Math.imul($l,Ku),cu=cu+Math.imul(yl,Gu)|0,eu=eu+Math.imul(yl,El)|0,eu=eu+Math.imul(Sl,Gu)|0,hu=hu+Math.imul(Sl,El)|0,cu=cu+Math.imul(_l,xl)|0,eu=eu+Math.imul(_l,Rl)|0,eu=eu+Math.imul(Qu,xl)|0,hu=hu+Math.imul(Qu,Rl)|0,cu=cu+Math.imul(Zu,Al)|0,eu=eu+Math.imul(Zu,Nl)|0,eu=eu+Math.imul(Yu,Al)|0,hu=hu+Math.imul(Yu,Nl)|0,cu=cu+Math.imul(ju,Cl)|0,eu=eu+Math.imul(ju,Ll)|0,eu=eu+Math.imul(Wu,Cl)|0,hu=hu+Math.imul(Wu,Ll)|0,cu=cu+Math.imul(Uu,Pl)|0,eu=eu+Math.imul(Uu,Fl)|0,eu=eu+Math.imul(Hu,Pl)|0,hu=hu+Math.imul(Hu,Fl)|0,cu=cu+Math.imul(Du,Il)|0,eu=eu+Math.imul(Du,Ul)|0,eu=eu+Math.imul(Iu,Il)|0,hu=hu+Math.imul(Iu,Ul)|0,cu=cu+Math.imul(Ru,Bl)|0,eu=eu+Math.imul(Ru,zl)|0,eu=eu+Math.imul(Tu,Bl)|0,hu=hu+Math.imul(Tu,zl)|0;var h0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(h0>>>26)|0,h0&=67108863,cu=Math.imul(wl,Fu),eu=Math.imul(wl,Ku),eu=eu+Math.imul(Ml,Fu)|0,hu=Math.imul(Ml,Ku),cu=cu+Math.imul(Xu,Gu)|0,eu=eu+Math.imul(Xu,El)|0,eu=eu+Math.imul($l,Gu)|0,hu=hu+Math.imul($l,El)|0,cu=cu+Math.imul(yl,xl)|0,eu=eu+Math.imul(yl,Rl)|0,eu=eu+Math.imul(Sl,xl)|0,hu=hu+Math.imul(Sl,Rl)|0,cu=cu+Math.imul(_l,Al)|0,eu=eu+Math.imul(_l,Nl)|0,eu=eu+Math.imul(Qu,Al)|0,hu=hu+Math.imul(Qu,Nl)|0,cu=cu+Math.imul(Zu,Cl)|0,eu=eu+Math.imul(Zu,Ll)|0,eu=eu+Math.imul(Yu,Cl)|0,hu=hu+Math.imul(Yu,Ll)|0,cu=cu+Math.imul(ju,Pl)|0,eu=eu+Math.imul(ju,Fl)|0,eu=eu+Math.imul(Wu,Pl)|0,hu=hu+Math.imul(Wu,Fl)|0,cu=cu+Math.imul(Uu,Il)|0,eu=eu+Math.imul(Uu,Ul)|0,eu=eu+Math.imul(Hu,Il)|0,hu=hu+Math.imul(Hu,Ul)|0,cu=cu+Math.imul(Du,Bl)|0,eu=eu+Math.imul(Du,zl)|0,eu=eu+Math.imul(Iu,Bl)|0,hu=hu+Math.imul(Iu,zl)|0,cu=cu+Math.imul(Ru,Tl)|0,eu=eu+Math.imul(Ru,Hl)|0,eu=eu+Math.imul(Tu,Tl)|0,hu=hu+Math.imul(Tu,Hl)|0;var d0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(d0>>>26)|0,d0&=67108863,cu=Math.imul(Nu,Fu),eu=Math.imul(Nu,Ku),eu=eu+Math.imul(Cu,Fu)|0,hu=Math.imul(Cu,Ku),cu=cu+Math.imul(wl,Gu)|0,eu=eu+Math.imul(wl,El)|0,eu=eu+Math.imul(Ml,Gu)|0,hu=hu+Math.imul(Ml,El)|0,cu=cu+Math.imul(Xu,xl)|0,eu=eu+Math.imul(Xu,Rl)|0,eu=eu+Math.imul($l,xl)|0,hu=hu+Math.imul($l,Rl)|0,cu=cu+Math.imul(yl,Al)|0,eu=eu+Math.imul(yl,Nl)|0,eu=eu+Math.imul(Sl,Al)|0,hu=hu+Math.imul(Sl,Nl)|0,cu=cu+Math.imul(_l,Cl)|0,eu=eu+Math.imul(_l,Ll)|0,eu=eu+Math.imul(Qu,Cl)|0,hu=hu+Math.imul(Qu,Ll)|0,cu=cu+Math.imul(Zu,Pl)|0,eu=eu+Math.imul(Zu,Fl)|0,eu=eu+Math.imul(Yu,Pl)|0,hu=hu+Math.imul(Yu,Fl)|0,cu=cu+Math.imul(ju,Il)|0,eu=eu+Math.imul(ju,Ul)|0,eu=eu+Math.imul(Wu,Il)|0,hu=hu+Math.imul(Wu,Ul)|0,cu=cu+Math.imul(Uu,Bl)|0,eu=eu+Math.imul(Uu,zl)|0,eu=eu+Math.imul(Hu,Bl)|0,hu=hu+Math.imul(Hu,zl)|0,cu=cu+Math.imul(Du,Tl)|0,eu=eu+Math.imul(Du,Hl)|0,eu=eu+Math.imul(Iu,Tl)|0,hu=hu+Math.imul(Iu,Hl)|0,cu=cu+Math.imul(Ru,Ol)|0,eu=eu+Math.imul(Ru,Kl)|0,eu=eu+Math.imul(Tu,Ol)|0,hu=hu+Math.imul(Tu,Kl)|0;var p0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(p0>>>26)|0,p0&=67108863,cu=Math.imul(Nu,Gu),eu=Math.imul(Nu,El),eu=eu+Math.imul(Cu,Gu)|0,hu=Math.imul(Cu,El),cu=cu+Math.imul(wl,xl)|0,eu=eu+Math.imul(wl,Rl)|0,eu=eu+Math.imul(Ml,xl)|0,hu=hu+Math.imul(Ml,Rl)|0,cu=cu+Math.imul(Xu,Al)|0,eu=eu+Math.imul(Xu,Nl)|0,eu=eu+Math.imul($l,Al)|0,hu=hu+Math.imul($l,Nl)|0,cu=cu+Math.imul(yl,Cl)|0,eu=eu+Math.imul(yl,Ll)|0,eu=eu+Math.imul(Sl,Cl)|0,hu=hu+Math.imul(Sl,Ll)|0,cu=cu+Math.imul(_l,Pl)|0,eu=eu+Math.imul(_l,Fl)|0,eu=eu+Math.imul(Qu,Pl)|0,hu=hu+Math.imul(Qu,Fl)|0,cu=cu+Math.imul(Zu,Il)|0,eu=eu+Math.imul(Zu,Ul)|0,eu=eu+Math.imul(Yu,Il)|0,hu=hu+Math.imul(Yu,Ul)|0,cu=cu+Math.imul(ju,Bl)|0,eu=eu+Math.imul(ju,zl)|0,eu=eu+Math.imul(Wu,Bl)|0,hu=hu+Math.imul(Wu,zl)|0,cu=cu+Math.imul(Uu,Tl)|0,eu=eu+Math.imul(Uu,Hl)|0,eu=eu+Math.imul(Hu,Tl)|0,hu=hu+Math.imul(Hu,Hl)|0,cu=cu+Math.imul(Du,Ol)|0,eu=eu+Math.imul(Du,Kl)|0,eu=eu+Math.imul(Iu,Ol)|0,hu=hu+Math.imul(Iu,Kl)|0;var m0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(m0>>>26)|0,m0&=67108863,cu=Math.imul(Nu,xl),eu=Math.imul(Nu,Rl),eu=eu+Math.imul(Cu,xl)|0,hu=Math.imul(Cu,Rl),cu=cu+Math.imul(wl,Al)|0,eu=eu+Math.imul(wl,Nl)|0,eu=eu+Math.imul(Ml,Al)|0,hu=hu+Math.imul(Ml,Nl)|0,cu=cu+Math.imul(Xu,Cl)|0,eu=eu+Math.imul(Xu,Ll)|0,eu=eu+Math.imul($l,Cl)|0,hu=hu+Math.imul($l,Ll)|0,cu=cu+Math.imul(yl,Pl)|0,eu=eu+Math.imul(yl,Fl)|0,eu=eu+Math.imul(Sl,Pl)|0,hu=hu+Math.imul(Sl,Fl)|0,cu=cu+Math.imul(_l,Il)|0,eu=eu+Math.imul(_l,Ul)|0,eu=eu+Math.imul(Qu,Il)|0,hu=hu+Math.imul(Qu,Ul)|0,cu=cu+Math.imul(Zu,Bl)|0,eu=eu+Math.imul(Zu,zl)|0,eu=eu+Math.imul(Yu,Bl)|0,hu=hu+Math.imul(Yu,zl)|0,cu=cu+Math.imul(ju,Tl)|0,eu=eu+Math.imul(ju,Hl)|0,eu=eu+Math.imul(Wu,Tl)|0,hu=hu+Math.imul(Wu,Hl)|0,cu=cu+Math.imul(Uu,Ol)|0,eu=eu+Math.imul(Uu,Kl)|0,eu=eu+Math.imul(Hu,Ol)|0,hu=hu+Math.imul(Hu,Kl)|0;var v0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(v0>>>26)|0,v0&=67108863,cu=Math.imul(Nu,Al),eu=Math.imul(Nu,Nl),eu=eu+Math.imul(Cu,Al)|0,hu=Math.imul(Cu,Nl),cu=cu+Math.imul(wl,Cl)|0,eu=eu+Math.imul(wl,Ll)|0,eu=eu+Math.imul(Ml,Cl)|0,hu=hu+Math.imul(Ml,Ll)|0,cu=cu+Math.imul(Xu,Pl)|0,eu=eu+Math.imul(Xu,Fl)|0,eu=eu+Math.imul($l,Pl)|0,hu=hu+Math.imul($l,Fl)|0,cu=cu+Math.imul(yl,Il)|0,eu=eu+Math.imul(yl,Ul)|0,eu=eu+Math.imul(Sl,Il)|0,hu=hu+Math.imul(Sl,Ul)|0,cu=cu+Math.imul(_l,Bl)|0,eu=eu+Math.imul(_l,zl)|0,eu=eu+Math.imul(Qu,Bl)|0,hu=hu+Math.imul(Qu,zl)|0,cu=cu+Math.imul(Zu,Tl)|0,eu=eu+Math.imul(Zu,Hl)|0,eu=eu+Math.imul(Yu,Tl)|0,hu=hu+Math.imul(Yu,Hl)|0,cu=cu+Math.imul(ju,Ol)|0,eu=eu+Math.imul(ju,Kl)|0,eu=eu+Math.imul(Wu,Ol)|0,hu=hu+Math.imul(Wu,Kl)|0;var g0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(g0>>>26)|0,g0&=67108863,cu=Math.imul(Nu,Cl),eu=Math.imul(Nu,Ll),eu=eu+Math.imul(Cu,Cl)|0,hu=Math.imul(Cu,Ll),cu=cu+Math.imul(wl,Pl)|0,eu=eu+Math.imul(wl,Fl)|0,eu=eu+Math.imul(Ml,Pl)|0,hu=hu+Math.imul(Ml,Fl)|0,cu=cu+Math.imul(Xu,Il)|0,eu=eu+Math.imul(Xu,Ul)|0,eu=eu+Math.imul($l,Il)|0,hu=hu+Math.imul($l,Ul)|0,cu=cu+Math.imul(yl,Bl)|0,eu=eu+Math.imul(yl,zl)|0,eu=eu+Math.imul(Sl,Bl)|0,hu=hu+Math.imul(Sl,zl)|0,cu=cu+Math.imul(_l,Tl)|0,eu=eu+Math.imul(_l,Hl)|0,eu=eu+Math.imul(Qu,Tl)|0,hu=hu+Math.imul(Qu,Hl)|0,cu=cu+Math.imul(Zu,Ol)|0,eu=eu+Math.imul(Zu,Kl)|0,eu=eu+Math.imul(Yu,Ol)|0,hu=hu+Math.imul(Yu,Kl)|0;var y0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(y0>>>26)|0,y0&=67108863,cu=Math.imul(Nu,Pl),eu=Math.imul(Nu,Fl),eu=eu+Math.imul(Cu,Pl)|0,hu=Math.imul(Cu,Fl),cu=cu+Math.imul(wl,Il)|0,eu=eu+Math.imul(wl,Ul)|0,eu=eu+Math.imul(Ml,Il)|0,hu=hu+Math.imul(Ml,Ul)|0,cu=cu+Math.imul(Xu,Bl)|0,eu=eu+Math.imul(Xu,zl)|0,eu=eu+Math.imul($l,Bl)|0,hu=hu+Math.imul($l,zl)|0,cu=cu+Math.imul(yl,Tl)|0,eu=eu+Math.imul(yl,Hl)|0,eu=eu+Math.imul(Sl,Tl)|0,hu=hu+Math.imul(Sl,Hl)|0,cu=cu+Math.imul(_l,Ol)|0,eu=eu+Math.imul(_l,Kl)|0,eu=eu+Math.imul(Qu,Ol)|0,hu=hu+Math.imul(Qu,Kl)|0;var b0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(b0>>>26)|0,b0&=67108863,cu=Math.imul(Nu,Il),eu=Math.imul(Nu,Ul),eu=eu+Math.imul(Cu,Il)|0,hu=Math.imul(Cu,Ul),cu=cu+Math.imul(wl,Bl)|0,eu=eu+Math.imul(wl,zl)|0,eu=eu+Math.imul(Ml,Bl)|0,hu=hu+Math.imul(Ml,zl)|0,cu=cu+Math.imul(Xu,Tl)|0,eu=eu+Math.imul(Xu,Hl)|0,eu=eu+Math.imul($l,Tl)|0,hu=hu+Math.imul($l,Hl)|0,cu=cu+Math.imul(yl,Ol)|0,eu=eu+Math.imul(yl,Kl)|0,eu=eu+Math.imul(Sl,Ol)|0,hu=hu+Math.imul(Sl,Kl)|0;var w0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(w0>>>26)|0,w0&=67108863,cu=Math.imul(Nu,Bl),eu=Math.imul(Nu,zl),eu=eu+Math.imul(Cu,Bl)|0,hu=Math.imul(Cu,zl),cu=cu+Math.imul(wl,Tl)|0,eu=eu+Math.imul(wl,Hl)|0,eu=eu+Math.imul(Ml,Tl)|0,hu=hu+Math.imul(Ml,Hl)|0,cu=cu+Math.imul(Xu,Ol)|0,eu=eu+Math.imul(Xu,Kl)|0,eu=eu+Math.imul($l,Ol)|0,hu=hu+Math.imul($l,Kl)|0;var $0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+($0>>>26)|0,$0&=67108863,cu=Math.imul(Nu,Tl),eu=Math.imul(Nu,Hl),eu=eu+Math.imul(Cu,Tl)|0,hu=Math.imul(Cu,Hl),cu=cu+Math.imul(wl,Ol)|0,eu=eu+Math.imul(wl,Kl)|0,eu=eu+Math.imul(Ml,Ol)|0,hu=hu+Math.imul(Ml,Kl)|0;var x0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(x0>>>26)|0,x0&=67108863,cu=Math.imul(Nu,Ol),eu=Math.imul(Nu,Kl),eu=eu+Math.imul(Cu,Ol)|0,hu=Math.imul(Cu,Kl);var _0=(mu+cu|0)+((eu&8191)<<13)|0;return mu=(hu+(eu>>>13)|0)+(_0>>>26)|0,_0&=67108863,du[0]=_f,du[1]=_h,du[2]=a0,du[3]=u0,du[4]=l0,du[5]=c0,du[6]=f0,du[7]=h0,du[8]=d0,du[9]=p0,du[10]=m0,du[11]=v0,du[12]=g0,du[13]=y0,du[14]=b0,du[15]=w0,du[16]=$0,du[17]=x0,du[18]=_0,mu!==0&&(du[19]=mu,nu.length++),nu};Math.imul||(bu=gu);function xu(yu,_a,ru){ru.negative=_a.negative^yu.negative,ru.length=yu.length+_a.length;for(var nu=0,uu=0,lu=0;lu<ru.length-1;lu++){var du=uu;uu=0;for(var mu=nu&67108863,cu=Math.min(lu,_a.length-1),eu=Math.max(0,lu-yu.length+1);eu<=cu;eu++){var hu=lu-eu,Eu=yu.words[hu]|0,Ru=_a.words[eu]|0,Tu=Eu*Ru,qu=Tu&67108863;du=du+(Tu/67108864|0)|0,qu=qu+mu|0,mu=qu&67108863,du=du+(qu>>>26)|0,uu+=du>>>26,du&=67108863}ru.words[lu]=mu,nu=du,du=uu}return nu!==0?ru.words[lu]=nu:ru.length--,ru.strip()}function $u(yu,_a,ru){var nu=new wu;return nu.mulp(yu,_a,ru)}na.prototype.mulTo=function(_a,ru){var nu,uu=this.length+_a.length;return this.length===10&&_a.length===10?nu=bu(this,_a,ru):uu<63?nu=gu(this,_a,ru):uu<1024?nu=xu(this,_a,ru):nu=$u(this,_a,ru),nu};function wu(yu,_a){this.x=yu,this.y=_a}wu.prototype.makeRBT=function(_a){for(var ru=new Array(_a),nu=na.prototype._countBits(_a)-1,uu=0;uu<_a;uu++)ru[uu]=this.revBin(uu,nu,_a);return ru},wu.prototype.revBin=function(_a,ru,nu){if(_a===0||_a===nu-1)return _a;for(var uu=0,lu=0;lu<ru;lu++)uu|=(_a&1)<<ru-lu-1,_a>>=1;return uu},wu.prototype.permute=function(_a,ru,nu,uu,lu,du){for(var mu=0;mu<du;mu++)uu[mu]=ru[_a[mu]],lu[mu]=nu[_a[mu]]},wu.prototype.transform=function(_a,ru,nu,uu,lu,du){this.permute(du,_a,ru,nu,uu,lu);for(var mu=1;mu<lu;mu<<=1)for(var cu=mu<<1,eu=Math.cos(2*Math.PI/cu),hu=Math.sin(2*Math.PI/cu),Eu=0;Eu<lu;Eu+=cu)for(var Ru=eu,Tu=hu,qu=0;qu<mu;qu++){var Du=nu[Eu+qu],Iu=uu[Eu+qu],Lu=nu[Eu+qu+mu],Uu=uu[Eu+qu+mu],Hu=Ru*Lu-Tu*Uu;Uu=Ru*Uu+Tu*Lu,Lu=Hu,nu[Eu+qu]=Du+Lu,uu[Eu+qu]=Iu+Uu,nu[Eu+qu+mu]=Du-Lu,uu[Eu+qu+mu]=Iu-Uu,qu!==cu&&(Hu=eu*Ru-hu*Tu,Tu=eu*Tu+hu*Ru,Ru=Hu)}},wu.prototype.guessLen13b=function(_a,ru){var nu=Math.max(ru,_a)|1,uu=nu&1,lu=0;for(nu=nu/2|0;nu;nu=nu>>>1)lu++;return 1<<lu+1+uu},wu.prototype.conjugate=function(_a,ru,nu){if(!(nu<=1))for(var uu=0;uu<nu/2;uu++){var lu=_a[uu];_a[uu]=_a[nu-uu-1],_a[nu-uu-1]=lu,lu=ru[uu],ru[uu]=-ru[nu-uu-1],ru[nu-uu-1]=-lu}},wu.prototype.normalize13b=function(_a,ru){for(var nu=0,uu=0;uu<ru/2;uu++){var lu=Math.round(_a[2*uu+1]/ru)*8192+Math.round(_a[2*uu]/ru)+nu;_a[uu]=lu&67108863,lu<67108864?nu=0:nu=lu/67108864|0}return _a},wu.prototype.convert13b=function(_a,ru,nu,uu){for(var lu=0,du=0;du<ru;du++)lu=lu+(_a[du]|0),nu[2*du]=lu&8191,lu=lu>>>13,nu[2*du+1]=lu&8191,lu=lu>>>13;for(du=2*ru;du<uu;++du)nu[du]=0;cs(lu===0),cs((lu&-8192)===0)},wu.prototype.stub=function(_a){for(var ru=new Array(_a),nu=0;nu<_a;nu++)ru[nu]=0;return ru},wu.prototype.mulp=function(_a,ru,nu){var uu=2*this.guessLen13b(_a.length,ru.length),lu=this.makeRBT(uu),du=this.stub(uu),mu=new Array(uu),cu=new Array(uu),eu=new Array(uu),hu=new Array(uu),Eu=new Array(uu),Ru=new Array(uu),Tu=nu.words;Tu.length=uu,this.convert13b(_a.words,_a.length,mu,uu),this.convert13b(ru.words,ru.length,hu,uu),this.transform(mu,du,cu,eu,uu,lu),this.transform(hu,du,Eu,Ru,uu,lu);for(var qu=0;qu<uu;qu++){var Du=cu[qu]*Eu[qu]-eu[qu]*Ru[qu];eu[qu]=cu[qu]*Ru[qu]+eu[qu]*Eu[qu],cu[qu]=Du}return this.conjugate(cu,eu,uu),this.transform(cu,eu,Tu,du,uu,lu),this.conjugate(Tu,du,uu),this.normalize13b(Tu,uu),nu.negative=_a.negative^ru.negative,nu.length=_a.length+ru.length,nu.strip()},na.prototype.mul=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),this.mulTo(_a,ru)},na.prototype.mulf=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),$u(this,_a,ru)},na.prototype.imul=function(_a){return this.clone().mulTo(_a,this)},na.prototype.imuln=function(_a){cs(typeof _a=="number"),cs(_a<67108864);for(var ru=0,nu=0;nu<this.length;nu++){var uu=(this.words[nu]|0)*_a,lu=(uu&67108863)+(ru&67108863);ru>>=26,ru+=uu/67108864|0,ru+=lu>>>26,this.words[nu]=lu&67108863}return ru!==0&&(this.words[nu]=ru,this.length++),this},na.prototype.muln=function(_a){return this.clone().imuln(_a)},na.prototype.sqr=function(){return this.mul(this)},na.prototype.isqr=function(){return this.imul(this.clone())},na.prototype.pow=function(_a){var ru=vu(_a);if(ru.length===0)return new na(1);for(var nu=this,uu=0;uu<ru.length&&ru[uu]===0;uu++,nu=nu.sqr());if(++uu<ru.length)for(var lu=nu.sqr();uu<ru.length;uu++,lu=lu.sqr())ru[uu]!==0&&(nu=nu.mul(lu));return nu},na.prototype.iushln=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=67108863>>>26-ru<<26-ru,lu;if(ru!==0){var du=0;for(lu=0;lu<this.length;lu++){var mu=this.words[lu]&uu,cu=(this.words[lu]|0)-mu<<ru;this.words[lu]=cu|du,du=mu>>>26-ru}du&&(this.words[lu]=du,this.length++)}if(nu!==0){for(lu=this.length-1;lu>=0;lu--)this.words[lu+nu]=this.words[lu];for(lu=0;lu<nu;lu++)this.words[lu]=0;this.length+=nu}return this.strip()},na.prototype.ishln=function(_a){return cs(this.negative===0),this.iushln(_a)},na.prototype.iushrn=function(_a,ru,nu){cs(typeof _a=="number"&&_a>=0);var uu;ru?uu=(ru-ru%26)/26:uu=0;var lu=_a%26,du=Math.min((_a-lu)/26,this.length),mu=67108863^67108863>>>lu<<lu,cu=nu;if(uu-=du,uu=Math.max(0,uu),cu){for(var eu=0;eu<du;eu++)cu.words[eu]=this.words[eu];cu.length=du}if(du!==0)if(this.length>du)for(this.length-=du,eu=0;eu<this.length;eu++)this.words[eu]=this.words[eu+du];else this.words[0]=0,this.length=1;var hu=0;for(eu=this.length-1;eu>=0&&(hu!==0||eu>=uu);eu--){var Eu=this.words[eu]|0;this.words[eu]=hu<<26-lu|Eu>>>lu,hu=Eu&mu}return cu&&hu!==0&&(cu.words[cu.length++]=hu),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},na.prototype.ishrn=function(_a,ru,nu){return cs(this.negative===0),this.iushrn(_a,ru,nu)},na.prototype.shln=function(_a){return this.clone().ishln(_a)},na.prototype.ushln=function(_a){return this.clone().iushln(_a)},na.prototype.shrn=function(_a){return this.clone().ishrn(_a)},na.prototype.ushrn=function(_a){return this.clone().iushrn(_a)},na.prototype.testn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return!1;var lu=this.words[nu];return!!(lu&uu)},na.prototype.imaskn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26;if(cs(this.negative===0,"imaskn works only with positive numbers"),this.length<=nu)return this;if(ru!==0&&nu++,this.length=Math.min(nu,this.length),ru!==0){var uu=67108863^67108863>>>ru<<ru;this.words[this.length-1]&=uu}return this.strip()},na.prototype.maskn=function(_a){return this.clone().imaskn(_a)},na.prototype.iaddn=function(_a){return cs(typeof _a=="number"),cs(_a<67108864),_a<0?this.isubn(-_a):this.negative!==0?this.length===1&&(this.words[0]|0)<_a?(this.words[0]=_a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_a),this.negative=1,this):this._iaddn(_a)},na.prototype._iaddn=function(_a){this.words[0]+=_a;for(var ru=0;ru<this.length&&this.words[ru]>=67108864;ru++)this.words[ru]-=67108864,ru===this.length-1?this.words[ru+1]=1:this.words[ru+1]++;return this.length=Math.max(this.length,ru+1),this},na.prototype.isubn=function(_a){if(cs(typeof _a=="number"),cs(_a<67108864),_a<0)return this.iaddn(-_a);if(this.negative!==0)return this.negative=0,this.iaddn(_a),this.negative=1,this;if(this.words[0]-=_a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ru=0;ru<this.length&&this.words[ru]<0;ru++)this.words[ru]+=67108864,this.words[ru+1]-=1;return this.strip()},na.prototype.addn=function(_a){return this.clone().iaddn(_a)},na.prototype.subn=function(_a){return this.clone().isubn(_a)},na.prototype.iabs=function(){return this.negative=0,this},na.prototype.abs=function(){return this.clone().iabs()},na.prototype._ishlnsubmul=function(_a,ru,nu){var uu=_a.length+nu,lu;this._expand(uu);var du,mu=0;for(lu=0;lu<_a.length;lu++){du=(this.words[lu+nu]|0)+mu;var cu=(_a.words[lu]|0)*ru;du-=cu&67108863,mu=(du>>26)-(cu/67108864|0),this.words[lu+nu]=du&67108863}for(;lu<this.length-nu;lu++)du=(this.words[lu+nu]|0)+mu,mu=du>>26,this.words[lu+nu]=du&67108863;if(mu===0)return this.strip();for(cs(mu===-1),mu=0,lu=0;lu<this.length;lu++)du=-(this.words[lu]|0)+mu,mu=du>>26,this.words[lu]=du&67108863;return this.negative=1,this.strip()},na.prototype._wordDiv=function(_a,ru){var nu=this.length-_a.length,uu=this.clone(),lu=_a,du=lu.words[lu.length-1]|0,mu=this._countBits(du);nu=26-mu,nu!==0&&(lu=lu.ushln(nu),uu.iushln(nu),du=lu.words[lu.length-1]|0);var cu=uu.length-lu.length,eu;if(ru!=="mod"){eu=new na(null),eu.length=cu+1,eu.words=new Array(eu.length);for(var hu=0;hu<eu.length;hu++)eu.words[hu]=0}var Eu=uu.clone()._ishlnsubmul(lu,1,cu);Eu.negative===0&&(uu=Eu,eu&&(eu.words[cu]=1));for(var Ru=cu-1;Ru>=0;Ru--){var Tu=(uu.words[lu.length+Ru]|0)*67108864+(uu.words[lu.length+Ru-1]|0);for(Tu=Math.min(Tu/du|0,67108863),uu._ishlnsubmul(lu,Tu,Ru);uu.negative!==0;)Tu--,uu.negative=0,uu._ishlnsubmul(lu,1,Ru),uu.isZero()||(uu.negative^=1);eu&&(eu.words[Ru]=Tu)}return eu&&eu.strip(),uu.strip(),ru!=="div"&&nu!==0&&uu.iushrn(nu),{div:eu||null,mod:uu}},na.prototype.divmod=function(_a,ru,nu){if(cs(!_a.isZero()),this.isZero())return{div:new na(0),mod:new na(0)};var uu,lu,du;return this.negative!==0&&_a.negative===0?(du=this.neg().divmod(_a,ru),ru!=="mod"&&(uu=du.div.neg()),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.iadd(_a)),{div:uu,mod:lu}):this.negative===0&&_a.negative!==0?(du=this.divmod(_a.neg(),ru),ru!=="mod"&&(uu=du.div.neg()),{div:uu,mod:du.mod}):this.negative&_a.negative?(du=this.neg().divmod(_a.neg(),ru),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.isub(_a)),{div:du.div,mod:lu}):_a.length>this.length||this.cmp(_a)<0?{div:new na(0),mod:this}:_a.length===1?ru==="div"?{div:this.divn(_a.words[0]),mod:null}:ru==="mod"?{div:null,mod:new na(this.modn(_a.words[0]))}:{div:this.divn(_a.words[0]),mod:new na(this.modn(_a.words[0]))}:this._wordDiv(_a,ru)},na.prototype.div=function(_a){return this.divmod(_a,"div",!1).div},na.prototype.mod=function(_a){return this.divmod(_a,"mod",!1).mod},na.prototype.umod=function(_a){return this.divmod(_a,"mod",!0).mod},na.prototype.divRound=function(_a){var ru=this.divmod(_a);if(ru.mod.isZero())return ru.div;var nu=ru.div.negative!==0?ru.mod.isub(_a):ru.mod,uu=_a.ushrn(1),lu=_a.andln(1),du=nu.cmp(uu);return du<0||lu===1&&du===0?ru.div:ru.div.negative!==0?ru.div.isubn(1):ru.div.iaddn(1)},na.prototype.modn=function(_a){cs(_a<=67108863);for(var ru=(1<<26)%_a,nu=0,uu=this.length-1;uu>=0;uu--)nu=(ru*nu+(this.words[uu]|0))%_a;return nu},na.prototype.idivn=function(_a){cs(_a<=67108863);for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=(this.words[nu]|0)+ru*67108864;this.words[nu]=uu/_a|0,ru=uu%_a}return this.strip()},na.prototype.divn=function(_a){return this.clone().idivn(_a)},na.prototype.egcd=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=new na(0),mu=new na(1),cu=0;ru.isEven()&&nu.isEven();)ru.iushrn(1),nu.iushrn(1),++cu;for(var eu=nu.clone(),hu=ru.clone();!ru.isZero();){for(var Eu=0,Ru=1;!(ru.words[0]&Ru)&&Eu<26;++Eu,Ru<<=1);if(Eu>0)for(ru.iushrn(Eu);Eu-- >0;)(uu.isOdd()||lu.isOdd())&&(uu.iadd(eu),lu.isub(hu)),uu.iushrn(1),lu.iushrn(1);for(var Tu=0,qu=1;!(nu.words[0]&qu)&&Tu<26;++Tu,qu<<=1);if(Tu>0)for(nu.iushrn(Tu);Tu-- >0;)(du.isOdd()||mu.isOdd())&&(du.iadd(eu),mu.isub(hu)),du.iushrn(1),mu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(du),lu.isub(mu)):(nu.isub(ru),du.isub(uu),mu.isub(lu))}return{a:du,b:mu,gcd:nu.iushln(cu)}},na.prototype._invmp=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=nu.clone();ru.cmpn(1)>0&&nu.cmpn(1)>0;){for(var mu=0,cu=1;!(ru.words[0]&cu)&&mu<26;++mu,cu<<=1);if(mu>0)for(ru.iushrn(mu);mu-- >0;)uu.isOdd()&&uu.iadd(du),uu.iushrn(1);for(var eu=0,hu=1;!(nu.words[0]&hu)&&eu<26;++eu,hu<<=1);if(eu>0)for(nu.iushrn(eu);eu-- >0;)lu.isOdd()&&lu.iadd(du),lu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(lu)):(nu.isub(ru),lu.isub(uu))}var Eu;return ru.cmpn(1)===0?Eu=uu:Eu=lu,Eu.cmpn(0)<0&&Eu.iadd(_a),Eu},na.prototype.gcd=function(_a){if(this.isZero())return _a.abs();if(_a.isZero())return this.abs();var ru=this.clone(),nu=_a.clone();ru.negative=0,nu.negative=0;for(var uu=0;ru.isEven()&&nu.isEven();uu++)ru.iushrn(1),nu.iushrn(1);do{for(;ru.isEven();)ru.iushrn(1);for(;nu.isEven();)nu.iushrn(1);var lu=ru.cmp(nu);if(lu<0){var du=ru;ru=nu,nu=du}else if(lu===0||nu.cmpn(1)===0)break;ru.isub(nu)}while(!0);return nu.iushln(uu)},na.prototype.invm=function(_a){return this.egcd(_a).a.umod(_a)},na.prototype.isEven=function(){return(this.words[0]&1)===0},na.prototype.isOdd=function(){return(this.words[0]&1)===1},na.prototype.andln=function(_a){return this.words[0]&_a},na.prototype.bincn=function(_a){cs(typeof _a=="number");var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return this._expand(nu+1),this.words[nu]|=uu,this;for(var lu=uu,du=nu;lu!==0&&du<this.length;du++){var mu=this.words[du]|0;mu+=lu,lu=mu>>>26,mu&=67108863,this.words[du]=mu}return lu!==0&&(this.words[du]=lu,this.length++),this},na.prototype.isZero=function(){return this.length===1&&this.words[0]===0},na.prototype.cmpn=function(_a){var ru=_a<0;if(this.negative!==0&&!ru)return-1;if(this.negative===0&&ru)return 1;this.strip();var nu;if(this.length>1)nu=1;else{ru&&(_a=-_a),cs(_a<=67108863,"Number is too big");var uu=this.words[0]|0;nu=uu===_a?0:uu<_a?-1:1}return this.negative!==0?-nu|0:nu},na.prototype.cmp=function(_a){if(this.negative!==0&&_a.negative===0)return-1;if(this.negative===0&&_a.negative!==0)return 1;var ru=this.ucmp(_a);return this.negative!==0?-ru|0:ru},na.prototype.ucmp=function(_a){if(this.length>_a.length)return 1;if(this.length<_a.length)return-1;for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=this.words[nu]|0,lu=_a.words[nu]|0;if(uu!==lu){uu<lu?ru=-1:uu>lu&&(ru=1);break}}return ru},na.prototype.gtn=function(_a){return this.cmpn(_a)===1},na.prototype.gt=function(_a){return this.cmp(_a)===1},na.prototype.gten=function(_a){return this.cmpn(_a)>=0},na.prototype.gte=function(_a){return this.cmp(_a)>=0},na.prototype.ltn=function(_a){return this.cmpn(_a)===-1},na.prototype.lt=function(_a){return this.cmp(_a)===-1},na.prototype.lten=function(_a){return this.cmpn(_a)<=0},na.prototype.lte=function(_a){return this.cmp(_a)<=0},na.prototype.eqn=function(_a){return this.cmpn(_a)===0},na.prototype.eq=function(_a){return this.cmp(_a)===0},na.red=function(_a){return new Ou(_a)},na.prototype.toRed=function(_a){return cs(!this.red,"Already a number in reduction context"),cs(this.negative===0,"red works only with positives"),_a.convertTo(this)._forceRed(_a)},na.prototype.fromRed=function(){return cs(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},na.prototype._forceRed=function(_a){return this.red=_a,this},na.prototype.forceRed=function(_a){return cs(!this.red,"Already a number in reduction context"),this._forceRed(_a)},na.prototype.redAdd=function(_a){return cs(this.red,"redAdd works only with red numbers"),this.red.add(this,_a)},na.prototype.redIAdd=function(_a){return cs(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_a)},na.prototype.redSub=function(_a){return cs(this.red,"redSub works only with red numbers"),this.red.sub(this,_a)},na.prototype.redISub=function(_a){return cs(this.red,"redISub works only with red numbers"),this.red.isub(this,_a)},na.prototype.redShl=function(_a){return cs(this.red,"redShl works only with red numbers"),this.red.shl(this,_a)},na.prototype.redMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.mul(this,_a)},na.prototype.redIMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.imul(this,_a)},na.prototype.redSqr=function(){return cs(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},na.prototype.redISqr=function(){return cs(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},na.prototype.redSqrt=function(){return cs(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},na.prototype.redInvm=function(){return cs(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},na.prototype.redNeg=function(){return cs(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},na.prototype.redPow=function(_a){return cs(this.red&&!_a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_a)};var _u={k256:null,p224:null,p192:null,p25519:null};function Mu(yu,_a){this.name=yu,this.p=new na(_a,16),this.n=this.p.bitLength(),this.k=new na(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mu.prototype._tmp=function(){var _a=new na(null);return _a.words=new Array(Math.ceil(this.n/13)),_a},Mu.prototype.ireduce=function(_a){var ru=_a,nu;do this.split(ru,this.tmp),ru=this.imulK(ru),ru=ru.iadd(this.tmp),nu=ru.bitLength();while(nu>this.n);var uu=nu<this.n?-1:ru.ucmp(this.p);return uu===0?(ru.words[0]=0,ru.length=1):uu>0?ru.isub(this.p):ru.strip!==void 0?ru.strip():ru._strip(),ru},Mu.prototype.split=function(_a,ru){_a.iushrn(this.n,0,ru)},Mu.prototype.imulK=function(_a){return _a.imul(this.k)};function Au(){Mu.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$a(Au,Mu),Au.prototype.split=function(_a,ru){for(var nu=4194303,uu=Math.min(_a.length,9),lu=0;lu<uu;lu++)ru.words[lu]=_a.words[lu];if(ru.length=uu,_a.length<=9){_a.words[0]=0,_a.length=1;return}var du=_a.words[9];for(ru.words[ru.length++]=du&nu,lu=10;lu<_a.length;lu++){var mu=_a.words[lu]|0;_a.words[lu-10]=(mu&nu)<<4|du>>>22,du=mu}du>>>=22,_a.words[lu-10]=du,du===0&&_a.length>10?_a.length-=10:_a.length-=9},Au.prototype.imulK=function(_a){_a.words[_a.length]=0,_a.words[_a.length+1]=0,_a.length+=2;for(var ru=0,nu=0;nu<_a.length;nu++){var uu=_a.words[nu]|0;ru+=uu*977,_a.words[nu]=ru&67108863,ru=uu*64+(ru/67108864|0)}return _a.words[_a.length-1]===0&&(_a.length--,_a.words[_a.length-1]===0&&_a.length--),_a};function Pu(){Mu.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$a(Pu,Mu);function Su(){Mu.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$a(Su,Mu);function Bu(){Mu.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$a(Bu,Mu),Bu.prototype.imulK=function(_a){for(var ru=0,nu=0;nu<_a.length;nu++){var uu=(_a.words[nu]|0)*19+ru,lu=uu&67108863;uu>>>=26,_a.words[nu]=lu,ru=uu}return ru!==0&&(_a.words[_a.length++]=ru),_a},na._prime=function(_a){if(_u[_a])return _u[_a];var ru;if(_a==="k256")ru=new Au;else if(_a==="p224")ru=new Pu;else if(_a==="p192")ru=new Su;else if(_a==="p25519")ru=new Bu;else throw new Error("Unknown prime "+_a);return _u[_a]=ru,ru};function Ou(yu){if(typeof yu=="string"){var _a=na._prime(yu);this.m=_a.p,this.prime=_a}else cs(yu.gtn(1),"modulus must be greater than 1"),this.m=yu,this.prime=null}Ou.prototype._verify1=function(_a){cs(_a.negative===0,"red works only with positives"),cs(_a.red,"red works only with red numbers")},Ou.prototype._verify2=function(_a,ru){cs((_a.negative|ru.negative)===0,"red works only with positives"),cs(_a.red&&_a.red===ru.red,"red works only with red numbers")},Ou.prototype.imod=function(_a){return this.prime?this.prime.ireduce(_a)._forceRed(this):_a.umod(this.m)._forceRed(this)},Ou.prototype.neg=function(_a){return _a.isZero()?_a.clone():this.m.sub(_a)._forceRed(this)},Ou.prototype.add=function(_a,ru){this._verify2(_a,ru);var nu=_a.add(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu._forceRed(this)},Ou.prototype.iadd=function(_a,ru){this._verify2(_a,ru);var nu=_a.iadd(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu},Ou.prototype.sub=function(_a,ru){this._verify2(_a,ru);var nu=_a.sub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu._forceRed(this)},Ou.prototype.isub=function(_a,ru){this._verify2(_a,ru);var nu=_a.isub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu},Ou.prototype.shl=function(_a,ru){return this._verify1(_a),this.imod(_a.ushln(ru))},Ou.prototype.imul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.imul(ru))},Ou.prototype.mul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.mul(ru))},Ou.prototype.isqr=function(_a){return this.imul(_a,_a.clone())},Ou.prototype.sqr=function(_a){return this.mul(_a,_a)},Ou.prototype.sqrt=function(_a){if(_a.isZero())return _a.clone();var ru=this.m.andln(3);if(cs(ru%2===1),ru===3){var nu=this.m.add(new na(1)).iushrn(2);return this.pow(_a,nu)}for(var uu=this.m.subn(1),lu=0;!uu.isZero()&&uu.andln(1)===0;)lu++,uu.iushrn(1);cs(!uu.isZero());var du=new na(1).toRed(this),mu=du.redNeg(),cu=this.m.subn(1).iushrn(1),eu=this.m.bitLength();for(eu=new na(2*eu*eu).toRed(this);this.pow(eu,cu).cmp(mu)!==0;)eu.redIAdd(mu);for(var hu=this.pow(eu,uu),Eu=this.pow(_a,uu.addn(1).iushrn(1)),Ru=this.pow(_a,uu),Tu=lu;Ru.cmp(du)!==0;){for(var qu=Ru,Du=0;qu.cmp(du)!==0;Du++)qu=qu.redSqr();cs(Du<Tu);var Iu=this.pow(hu,new na(1).iushln(Tu-Du-1));Eu=Eu.redMul(Iu),hu=Iu.redSqr(),Ru=Ru.redMul(hu),Tu=Du}return Eu},Ou.prototype.invm=function(_a){var ru=_a._invmp(this.m);return ru.negative!==0?(ru.negative=0,this.imod(ru).redNeg()):this.imod(ru)},Ou.prototype.pow=function(_a,ru){if(ru.isZero())return new na(1).toRed(this);if(ru.cmpn(1)===0)return _a.clone();var nu=4,uu=new Array(1<<nu);uu[0]=new na(1).toRed(this),uu[1]=_a;for(var lu=2;lu<uu.length;lu++)uu[lu]=this.mul(uu[lu-1],_a);var du=uu[0],mu=0,cu=0,eu=ru.bitLength()%26;for(eu===0&&(eu=26),lu=ru.length-1;lu>=0;lu--){for(var hu=ru.words[lu],Eu=eu-1;Eu>=0;Eu--){var Ru=hu>>Eu&1;if(du!==uu[0]&&(du=this.sqr(du)),Ru===0&&mu===0){cu=0;continue}mu<<=1,mu|=Ru,cu++,!(cu!==nu&&(lu!==0||Eu!==0))&&(du=this.mul(du,uu[mu]),cu=0,mu=0)}eu=26}return du},Ou.prototype.convertTo=function(_a){var ru=_a.umod(this.m);return ru===_a?ru.clone():ru},Ou.prototype.convertFrom=function(_a){var ru=_a.clone();return ru.red=null,ru},na.mont=function(_a){return new Vu(_a)};function Vu(yu){Ou.call(this,yu),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new na(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$a(Vu,Ou),Vu.prototype.convertTo=function(_a){return this.imod(_a.ushln(this.shift))},Vu.prototype.convertFrom=function(_a){var ru=this.imod(_a.mul(this.rinv));return ru.red=null,ru},Vu.prototype.imul=function(_a,ru){if(_a.isZero()||ru.isZero())return _a.words[0]=0,_a.length=1,_a;var nu=_a.imul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.mul=function(_a,ru){if(_a.isZero()||ru.isZero())return new na(0)._forceRed(this);var nu=_a.mul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.invm=function(_a){var ru=this.imod(_a._invmp(this.m).mul(this.r2));return ru._forceRed(this)}})(ss,commonjsGlobal)}(bn$4)),bn$4.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(ss,as){if(ss.indexOf)return ss.indexOf(as);for(var us=0;us<ss.length;us++)if(ss[us]===as)return us;return-1},Object_keys=function(ss){if(Object.keys)return Object.keys(ss);var as=[];for(var us in ss)as.push(us);return as},forEach=function(ss,as){if(ss.forEach)return ss.forEach(as);for(var us=0;us<ss.length;us++)as(ss[us],us,ss)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(ss,as,us){Object.defineProperty(ss,as,{writable:!0,enumerable:!1,configurable:!0,value:us})}}catch{return function(as,us,cs){as[us]=cs}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(as){if(!(this instanceof Script))return new Script(as);this.code=as};Script.prototype.runInContext=function(ss){if(!(ss instanceof Context))throw new TypeError("needs a 'context' argument.");var as=document.createElement("iframe");as.style||(as.style={}),as.style.display="none",document.body.appendChild(as);var us=as.contentWindow,cs=us.eval,$a=us.execScript;!cs&&$a&&($a.call(us,"null"),cs=us.eval),forEach(Object_keys(ss),function(iu){us[iu]=ss[iu]}),forEach(globals,function(iu){ss[iu]&&(us[iu]=ss[iu])});var na=Object_keys(us),tu=cs.call(us,this.code);return forEach(Object_keys(us),function(iu){(iu in ss||indexOf(na,iu)===-1)&&(ss[iu]=us[iu])}),forEach(globals,function(iu){iu in ss||defineProp(ss,iu,us[iu])}),document.body.removeChild(as),tu},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(ss){var as=Script.createContext(ss),us=this.runInContext(as);return ss&&forEach(Object_keys(as),function(cs){ss[cs]=as[cs]}),us},forEach(Object_keys(Script.prototype),function(ss){exports[ss]=Script[ss]=function(as){var us=Script(as);return us[ss].apply(us,[].slice.call(arguments,1))}}),exports.isContext=function(ss){return ss instanceof Context},exports.createScript=function(ss){return exports.Script(ss)},exports.createContext=Script.createContext=function(ss){var as=new Context;return typeof ss=="object"&&forEach(Object_keys(ss),function(us){as[us]=ss[us]}),as}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(ss){var as=requireAsn1$1(),us=inherits_browserExports,cs=ss;cs.define=function(tu,iu){return new $a(tu,iu)};function $a(na,tu){this.name=na,this.body=tu,this.decoders={},this.encoders={}}$a.prototype._createNamed=function(tu){var iu;try{iu=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{iu=function(au){this._initNamed(au)}}return us(iu,tu),iu.prototype._initNamed=function(au){tu.call(this,au)},new iu(this)},$a.prototype._getDecoder=function(tu){return tu=tu||"der",this.decoders.hasOwnProperty(tu)||(this.decoders[tu]=this._createNamed(as.decoders[tu])),this.decoders[tu]},$a.prototype.decode=function(tu,iu,su){return this._getDecoder(iu).decode(tu,su)},$a.prototype._getEncoder=function(tu){return tu=tu||"der",this.encoders.hasOwnProperty(tu)||(this.encoders[tu]=this._createNamed(as.encoders[tu])),this.encoders[tu]},$a.prototype.encode=function(tu,iu,su){return this._getEncoder(iu).encode(tu,su)}}(api)),api}var base$2={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var ss=inherits_browserExports;function as(cs){this._reporterState={obj:null,path:[],options:cs||{},errors:[]}}reporter.Reporter=as,as.prototype.isError=function($a){return $a instanceof us},as.prototype.save=function(){var $a=this._reporterState;return{obj:$a.obj,pathLen:$a.path.length}},as.prototype.restore=function($a){var na=this._reporterState;na.obj=$a.obj,na.path=na.path.slice(0,$a.pathLen)},as.prototype.enterKey=function($a){return this._reporterState.path.push($a)},as.prototype.exitKey=function($a){var na=this._reporterState;na.path=na.path.slice(0,$a-1)},as.prototype.leaveKey=function($a,na,tu){var iu=this._reporterState;this.exitKey($a),iu.obj!==null&&(iu.obj[na]=tu)},as.prototype.path=function(){return this._reporterState.path.join("/")},as.prototype.enterObject=function(){var $a=this._reporterState,na=$a.obj;return $a.obj={},na},as.prototype.leaveObject=function($a){var na=this._reporterState,tu=na.obj;return na.obj=$a,tu},as.prototype.error=function($a){var na,tu=this._reporterState,iu=$a instanceof us;if(iu?na=$a:na=new us(tu.path.map(function(su){return"["+JSON.stringify(su)+"]"}).join(""),$a.message||$a,$a.stack),!tu.options.partial)throw na;return iu||tu.errors.push(na),na},as.prototype.wrapResult=function($a){var na=this._reporterState;return na.options.partial?{result:this.isError($a)?null:$a,errors:na.errors}:$a};function us(cs,$a){this.path=cs,this.rethrow($a)}return ss(us,Error),us.prototype.rethrow=function($a){if(this.message=$a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,us),!this.stack)try{throw new Error(this.message)}catch(na){this.stack=na.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var ss=inherits_browserExports,as=requireBase().Reporter,us=require$$0$3.Buffer;function cs(na,tu){if(as.call(this,tu),!us.isBuffer(na)){this.error("Input not Buffer");return}this.base=na,this.offset=0,this.length=na.length}ss(cs,as),buffer.DecoderBuffer=cs,cs.prototype.save=function(){return{offset:this.offset,reporter:as.prototype.save.call(this)}},cs.prototype.restore=function(tu){var iu=new cs(this.base);return iu.offset=tu.offset,iu.length=this.offset,this.offset=tu.offset,as.prototype.restore.call(this,tu.reporter),iu},cs.prototype.isEmpty=function(){return this.offset===this.length},cs.prototype.readUInt8=function(tu){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(tu||"DecoderBuffer overrun")},cs.prototype.skip=function(tu,iu){if(!(this.offset+tu<=this.length))return this.error(iu||"DecoderBuffer overrun");var su=new cs(this.base);return su._reporterState=this._reporterState,su.offset=this.offset,su.length=this.offset+tu,this.offset+=tu,su},cs.prototype.raw=function(tu){return this.base.slice(tu?tu.offset:this.offset,this.length)};function $a(na,tu){if(Array.isArray(na))this.length=0,this.value=na.map(function(iu){return iu instanceof $a||(iu=new $a(iu,tu)),this.length+=iu.length,iu},this);else if(typeof na=="number"){if(!(0<=na&&na<=255))return tu.error("non-byte EncoderBuffer value");this.value=na,this.length=1}else if(typeof na=="string")this.value=na,this.length=us.byteLength(na);else if(us.isBuffer(na))this.value=na,this.length=na.length;else return tu.error("Unsupported type: "+typeof na)}return buffer.EncoderBuffer=$a,$a.prototype.join=function(tu,iu){return tu||(tu=new us(this.length)),iu||(iu=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(su){su.join(tu,iu),iu+=su.length}):(typeof this.value=="number"?tu[iu]=this.value:typeof this.value=="string"?tu.write(this.value,iu):us.isBuffer(this.value)&&this.value.copy(tu,iu),iu+=this.length)),tu},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var ss=requireBase().Reporter,as=requireBase().EncoderBuffer,us=requireBase().DecoderBuffer,cs=requireMinimalisticAssert(),$a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],na=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat($a),tu=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function iu(au,ou){var fu={};this._baseState=fu,fu.enc=au,fu.parent=ou||null,fu.children=null,fu.tag=null,fu.args=null,fu.reverseArgs=null,fu.choice=null,fu.optional=!1,fu.any=!1,fu.obj=!1,fu.use=null,fu.useDecoder=null,fu.key=null,fu.default=null,fu.explicit=null,fu.implicit=null,fu.contains=null,fu.parent||(fu.children=[],this._wrap())}node=iu;var su=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return iu.prototype.clone=function(){var ou=this._baseState,fu={};su.forEach(function(vu){fu[vu]=ou[vu]});var pu=new this.constructor(fu.parent);return pu._baseState=fu,pu},iu.prototype._wrap=function(){var ou=this._baseState;na.forEach(function(fu){this[fu]=function(){var vu=new this.constructor(this);return ou.children.push(vu),vu[fu].apply(vu,arguments)}},this)},iu.prototype._init=function(ou){var fu=this._baseState;cs(fu.parent===null),ou.call(this),fu.children=fu.children.filter(function(pu){return pu._baseState.parent===this},this),cs.equal(fu.children.length,1,"Root node can have only one child")},iu.prototype._useArgs=function(ou){var fu=this._baseState,pu=ou.filter(function(vu){return vu instanceof this.constructor},this);ou=ou.filter(function(vu){return!(vu instanceof this.constructor)},this),pu.length!==0&&(cs(fu.children===null),fu.children=pu,pu.forEach(function(vu){vu._baseState.parent=this},this)),ou.length!==0&&(cs(fu.args===null),fu.args=ou,fu.reverseArgs=ou.map(function(vu){if(typeof vu!="object"||vu.constructor!==Object)return vu;var gu={};return Object.keys(vu).forEach(function(bu){bu==(bu|0)&&(bu|=0);var xu=vu[bu];gu[xu]=bu}),gu}))},tu.forEach(function(au){iu.prototype[au]=function(){var fu=this._baseState;throw new Error(au+" not implemented for encoding: "+fu.enc)}}),$a.forEach(function(au){iu.prototype[au]=function(){var fu=this._baseState,pu=Array.prototype.slice.call(arguments);return cs(fu.tag===null),fu.tag=au,this._useArgs(pu),this}}),iu.prototype.use=function(ou){cs(ou);var fu=this._baseState;return cs(fu.use===null),fu.use=ou,this},iu.prototype.optional=function(){var ou=this._baseState;return ou.optional=!0,this},iu.prototype.def=function(ou){var fu=this._baseState;return cs(fu.default===null),fu.default=ou,fu.optional=!0,this},iu.prototype.explicit=function(ou){var fu=this._baseState;return cs(fu.explicit===null&&fu.implicit===null),fu.explicit=ou,this},iu.prototype.implicit=function(ou){var fu=this._baseState;return cs(fu.explicit===null&&fu.implicit===null),fu.implicit=ou,this},iu.prototype.obj=function(){var ou=this._baseState,fu=Array.prototype.slice.call(arguments);return ou.obj=!0,fu.length!==0&&this._useArgs(fu),this},iu.prototype.key=function(ou){var fu=this._baseState;return cs(fu.key===null),fu.key=ou,this},iu.prototype.any=function(){var ou=this._baseState;return ou.any=!0,this},iu.prototype.choice=function(ou){var fu=this._baseState;return cs(fu.choice===null),fu.choice=ou,this._useArgs(Object.keys(ou).map(function(pu){return ou[pu]})),this},iu.prototype.contains=function(ou){var fu=this._baseState;return cs(fu.use===null),fu.contains=ou,this},iu.prototype._decode=function(ou,fu){var pu=this._baseState;if(pu.parent===null)return ou.wrapResult(pu.children[0]._decode(ou,fu));var vu=pu.default,gu=!0,bu=null;if(pu.key!==null&&(bu=ou.enterKey(pu.key)),pu.optional){var xu=null;if(pu.explicit!==null?xu=pu.explicit:pu.implicit!==null?xu=pu.implicit:pu.tag!==null&&(xu=pu.tag),xu===null&&!pu.any){var $u=ou.save();try{pu.choice===null?this._decodeGeneric(pu.tag,ou,fu):this._decodeChoice(ou,fu),gu=!0}catch{gu=!1}ou.restore($u)}else if(gu=this._peekTag(ou,xu,pu.any),ou.isError(gu))return gu}var wu;if(pu.obj&&gu&&(wu=ou.enterObject()),gu){if(pu.explicit!==null){var _u=this._decodeTag(ou,pu.explicit);if(ou.isError(_u))return _u;ou=_u}var Mu=ou.offset;if(pu.use===null&&pu.choice===null){if(pu.any)var $u=ou.save();var Au=this._decodeTag(ou,pu.implicit!==null?pu.implicit:pu.tag,pu.any);if(ou.isError(Au))return Au;pu.any?vu=ou.raw($u):ou=Au}if(fu&&fu.track&&pu.tag!==null&&fu.track(ou.path(),Mu,ou.length,"tagged"),fu&&fu.track&&pu.tag!==null&&fu.track(ou.path(),ou.offset,ou.length,"content"),pu.any?vu=vu:pu.choice===null?vu=this._decodeGeneric(pu.tag,ou,fu):vu=this._decodeChoice(ou,fu),ou.isError(vu))return vu;if(!pu.any&&pu.choice===null&&pu.children!==null&&pu.children.forEach(function(Bu){Bu._decode(ou,fu)}),pu.contains&&(pu.tag==="octstr"||pu.tag==="bitstr")){var Pu=new us(vu);vu=this._getUse(pu.contains,ou._reporterState.obj)._decode(Pu,fu)}}return pu.obj&&gu&&(vu=ou.leaveObject(wu)),pu.key!==null&&(vu!==null||gu===!0)?ou.leaveKey(bu,pu.key,vu):bu!==null&&ou.exitKey(bu),vu},iu.prototype._decodeGeneric=function(ou,fu,pu){var vu=this._baseState;return ou==="seq"||ou==="set"?null:ou==="seqof"||ou==="setof"?this._decodeList(fu,ou,vu.args[0],pu):/str$/.test(ou)?this._decodeStr(fu,ou,pu):ou==="objid"&&vu.args?this._decodeObjid(fu,vu.args[0],vu.args[1],pu):ou==="objid"?this._decodeObjid(fu,null,null,pu):ou==="gentime"||ou==="utctime"?this._decodeTime(fu,ou,pu):ou==="null_"?this._decodeNull(fu,pu):ou==="bool"?this._decodeBool(fu,pu):ou==="objDesc"?this._decodeStr(fu,ou,pu):ou==="int"||ou==="enum"?this._decodeInt(fu,vu.args&&vu.args[0],pu):vu.use!==null?this._getUse(vu.use,fu._reporterState.obj)._decode(fu,pu):fu.error("unknown tag: "+ou)},iu.prototype._getUse=function(ou,fu){var pu=this._baseState;return pu.useDecoder=this._use(ou,fu),cs(pu.useDecoder._baseState.parent===null),pu.useDecoder=pu.useDecoder._baseState.children[0],pu.implicit!==pu.useDecoder._baseState.implicit&&(pu.useDecoder=pu.useDecoder.clone(),pu.useDecoder._baseState.implicit=pu.implicit),pu.useDecoder},iu.prototype._decodeChoice=function(ou,fu){var pu=this._baseState,vu=null,gu=!1;return Object.keys(pu.choice).some(function(bu){var xu=ou.save(),$u=pu.choice[bu];try{var wu=$u._decode(ou,fu);if(ou.isError(wu))return!1;vu={type:bu,value:wu},gu=!0}catch{return ou.restore(xu),!1}return!0},this),gu?vu:ou.error("Choice not matched")},iu.prototype._createEncoderBuffer=function(ou){return new as(ou,this.reporter)},iu.prototype._encode=function(ou,fu,pu){var vu=this._baseState;if(!(vu.default!==null&&vu.default===ou)){var gu=this._encodeValue(ou,fu,pu);if(gu!==void 0&&!this._skipDefault(gu,fu,pu))return gu}},iu.prototype._encodeValue=function(ou,fu,pu){var vu=this._baseState;if(vu.parent===null)return vu.children[0]._encode(ou,fu||new ss);var $u=null;if(this.reporter=fu,vu.optional&&ou===void 0)if(vu.default!==null)ou=vu.default;else return;var gu=null,bu=!1;if(vu.any)$u=this._createEncoderBuffer(ou);else if(vu.choice)$u=this._encodeChoice(ou,fu);else if(vu.contains)gu=this._getUse(vu.contains,pu)._encode(ou,fu),bu=!0;else if(vu.children)gu=vu.children.map(function(Mu){if(Mu._baseState.tag==="null_")return Mu._encode(null,fu,ou);if(Mu._baseState.key===null)return fu.error("Child should have a key");var Au=fu.enterKey(Mu._baseState.key);if(typeof ou!="object")return fu.error("Child expected, but input is not object");var Pu=Mu._encode(ou[Mu._baseState.key],fu,ou);return fu.leaveKey(Au),Pu},this).filter(function(Mu){return Mu}),gu=this._createEncoderBuffer(gu);else if(vu.tag==="seqof"||vu.tag==="setof"){if(!(vu.args&&vu.args.length===1))return fu.error("Too many args for : "+vu.tag);if(!Array.isArray(ou))return fu.error("seqof/setof, but data is not Array");var xu=this.clone();xu._baseState.implicit=null,gu=this._createEncoderBuffer(ou.map(function(Mu){var Au=this._baseState;return this._getUse(Au.args[0],ou)._encode(Mu,fu)},xu))}else vu.use!==null?$u=this._getUse(vu.use,pu)._encode(ou,fu):(gu=this._encodePrimitive(vu.tag,ou),bu=!0);var $u;if(!vu.any&&vu.choice===null){var wu=vu.implicit!==null?vu.implicit:vu.tag,_u=vu.implicit===null?"universal":"context";wu===null?vu.use===null&&fu.error("Tag could be omitted only for .use()"):vu.use===null&&($u=this._encodeComposite(wu,bu,_u,gu))}return vu.explicit!==null&&($u=this._encodeComposite(vu.explicit,!1,"context",$u)),$u},iu.prototype._encodeChoice=function(ou,fu){var pu=this._baseState,vu=pu.choice[ou.type];return vu||cs(!1,ou.type+" not found in "+JSON.stringify(Object.keys(pu.choice))),vu._encode(ou.value,fu)},iu.prototype._encodePrimitive=function(ou,fu){var pu=this._baseState;if(/str$/.test(ou))return this._encodeStr(fu,ou);if(ou==="objid"&&pu.args)return this._encodeObjid(fu,pu.reverseArgs[0],pu.args[1]);if(ou==="objid")return this._encodeObjid(fu,null,null);if(ou==="gentime"||ou==="utctime")return this._encodeTime(fu,ou);if(ou==="null_")return this._encodeNull();if(ou==="int"||ou==="enum")return this._encodeInt(fu,pu.args&&pu.reverseArgs[0]);if(ou==="bool")return this._encodeBool(fu);if(ou==="objDesc")return this._encodeStr(fu,ou);throw new Error("Unsupported tag: "+ou)},iu.prototype._isNumstr=function(ou){return/^[0-9 ]*$/.test(ou)},iu.prototype._isPrintstr=function(ou){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(ou)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(ss){var as=ss;as.Reporter=requireReporter().Reporter,as.DecoderBuffer=requireBuffer().DecoderBuffer,as.EncoderBuffer=requireBuffer().EncoderBuffer,as.Node=requireNode()}(base$2)),base$2}var constants$1={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(ss){var as=requireConstants$1();ss.tagClass={0:"universal",1:"application",2:"context",3:"private"},ss.tagClassByName=as._reverse(ss.tagClass),ss.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},ss.tagByName=as._reverse(ss.tag)}(der)),der}var hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,function(ss){var as=ss;as._reverse=function(cs){var $a={};return Object.keys(cs).forEach(function(na){(na|0)==na&&(na=na|0);var tu=cs[na];$a[tu]=na}),$a},as.der=requireDer$2()}(constants$1)),constants$1}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var ss=inherits_browserExports,as=requireAsn1$1(),us=as.base,cs=as.bignum,$a=as.constants.der;function na(au){this.enc="der",this.name=au.name,this.entity=au,this.tree=new tu,this.tree._init(au.body)}der_1$1=na,na.prototype.decode=function(ou,fu){return ou instanceof us.DecoderBuffer||(ou=new us.DecoderBuffer(ou,fu)),this.tree._decode(ou,fu)};function tu(au){us.Node.call(this,"der",au)}ss(tu,us.Node),tu.prototype._peekTag=function(ou,fu,pu){if(ou.isEmpty())return!1;var vu=ou.save(),gu=iu(ou,'Failed to peek tag: "'+fu+'"');return ou.isError(gu)?gu:(ou.restore(vu),gu.tag===fu||gu.tagStr===fu||gu.tagStr+"of"===fu||pu)},tu.prototype._decodeTag=function(ou,fu,pu){var vu=iu(ou,'Failed to decode tag of "'+fu+'"');if(ou.isError(vu))return vu;var gu=su(ou,vu.primitive,'Failed to get length of "'+fu+'"');if(ou.isError(gu))return gu;if(!pu&&vu.tag!==fu&&vu.tagStr!==fu&&vu.tagStr+"of"!==fu)return ou.error('Failed to match tag: "'+fu+'"');if(vu.primitive||gu!==null)return ou.skip(gu,'Failed to match body of: "'+fu+'"');var bu=ou.save(),xu=this._skipUntilEnd(ou,'Failed to skip indefinite length body: "'+this.tag+'"');return ou.isError(xu)?xu:(gu=ou.offset-bu.offset,ou.restore(bu),ou.skip(gu,'Failed to match body of: "'+fu+'"'))},tu.prototype._skipUntilEnd=function(ou,fu){for(;;){var pu=iu(ou,fu);if(ou.isError(pu))return pu;var vu=su(ou,pu.primitive,fu);if(ou.isError(vu))return vu;var gu;if(pu.primitive||vu!==null?gu=ou.skip(vu):gu=this._skipUntilEnd(ou,fu),ou.isError(gu))return gu;if(pu.tagStr==="end")break}},tu.prototype._decodeList=function(ou,fu,pu,vu){for(var gu=[];!ou.isEmpty();){var bu=this._peekTag(ou,"end");if(ou.isError(bu))return bu;var xu=pu.decode(ou,"der",vu);if(ou.isError(xu)&&bu)break;gu.push(xu)}return gu},tu.prototype._decodeStr=function(ou,fu){if(fu==="bitstr"){var pu=ou.readUInt8();return ou.isError(pu)?pu:{unused:pu,data:ou.raw()}}else if(fu==="bmpstr"){var vu=ou.raw();if(vu.length%2===1)return ou.error("Decoding of string type: bmpstr length mismatch");for(var gu="",bu=0;bu<vu.length/2;bu++)gu+=String.fromCharCode(vu.readUInt16BE(bu*2));return gu}else if(fu==="numstr"){var xu=ou.raw().toString("ascii");return this._isNumstr(xu)?xu:ou.error("Decoding of string type: numstr unsupported characters")}else{if(fu==="octstr")return ou.raw();if(fu==="objDesc")return ou.raw();if(fu==="printstr"){var $u=ou.raw().toString("ascii");return this._isPrintstr($u)?$u:ou.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(fu)?ou.raw().toString():ou.error("Decoding of string type: "+fu+" unsupported")}},tu.prototype._decodeObjid=function(ou,fu,pu){for(var vu,gu=[],bu=0;!ou.isEmpty();){var xu=ou.readUInt8();bu<<=7,bu|=xu&127,xu&128||(gu.push(bu),bu=0)}xu&128&&gu.push(bu);var $u=gu[0]/40|0,wu=gu[0]%40;if(pu?vu=gu:vu=[$u,wu].concat(gu.slice(1)),fu){var _u=fu[vu.join(" ")];_u===void 0&&(_u=fu[vu.join(".")]),_u!==void 0&&(vu=_u)}return vu},tu.prototype._decodeTime=function(ou,fu){var pu=ou.raw().toString();if(fu==="gentime")var vu=pu.slice(0,4)|0,gu=pu.slice(4,6)|0,bu=pu.slice(6,8)|0,xu=pu.slice(8,10)|0,$u=pu.slice(10,12)|0,wu=pu.slice(12,14)|0;else if(fu==="utctime"){var vu=pu.slice(0,2)|0,gu=pu.slice(2,4)|0,bu=pu.slice(4,6)|0,xu=pu.slice(6,8)|0,$u=pu.slice(8,10)|0,wu=pu.slice(10,12)|0;vu<70?vu=2e3+vu:vu=1900+vu}else return ou.error("Decoding "+fu+" time is not supported yet");return Date.UTC(vu,gu-1,bu,xu,$u,wu,0)},tu.prototype._decodeNull=function(ou){return null},tu.prototype._decodeBool=function(ou){var fu=ou.readUInt8();return ou.isError(fu)?fu:fu!==0},tu.prototype._decodeInt=function(ou,fu){var pu=ou.raw(),vu=new cs(pu);return fu&&(vu=fu[vu.toString(10)]||vu),vu},tu.prototype._use=function(ou,fu){return typeof ou=="function"&&(ou=ou(fu)),ou._getDecoder("der").tree};function iu(au,ou){var fu=au.readUInt8(ou);if(au.isError(fu))return fu;var pu=$a.tagClass[fu>>6],vu=(fu&32)===0;if((fu&31)===31){var gu=fu;for(fu=0;(gu&128)===128;){if(gu=au.readUInt8(ou),au.isError(gu))return gu;fu<<=7,fu|=gu&127}}else fu&=31;var bu=$a.tag[fu];return{cls:pu,primitive:vu,tag:fu,tagStr:bu}}function su(au,ou,fu){var pu=au.readUInt8(fu);if(au.isError(pu))return pu;if(!ou&&pu===128)return null;if(!(pu&128))return pu;var vu=pu&127;if(vu>4)return au.error("length octect is too long");pu=0;for(var gu=0;gu<vu;gu++){pu<<=8;var bu=au.readUInt8(fu);if(au.isError(bu))return bu;pu|=bu}return pu}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var ss=inherits_browserExports,as=require$$0$3.Buffer,us=requireDer$1();function cs($a){us.call(this,$a),this.enc="pem"}return ss(cs,us),pem$1=cs,cs.prototype.decode=function(na,tu){for(var iu=na.toString().split(/[\r\n]+/g),su=tu.label.toUpperCase(),au=/^-----(BEGIN|END) ([^-]+)-----$/,ou=-1,fu=-1,pu=0;pu<iu.length;pu++){var vu=iu[pu].match(au);if(vu!==null&&vu[2]===su)if(ou===-1){if(vu[1]!=="BEGIN")break;ou=pu}else{if(vu[1]!=="END")break;fu=pu;break}}if(ou===-1||fu===-1)throw new Error("PEM section not found for: "+su);var gu=iu.slice(ou+1,fu).join("");gu.replace(/[^a-z0-9\+\/=]+/gi,"");var bu=new as(gu,"base64");return us.prototype.decode.call(this,bu,tu)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(ss){var as=ss;as.der=requireDer$1(),as.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var ss=inherits_browserExports,as=require$$0$3.Buffer,us=requireAsn1$1(),cs=us.base,$a=us.constants.der;function na(au){this.enc="der",this.name=au.name,this.entity=au,this.tree=new tu,this.tree._init(au.body)}der_1=na,na.prototype.encode=function(ou,fu){return this.tree._encode(ou,fu).join()};function tu(au){cs.Node.call(this,"der",au)}ss(tu,cs.Node),tu.prototype._encodeComposite=function(ou,fu,pu,vu){var gu=su(ou,fu,pu,this.reporter);if(vu.length<128){var $u=new as(2);return $u[0]=gu,$u[1]=vu.length,this._createEncoderBuffer([$u,vu])}for(var bu=1,xu=vu.length;xu>=256;xu>>=8)bu++;var $u=new as(2+bu);$u[0]=gu,$u[1]=128|bu;for(var xu=1+bu,wu=vu.length;wu>0;xu--,wu>>=8)$u[xu]=wu&255;return this._createEncoderBuffer([$u,vu])},tu.prototype._encodeStr=function(ou,fu){if(fu==="bitstr")return this._createEncoderBuffer([ou.unused|0,ou.data]);if(fu==="bmpstr"){for(var pu=new as(ou.length*2),vu=0;vu<ou.length;vu++)pu.writeUInt16BE(ou.charCodeAt(vu),vu*2);return this._createEncoderBuffer(pu)}else return fu==="numstr"?this._isNumstr(ou)?this._createEncoderBuffer(ou):this.reporter.error("Encoding of string type: numstr supports only digits and space"):fu==="printstr"?this._isPrintstr(ou)?this._createEncoderBuffer(ou):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(fu)?this._createEncoderBuffer(ou):fu==="objDesc"?this._createEncoderBuffer(ou):this.reporter.error("Encoding of string type: "+fu+" unsupported")},tu.prototype._encodeObjid=function(ou,fu,pu){if(typeof ou=="string"){if(!fu)return this.reporter.error("string objid given, but no values map found");if(!fu.hasOwnProperty(ou))return this.reporter.error("objid not found in values map");ou=fu[ou].split(/[\s\.]+/g);for(var vu=0;vu<ou.length;vu++)ou[vu]|=0}else if(Array.isArray(ou)){ou=ou.slice();for(var vu=0;vu<ou.length;vu++)ou[vu]|=0}if(!Array.isArray(ou))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(ou));if(!pu){if(ou[1]>=40)return this.reporter.error("Second objid identifier OOB");ou.splice(0,2,ou[0]*40+ou[1])}for(var gu=0,vu=0;vu<ou.length;vu++){var bu=ou[vu];for(gu++;bu>=128;bu>>=7)gu++}for(var xu=new as(gu),$u=xu.length-1,vu=ou.length-1;vu>=0;vu--){var bu=ou[vu];for(xu[$u--]=bu&127;(bu>>=7)>0;)xu[$u--]=128|bu&127}return this._createEncoderBuffer(xu)};function iu(au){return au<10?"0"+au:au}tu.prototype._encodeTime=function(ou,fu){var pu,vu=new Date(ou);return fu==="gentime"?pu=[iu(vu.getFullYear()),iu(vu.getUTCMonth()+1),iu(vu.getUTCDate()),iu(vu.getUTCHours()),iu(vu.getUTCMinutes()),iu(vu.getUTCSeconds()),"Z"].join(""):fu==="utctime"?pu=[iu(vu.getFullYear()%100),iu(vu.getUTCMonth()+1),iu(vu.getUTCDate()),iu(vu.getUTCHours()),iu(vu.getUTCMinutes()),iu(vu.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+fu+" time is not supported yet"),this._encodeStr(pu,"octstr")},tu.prototype._encodeNull=function(){return this._createEncoderBuffer("")},tu.prototype._encodeInt=function(ou,fu){if(typeof ou=="string"){if(!fu)return this.reporter.error("String int or enum given, but no values map");if(!fu.hasOwnProperty(ou))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(ou));ou=fu[ou]}if(typeof ou!="number"&&!as.isBuffer(ou)){var pu=ou.toArray();!ou.sign&&pu[0]&128&&pu.unshift(0),ou=new as(pu)}if(as.isBuffer(ou)){var vu=ou.length;ou.length===0&&vu++;var bu=new as(vu);return ou.copy(bu),ou.length===0&&(bu[0]=0),this._createEncoderBuffer(bu)}if(ou<128)return this._createEncoderBuffer(ou);if(ou<256)return this._createEncoderBuffer([0,ou]);for(var vu=1,gu=ou;gu>=256;gu>>=8)vu++;for(var bu=new Array(vu),gu=bu.length-1;gu>=0;gu--)bu[gu]=ou&255,ou>>=8;return bu[0]&128&&bu.unshift(0),this._createEncoderBuffer(new as(bu))},tu.prototype._encodeBool=function(ou){return this._createEncoderBuffer(ou?255:0)},tu.prototype._use=function(ou,fu){return typeof ou=="function"&&(ou=ou(fu)),ou._getEncoder("der").tree},tu.prototype._skipDefault=function(ou,fu,pu){var vu=this._baseState,gu;if(vu.default===null)return!1;var bu=ou.join();if(vu.defaultBuffer===void 0&&(vu.defaultBuffer=this._encodeValue(vu.default,fu,pu).join()),bu.length!==vu.defaultBuffer.length)return!1;for(gu=0;gu<bu.length;gu++)if(bu[gu]!==vu.defaultBuffer[gu])return!1;return!0};function su(au,ou,fu,pu){var vu;if(au==="seqof"?au="seq":au==="setof"&&(au="set"),$a.tagByName.hasOwnProperty(au))vu=$a.tagByName[au];else if(typeof au=="number"&&(au|0)===au)vu=au;else return pu.error("Unknown tag: "+au);return vu>=31?pu.error("Multi-octet tag encoding unsupported"):(ou||(vu|=32),vu|=$a.tagClassByName[fu||"universal"]<<6,vu)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var ss=inherits_browserExports,as=requireDer();function us(cs){as.call(this,cs),this.enc="pem"}return ss(us,as),pem=us,us.prototype.encode=function($a,na){for(var tu=as.prototype.encode.call(this,$a),iu=tu.toString("base64"),su=["-----BEGIN "+na.label+"-----"],au=0;au<iu.length;au+=64)su.push(iu.slice(au,au+64));return su.push("-----END "+na.label+"-----"),su.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(ss){var as=ss;as.der=requireDer(),as.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(ss){var as=ss;as.bignum=requireBn$2(),as.define=requireApi().define,as.base=requireBase(),as.constants=requireConstants$1(),as.decoders=requireDecoders(),as.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var ss=requireAsn1$1(),as=ss.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),us=ss.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),cs=ss.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),$a=ss.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(cs),this.key("subjectPublicKey").bitstr())}),na=ss.define("RelativeDistinguishedName",function(){this.setof(us)}),tu=ss.define("RDNSequence",function(){this.seqof(na)}),iu=ss.define("Name",function(){this.choice({rdnSequence:this.use(tu)})}),su=ss.define("Validity",function(){this.seq().obj(this.key("notBefore").use(as),this.key("notAfter").use(as))}),au=ss.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),ou=ss.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(cs),this.key("issuer").use(iu),this.key("validity").use(su),this.key("subject").use(iu),this.key("subjectPublicKeyInfo").use($a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(au).optional())}),fu=ss.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(ou),this.key("signatureAlgorithm").use(cs),this.key("signatureValue").bitstr())});return certificate=fu,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var ss=requireAsn1$1();asn1$1.certificate=requireCertificate();var as=ss.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=as;var us=ss.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=us;var cs=ss.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),$a=ss.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(cs),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=$a;var na=ss.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(cs),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=na;var tu=ss.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=tu;var iu=ss.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=iu,asn1$1.DSAparam=ss.define("DSAparam",function(){this.int()});var su=ss.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),au=ss.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(su),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=au,asn1$1.signature=ss.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var ss=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,as=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,us=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,cs=requireEvp_bytestokey(),$a=requireBrowser$7(),na=safeBufferExports.Buffer;return fixProc=function(tu,iu){var su=tu.toString(),au=su.match(ss),ou;if(au){var pu="aes"+au[1],vu=na.from(au[2],"hex"),gu=na.from(au[3].replace(/[\r\n]/g,""),"base64"),bu=cs(iu,vu.slice(0,8),parseInt(au[1],10)).key,xu=[],$u=$a.createDecipheriv(pu,bu,vu);xu.push($u.update(gu)),xu.push($u.final()),ou=na.concat(xu)}else{var fu=su.match(us);ou=na.from(fu[2].replace(/[\r\n]/g,""),"base64")}var wu=su.match(as)[1];return{tag:wu,data:ou}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var ss=requireAsn1(),as=require$$1,us=requireFixProc(),cs=requireBrowser$7(),$a=requireBrowser$8(),na=safeBufferExports.Buffer;function tu(su,au){var ou=su.algorithm.decrypt.kde.kdeparams.salt,fu=parseInt(su.algorithm.decrypt.kde.kdeparams.iters.toString(),10),pu=as[su.algorithm.decrypt.cipher.algo.join(".")],vu=su.algorithm.decrypt.cipher.iv,gu=su.subjectPrivateKey,bu=parseInt(pu.split("-")[1],10)/8,xu=$a.pbkdf2Sync(au,ou,fu,bu,"sha1"),$u=cs.createDecipheriv(pu,xu,vu),wu=[];return wu.push($u.update(gu)),wu.push($u.final()),na.concat(wu)}function iu(su){var au;typeof su=="object"&&!na.isBuffer(su)&&(au=su.passphrase,su=su.key),typeof su=="string"&&(su=na.from(su));var ou=us(su,au),fu=ou.tag,pu=ou.data,vu,gu;switch(fu){case"CERTIFICATE":gu=ss.certificate.decode(pu,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(gu||(gu=ss.PublicKey.decode(pu,"der")),vu=gu.algorithm.algorithm.join("."),vu){case"1.2.840.113549.1.1.1":return ss.RSAPublicKey.decode(gu.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return gu.subjectPrivateKey=gu.subjectPublicKey,{type:"ec",data:gu};case"1.2.840.10040.4.1":return gu.algorithm.params.pub_key=ss.DSAparam.decode(gu.subjectPublicKey.data,"der"),{type:"dsa",data:gu.algorithm.params};default:throw new Error("unknown key id "+vu)}case"ENCRYPTED PRIVATE KEY":pu=ss.EncryptedPrivateKey.decode(pu,"der"),pu=tu(pu,au);case"PRIVATE KEY":switch(gu=ss.PrivateKey.decode(pu,"der"),vu=gu.algorithm.algorithm.join("."),vu){case"1.2.840.113549.1.1.1":return ss.RSAPrivateKey.decode(gu.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:gu.algorithm.curve,privateKey:ss.ECPrivateKey.decode(gu.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return gu.algorithm.params.priv_key=ss.DSAparam.decode(gu.subjectPrivateKey,"der"),{type:"dsa",params:gu.algorithm.params};default:throw new Error("unknown key id "+vu)}case"RSA PUBLIC KEY":return ss.RSAPublicKey.decode(pu,"der");case"RSA PRIVATE KEY":return ss.RSAPrivateKey.decode(pu,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ss.DSAPrivateKey.decode(pu,"der")};case"EC PRIVATE KEY":return pu=ss.ECPrivateKey.decode(pu,"der"),{curve:pu.parameters.value,privateKey:pu.privateKey};default:throw new Error("unknown key type "+fu)}}return iu.signature=ss.signature,parseAsn1=iu,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var ss=safeBufferExports.Buffer,as=requireBrowser$9(),us=requireBrowserifyRsa(),cs=requireElliptic().ec,$a=bnExports,na=requireParseAsn1(),tu=require$$4,iu=1;function su($u,wu,_u,Mu,Au){var Pu=na(wu);if(Pu.curve){if(Mu!=="ecdsa"&&Mu!=="ecdsa/rsa")throw new Error("wrong private key type");return au($u,Pu)}else if(Pu.type==="dsa"){if(Mu!=="dsa")throw new Error("wrong private key type");return ou($u,Pu,_u)}if(Mu!=="rsa"&&Mu!=="ecdsa/rsa")throw new Error("wrong private key type");if(wu.padding!==void 0&&wu.padding!==iu)throw new Error("illegal or unsupported padding mode");$u=ss.concat([Au,$u]);for(var Su=Pu.modulus.byteLength(),Bu=[0,1];$u.length+Bu.length+1<Su;)Bu.push(255);Bu.push(0);for(var Ou=-1;++Ou<$u.length;)Bu.push($u[Ou]);var Vu=us(Bu,Pu);return Vu}function au($u,wu){var _u=tu[wu.curve.join(".")];if(!_u)throw new Error("unknown curve "+wu.curve.join("."));var Mu=new cs(_u),Au=Mu.keyFromPrivate(wu.privateKey),Pu=Au.sign($u);return ss.from(Pu.toDER())}function ou($u,wu,_u){for(var Mu=wu.params.priv_key,Au=wu.params.p,Pu=wu.params.q,Su=wu.params.g,Bu=new $a(0),Ou,Vu=vu($u,Pu).mod(Pu),yu=!1,_a=pu(Mu,Pu,$u,_u);yu===!1;)Ou=bu(Pu,_a,_u),Bu=xu(Su,Ou,Au,Pu),yu=Ou.invm(Pu).imul(Vu.add(Mu.mul(Bu))).mod(Pu),yu.cmpn(0)===0&&(yu=!1,Bu=new $a(0));return fu(Bu,yu)}function fu($u,wu){$u=$u.toArray(),wu=wu.toArray(),$u[0]&128&&($u=[0].concat($u)),wu[0]&128&&(wu=[0].concat(wu));var _u=$u.length+wu.length+4,Mu=[48,_u,2,$u.length];return Mu=Mu.concat($u,[2,wu.length],wu),ss.from(Mu)}function pu($u,wu,_u,Mu){if($u=ss.from($u.toArray()),$u.length<wu.byteLength()){var Au=ss.alloc(wu.byteLength()-$u.length);$u=ss.concat([Au,$u])}var Pu=_u.length,Su=gu(_u,wu),Bu=ss.alloc(Pu);Bu.fill(1);var Ou=ss.alloc(Pu);return Ou=as(Mu,Ou).update(Bu).update(ss.from([0])).update($u).update(Su).digest(),Bu=as(Mu,Ou).update(Bu).digest(),Ou=as(Mu,Ou).update(Bu).update(ss.from([1])).update($u).update(Su).digest(),Bu=as(Mu,Ou).update(Bu).digest(),{k:Ou,v:Bu}}function vu($u,wu){var _u=new $a($u),Mu=($u.length<<3)-wu.bitLength();return Mu>0&&_u.ishrn(Mu),_u}function gu($u,wu){$u=vu($u,wu),$u=$u.mod(wu);var _u=ss.from($u.toArray());if(_u.length<wu.byteLength()){var Mu=ss.alloc(wu.byteLength()-_u.length);_u=ss.concat([Mu,_u])}return _u}function bu($u,wu,_u){var Mu,Au;do{for(Mu=ss.alloc(0);Mu.length*8<$u.bitLength();)wu.v=as(_u,wu.k).update(wu.v).digest(),Mu=ss.concat([Mu,wu.v]);Au=vu(Mu,$u),wu.k=as(_u,wu.k).update(wu.v).update(ss.from([0])).digest(),wu.v=as(_u,wu.k).update(wu.v).digest()}while(Au.cmp($u)!==-1);return Au}function xu($u,wu,_u,Mu){return $u.toRed($a.mont(_u)).redPow(wu).fromRed().mod(Mu)}return sign.exports=su,sign.exports.getKey=pu,sign.exports.makeKey=bu,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var ss=safeBufferExports.Buffer,as=bnExports,us=requireElliptic().ec,cs=requireParseAsn1(),$a=require$$4;function na(au,ou,fu,pu,vu){var gu=cs(fu);if(gu.type==="ec"){if(pu!=="ecdsa"&&pu!=="ecdsa/rsa")throw new Error("wrong public key type");return tu(au,ou,gu)}else if(gu.type==="dsa"){if(pu!=="dsa")throw new Error("wrong public key type");return iu(au,ou,gu)}if(pu!=="rsa"&&pu!=="ecdsa/rsa")throw new Error("wrong public key type");ou=ss.concat([vu,ou]);for(var bu=gu.modulus.byteLength(),xu=[1],$u=0;ou.length+xu.length+2<bu;)xu.push(255),$u+=1;xu.push(0);for(var wu=-1;++wu<ou.length;)xu.push(ou[wu]);xu=ss.from(xu);var _u=as.mont(gu.modulus);au=new as(au).toRed(_u),au=au.redPow(new as(gu.publicExponent)),au=ss.from(au.fromRed().toArray());var Mu=$u<8?1:0;for(bu=Math.min(au.length,xu.length),au.length!==xu.length&&(Mu=1),wu=-1;++wu<bu;)Mu|=au[wu]^xu[wu];return Mu===0}function tu(au,ou,fu){var pu=$a[fu.data.algorithm.curve.join(".")];if(!pu)throw new Error("unknown curve "+fu.data.algorithm.curve.join("."));var vu=new us(pu),gu=fu.data.subjectPrivateKey.data;return vu.verify(ou,au,gu)}function iu(au,ou,fu){var pu=fu.data.p,vu=fu.data.q,gu=fu.data.g,bu=fu.data.pub_key,xu=cs.signature.decode(au,"der"),$u=xu.s,wu=xu.r;su($u,vu),su(wu,vu);var _u=as.mont(pu),Mu=$u.invm(vu),Au=gu.toRed(_u).redPow(new as(ou).mul(Mu).mod(vu)).fromRed().mul(bu.toRed(_u).redPow(wu.mul(Mu).mod(vu)).fromRed()).mod(pu).mod(vu);return Au.cmp(wu)===0}function su(au,ou){if(au.cmpn(0)<=0)throw new Error("invalid sig");if(au.cmp(ou)>=0)throw new Error("invalid sig")}return verify_1=na,verify_1}var browser$5,hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$5;hasRequiredBrowser$4=1;var ss=safeBufferExports.Buffer,as=requireBrowser$a(),us=requireReadableBrowser(),cs=inherits_browserExports,$a=requireSign(),na=requireVerify(),tu=require$$6;Object.keys(tu).forEach(function(fu){tu[fu].id=ss.from(tu[fu].id,"hex"),tu[fu.toLowerCase()]=tu[fu]});function iu(fu){us.Writable.call(this);var pu=tu[fu];if(!pu)throw new Error("Unknown message digest");this._hashType=pu.hash,this._hash=as(pu.hash),this._tag=pu.id,this._signType=pu.sign}cs(iu,us.Writable),iu.prototype._write=function(pu,vu,gu){this._hash.update(pu),gu()},iu.prototype.update=function(pu,vu){return this._hash.update(typeof pu=="string"?ss.from(pu,vu):pu),this},iu.prototype.sign=function(pu,vu){this.end();var gu=this._hash.digest(),bu=$a(gu,pu,this._hashType,this._signType,this._tag);return vu?bu.toString(vu):bu};function su(fu){us.Writable.call(this);var pu=tu[fu];if(!pu)throw new Error("Unknown message digest");this._hash=as(pu.hash),this._tag=pu.id,this._signType=pu.sign}cs(su,us.Writable),su.prototype._write=function(pu,vu,gu){this._hash.update(pu),gu()},su.prototype.update=function(pu,vu){return this._hash.update(typeof pu=="string"?ss.from(pu,vu):pu),this},su.prototype.verify=function(pu,vu,gu){var bu=typeof vu=="string"?ss.from(vu,gu):vu;this.end();var xu=this._hash.digest();return na(bu,xu,pu,this._signType,this._tag)};function au(fu){return new iu(fu)}function ou(fu){return new su(fu)}return browser$5={Sign:au,Verify:ou,createSign:au,createVerify:ou},browser$5}var bn$3={exports:{}};bn$3.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(ss){(function(as,us){function cs(yu,_a){if(!yu)throw new Error(_a||"Assertion failed")}function $a(yu,_a){yu.super_=_a;var ru=function(){};ru.prototype=_a.prototype,yu.prototype=new ru,yu.prototype.constructor=yu}function na(yu,_a,ru){if(na.isBN(yu))return yu;this.negative=0,this.words=null,this.length=0,this.red=null,yu!==null&&((_a==="le"||_a==="be")&&(ru=_a,_a=10),this._init(yu||0,_a||10,ru||"be"))}typeof as=="object"?as.exports=na:us.BN=na,na.BN=na,na.wordSize=26;var tu;try{typeof window<"u"&&typeof window.Buffer<"u"?tu=window.Buffer:tu=require$$0$3.Buffer}catch{}na.isBN=function(_a){return _a instanceof na?!0:_a!==null&&typeof _a=="object"&&_a.constructor.wordSize===na.wordSize&&Array.isArray(_a.words)},na.max=function(_a,ru){return _a.cmp(ru)>0?_a:ru},na.min=function(_a,ru){return _a.cmp(ru)<0?_a:ru},na.prototype._init=function(_a,ru,nu){if(typeof _a=="number")return this._initNumber(_a,ru,nu);if(typeof _a=="object")return this._initArray(_a,ru,nu);ru==="hex"&&(ru=16),cs(ru===(ru|0)&&ru>=2&&ru<=36),_a=_a.toString().replace(/\s+/g,"");var uu=0;_a[0]==="-"&&(uu++,this.negative=1),uu<_a.length&&(ru===16?this._parseHex(_a,uu,nu):(this._parseBase(_a,ru,uu),nu==="le"&&this._initArray(this.toArray(),ru,nu)))},na.prototype._initNumber=function(_a,ru,nu){_a<0&&(this.negative=1,_a=-_a),_a<67108864?(this.words=[_a&67108863],this.length=1):_a<4503599627370496?(this.words=[_a&67108863,_a/67108864&67108863],this.length=2):(cs(_a<9007199254740992),this.words=[_a&67108863,_a/67108864&67108863,1],this.length=3),nu==="le"&&this._initArray(this.toArray(),ru,nu)},na.prototype._initArray=function(_a,ru,nu){if(cs(typeof _a.length=="number"),_a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_a.length/3),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu,du,mu=0;if(nu==="be")for(uu=_a.length-1,lu=0;uu>=0;uu-=3)du=_a[uu]|_a[uu-1]<<8|_a[uu-2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);else if(nu==="le")for(uu=0,lu=0;uu<_a.length;uu+=3)du=_a[uu]|_a[uu+1]<<8|_a[uu+2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);return this.strip()};function iu(yu,_a){var ru=yu.charCodeAt(_a);return ru>=65&&ru<=70?ru-55:ru>=97&&ru<=102?ru-87:ru-48&15}function su(yu,_a,ru){var nu=iu(yu,ru);return ru-1>=_a&&(nu|=iu(yu,ru-1)<<4),nu}na.prototype._parseHex=function(_a,ru,nu){this.length=Math.ceil((_a.length-ru)/6),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu=0,du=0,mu;if(nu==="be")for(uu=_a.length-1;uu>=ru;uu-=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8;else{var cu=_a.length-ru;for(uu=cu%2===0?ru+1:ru;uu<_a.length;uu+=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8}this.strip()};function au(yu,_a,ru,nu){for(var uu=0,lu=Math.min(yu.length,ru),du=_a;du<lu;du++){var mu=yu.charCodeAt(du)-48;uu*=nu,mu>=49?uu+=mu-49+10:mu>=17?uu+=mu-17+10:uu+=mu}return uu}na.prototype._parseBase=function(_a,ru,nu){this.words=[0],this.length=1;for(var uu=0,lu=1;lu<=67108863;lu*=ru)uu++;uu--,lu=lu/ru|0;for(var du=_a.length-nu,mu=du%uu,cu=Math.min(du,du-mu)+nu,eu=0,hu=nu;hu<cu;hu+=uu)eu=au(_a,hu,hu+uu,ru),this.imuln(lu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu);if(mu!==0){var Eu=1;for(eu=au(_a,hu,_a.length,ru),hu=0;hu<mu;hu++)Eu*=ru;this.imuln(Eu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu)}this.strip()},na.prototype.copy=function(_a){_a.words=new Array(this.length);for(var ru=0;ru<this.length;ru++)_a.words[ru]=this.words[ru];_a.length=this.length,_a.negative=this.negative,_a.red=this.red},na.prototype.clone=function(){var _a=new na(null);return this.copy(_a),_a},na.prototype._expand=function(_a){for(;this.length<_a;)this.words[this.length++]=0;return this},na.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},na.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},na.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ou=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fu=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];na.prototype.toString=function(_a,ru){_a=_a||10,ru=ru|0||1;var nu;if(_a===16||_a==="hex"){nu="";for(var uu=0,lu=0,du=0;du<this.length;du++){var mu=this.words[du],cu=((mu<<uu|lu)&16777215).toString(16);lu=mu>>>24-uu&16777215,uu+=2,uu>=26&&(uu-=26,du--),lu!==0||du!==this.length-1?nu=ou[6-cu.length]+cu+nu:nu=cu+nu}for(lu!==0&&(nu=lu.toString(16)+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}if(_a===(_a|0)&&_a>=2&&_a<=36){var eu=fu[_a],hu=pu[_a];nu="";var Eu=this.clone();for(Eu.negative=0;!Eu.isZero();){var Ru=Eu.modn(hu).toString(_a);Eu=Eu.idivn(hu),Eu.isZero()?nu=Ru+nu:nu=ou[eu-Ru.length]+Ru+nu}for(this.isZero()&&(nu="0"+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}cs(!1,"Base should be between 2 and 36")},na.prototype.toNumber=function(){var _a=this.words[0];return this.length===2?_a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_a+=4503599627370496+this.words[1]*67108864:this.length>2&&cs(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_a:_a},na.prototype.toJSON=function(){return this.toString(16)},na.prototype.toBuffer=function(_a,ru){return cs(typeof tu<"u"),this.toArrayLike(tu,_a,ru)},na.prototype.toArray=function(_a,ru){return this.toArrayLike(Array,_a,ru)},na.prototype.toArrayLike=function(_a,ru,nu){var uu=this.byteLength(),lu=nu||Math.max(1,uu);cs(uu<=lu,"byte array longer than desired length"),cs(lu>0,"Requested array length <= 0"),this.strip();var du=ru==="le",mu=new _a(lu),cu,eu,hu=this.clone();if(du){for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[eu]=cu;for(;eu<lu;eu++)mu[eu]=0}else{for(eu=0;eu<lu-uu;eu++)mu[eu]=0;for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[lu-eu-1]=cu}return mu},Math.clz32?na.prototype._countBits=function(_a){return 32-Math.clz32(_a)}:na.prototype._countBits=function(_a){var ru=_a,nu=0;return ru>=4096&&(nu+=13,ru>>>=13),ru>=64&&(nu+=7,ru>>>=7),ru>=8&&(nu+=4,ru>>>=4),ru>=2&&(nu+=2,ru>>>=2),nu+ru},na.prototype._zeroBits=function(_a){if(_a===0)return 26;var ru=_a,nu=0;return ru&8191||(nu+=13,ru>>>=13),ru&127||(nu+=7,ru>>>=7),ru&15||(nu+=4,ru>>>=4),ru&3||(nu+=2,ru>>>=2),ru&1||nu++,nu},na.prototype.bitLength=function(){var _a=this.words[this.length-1],ru=this._countBits(_a);return(this.length-1)*26+ru};function vu(yu){for(var _a=new Array(yu.bitLength()),ru=0;ru<_a.length;ru++){var nu=ru/26|0,uu=ru%26;_a[ru]=(yu.words[nu]&1<<uu)>>>uu}return _a}na.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _a=0,ru=0;ru<this.length;ru++){var nu=this._zeroBits(this.words[ru]);if(_a+=nu,nu!==26)break}return _a},na.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},na.prototype.toTwos=function(_a){return this.negative!==0?this.abs().inotn(_a).iaddn(1):this.clone()},na.prototype.fromTwos=function(_a){return this.testn(_a-1)?this.notn(_a).iaddn(1).ineg():this.clone()},na.prototype.isNeg=function(){return this.negative!==0},na.prototype.neg=function(){return this.clone().ineg()},na.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},na.prototype.iuor=function(_a){for(;this.length<_a.length;)this.words[this.length++]=0;for(var ru=0;ru<_a.length;ru++)this.words[ru]=this.words[ru]|_a.words[ru];return this.strip()},na.prototype.ior=function(_a){return cs((this.negative|_a.negative)===0),this.iuor(_a)},na.prototype.or=function(_a){return this.length>_a.length?this.clone().ior(_a):_a.clone().ior(this)},na.prototype.uor=function(_a){return this.length>_a.length?this.clone().iuor(_a):_a.clone().iuor(this)},na.prototype.iuand=function(_a){var ru;this.length>_a.length?ru=_a:ru=this;for(var nu=0;nu<ru.length;nu++)this.words[nu]=this.words[nu]&_a.words[nu];return this.length=ru.length,this.strip()},na.prototype.iand=function(_a){return cs((this.negative|_a.negative)===0),this.iuand(_a)},na.prototype.and=function(_a){return this.length>_a.length?this.clone().iand(_a):_a.clone().iand(this)},na.prototype.uand=function(_a){return this.length>_a.length?this.clone().iuand(_a):_a.clone().iuand(this)},na.prototype.iuxor=function(_a){var ru,nu;this.length>_a.length?(ru=this,nu=_a):(ru=_a,nu=this);for(var uu=0;uu<nu.length;uu++)this.words[uu]=ru.words[uu]^nu.words[uu];if(this!==ru)for(;uu<ru.length;uu++)this.words[uu]=ru.words[uu];return this.length=ru.length,this.strip()},na.prototype.ixor=function(_a){return cs((this.negative|_a.negative)===0),this.iuxor(_a)},na.prototype.xor=function(_a){return this.length>_a.length?this.clone().ixor(_a):_a.clone().ixor(this)},na.prototype.uxor=function(_a){return this.length>_a.length?this.clone().iuxor(_a):_a.clone().iuxor(this)},na.prototype.inotn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=Math.ceil(_a/26)|0,nu=_a%26;this._expand(ru),nu>0&&ru--;for(var uu=0;uu<ru;uu++)this.words[uu]=~this.words[uu]&67108863;return nu>0&&(this.words[uu]=~this.words[uu]&67108863>>26-nu),this.strip()},na.prototype.notn=function(_a){return this.clone().inotn(_a)},na.prototype.setn=function(_a,ru){cs(typeof _a=="number"&&_a>=0);var nu=_a/26|0,uu=_a%26;return this._expand(nu+1),ru?this.words[nu]=this.words[nu]|1<<uu:this.words[nu]=this.words[nu]&~(1<<uu),this.strip()},na.prototype.iadd=function(_a){var ru;if(this.negative!==0&&_a.negative===0)return this.negative=0,ru=this.isub(_a),this.negative^=1,this._normSign();if(this.negative===0&&_a.negative!==0)return _a.negative=0,ru=this.isub(_a),_a.negative=1,ru._normSign();var nu,uu;this.length>_a.length?(nu=this,uu=_a):(nu=_a,uu=this);for(var lu=0,du=0;du<uu.length;du++)ru=(nu.words[du]|0)+(uu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;for(;lu!==0&&du<nu.length;du++)ru=(nu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;if(this.length=nu.length,lu!==0)this.words[this.length]=lu,this.length++;else if(nu!==this)for(;du<nu.length;du++)this.words[du]=nu.words[du];return this},na.prototype.add=function(_a){var ru;return _a.negative!==0&&this.negative===0?(_a.negative=0,ru=this.sub(_a),_a.negative^=1,ru):_a.negative===0&&this.negative!==0?(this.negative=0,ru=_a.sub(this),this.negative=1,ru):this.length>_a.length?this.clone().iadd(_a):_a.clone().iadd(this)},na.prototype.isub=function(_a){if(_a.negative!==0){_a.negative=0;var ru=this.iadd(_a);return _a.negative=1,ru._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_a),this.negative=1,this._normSign();var nu=this.cmp(_a);if(nu===0)return this.negative=0,this.length=1,this.words[0]=0,this;var uu,lu;nu>0?(uu=this,lu=_a):(uu=_a,lu=this);for(var du=0,mu=0;mu<lu.length;mu++)ru=(uu.words[mu]|0)-(lu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;for(;du!==0&&mu<uu.length;mu++)ru=(uu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;if(du===0&&mu<uu.length&&uu!==this)for(;mu<uu.length;mu++)this.words[mu]=uu.words[mu];return this.length=Math.max(this.length,mu),uu!==this&&(this.negative=1),this.strip()},na.prototype.sub=function(_a){return this.clone().isub(_a)};function gu(yu,_a,ru){ru.negative=_a.negative^yu.negative;var nu=yu.length+_a.length|0;ru.length=nu,nu=nu-1|0;var uu=yu.words[0]|0,lu=_a.words[0]|0,du=uu*lu,mu=du&67108863,cu=du/67108864|0;ru.words[0]=mu;for(var eu=1;eu<nu;eu++){for(var hu=cu>>>26,Eu=cu&67108863,Ru=Math.min(eu,_a.length-1),Tu=Math.max(0,eu-yu.length+1);Tu<=Ru;Tu++){var qu=eu-Tu|0;uu=yu.words[qu]|0,lu=_a.words[Tu]|0,du=uu*lu+Eu,hu+=du/67108864|0,Eu=du&67108863}ru.words[eu]=Eu|0,cu=hu|0}return cu!==0?ru.words[eu]=cu|0:ru.length--,ru.strip()}var bu=function(_a,ru,nu){var uu=_a.words,lu=ru.words,du=nu.words,mu=0,cu,eu,hu,Eu=uu[0]|0,Ru=Eu&8191,Tu=Eu>>>13,qu=uu[1]|0,Du=qu&8191,Iu=qu>>>13,Lu=uu[2]|0,Uu=Lu&8191,Hu=Lu>>>13,zu=uu[3]|0,ju=zu&8191,Wu=zu>>>13,Dl=uu[4]|0,Zu=Dl&8191,Yu=Dl>>>13,Vl=uu[5]|0,_l=Vl&8191,Qu=Vl>>>13,Gl=uu[6]|0,yl=Gl&8191,Sl=Gl>>>13,Ql=uu[7]|0,Xu=Ql&8191,$l=Ql>>>13,Zl=uu[8]|0,wl=Zl&8191,Ml=Zl>>>13,Xl=uu[9]|0,Nu=Xl&8191,Cu=Xl>>>13,ku=lu[0]|0,Fu=ku&8191,Ku=ku>>>13,Ju=lu[1]|0,Gu=Ju&8191,El=Ju>>>13,Yl=lu[2]|0,xl=Yl&8191,Rl=Yl>>>13,Jl=lu[3]|0,Al=Jl&8191,Nl=Jl>>>13,e0=lu[4]|0,Cl=e0&8191,Ll=e0>>>13,t0=lu[5]|0,Pl=t0&8191,Fl=t0>>>13,r0=lu[6]|0,Il=r0&8191,Ul=r0>>>13,i0=lu[7]|0,Bl=i0&8191,zl=i0>>>13,n0=lu[8]|0,Tl=n0&8191,Hl=n0>>>13,s0=lu[9]|0,Ol=s0&8191,Kl=s0>>>13;nu.negative=_a.negative^ru.negative,nu.length=19,cu=Math.imul(Ru,Fu),eu=Math.imul(Ru,Ku),eu=eu+Math.imul(Tu,Fu)|0,hu=Math.imul(Tu,Ku);var _f=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_f>>>26)|0,_f&=67108863,cu=Math.imul(Du,Fu),eu=Math.imul(Du,Ku),eu=eu+Math.imul(Iu,Fu)|0,hu=Math.imul(Iu,Ku),cu=cu+Math.imul(Ru,Gu)|0,eu=eu+Math.imul(Ru,El)|0,eu=eu+Math.imul(Tu,Gu)|0,hu=hu+Math.imul(Tu,El)|0;var _h=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_h>>>26)|0,_h&=67108863,cu=Math.imul(Uu,Fu),eu=Math.imul(Uu,Ku),eu=eu+Math.imul(Hu,Fu)|0,hu=Math.imul(Hu,Ku),cu=cu+Math.imul(Du,Gu)|0,eu=eu+Math.imul(Du,El)|0,eu=eu+Math.imul(Iu,Gu)|0,hu=hu+Math.imul(Iu,El)|0,cu=cu+Math.imul(Ru,xl)|0,eu=eu+Math.imul(Ru,Rl)|0,eu=eu+Math.imul(Tu,xl)|0,hu=hu+Math.imul(Tu,Rl)|0;var a0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(a0>>>26)|0,a0&=67108863,cu=Math.imul(ju,Fu),eu=Math.imul(ju,Ku),eu=eu+Math.imul(Wu,Fu)|0,hu=Math.imul(Wu,Ku),cu=cu+Math.imul(Uu,Gu)|0,eu=eu+Math.imul(Uu,El)|0,eu=eu+Math.imul(Hu,Gu)|0,hu=hu+Math.imul(Hu,El)|0,cu=cu+Math.imul(Du,xl)|0,eu=eu+Math.imul(Du,Rl)|0,eu=eu+Math.imul(Iu,xl)|0,hu=hu+Math.imul(Iu,Rl)|0,cu=cu+Math.imul(Ru,Al)|0,eu=eu+Math.imul(Ru,Nl)|0,eu=eu+Math.imul(Tu,Al)|0,hu=hu+Math.imul(Tu,Nl)|0;var u0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(u0>>>26)|0,u0&=67108863,cu=Math.imul(Zu,Fu),eu=Math.imul(Zu,Ku),eu=eu+Math.imul(Yu,Fu)|0,hu=Math.imul(Yu,Ku),cu=cu+Math.imul(ju,Gu)|0,eu=eu+Math.imul(ju,El)|0,eu=eu+Math.imul(Wu,Gu)|0,hu=hu+Math.imul(Wu,El)|0,cu=cu+Math.imul(Uu,xl)|0,eu=eu+Math.imul(Uu,Rl)|0,eu=eu+Math.imul(Hu,xl)|0,hu=hu+Math.imul(Hu,Rl)|0,cu=cu+Math.imul(Du,Al)|0,eu=eu+Math.imul(Du,Nl)|0,eu=eu+Math.imul(Iu,Al)|0,hu=hu+Math.imul(Iu,Nl)|0,cu=cu+Math.imul(Ru,Cl)|0,eu=eu+Math.imul(Ru,Ll)|0,eu=eu+Math.imul(Tu,Cl)|0,hu=hu+Math.imul(Tu,Ll)|0;var l0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(l0>>>26)|0,l0&=67108863,cu=Math.imul(_l,Fu),eu=Math.imul(_l,Ku),eu=eu+Math.imul(Qu,Fu)|0,hu=Math.imul(Qu,Ku),cu=cu+Math.imul(Zu,Gu)|0,eu=eu+Math.imul(Zu,El)|0,eu=eu+Math.imul(Yu,Gu)|0,hu=hu+Math.imul(Yu,El)|0,cu=cu+Math.imul(ju,xl)|0,eu=eu+Math.imul(ju,Rl)|0,eu=eu+Math.imul(Wu,xl)|0,hu=hu+Math.imul(Wu,Rl)|0,cu=cu+Math.imul(Uu,Al)|0,eu=eu+Math.imul(Uu,Nl)|0,eu=eu+Math.imul(Hu,Al)|0,hu=hu+Math.imul(Hu,Nl)|0,cu=cu+Math.imul(Du,Cl)|0,eu=eu+Math.imul(Du,Ll)|0,eu=eu+Math.imul(Iu,Cl)|0,hu=hu+Math.imul(Iu,Ll)|0,cu=cu+Math.imul(Ru,Pl)|0,eu=eu+Math.imul(Ru,Fl)|0,eu=eu+Math.imul(Tu,Pl)|0,hu=hu+Math.imul(Tu,Fl)|0;var c0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(c0>>>26)|0,c0&=67108863,cu=Math.imul(yl,Fu),eu=Math.imul(yl,Ku),eu=eu+Math.imul(Sl,Fu)|0,hu=Math.imul(Sl,Ku),cu=cu+Math.imul(_l,Gu)|0,eu=eu+Math.imul(_l,El)|0,eu=eu+Math.imul(Qu,Gu)|0,hu=hu+Math.imul(Qu,El)|0,cu=cu+Math.imul(Zu,xl)|0,eu=eu+Math.imul(Zu,Rl)|0,eu=eu+Math.imul(Yu,xl)|0,hu=hu+Math.imul(Yu,Rl)|0,cu=cu+Math.imul(ju,Al)|0,eu=eu+Math.imul(ju,Nl)|0,eu=eu+Math.imul(Wu,Al)|0,hu=hu+Math.imul(Wu,Nl)|0,cu=cu+Math.imul(Uu,Cl)|0,eu=eu+Math.imul(Uu,Ll)|0,eu=eu+Math.imul(Hu,Cl)|0,hu=hu+Math.imul(Hu,Ll)|0,cu=cu+Math.imul(Du,Pl)|0,eu=eu+Math.imul(Du,Fl)|0,eu=eu+Math.imul(Iu,Pl)|0,hu=hu+Math.imul(Iu,Fl)|0,cu=cu+Math.imul(Ru,Il)|0,eu=eu+Math.imul(Ru,Ul)|0,eu=eu+Math.imul(Tu,Il)|0,hu=hu+Math.imul(Tu,Ul)|0;var f0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(f0>>>26)|0,f0&=67108863,cu=Math.imul(Xu,Fu),eu=Math.imul(Xu,Ku),eu=eu+Math.imul($l,Fu)|0,hu=Math.imul($l,Ku),cu=cu+Math.imul(yl,Gu)|0,eu=eu+Math.imul(yl,El)|0,eu=eu+Math.imul(Sl,Gu)|0,hu=hu+Math.imul(Sl,El)|0,cu=cu+Math.imul(_l,xl)|0,eu=eu+Math.imul(_l,Rl)|0,eu=eu+Math.imul(Qu,xl)|0,hu=hu+Math.imul(Qu,Rl)|0,cu=cu+Math.imul(Zu,Al)|0,eu=eu+Math.imul(Zu,Nl)|0,eu=eu+Math.imul(Yu,Al)|0,hu=hu+Math.imul(Yu,Nl)|0,cu=cu+Math.imul(ju,Cl)|0,eu=eu+Math.imul(ju,Ll)|0,eu=eu+Math.imul(Wu,Cl)|0,hu=hu+Math.imul(Wu,Ll)|0,cu=cu+Math.imul(Uu,Pl)|0,eu=eu+Math.imul(Uu,Fl)|0,eu=eu+Math.imul(Hu,Pl)|0,hu=hu+Math.imul(Hu,Fl)|0,cu=cu+Math.imul(Du,Il)|0,eu=eu+Math.imul(Du,Ul)|0,eu=eu+Math.imul(Iu,Il)|0,hu=hu+Math.imul(Iu,Ul)|0,cu=cu+Math.imul(Ru,Bl)|0,eu=eu+Math.imul(Ru,zl)|0,eu=eu+Math.imul(Tu,Bl)|0,hu=hu+Math.imul(Tu,zl)|0;var h0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(h0>>>26)|0,h0&=67108863,cu=Math.imul(wl,Fu),eu=Math.imul(wl,Ku),eu=eu+Math.imul(Ml,Fu)|0,hu=Math.imul(Ml,Ku),cu=cu+Math.imul(Xu,Gu)|0,eu=eu+Math.imul(Xu,El)|0,eu=eu+Math.imul($l,Gu)|0,hu=hu+Math.imul($l,El)|0,cu=cu+Math.imul(yl,xl)|0,eu=eu+Math.imul(yl,Rl)|0,eu=eu+Math.imul(Sl,xl)|0,hu=hu+Math.imul(Sl,Rl)|0,cu=cu+Math.imul(_l,Al)|0,eu=eu+Math.imul(_l,Nl)|0,eu=eu+Math.imul(Qu,Al)|0,hu=hu+Math.imul(Qu,Nl)|0,cu=cu+Math.imul(Zu,Cl)|0,eu=eu+Math.imul(Zu,Ll)|0,eu=eu+Math.imul(Yu,Cl)|0,hu=hu+Math.imul(Yu,Ll)|0,cu=cu+Math.imul(ju,Pl)|0,eu=eu+Math.imul(ju,Fl)|0,eu=eu+Math.imul(Wu,Pl)|0,hu=hu+Math.imul(Wu,Fl)|0,cu=cu+Math.imul(Uu,Il)|0,eu=eu+Math.imul(Uu,Ul)|0,eu=eu+Math.imul(Hu,Il)|0,hu=hu+Math.imul(Hu,Ul)|0,cu=cu+Math.imul(Du,Bl)|0,eu=eu+Math.imul(Du,zl)|0,eu=eu+Math.imul(Iu,Bl)|0,hu=hu+Math.imul(Iu,zl)|0,cu=cu+Math.imul(Ru,Tl)|0,eu=eu+Math.imul(Ru,Hl)|0,eu=eu+Math.imul(Tu,Tl)|0,hu=hu+Math.imul(Tu,Hl)|0;var d0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(d0>>>26)|0,d0&=67108863,cu=Math.imul(Nu,Fu),eu=Math.imul(Nu,Ku),eu=eu+Math.imul(Cu,Fu)|0,hu=Math.imul(Cu,Ku),cu=cu+Math.imul(wl,Gu)|0,eu=eu+Math.imul(wl,El)|0,eu=eu+Math.imul(Ml,Gu)|0,hu=hu+Math.imul(Ml,El)|0,cu=cu+Math.imul(Xu,xl)|0,eu=eu+Math.imul(Xu,Rl)|0,eu=eu+Math.imul($l,xl)|0,hu=hu+Math.imul($l,Rl)|0,cu=cu+Math.imul(yl,Al)|0,eu=eu+Math.imul(yl,Nl)|0,eu=eu+Math.imul(Sl,Al)|0,hu=hu+Math.imul(Sl,Nl)|0,cu=cu+Math.imul(_l,Cl)|0,eu=eu+Math.imul(_l,Ll)|0,eu=eu+Math.imul(Qu,Cl)|0,hu=hu+Math.imul(Qu,Ll)|0,cu=cu+Math.imul(Zu,Pl)|0,eu=eu+Math.imul(Zu,Fl)|0,eu=eu+Math.imul(Yu,Pl)|0,hu=hu+Math.imul(Yu,Fl)|0,cu=cu+Math.imul(ju,Il)|0,eu=eu+Math.imul(ju,Ul)|0,eu=eu+Math.imul(Wu,Il)|0,hu=hu+Math.imul(Wu,Ul)|0,cu=cu+Math.imul(Uu,Bl)|0,eu=eu+Math.imul(Uu,zl)|0,eu=eu+Math.imul(Hu,Bl)|0,hu=hu+Math.imul(Hu,zl)|0,cu=cu+Math.imul(Du,Tl)|0,eu=eu+Math.imul(Du,Hl)|0,eu=eu+Math.imul(Iu,Tl)|0,hu=hu+Math.imul(Iu,Hl)|0,cu=cu+Math.imul(Ru,Ol)|0,eu=eu+Math.imul(Ru,Kl)|0,eu=eu+Math.imul(Tu,Ol)|0,hu=hu+Math.imul(Tu,Kl)|0;var p0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(p0>>>26)|0,p0&=67108863,cu=Math.imul(Nu,Gu),eu=Math.imul(Nu,El),eu=eu+Math.imul(Cu,Gu)|0,hu=Math.imul(Cu,El),cu=cu+Math.imul(wl,xl)|0,eu=eu+Math.imul(wl,Rl)|0,eu=eu+Math.imul(Ml,xl)|0,hu=hu+Math.imul(Ml,Rl)|0,cu=cu+Math.imul(Xu,Al)|0,eu=eu+Math.imul(Xu,Nl)|0,eu=eu+Math.imul($l,Al)|0,hu=hu+Math.imul($l,Nl)|0,cu=cu+Math.imul(yl,Cl)|0,eu=eu+Math.imul(yl,Ll)|0,eu=eu+Math.imul(Sl,Cl)|0,hu=hu+Math.imul(Sl,Ll)|0,cu=cu+Math.imul(_l,Pl)|0,eu=eu+Math.imul(_l,Fl)|0,eu=eu+Math.imul(Qu,Pl)|0,hu=hu+Math.imul(Qu,Fl)|0,cu=cu+Math.imul(Zu,Il)|0,eu=eu+Math.imul(Zu,Ul)|0,eu=eu+Math.imul(Yu,Il)|0,hu=hu+Math.imul(Yu,Ul)|0,cu=cu+Math.imul(ju,Bl)|0,eu=eu+Math.imul(ju,zl)|0,eu=eu+Math.imul(Wu,Bl)|0,hu=hu+Math.imul(Wu,zl)|0,cu=cu+Math.imul(Uu,Tl)|0,eu=eu+Math.imul(Uu,Hl)|0,eu=eu+Math.imul(Hu,Tl)|0,hu=hu+Math.imul(Hu,Hl)|0,cu=cu+Math.imul(Du,Ol)|0,eu=eu+Math.imul(Du,Kl)|0,eu=eu+Math.imul(Iu,Ol)|0,hu=hu+Math.imul(Iu,Kl)|0;var m0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(m0>>>26)|0,m0&=67108863,cu=Math.imul(Nu,xl),eu=Math.imul(Nu,Rl),eu=eu+Math.imul(Cu,xl)|0,hu=Math.imul(Cu,Rl),cu=cu+Math.imul(wl,Al)|0,eu=eu+Math.imul(wl,Nl)|0,eu=eu+Math.imul(Ml,Al)|0,hu=hu+Math.imul(Ml,Nl)|0,cu=cu+Math.imul(Xu,Cl)|0,eu=eu+Math.imul(Xu,Ll)|0,eu=eu+Math.imul($l,Cl)|0,hu=hu+Math.imul($l,Ll)|0,cu=cu+Math.imul(yl,Pl)|0,eu=eu+Math.imul(yl,Fl)|0,eu=eu+Math.imul(Sl,Pl)|0,hu=hu+Math.imul(Sl,Fl)|0,cu=cu+Math.imul(_l,Il)|0,eu=eu+Math.imul(_l,Ul)|0,eu=eu+Math.imul(Qu,Il)|0,hu=hu+Math.imul(Qu,Ul)|0,cu=cu+Math.imul(Zu,Bl)|0,eu=eu+Math.imul(Zu,zl)|0,eu=eu+Math.imul(Yu,Bl)|0,hu=hu+Math.imul(Yu,zl)|0,cu=cu+Math.imul(ju,Tl)|0,eu=eu+Math.imul(ju,Hl)|0,eu=eu+Math.imul(Wu,Tl)|0,hu=hu+Math.imul(Wu,Hl)|0,cu=cu+Math.imul(Uu,Ol)|0,eu=eu+Math.imul(Uu,Kl)|0,eu=eu+Math.imul(Hu,Ol)|0,hu=hu+Math.imul(Hu,Kl)|0;var v0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(v0>>>26)|0,v0&=67108863,cu=Math.imul(Nu,Al),eu=Math.imul(Nu,Nl),eu=eu+Math.imul(Cu,Al)|0,hu=Math.imul(Cu,Nl),cu=cu+Math.imul(wl,Cl)|0,eu=eu+Math.imul(wl,Ll)|0,eu=eu+Math.imul(Ml,Cl)|0,hu=hu+Math.imul(Ml,Ll)|0,cu=cu+Math.imul(Xu,Pl)|0,eu=eu+Math.imul(Xu,Fl)|0,eu=eu+Math.imul($l,Pl)|0,hu=hu+Math.imul($l,Fl)|0,cu=cu+Math.imul(yl,Il)|0,eu=eu+Math.imul(yl,Ul)|0,eu=eu+Math.imul(Sl,Il)|0,hu=hu+Math.imul(Sl,Ul)|0,cu=cu+Math.imul(_l,Bl)|0,eu=eu+Math.imul(_l,zl)|0,eu=eu+Math.imul(Qu,Bl)|0,hu=hu+Math.imul(Qu,zl)|0,cu=cu+Math.imul(Zu,Tl)|0,eu=eu+Math.imul(Zu,Hl)|0,eu=eu+Math.imul(Yu,Tl)|0,hu=hu+Math.imul(Yu,Hl)|0,cu=cu+Math.imul(ju,Ol)|0,eu=eu+Math.imul(ju,Kl)|0,eu=eu+Math.imul(Wu,Ol)|0,hu=hu+Math.imul(Wu,Kl)|0;var g0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(g0>>>26)|0,g0&=67108863,cu=Math.imul(Nu,Cl),eu=Math.imul(Nu,Ll),eu=eu+Math.imul(Cu,Cl)|0,hu=Math.imul(Cu,Ll),cu=cu+Math.imul(wl,Pl)|0,eu=eu+Math.imul(wl,Fl)|0,eu=eu+Math.imul(Ml,Pl)|0,hu=hu+Math.imul(Ml,Fl)|0,cu=cu+Math.imul(Xu,Il)|0,eu=eu+Math.imul(Xu,Ul)|0,eu=eu+Math.imul($l,Il)|0,hu=hu+Math.imul($l,Ul)|0,cu=cu+Math.imul(yl,Bl)|0,eu=eu+Math.imul(yl,zl)|0,eu=eu+Math.imul(Sl,Bl)|0,hu=hu+Math.imul(Sl,zl)|0,cu=cu+Math.imul(_l,Tl)|0,eu=eu+Math.imul(_l,Hl)|0,eu=eu+Math.imul(Qu,Tl)|0,hu=hu+Math.imul(Qu,Hl)|0,cu=cu+Math.imul(Zu,Ol)|0,eu=eu+Math.imul(Zu,Kl)|0,eu=eu+Math.imul(Yu,Ol)|0,hu=hu+Math.imul(Yu,Kl)|0;var y0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(y0>>>26)|0,y0&=67108863,cu=Math.imul(Nu,Pl),eu=Math.imul(Nu,Fl),eu=eu+Math.imul(Cu,Pl)|0,hu=Math.imul(Cu,Fl),cu=cu+Math.imul(wl,Il)|0,eu=eu+Math.imul(wl,Ul)|0,eu=eu+Math.imul(Ml,Il)|0,hu=hu+Math.imul(Ml,Ul)|0,cu=cu+Math.imul(Xu,Bl)|0,eu=eu+Math.imul(Xu,zl)|0,eu=eu+Math.imul($l,Bl)|0,hu=hu+Math.imul($l,zl)|0,cu=cu+Math.imul(yl,Tl)|0,eu=eu+Math.imul(yl,Hl)|0,eu=eu+Math.imul(Sl,Tl)|0,hu=hu+Math.imul(Sl,Hl)|0,cu=cu+Math.imul(_l,Ol)|0,eu=eu+Math.imul(_l,Kl)|0,eu=eu+Math.imul(Qu,Ol)|0,hu=hu+Math.imul(Qu,Kl)|0;var b0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(b0>>>26)|0,b0&=67108863,cu=Math.imul(Nu,Il),eu=Math.imul(Nu,Ul),eu=eu+Math.imul(Cu,Il)|0,hu=Math.imul(Cu,Ul),cu=cu+Math.imul(wl,Bl)|0,eu=eu+Math.imul(wl,zl)|0,eu=eu+Math.imul(Ml,Bl)|0,hu=hu+Math.imul(Ml,zl)|0,cu=cu+Math.imul(Xu,Tl)|0,eu=eu+Math.imul(Xu,Hl)|0,eu=eu+Math.imul($l,Tl)|0,hu=hu+Math.imul($l,Hl)|0,cu=cu+Math.imul(yl,Ol)|0,eu=eu+Math.imul(yl,Kl)|0,eu=eu+Math.imul(Sl,Ol)|0,hu=hu+Math.imul(Sl,Kl)|0;var w0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(w0>>>26)|0,w0&=67108863,cu=Math.imul(Nu,Bl),eu=Math.imul(Nu,zl),eu=eu+Math.imul(Cu,Bl)|0,hu=Math.imul(Cu,zl),cu=cu+Math.imul(wl,Tl)|0,eu=eu+Math.imul(wl,Hl)|0,eu=eu+Math.imul(Ml,Tl)|0,hu=hu+Math.imul(Ml,Hl)|0,cu=cu+Math.imul(Xu,Ol)|0,eu=eu+Math.imul(Xu,Kl)|0,eu=eu+Math.imul($l,Ol)|0,hu=hu+Math.imul($l,Kl)|0;var $0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+($0>>>26)|0,$0&=67108863,cu=Math.imul(Nu,Tl),eu=Math.imul(Nu,Hl),eu=eu+Math.imul(Cu,Tl)|0,hu=Math.imul(Cu,Hl),cu=cu+Math.imul(wl,Ol)|0,eu=eu+Math.imul(wl,Kl)|0,eu=eu+Math.imul(Ml,Ol)|0,hu=hu+Math.imul(Ml,Kl)|0;var x0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(x0>>>26)|0,x0&=67108863,cu=Math.imul(Nu,Ol),eu=Math.imul(Nu,Kl),eu=eu+Math.imul(Cu,Ol)|0,hu=Math.imul(Cu,Kl);var _0=(mu+cu|0)+((eu&8191)<<13)|0;return mu=(hu+(eu>>>13)|0)+(_0>>>26)|0,_0&=67108863,du[0]=_f,du[1]=_h,du[2]=a0,du[3]=u0,du[4]=l0,du[5]=c0,du[6]=f0,du[7]=h0,du[8]=d0,du[9]=p0,du[10]=m0,du[11]=v0,du[12]=g0,du[13]=y0,du[14]=b0,du[15]=w0,du[16]=$0,du[17]=x0,du[18]=_0,mu!==0&&(du[19]=mu,nu.length++),nu};Math.imul||(bu=gu);function xu(yu,_a,ru){ru.negative=_a.negative^yu.negative,ru.length=yu.length+_a.length;for(var nu=0,uu=0,lu=0;lu<ru.length-1;lu++){var du=uu;uu=0;for(var mu=nu&67108863,cu=Math.min(lu,_a.length-1),eu=Math.max(0,lu-yu.length+1);eu<=cu;eu++){var hu=lu-eu,Eu=yu.words[hu]|0,Ru=_a.words[eu]|0,Tu=Eu*Ru,qu=Tu&67108863;du=du+(Tu/67108864|0)|0,qu=qu+mu|0,mu=qu&67108863,du=du+(qu>>>26)|0,uu+=du>>>26,du&=67108863}ru.words[lu]=mu,nu=du,du=uu}return nu!==0?ru.words[lu]=nu:ru.length--,ru.strip()}function $u(yu,_a,ru){var nu=new wu;return nu.mulp(yu,_a,ru)}na.prototype.mulTo=function(_a,ru){var nu,uu=this.length+_a.length;return this.length===10&&_a.length===10?nu=bu(this,_a,ru):uu<63?nu=gu(this,_a,ru):uu<1024?nu=xu(this,_a,ru):nu=$u(this,_a,ru),nu};function wu(yu,_a){this.x=yu,this.y=_a}wu.prototype.makeRBT=function(_a){for(var ru=new Array(_a),nu=na.prototype._countBits(_a)-1,uu=0;uu<_a;uu++)ru[uu]=this.revBin(uu,nu,_a);return ru},wu.prototype.revBin=function(_a,ru,nu){if(_a===0||_a===nu-1)return _a;for(var uu=0,lu=0;lu<ru;lu++)uu|=(_a&1)<<ru-lu-1,_a>>=1;return uu},wu.prototype.permute=function(_a,ru,nu,uu,lu,du){for(var mu=0;mu<du;mu++)uu[mu]=ru[_a[mu]],lu[mu]=nu[_a[mu]]},wu.prototype.transform=function(_a,ru,nu,uu,lu,du){this.permute(du,_a,ru,nu,uu,lu);for(var mu=1;mu<lu;mu<<=1)for(var cu=mu<<1,eu=Math.cos(2*Math.PI/cu),hu=Math.sin(2*Math.PI/cu),Eu=0;Eu<lu;Eu+=cu)for(var Ru=eu,Tu=hu,qu=0;qu<mu;qu++){var Du=nu[Eu+qu],Iu=uu[Eu+qu],Lu=nu[Eu+qu+mu],Uu=uu[Eu+qu+mu],Hu=Ru*Lu-Tu*Uu;Uu=Ru*Uu+Tu*Lu,Lu=Hu,nu[Eu+qu]=Du+Lu,uu[Eu+qu]=Iu+Uu,nu[Eu+qu+mu]=Du-Lu,uu[Eu+qu+mu]=Iu-Uu,qu!==cu&&(Hu=eu*Ru-hu*Tu,Tu=eu*Tu+hu*Ru,Ru=Hu)}},wu.prototype.guessLen13b=function(_a,ru){var nu=Math.max(ru,_a)|1,uu=nu&1,lu=0;for(nu=nu/2|0;nu;nu=nu>>>1)lu++;return 1<<lu+1+uu},wu.prototype.conjugate=function(_a,ru,nu){if(!(nu<=1))for(var uu=0;uu<nu/2;uu++){var lu=_a[uu];_a[uu]=_a[nu-uu-1],_a[nu-uu-1]=lu,lu=ru[uu],ru[uu]=-ru[nu-uu-1],ru[nu-uu-1]=-lu}},wu.prototype.normalize13b=function(_a,ru){for(var nu=0,uu=0;uu<ru/2;uu++){var lu=Math.round(_a[2*uu+1]/ru)*8192+Math.round(_a[2*uu]/ru)+nu;_a[uu]=lu&67108863,lu<67108864?nu=0:nu=lu/67108864|0}return _a},wu.prototype.convert13b=function(_a,ru,nu,uu){for(var lu=0,du=0;du<ru;du++)lu=lu+(_a[du]|0),nu[2*du]=lu&8191,lu=lu>>>13,nu[2*du+1]=lu&8191,lu=lu>>>13;for(du=2*ru;du<uu;++du)nu[du]=0;cs(lu===0),cs((lu&-8192)===0)},wu.prototype.stub=function(_a){for(var ru=new Array(_a),nu=0;nu<_a;nu++)ru[nu]=0;return ru},wu.prototype.mulp=function(_a,ru,nu){var uu=2*this.guessLen13b(_a.length,ru.length),lu=this.makeRBT(uu),du=this.stub(uu),mu=new Array(uu),cu=new Array(uu),eu=new Array(uu),hu=new Array(uu),Eu=new Array(uu),Ru=new Array(uu),Tu=nu.words;Tu.length=uu,this.convert13b(_a.words,_a.length,mu,uu),this.convert13b(ru.words,ru.length,hu,uu),this.transform(mu,du,cu,eu,uu,lu),this.transform(hu,du,Eu,Ru,uu,lu);for(var qu=0;qu<uu;qu++){var Du=cu[qu]*Eu[qu]-eu[qu]*Ru[qu];eu[qu]=cu[qu]*Ru[qu]+eu[qu]*Eu[qu],cu[qu]=Du}return this.conjugate(cu,eu,uu),this.transform(cu,eu,Tu,du,uu,lu),this.conjugate(Tu,du,uu),this.normalize13b(Tu,uu),nu.negative=_a.negative^ru.negative,nu.length=_a.length+ru.length,nu.strip()},na.prototype.mul=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),this.mulTo(_a,ru)},na.prototype.mulf=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),$u(this,_a,ru)},na.prototype.imul=function(_a){return this.clone().mulTo(_a,this)},na.prototype.imuln=function(_a){cs(typeof _a=="number"),cs(_a<67108864);for(var ru=0,nu=0;nu<this.length;nu++){var uu=(this.words[nu]|0)*_a,lu=(uu&67108863)+(ru&67108863);ru>>=26,ru+=uu/67108864|0,ru+=lu>>>26,this.words[nu]=lu&67108863}return ru!==0&&(this.words[nu]=ru,this.length++),this},na.prototype.muln=function(_a){return this.clone().imuln(_a)},na.prototype.sqr=function(){return this.mul(this)},na.prototype.isqr=function(){return this.imul(this.clone())},na.prototype.pow=function(_a){var ru=vu(_a);if(ru.length===0)return new na(1);for(var nu=this,uu=0;uu<ru.length&&ru[uu]===0;uu++,nu=nu.sqr());if(++uu<ru.length)for(var lu=nu.sqr();uu<ru.length;uu++,lu=lu.sqr())ru[uu]!==0&&(nu=nu.mul(lu));return nu},na.prototype.iushln=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=67108863>>>26-ru<<26-ru,lu;if(ru!==0){var du=0;for(lu=0;lu<this.length;lu++){var mu=this.words[lu]&uu,cu=(this.words[lu]|0)-mu<<ru;this.words[lu]=cu|du,du=mu>>>26-ru}du&&(this.words[lu]=du,this.length++)}if(nu!==0){for(lu=this.length-1;lu>=0;lu--)this.words[lu+nu]=this.words[lu];for(lu=0;lu<nu;lu++)this.words[lu]=0;this.length+=nu}return this.strip()},na.prototype.ishln=function(_a){return cs(this.negative===0),this.iushln(_a)},na.prototype.iushrn=function(_a,ru,nu){cs(typeof _a=="number"&&_a>=0);var uu;ru?uu=(ru-ru%26)/26:uu=0;var lu=_a%26,du=Math.min((_a-lu)/26,this.length),mu=67108863^67108863>>>lu<<lu,cu=nu;if(uu-=du,uu=Math.max(0,uu),cu){for(var eu=0;eu<du;eu++)cu.words[eu]=this.words[eu];cu.length=du}if(du!==0)if(this.length>du)for(this.length-=du,eu=0;eu<this.length;eu++)this.words[eu]=this.words[eu+du];else this.words[0]=0,this.length=1;var hu=0;for(eu=this.length-1;eu>=0&&(hu!==0||eu>=uu);eu--){var Eu=this.words[eu]|0;this.words[eu]=hu<<26-lu|Eu>>>lu,hu=Eu&mu}return cu&&hu!==0&&(cu.words[cu.length++]=hu),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},na.prototype.ishrn=function(_a,ru,nu){return cs(this.negative===0),this.iushrn(_a,ru,nu)},na.prototype.shln=function(_a){return this.clone().ishln(_a)},na.prototype.ushln=function(_a){return this.clone().iushln(_a)},na.prototype.shrn=function(_a){return this.clone().ishrn(_a)},na.prototype.ushrn=function(_a){return this.clone().iushrn(_a)},na.prototype.testn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return!1;var lu=this.words[nu];return!!(lu&uu)},na.prototype.imaskn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26;if(cs(this.negative===0,"imaskn works only with positive numbers"),this.length<=nu)return this;if(ru!==0&&nu++,this.length=Math.min(nu,this.length),ru!==0){var uu=67108863^67108863>>>ru<<ru;this.words[this.length-1]&=uu}return this.strip()},na.prototype.maskn=function(_a){return this.clone().imaskn(_a)},na.prototype.iaddn=function(_a){return cs(typeof _a=="number"),cs(_a<67108864),_a<0?this.isubn(-_a):this.negative!==0?this.length===1&&(this.words[0]|0)<_a?(this.words[0]=_a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_a),this.negative=1,this):this._iaddn(_a)},na.prototype._iaddn=function(_a){this.words[0]+=_a;for(var ru=0;ru<this.length&&this.words[ru]>=67108864;ru++)this.words[ru]-=67108864,ru===this.length-1?this.words[ru+1]=1:this.words[ru+1]++;return this.length=Math.max(this.length,ru+1),this},na.prototype.isubn=function(_a){if(cs(typeof _a=="number"),cs(_a<67108864),_a<0)return this.iaddn(-_a);if(this.negative!==0)return this.negative=0,this.iaddn(_a),this.negative=1,this;if(this.words[0]-=_a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ru=0;ru<this.length&&this.words[ru]<0;ru++)this.words[ru]+=67108864,this.words[ru+1]-=1;return this.strip()},na.prototype.addn=function(_a){return this.clone().iaddn(_a)},na.prototype.subn=function(_a){return this.clone().isubn(_a)},na.prototype.iabs=function(){return this.negative=0,this},na.prototype.abs=function(){return this.clone().iabs()},na.prototype._ishlnsubmul=function(_a,ru,nu){var uu=_a.length+nu,lu;this._expand(uu);var du,mu=0;for(lu=0;lu<_a.length;lu++){du=(this.words[lu+nu]|0)+mu;var cu=(_a.words[lu]|0)*ru;du-=cu&67108863,mu=(du>>26)-(cu/67108864|0),this.words[lu+nu]=du&67108863}for(;lu<this.length-nu;lu++)du=(this.words[lu+nu]|0)+mu,mu=du>>26,this.words[lu+nu]=du&67108863;if(mu===0)return this.strip();for(cs(mu===-1),mu=0,lu=0;lu<this.length;lu++)du=-(this.words[lu]|0)+mu,mu=du>>26,this.words[lu]=du&67108863;return this.negative=1,this.strip()},na.prototype._wordDiv=function(_a,ru){var nu=this.length-_a.length,uu=this.clone(),lu=_a,du=lu.words[lu.length-1]|0,mu=this._countBits(du);nu=26-mu,nu!==0&&(lu=lu.ushln(nu),uu.iushln(nu),du=lu.words[lu.length-1]|0);var cu=uu.length-lu.length,eu;if(ru!=="mod"){eu=new na(null),eu.length=cu+1,eu.words=new Array(eu.length);for(var hu=0;hu<eu.length;hu++)eu.words[hu]=0}var Eu=uu.clone()._ishlnsubmul(lu,1,cu);Eu.negative===0&&(uu=Eu,eu&&(eu.words[cu]=1));for(var Ru=cu-1;Ru>=0;Ru--){var Tu=(uu.words[lu.length+Ru]|0)*67108864+(uu.words[lu.length+Ru-1]|0);for(Tu=Math.min(Tu/du|0,67108863),uu._ishlnsubmul(lu,Tu,Ru);uu.negative!==0;)Tu--,uu.negative=0,uu._ishlnsubmul(lu,1,Ru),uu.isZero()||(uu.negative^=1);eu&&(eu.words[Ru]=Tu)}return eu&&eu.strip(),uu.strip(),ru!=="div"&&nu!==0&&uu.iushrn(nu),{div:eu||null,mod:uu}},na.prototype.divmod=function(_a,ru,nu){if(cs(!_a.isZero()),this.isZero())return{div:new na(0),mod:new na(0)};var uu,lu,du;return this.negative!==0&&_a.negative===0?(du=this.neg().divmod(_a,ru),ru!=="mod"&&(uu=du.div.neg()),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.iadd(_a)),{div:uu,mod:lu}):this.negative===0&&_a.negative!==0?(du=this.divmod(_a.neg(),ru),ru!=="mod"&&(uu=du.div.neg()),{div:uu,mod:du.mod}):this.negative&_a.negative?(du=this.neg().divmod(_a.neg(),ru),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.isub(_a)),{div:du.div,mod:lu}):_a.length>this.length||this.cmp(_a)<0?{div:new na(0),mod:this}:_a.length===1?ru==="div"?{div:this.divn(_a.words[0]),mod:null}:ru==="mod"?{div:null,mod:new na(this.modn(_a.words[0]))}:{div:this.divn(_a.words[0]),mod:new na(this.modn(_a.words[0]))}:this._wordDiv(_a,ru)},na.prototype.div=function(_a){return this.divmod(_a,"div",!1).div},na.prototype.mod=function(_a){return this.divmod(_a,"mod",!1).mod},na.prototype.umod=function(_a){return this.divmod(_a,"mod",!0).mod},na.prototype.divRound=function(_a){var ru=this.divmod(_a);if(ru.mod.isZero())return ru.div;var nu=ru.div.negative!==0?ru.mod.isub(_a):ru.mod,uu=_a.ushrn(1),lu=_a.andln(1),du=nu.cmp(uu);return du<0||lu===1&&du===0?ru.div:ru.div.negative!==0?ru.div.isubn(1):ru.div.iaddn(1)},na.prototype.modn=function(_a){cs(_a<=67108863);for(var ru=(1<<26)%_a,nu=0,uu=this.length-1;uu>=0;uu--)nu=(ru*nu+(this.words[uu]|0))%_a;return nu},na.prototype.idivn=function(_a){cs(_a<=67108863);for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=(this.words[nu]|0)+ru*67108864;this.words[nu]=uu/_a|0,ru=uu%_a}return this.strip()},na.prototype.divn=function(_a){return this.clone().idivn(_a)},na.prototype.egcd=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=new na(0),mu=new na(1),cu=0;ru.isEven()&&nu.isEven();)ru.iushrn(1),nu.iushrn(1),++cu;for(var eu=nu.clone(),hu=ru.clone();!ru.isZero();){for(var Eu=0,Ru=1;!(ru.words[0]&Ru)&&Eu<26;++Eu,Ru<<=1);if(Eu>0)for(ru.iushrn(Eu);Eu-- >0;)(uu.isOdd()||lu.isOdd())&&(uu.iadd(eu),lu.isub(hu)),uu.iushrn(1),lu.iushrn(1);for(var Tu=0,qu=1;!(nu.words[0]&qu)&&Tu<26;++Tu,qu<<=1);if(Tu>0)for(nu.iushrn(Tu);Tu-- >0;)(du.isOdd()||mu.isOdd())&&(du.iadd(eu),mu.isub(hu)),du.iushrn(1),mu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(du),lu.isub(mu)):(nu.isub(ru),du.isub(uu),mu.isub(lu))}return{a:du,b:mu,gcd:nu.iushln(cu)}},na.prototype._invmp=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=nu.clone();ru.cmpn(1)>0&&nu.cmpn(1)>0;){for(var mu=0,cu=1;!(ru.words[0]&cu)&&mu<26;++mu,cu<<=1);if(mu>0)for(ru.iushrn(mu);mu-- >0;)uu.isOdd()&&uu.iadd(du),uu.iushrn(1);for(var eu=0,hu=1;!(nu.words[0]&hu)&&eu<26;++eu,hu<<=1);if(eu>0)for(nu.iushrn(eu);eu-- >0;)lu.isOdd()&&lu.iadd(du),lu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(lu)):(nu.isub(ru),lu.isub(uu))}var Eu;return ru.cmpn(1)===0?Eu=uu:Eu=lu,Eu.cmpn(0)<0&&Eu.iadd(_a),Eu},na.prototype.gcd=function(_a){if(this.isZero())return _a.abs();if(_a.isZero())return this.abs();var ru=this.clone(),nu=_a.clone();ru.negative=0,nu.negative=0;for(var uu=0;ru.isEven()&&nu.isEven();uu++)ru.iushrn(1),nu.iushrn(1);do{for(;ru.isEven();)ru.iushrn(1);for(;nu.isEven();)nu.iushrn(1);var lu=ru.cmp(nu);if(lu<0){var du=ru;ru=nu,nu=du}else if(lu===0||nu.cmpn(1)===0)break;ru.isub(nu)}while(!0);return nu.iushln(uu)},na.prototype.invm=function(_a){return this.egcd(_a).a.umod(_a)},na.prototype.isEven=function(){return(this.words[0]&1)===0},na.prototype.isOdd=function(){return(this.words[0]&1)===1},na.prototype.andln=function(_a){return this.words[0]&_a},na.prototype.bincn=function(_a){cs(typeof _a=="number");var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return this._expand(nu+1),this.words[nu]|=uu,this;for(var lu=uu,du=nu;lu!==0&&du<this.length;du++){var mu=this.words[du]|0;mu+=lu,lu=mu>>>26,mu&=67108863,this.words[du]=mu}return lu!==0&&(this.words[du]=lu,this.length++),this},na.prototype.isZero=function(){return this.length===1&&this.words[0]===0},na.prototype.cmpn=function(_a){var ru=_a<0;if(this.negative!==0&&!ru)return-1;if(this.negative===0&&ru)return 1;this.strip();var nu;if(this.length>1)nu=1;else{ru&&(_a=-_a),cs(_a<=67108863,"Number is too big");var uu=this.words[0]|0;nu=uu===_a?0:uu<_a?-1:1}return this.negative!==0?-nu|0:nu},na.prototype.cmp=function(_a){if(this.negative!==0&&_a.negative===0)return-1;if(this.negative===0&&_a.negative!==0)return 1;var ru=this.ucmp(_a);return this.negative!==0?-ru|0:ru},na.prototype.ucmp=function(_a){if(this.length>_a.length)return 1;if(this.length<_a.length)return-1;for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=this.words[nu]|0,lu=_a.words[nu]|0;if(uu!==lu){uu<lu?ru=-1:uu>lu&&(ru=1);break}}return ru},na.prototype.gtn=function(_a){return this.cmpn(_a)===1},na.prototype.gt=function(_a){return this.cmp(_a)===1},na.prototype.gten=function(_a){return this.cmpn(_a)>=0},na.prototype.gte=function(_a){return this.cmp(_a)>=0},na.prototype.ltn=function(_a){return this.cmpn(_a)===-1},na.prototype.lt=function(_a){return this.cmp(_a)===-1},na.prototype.lten=function(_a){return this.cmpn(_a)<=0},na.prototype.lte=function(_a){return this.cmp(_a)<=0},na.prototype.eqn=function(_a){return this.cmpn(_a)===0},na.prototype.eq=function(_a){return this.cmp(_a)===0},na.red=function(_a){return new Ou(_a)},na.prototype.toRed=function(_a){return cs(!this.red,"Already a number in reduction context"),cs(this.negative===0,"red works only with positives"),_a.convertTo(this)._forceRed(_a)},na.prototype.fromRed=function(){return cs(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},na.prototype._forceRed=function(_a){return this.red=_a,this},na.prototype.forceRed=function(_a){return cs(!this.red,"Already a number in reduction context"),this._forceRed(_a)},na.prototype.redAdd=function(_a){return cs(this.red,"redAdd works only with red numbers"),this.red.add(this,_a)},na.prototype.redIAdd=function(_a){return cs(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_a)},na.prototype.redSub=function(_a){return cs(this.red,"redSub works only with red numbers"),this.red.sub(this,_a)},na.prototype.redISub=function(_a){return cs(this.red,"redISub works only with red numbers"),this.red.isub(this,_a)},na.prototype.redShl=function(_a){return cs(this.red,"redShl works only with red numbers"),this.red.shl(this,_a)},na.prototype.redMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.mul(this,_a)},na.prototype.redIMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.imul(this,_a)},na.prototype.redSqr=function(){return cs(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},na.prototype.redISqr=function(){return cs(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},na.prototype.redSqrt=function(){return cs(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},na.prototype.redInvm=function(){return cs(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},na.prototype.redNeg=function(){return cs(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},na.prototype.redPow=function(_a){return cs(this.red&&!_a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_a)};var _u={k256:null,p224:null,p192:null,p25519:null};function Mu(yu,_a){this.name=yu,this.p=new na(_a,16),this.n=this.p.bitLength(),this.k=new na(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mu.prototype._tmp=function(){var _a=new na(null);return _a.words=new Array(Math.ceil(this.n/13)),_a},Mu.prototype.ireduce=function(_a){var ru=_a,nu;do this.split(ru,this.tmp),ru=this.imulK(ru),ru=ru.iadd(this.tmp),nu=ru.bitLength();while(nu>this.n);var uu=nu<this.n?-1:ru.ucmp(this.p);return uu===0?(ru.words[0]=0,ru.length=1):uu>0?ru.isub(this.p):ru.strip!==void 0?ru.strip():ru._strip(),ru},Mu.prototype.split=function(_a,ru){_a.iushrn(this.n,0,ru)},Mu.prototype.imulK=function(_a){return _a.imul(this.k)};function Au(){Mu.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$a(Au,Mu),Au.prototype.split=function(_a,ru){for(var nu=4194303,uu=Math.min(_a.length,9),lu=0;lu<uu;lu++)ru.words[lu]=_a.words[lu];if(ru.length=uu,_a.length<=9){_a.words[0]=0,_a.length=1;return}var du=_a.words[9];for(ru.words[ru.length++]=du&nu,lu=10;lu<_a.length;lu++){var mu=_a.words[lu]|0;_a.words[lu-10]=(mu&nu)<<4|du>>>22,du=mu}du>>>=22,_a.words[lu-10]=du,du===0&&_a.length>10?_a.length-=10:_a.length-=9},Au.prototype.imulK=function(_a){_a.words[_a.length]=0,_a.words[_a.length+1]=0,_a.length+=2;for(var ru=0,nu=0;nu<_a.length;nu++){var uu=_a.words[nu]|0;ru+=uu*977,_a.words[nu]=ru&67108863,ru=uu*64+(ru/67108864|0)}return _a.words[_a.length-1]===0&&(_a.length--,_a.words[_a.length-1]===0&&_a.length--),_a};function Pu(){Mu.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$a(Pu,Mu);function Su(){Mu.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$a(Su,Mu);function Bu(){Mu.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$a(Bu,Mu),Bu.prototype.imulK=function(_a){for(var ru=0,nu=0;nu<_a.length;nu++){var uu=(_a.words[nu]|0)*19+ru,lu=uu&67108863;uu>>>=26,_a.words[nu]=lu,ru=uu}return ru!==0&&(_a.words[_a.length++]=ru),_a},na._prime=function(_a){if(_u[_a])return _u[_a];var ru;if(_a==="k256")ru=new Au;else if(_a==="p224")ru=new Pu;else if(_a==="p192")ru=new Su;else if(_a==="p25519")ru=new Bu;else throw new Error("Unknown prime "+_a);return _u[_a]=ru,ru};function Ou(yu){if(typeof yu=="string"){var _a=na._prime(yu);this.m=_a.p,this.prime=_a}else cs(yu.gtn(1),"modulus must be greater than 1"),this.m=yu,this.prime=null}Ou.prototype._verify1=function(_a){cs(_a.negative===0,"red works only with positives"),cs(_a.red,"red works only with red numbers")},Ou.prototype._verify2=function(_a,ru){cs((_a.negative|ru.negative)===0,"red works only with positives"),cs(_a.red&&_a.red===ru.red,"red works only with red numbers")},Ou.prototype.imod=function(_a){return this.prime?this.prime.ireduce(_a)._forceRed(this):_a.umod(this.m)._forceRed(this)},Ou.prototype.neg=function(_a){return _a.isZero()?_a.clone():this.m.sub(_a)._forceRed(this)},Ou.prototype.add=function(_a,ru){this._verify2(_a,ru);var nu=_a.add(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu._forceRed(this)},Ou.prototype.iadd=function(_a,ru){this._verify2(_a,ru);var nu=_a.iadd(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu},Ou.prototype.sub=function(_a,ru){this._verify2(_a,ru);var nu=_a.sub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu._forceRed(this)},Ou.prototype.isub=function(_a,ru){this._verify2(_a,ru);var nu=_a.isub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu},Ou.prototype.shl=function(_a,ru){return this._verify1(_a),this.imod(_a.ushln(ru))},Ou.prototype.imul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.imul(ru))},Ou.prototype.mul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.mul(ru))},Ou.prototype.isqr=function(_a){return this.imul(_a,_a.clone())},Ou.prototype.sqr=function(_a){return this.mul(_a,_a)},Ou.prototype.sqrt=function(_a){if(_a.isZero())return _a.clone();var ru=this.m.andln(3);if(cs(ru%2===1),ru===3){var nu=this.m.add(new na(1)).iushrn(2);return this.pow(_a,nu)}for(var uu=this.m.subn(1),lu=0;!uu.isZero()&&uu.andln(1)===0;)lu++,uu.iushrn(1);cs(!uu.isZero());var du=new na(1).toRed(this),mu=du.redNeg(),cu=this.m.subn(1).iushrn(1),eu=this.m.bitLength();for(eu=new na(2*eu*eu).toRed(this);this.pow(eu,cu).cmp(mu)!==0;)eu.redIAdd(mu);for(var hu=this.pow(eu,uu),Eu=this.pow(_a,uu.addn(1).iushrn(1)),Ru=this.pow(_a,uu),Tu=lu;Ru.cmp(du)!==0;){for(var qu=Ru,Du=0;qu.cmp(du)!==0;Du++)qu=qu.redSqr();cs(Du<Tu);var Iu=this.pow(hu,new na(1).iushln(Tu-Du-1));Eu=Eu.redMul(Iu),hu=Iu.redSqr(),Ru=Ru.redMul(hu),Tu=Du}return Eu},Ou.prototype.invm=function(_a){var ru=_a._invmp(this.m);return ru.negative!==0?(ru.negative=0,this.imod(ru).redNeg()):this.imod(ru)},Ou.prototype.pow=function(_a,ru){if(ru.isZero())return new na(1).toRed(this);if(ru.cmpn(1)===0)return _a.clone();var nu=4,uu=new Array(1<<nu);uu[0]=new na(1).toRed(this),uu[1]=_a;for(var lu=2;lu<uu.length;lu++)uu[lu]=this.mul(uu[lu-1],_a);var du=uu[0],mu=0,cu=0,eu=ru.bitLength()%26;for(eu===0&&(eu=26),lu=ru.length-1;lu>=0;lu--){for(var hu=ru.words[lu],Eu=eu-1;Eu>=0;Eu--){var Ru=hu>>Eu&1;if(du!==uu[0]&&(du=this.sqr(du)),Ru===0&&mu===0){cu=0;continue}mu<<=1,mu|=Ru,cu++,!(cu!==nu&&(lu!==0||Eu!==0))&&(du=this.mul(du,uu[mu]),cu=0,mu=0)}eu=26}return du},Ou.prototype.convertTo=function(_a){var ru=_a.umod(this.m);return ru===_a?ru.clone():ru},Ou.prototype.convertFrom=function(_a){var ru=_a.clone();return ru.red=null,ru},na.mont=function(_a){return new Vu(_a)};function Vu(yu){Ou.call(this,yu),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new na(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$a(Vu,Ou),Vu.prototype.convertTo=function(_a){return this.imod(_a.ushln(this.shift))},Vu.prototype.convertFrom=function(_a){var ru=this.imod(_a.mul(this.rinv));return ru.red=null,ru},Vu.prototype.imul=function(_a,ru){if(_a.isZero()||ru.isZero())return _a.words[0]=0,_a.length=1,_a;var nu=_a.imul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.mul=function(_a,ru){if(_a.isZero()||ru.isZero())return new na(0)._forceRed(this);var nu=_a.mul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.invm=function(_a){var ru=this.imod(_a._invmp(this.m).mul(this.r2));return ru._forceRed(this)}})(ss,commonjsGlobal)}(bn$3)),bn$3.exports}var browser$4,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$4;hasRequiredBrowser$3=1;var ss=requireElliptic(),as=requireBn$1();browser$4=function(tu){return new cs(tu)};var us={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};us.p224=us.secp224r1,us.p256=us.secp256r1=us.prime256v1,us.p192=us.secp192r1=us.prime192v1,us.p384=us.secp384r1,us.p521=us.secp521r1;function cs(na){this.curveType=us[na],this.curveType||(this.curveType={name:na}),this.curve=new ss.ec(this.curveType.name),this.keys=void 0}cs.prototype.generateKeys=function(na,tu){return this.keys=this.curve.genKeyPair(),this.getPublicKey(na,tu)},cs.prototype.computeSecret=function(na,tu,iu){tu=tu||"utf8",Buffer$7.isBuffer(na)||(na=new Buffer$7(na,tu));var su=this.curve.keyFromPublic(na).getPublic(),au=su.mul(this.keys.getPrivate()).getX();return $a(au,iu,this.curveType.byteLength)},cs.prototype.getPublicKey=function(na,tu){var iu=this.keys.getPublic(tu==="compressed",!0);return tu==="hybrid"&&(iu[iu.length-1]%2?iu[0]=7:iu[0]=6),$a(iu,na)},cs.prototype.getPrivateKey=function(na){return $a(this.keys.getPrivate(),na)},cs.prototype.setPublicKey=function(na,tu){return tu=tu||"utf8",Buffer$7.isBuffer(na)||(na=new Buffer$7(na,tu)),this.keys._importPublic(na),this},cs.prototype.setPrivateKey=function(na,tu){tu=tu||"utf8",Buffer$7.isBuffer(na)||(na=new Buffer$7(na,tu));var iu=new as(na);return iu=iu.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(iu),this};function $a(na,tu,iu){Array.isArray(na)||(na=na.toArray());var su=new Buffer$7(na);if(iu&&su.length<iu){var au=new Buffer$7(iu-su.length);au.fill(0),su=Buffer$7.concat([au,su])}return tu?su.toString(tu):su}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var ss=requireBrowser$a(),as=safeBufferExports.Buffer;mgf=function(cs,$a){for(var na=as.alloc(0),tu=0,iu;na.length<$a;)iu=us(tu++),na=as.concat([na,ss("sha1").update(cs).update(iu).digest()]);return na.slice(0,$a)};function us(cs){var $a=as.allocUnsafe(4);return $a.writeUInt32BE(cs,0),$a}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(as,us){for(var cs=as.length,$a=-1;++$a<cs;)as[$a]^=us[$a];return as}),xor}var bn$2={exports:{}};bn$2.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(ss){(function(as,us){function cs(yu,_a){if(!yu)throw new Error(_a||"Assertion failed")}function $a(yu,_a){yu.super_=_a;var ru=function(){};ru.prototype=_a.prototype,yu.prototype=new ru,yu.prototype.constructor=yu}function na(yu,_a,ru){if(na.isBN(yu))return yu;this.negative=0,this.words=null,this.length=0,this.red=null,yu!==null&&((_a==="le"||_a==="be")&&(ru=_a,_a=10),this._init(yu||0,_a||10,ru||"be"))}typeof as=="object"?as.exports=na:us.BN=na,na.BN=na,na.wordSize=26;var tu;try{typeof window<"u"&&typeof window.Buffer<"u"?tu=window.Buffer:tu=require$$0$3.Buffer}catch{}na.isBN=function(_a){return _a instanceof na?!0:_a!==null&&typeof _a=="object"&&_a.constructor.wordSize===na.wordSize&&Array.isArray(_a.words)},na.max=function(_a,ru){return _a.cmp(ru)>0?_a:ru},na.min=function(_a,ru){return _a.cmp(ru)<0?_a:ru},na.prototype._init=function(_a,ru,nu){if(typeof _a=="number")return this._initNumber(_a,ru,nu);if(typeof _a=="object")return this._initArray(_a,ru,nu);ru==="hex"&&(ru=16),cs(ru===(ru|0)&&ru>=2&&ru<=36),_a=_a.toString().replace(/\s+/g,"");var uu=0;_a[0]==="-"&&(uu++,this.negative=1),uu<_a.length&&(ru===16?this._parseHex(_a,uu,nu):(this._parseBase(_a,ru,uu),nu==="le"&&this._initArray(this.toArray(),ru,nu)))},na.prototype._initNumber=function(_a,ru,nu){_a<0&&(this.negative=1,_a=-_a),_a<67108864?(this.words=[_a&67108863],this.length=1):_a<4503599627370496?(this.words=[_a&67108863,_a/67108864&67108863],this.length=2):(cs(_a<9007199254740992),this.words=[_a&67108863,_a/67108864&67108863,1],this.length=3),nu==="le"&&this._initArray(this.toArray(),ru,nu)},na.prototype._initArray=function(_a,ru,nu){if(cs(typeof _a.length=="number"),_a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_a.length/3),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu,du,mu=0;if(nu==="be")for(uu=_a.length-1,lu=0;uu>=0;uu-=3)du=_a[uu]|_a[uu-1]<<8|_a[uu-2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);else if(nu==="le")for(uu=0,lu=0;uu<_a.length;uu+=3)du=_a[uu]|_a[uu+1]<<8|_a[uu+2]<<16,this.words[lu]|=du<<mu&67108863,this.words[lu+1]=du>>>26-mu&67108863,mu+=24,mu>=26&&(mu-=26,lu++);return this.strip()};function iu(yu,_a){var ru=yu.charCodeAt(_a);return ru>=65&&ru<=70?ru-55:ru>=97&&ru<=102?ru-87:ru-48&15}function su(yu,_a,ru){var nu=iu(yu,ru);return ru-1>=_a&&(nu|=iu(yu,ru-1)<<4),nu}na.prototype._parseHex=function(_a,ru,nu){this.length=Math.ceil((_a.length-ru)/6),this.words=new Array(this.length);for(var uu=0;uu<this.length;uu++)this.words[uu]=0;var lu=0,du=0,mu;if(nu==="be")for(uu=_a.length-1;uu>=ru;uu-=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8;else{var cu=_a.length-ru;for(uu=cu%2===0?ru+1:ru;uu<_a.length;uu+=2)mu=su(_a,ru,uu)<<lu,this.words[du]|=mu&67108863,lu>=18?(lu-=18,du+=1,this.words[du]|=mu>>>26):lu+=8}this.strip()};function au(yu,_a,ru,nu){for(var uu=0,lu=Math.min(yu.length,ru),du=_a;du<lu;du++){var mu=yu.charCodeAt(du)-48;uu*=nu,mu>=49?uu+=mu-49+10:mu>=17?uu+=mu-17+10:uu+=mu}return uu}na.prototype._parseBase=function(_a,ru,nu){this.words=[0],this.length=1;for(var uu=0,lu=1;lu<=67108863;lu*=ru)uu++;uu--,lu=lu/ru|0;for(var du=_a.length-nu,mu=du%uu,cu=Math.min(du,du-mu)+nu,eu=0,hu=nu;hu<cu;hu+=uu)eu=au(_a,hu,hu+uu,ru),this.imuln(lu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu);if(mu!==0){var Eu=1;for(eu=au(_a,hu,_a.length,ru),hu=0;hu<mu;hu++)Eu*=ru;this.imuln(Eu),this.words[0]+eu<67108864?this.words[0]+=eu:this._iaddn(eu)}this.strip()},na.prototype.copy=function(_a){_a.words=new Array(this.length);for(var ru=0;ru<this.length;ru++)_a.words[ru]=this.words[ru];_a.length=this.length,_a.negative=this.negative,_a.red=this.red},na.prototype.clone=function(){var _a=new na(null);return this.copy(_a),_a},na.prototype._expand=function(_a){for(;this.length<_a;)this.words[this.length++]=0;return this},na.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},na.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},na.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ou=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fu=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];na.prototype.toString=function(_a,ru){_a=_a||10,ru=ru|0||1;var nu;if(_a===16||_a==="hex"){nu="";for(var uu=0,lu=0,du=0;du<this.length;du++){var mu=this.words[du],cu=((mu<<uu|lu)&16777215).toString(16);lu=mu>>>24-uu&16777215,uu+=2,uu>=26&&(uu-=26,du--),lu!==0||du!==this.length-1?nu=ou[6-cu.length]+cu+nu:nu=cu+nu}for(lu!==0&&(nu=lu.toString(16)+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}if(_a===(_a|0)&&_a>=2&&_a<=36){var eu=fu[_a],hu=pu[_a];nu="";var Eu=this.clone();for(Eu.negative=0;!Eu.isZero();){var Ru=Eu.modn(hu).toString(_a);Eu=Eu.idivn(hu),Eu.isZero()?nu=Ru+nu:nu=ou[eu-Ru.length]+Ru+nu}for(this.isZero()&&(nu="0"+nu);nu.length%ru!==0;)nu="0"+nu;return this.negative!==0&&(nu="-"+nu),nu}cs(!1,"Base should be between 2 and 36")},na.prototype.toNumber=function(){var _a=this.words[0];return this.length===2?_a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_a+=4503599627370496+this.words[1]*67108864:this.length>2&&cs(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_a:_a},na.prototype.toJSON=function(){return this.toString(16)},na.prototype.toBuffer=function(_a,ru){return cs(typeof tu<"u"),this.toArrayLike(tu,_a,ru)},na.prototype.toArray=function(_a,ru){return this.toArrayLike(Array,_a,ru)},na.prototype.toArrayLike=function(_a,ru,nu){var uu=this.byteLength(),lu=nu||Math.max(1,uu);cs(uu<=lu,"byte array longer than desired length"),cs(lu>0,"Requested array length <= 0"),this.strip();var du=ru==="le",mu=new _a(lu),cu,eu,hu=this.clone();if(du){for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[eu]=cu;for(;eu<lu;eu++)mu[eu]=0}else{for(eu=0;eu<lu-uu;eu++)mu[eu]=0;for(eu=0;!hu.isZero();eu++)cu=hu.andln(255),hu.iushrn(8),mu[lu-eu-1]=cu}return mu},Math.clz32?na.prototype._countBits=function(_a){return 32-Math.clz32(_a)}:na.prototype._countBits=function(_a){var ru=_a,nu=0;return ru>=4096&&(nu+=13,ru>>>=13),ru>=64&&(nu+=7,ru>>>=7),ru>=8&&(nu+=4,ru>>>=4),ru>=2&&(nu+=2,ru>>>=2),nu+ru},na.prototype._zeroBits=function(_a){if(_a===0)return 26;var ru=_a,nu=0;return ru&8191||(nu+=13,ru>>>=13),ru&127||(nu+=7,ru>>>=7),ru&15||(nu+=4,ru>>>=4),ru&3||(nu+=2,ru>>>=2),ru&1||nu++,nu},na.prototype.bitLength=function(){var _a=this.words[this.length-1],ru=this._countBits(_a);return(this.length-1)*26+ru};function vu(yu){for(var _a=new Array(yu.bitLength()),ru=0;ru<_a.length;ru++){var nu=ru/26|0,uu=ru%26;_a[ru]=(yu.words[nu]&1<<uu)>>>uu}return _a}na.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _a=0,ru=0;ru<this.length;ru++){var nu=this._zeroBits(this.words[ru]);if(_a+=nu,nu!==26)break}return _a},na.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},na.prototype.toTwos=function(_a){return this.negative!==0?this.abs().inotn(_a).iaddn(1):this.clone()},na.prototype.fromTwos=function(_a){return this.testn(_a-1)?this.notn(_a).iaddn(1).ineg():this.clone()},na.prototype.isNeg=function(){return this.negative!==0},na.prototype.neg=function(){return this.clone().ineg()},na.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},na.prototype.iuor=function(_a){for(;this.length<_a.length;)this.words[this.length++]=0;for(var ru=0;ru<_a.length;ru++)this.words[ru]=this.words[ru]|_a.words[ru];return this.strip()},na.prototype.ior=function(_a){return cs((this.negative|_a.negative)===0),this.iuor(_a)},na.prototype.or=function(_a){return this.length>_a.length?this.clone().ior(_a):_a.clone().ior(this)},na.prototype.uor=function(_a){return this.length>_a.length?this.clone().iuor(_a):_a.clone().iuor(this)},na.prototype.iuand=function(_a){var ru;this.length>_a.length?ru=_a:ru=this;for(var nu=0;nu<ru.length;nu++)this.words[nu]=this.words[nu]&_a.words[nu];return this.length=ru.length,this.strip()},na.prototype.iand=function(_a){return cs((this.negative|_a.negative)===0),this.iuand(_a)},na.prototype.and=function(_a){return this.length>_a.length?this.clone().iand(_a):_a.clone().iand(this)},na.prototype.uand=function(_a){return this.length>_a.length?this.clone().iuand(_a):_a.clone().iuand(this)},na.prototype.iuxor=function(_a){var ru,nu;this.length>_a.length?(ru=this,nu=_a):(ru=_a,nu=this);for(var uu=0;uu<nu.length;uu++)this.words[uu]=ru.words[uu]^nu.words[uu];if(this!==ru)for(;uu<ru.length;uu++)this.words[uu]=ru.words[uu];return this.length=ru.length,this.strip()},na.prototype.ixor=function(_a){return cs((this.negative|_a.negative)===0),this.iuxor(_a)},na.prototype.xor=function(_a){return this.length>_a.length?this.clone().ixor(_a):_a.clone().ixor(this)},na.prototype.uxor=function(_a){return this.length>_a.length?this.clone().iuxor(_a):_a.clone().iuxor(this)},na.prototype.inotn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=Math.ceil(_a/26)|0,nu=_a%26;this._expand(ru),nu>0&&ru--;for(var uu=0;uu<ru;uu++)this.words[uu]=~this.words[uu]&67108863;return nu>0&&(this.words[uu]=~this.words[uu]&67108863>>26-nu),this.strip()},na.prototype.notn=function(_a){return this.clone().inotn(_a)},na.prototype.setn=function(_a,ru){cs(typeof _a=="number"&&_a>=0);var nu=_a/26|0,uu=_a%26;return this._expand(nu+1),ru?this.words[nu]=this.words[nu]|1<<uu:this.words[nu]=this.words[nu]&~(1<<uu),this.strip()},na.prototype.iadd=function(_a){var ru;if(this.negative!==0&&_a.negative===0)return this.negative=0,ru=this.isub(_a),this.negative^=1,this._normSign();if(this.negative===0&&_a.negative!==0)return _a.negative=0,ru=this.isub(_a),_a.negative=1,ru._normSign();var nu,uu;this.length>_a.length?(nu=this,uu=_a):(nu=_a,uu=this);for(var lu=0,du=0;du<uu.length;du++)ru=(nu.words[du]|0)+(uu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;for(;lu!==0&&du<nu.length;du++)ru=(nu.words[du]|0)+lu,this.words[du]=ru&67108863,lu=ru>>>26;if(this.length=nu.length,lu!==0)this.words[this.length]=lu,this.length++;else if(nu!==this)for(;du<nu.length;du++)this.words[du]=nu.words[du];return this},na.prototype.add=function(_a){var ru;return _a.negative!==0&&this.negative===0?(_a.negative=0,ru=this.sub(_a),_a.negative^=1,ru):_a.negative===0&&this.negative!==0?(this.negative=0,ru=_a.sub(this),this.negative=1,ru):this.length>_a.length?this.clone().iadd(_a):_a.clone().iadd(this)},na.prototype.isub=function(_a){if(_a.negative!==0){_a.negative=0;var ru=this.iadd(_a);return _a.negative=1,ru._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_a),this.negative=1,this._normSign();var nu=this.cmp(_a);if(nu===0)return this.negative=0,this.length=1,this.words[0]=0,this;var uu,lu;nu>0?(uu=this,lu=_a):(uu=_a,lu=this);for(var du=0,mu=0;mu<lu.length;mu++)ru=(uu.words[mu]|0)-(lu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;for(;du!==0&&mu<uu.length;mu++)ru=(uu.words[mu]|0)+du,du=ru>>26,this.words[mu]=ru&67108863;if(du===0&&mu<uu.length&&uu!==this)for(;mu<uu.length;mu++)this.words[mu]=uu.words[mu];return this.length=Math.max(this.length,mu),uu!==this&&(this.negative=1),this.strip()},na.prototype.sub=function(_a){return this.clone().isub(_a)};function gu(yu,_a,ru){ru.negative=_a.negative^yu.negative;var nu=yu.length+_a.length|0;ru.length=nu,nu=nu-1|0;var uu=yu.words[0]|0,lu=_a.words[0]|0,du=uu*lu,mu=du&67108863,cu=du/67108864|0;ru.words[0]=mu;for(var eu=1;eu<nu;eu++){for(var hu=cu>>>26,Eu=cu&67108863,Ru=Math.min(eu,_a.length-1),Tu=Math.max(0,eu-yu.length+1);Tu<=Ru;Tu++){var qu=eu-Tu|0;uu=yu.words[qu]|0,lu=_a.words[Tu]|0,du=uu*lu+Eu,hu+=du/67108864|0,Eu=du&67108863}ru.words[eu]=Eu|0,cu=hu|0}return cu!==0?ru.words[eu]=cu|0:ru.length--,ru.strip()}var bu=function(_a,ru,nu){var uu=_a.words,lu=ru.words,du=nu.words,mu=0,cu,eu,hu,Eu=uu[0]|0,Ru=Eu&8191,Tu=Eu>>>13,qu=uu[1]|0,Du=qu&8191,Iu=qu>>>13,Lu=uu[2]|0,Uu=Lu&8191,Hu=Lu>>>13,zu=uu[3]|0,ju=zu&8191,Wu=zu>>>13,Dl=uu[4]|0,Zu=Dl&8191,Yu=Dl>>>13,Vl=uu[5]|0,_l=Vl&8191,Qu=Vl>>>13,Gl=uu[6]|0,yl=Gl&8191,Sl=Gl>>>13,Ql=uu[7]|0,Xu=Ql&8191,$l=Ql>>>13,Zl=uu[8]|0,wl=Zl&8191,Ml=Zl>>>13,Xl=uu[9]|0,Nu=Xl&8191,Cu=Xl>>>13,ku=lu[0]|0,Fu=ku&8191,Ku=ku>>>13,Ju=lu[1]|0,Gu=Ju&8191,El=Ju>>>13,Yl=lu[2]|0,xl=Yl&8191,Rl=Yl>>>13,Jl=lu[3]|0,Al=Jl&8191,Nl=Jl>>>13,e0=lu[4]|0,Cl=e0&8191,Ll=e0>>>13,t0=lu[5]|0,Pl=t0&8191,Fl=t0>>>13,r0=lu[6]|0,Il=r0&8191,Ul=r0>>>13,i0=lu[7]|0,Bl=i0&8191,zl=i0>>>13,n0=lu[8]|0,Tl=n0&8191,Hl=n0>>>13,s0=lu[9]|0,Ol=s0&8191,Kl=s0>>>13;nu.negative=_a.negative^ru.negative,nu.length=19,cu=Math.imul(Ru,Fu),eu=Math.imul(Ru,Ku),eu=eu+Math.imul(Tu,Fu)|0,hu=Math.imul(Tu,Ku);var _f=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_f>>>26)|0,_f&=67108863,cu=Math.imul(Du,Fu),eu=Math.imul(Du,Ku),eu=eu+Math.imul(Iu,Fu)|0,hu=Math.imul(Iu,Ku),cu=cu+Math.imul(Ru,Gu)|0,eu=eu+Math.imul(Ru,El)|0,eu=eu+Math.imul(Tu,Gu)|0,hu=hu+Math.imul(Tu,El)|0;var _h=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(_h>>>26)|0,_h&=67108863,cu=Math.imul(Uu,Fu),eu=Math.imul(Uu,Ku),eu=eu+Math.imul(Hu,Fu)|0,hu=Math.imul(Hu,Ku),cu=cu+Math.imul(Du,Gu)|0,eu=eu+Math.imul(Du,El)|0,eu=eu+Math.imul(Iu,Gu)|0,hu=hu+Math.imul(Iu,El)|0,cu=cu+Math.imul(Ru,xl)|0,eu=eu+Math.imul(Ru,Rl)|0,eu=eu+Math.imul(Tu,xl)|0,hu=hu+Math.imul(Tu,Rl)|0;var a0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(a0>>>26)|0,a0&=67108863,cu=Math.imul(ju,Fu),eu=Math.imul(ju,Ku),eu=eu+Math.imul(Wu,Fu)|0,hu=Math.imul(Wu,Ku),cu=cu+Math.imul(Uu,Gu)|0,eu=eu+Math.imul(Uu,El)|0,eu=eu+Math.imul(Hu,Gu)|0,hu=hu+Math.imul(Hu,El)|0,cu=cu+Math.imul(Du,xl)|0,eu=eu+Math.imul(Du,Rl)|0,eu=eu+Math.imul(Iu,xl)|0,hu=hu+Math.imul(Iu,Rl)|0,cu=cu+Math.imul(Ru,Al)|0,eu=eu+Math.imul(Ru,Nl)|0,eu=eu+Math.imul(Tu,Al)|0,hu=hu+Math.imul(Tu,Nl)|0;var u0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(u0>>>26)|0,u0&=67108863,cu=Math.imul(Zu,Fu),eu=Math.imul(Zu,Ku),eu=eu+Math.imul(Yu,Fu)|0,hu=Math.imul(Yu,Ku),cu=cu+Math.imul(ju,Gu)|0,eu=eu+Math.imul(ju,El)|0,eu=eu+Math.imul(Wu,Gu)|0,hu=hu+Math.imul(Wu,El)|0,cu=cu+Math.imul(Uu,xl)|0,eu=eu+Math.imul(Uu,Rl)|0,eu=eu+Math.imul(Hu,xl)|0,hu=hu+Math.imul(Hu,Rl)|0,cu=cu+Math.imul(Du,Al)|0,eu=eu+Math.imul(Du,Nl)|0,eu=eu+Math.imul(Iu,Al)|0,hu=hu+Math.imul(Iu,Nl)|0,cu=cu+Math.imul(Ru,Cl)|0,eu=eu+Math.imul(Ru,Ll)|0,eu=eu+Math.imul(Tu,Cl)|0,hu=hu+Math.imul(Tu,Ll)|0;var l0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(l0>>>26)|0,l0&=67108863,cu=Math.imul(_l,Fu),eu=Math.imul(_l,Ku),eu=eu+Math.imul(Qu,Fu)|0,hu=Math.imul(Qu,Ku),cu=cu+Math.imul(Zu,Gu)|0,eu=eu+Math.imul(Zu,El)|0,eu=eu+Math.imul(Yu,Gu)|0,hu=hu+Math.imul(Yu,El)|0,cu=cu+Math.imul(ju,xl)|0,eu=eu+Math.imul(ju,Rl)|0,eu=eu+Math.imul(Wu,xl)|0,hu=hu+Math.imul(Wu,Rl)|0,cu=cu+Math.imul(Uu,Al)|0,eu=eu+Math.imul(Uu,Nl)|0,eu=eu+Math.imul(Hu,Al)|0,hu=hu+Math.imul(Hu,Nl)|0,cu=cu+Math.imul(Du,Cl)|0,eu=eu+Math.imul(Du,Ll)|0,eu=eu+Math.imul(Iu,Cl)|0,hu=hu+Math.imul(Iu,Ll)|0,cu=cu+Math.imul(Ru,Pl)|0,eu=eu+Math.imul(Ru,Fl)|0,eu=eu+Math.imul(Tu,Pl)|0,hu=hu+Math.imul(Tu,Fl)|0;var c0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(c0>>>26)|0,c0&=67108863,cu=Math.imul(yl,Fu),eu=Math.imul(yl,Ku),eu=eu+Math.imul(Sl,Fu)|0,hu=Math.imul(Sl,Ku),cu=cu+Math.imul(_l,Gu)|0,eu=eu+Math.imul(_l,El)|0,eu=eu+Math.imul(Qu,Gu)|0,hu=hu+Math.imul(Qu,El)|0,cu=cu+Math.imul(Zu,xl)|0,eu=eu+Math.imul(Zu,Rl)|0,eu=eu+Math.imul(Yu,xl)|0,hu=hu+Math.imul(Yu,Rl)|0,cu=cu+Math.imul(ju,Al)|0,eu=eu+Math.imul(ju,Nl)|0,eu=eu+Math.imul(Wu,Al)|0,hu=hu+Math.imul(Wu,Nl)|0,cu=cu+Math.imul(Uu,Cl)|0,eu=eu+Math.imul(Uu,Ll)|0,eu=eu+Math.imul(Hu,Cl)|0,hu=hu+Math.imul(Hu,Ll)|0,cu=cu+Math.imul(Du,Pl)|0,eu=eu+Math.imul(Du,Fl)|0,eu=eu+Math.imul(Iu,Pl)|0,hu=hu+Math.imul(Iu,Fl)|0,cu=cu+Math.imul(Ru,Il)|0,eu=eu+Math.imul(Ru,Ul)|0,eu=eu+Math.imul(Tu,Il)|0,hu=hu+Math.imul(Tu,Ul)|0;var f0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(f0>>>26)|0,f0&=67108863,cu=Math.imul(Xu,Fu),eu=Math.imul(Xu,Ku),eu=eu+Math.imul($l,Fu)|0,hu=Math.imul($l,Ku),cu=cu+Math.imul(yl,Gu)|0,eu=eu+Math.imul(yl,El)|0,eu=eu+Math.imul(Sl,Gu)|0,hu=hu+Math.imul(Sl,El)|0,cu=cu+Math.imul(_l,xl)|0,eu=eu+Math.imul(_l,Rl)|0,eu=eu+Math.imul(Qu,xl)|0,hu=hu+Math.imul(Qu,Rl)|0,cu=cu+Math.imul(Zu,Al)|0,eu=eu+Math.imul(Zu,Nl)|0,eu=eu+Math.imul(Yu,Al)|0,hu=hu+Math.imul(Yu,Nl)|0,cu=cu+Math.imul(ju,Cl)|0,eu=eu+Math.imul(ju,Ll)|0,eu=eu+Math.imul(Wu,Cl)|0,hu=hu+Math.imul(Wu,Ll)|0,cu=cu+Math.imul(Uu,Pl)|0,eu=eu+Math.imul(Uu,Fl)|0,eu=eu+Math.imul(Hu,Pl)|0,hu=hu+Math.imul(Hu,Fl)|0,cu=cu+Math.imul(Du,Il)|0,eu=eu+Math.imul(Du,Ul)|0,eu=eu+Math.imul(Iu,Il)|0,hu=hu+Math.imul(Iu,Ul)|0,cu=cu+Math.imul(Ru,Bl)|0,eu=eu+Math.imul(Ru,zl)|0,eu=eu+Math.imul(Tu,Bl)|0,hu=hu+Math.imul(Tu,zl)|0;var h0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(h0>>>26)|0,h0&=67108863,cu=Math.imul(wl,Fu),eu=Math.imul(wl,Ku),eu=eu+Math.imul(Ml,Fu)|0,hu=Math.imul(Ml,Ku),cu=cu+Math.imul(Xu,Gu)|0,eu=eu+Math.imul(Xu,El)|0,eu=eu+Math.imul($l,Gu)|0,hu=hu+Math.imul($l,El)|0,cu=cu+Math.imul(yl,xl)|0,eu=eu+Math.imul(yl,Rl)|0,eu=eu+Math.imul(Sl,xl)|0,hu=hu+Math.imul(Sl,Rl)|0,cu=cu+Math.imul(_l,Al)|0,eu=eu+Math.imul(_l,Nl)|0,eu=eu+Math.imul(Qu,Al)|0,hu=hu+Math.imul(Qu,Nl)|0,cu=cu+Math.imul(Zu,Cl)|0,eu=eu+Math.imul(Zu,Ll)|0,eu=eu+Math.imul(Yu,Cl)|0,hu=hu+Math.imul(Yu,Ll)|0,cu=cu+Math.imul(ju,Pl)|0,eu=eu+Math.imul(ju,Fl)|0,eu=eu+Math.imul(Wu,Pl)|0,hu=hu+Math.imul(Wu,Fl)|0,cu=cu+Math.imul(Uu,Il)|0,eu=eu+Math.imul(Uu,Ul)|0,eu=eu+Math.imul(Hu,Il)|0,hu=hu+Math.imul(Hu,Ul)|0,cu=cu+Math.imul(Du,Bl)|0,eu=eu+Math.imul(Du,zl)|0,eu=eu+Math.imul(Iu,Bl)|0,hu=hu+Math.imul(Iu,zl)|0,cu=cu+Math.imul(Ru,Tl)|0,eu=eu+Math.imul(Ru,Hl)|0,eu=eu+Math.imul(Tu,Tl)|0,hu=hu+Math.imul(Tu,Hl)|0;var d0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(d0>>>26)|0,d0&=67108863,cu=Math.imul(Nu,Fu),eu=Math.imul(Nu,Ku),eu=eu+Math.imul(Cu,Fu)|0,hu=Math.imul(Cu,Ku),cu=cu+Math.imul(wl,Gu)|0,eu=eu+Math.imul(wl,El)|0,eu=eu+Math.imul(Ml,Gu)|0,hu=hu+Math.imul(Ml,El)|0,cu=cu+Math.imul(Xu,xl)|0,eu=eu+Math.imul(Xu,Rl)|0,eu=eu+Math.imul($l,xl)|0,hu=hu+Math.imul($l,Rl)|0,cu=cu+Math.imul(yl,Al)|0,eu=eu+Math.imul(yl,Nl)|0,eu=eu+Math.imul(Sl,Al)|0,hu=hu+Math.imul(Sl,Nl)|0,cu=cu+Math.imul(_l,Cl)|0,eu=eu+Math.imul(_l,Ll)|0,eu=eu+Math.imul(Qu,Cl)|0,hu=hu+Math.imul(Qu,Ll)|0,cu=cu+Math.imul(Zu,Pl)|0,eu=eu+Math.imul(Zu,Fl)|0,eu=eu+Math.imul(Yu,Pl)|0,hu=hu+Math.imul(Yu,Fl)|0,cu=cu+Math.imul(ju,Il)|0,eu=eu+Math.imul(ju,Ul)|0,eu=eu+Math.imul(Wu,Il)|0,hu=hu+Math.imul(Wu,Ul)|0,cu=cu+Math.imul(Uu,Bl)|0,eu=eu+Math.imul(Uu,zl)|0,eu=eu+Math.imul(Hu,Bl)|0,hu=hu+Math.imul(Hu,zl)|0,cu=cu+Math.imul(Du,Tl)|0,eu=eu+Math.imul(Du,Hl)|0,eu=eu+Math.imul(Iu,Tl)|0,hu=hu+Math.imul(Iu,Hl)|0,cu=cu+Math.imul(Ru,Ol)|0,eu=eu+Math.imul(Ru,Kl)|0,eu=eu+Math.imul(Tu,Ol)|0,hu=hu+Math.imul(Tu,Kl)|0;var p0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(p0>>>26)|0,p0&=67108863,cu=Math.imul(Nu,Gu),eu=Math.imul(Nu,El),eu=eu+Math.imul(Cu,Gu)|0,hu=Math.imul(Cu,El),cu=cu+Math.imul(wl,xl)|0,eu=eu+Math.imul(wl,Rl)|0,eu=eu+Math.imul(Ml,xl)|0,hu=hu+Math.imul(Ml,Rl)|0,cu=cu+Math.imul(Xu,Al)|0,eu=eu+Math.imul(Xu,Nl)|0,eu=eu+Math.imul($l,Al)|0,hu=hu+Math.imul($l,Nl)|0,cu=cu+Math.imul(yl,Cl)|0,eu=eu+Math.imul(yl,Ll)|0,eu=eu+Math.imul(Sl,Cl)|0,hu=hu+Math.imul(Sl,Ll)|0,cu=cu+Math.imul(_l,Pl)|0,eu=eu+Math.imul(_l,Fl)|0,eu=eu+Math.imul(Qu,Pl)|0,hu=hu+Math.imul(Qu,Fl)|0,cu=cu+Math.imul(Zu,Il)|0,eu=eu+Math.imul(Zu,Ul)|0,eu=eu+Math.imul(Yu,Il)|0,hu=hu+Math.imul(Yu,Ul)|0,cu=cu+Math.imul(ju,Bl)|0,eu=eu+Math.imul(ju,zl)|0,eu=eu+Math.imul(Wu,Bl)|0,hu=hu+Math.imul(Wu,zl)|0,cu=cu+Math.imul(Uu,Tl)|0,eu=eu+Math.imul(Uu,Hl)|0,eu=eu+Math.imul(Hu,Tl)|0,hu=hu+Math.imul(Hu,Hl)|0,cu=cu+Math.imul(Du,Ol)|0,eu=eu+Math.imul(Du,Kl)|0,eu=eu+Math.imul(Iu,Ol)|0,hu=hu+Math.imul(Iu,Kl)|0;var m0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(m0>>>26)|0,m0&=67108863,cu=Math.imul(Nu,xl),eu=Math.imul(Nu,Rl),eu=eu+Math.imul(Cu,xl)|0,hu=Math.imul(Cu,Rl),cu=cu+Math.imul(wl,Al)|0,eu=eu+Math.imul(wl,Nl)|0,eu=eu+Math.imul(Ml,Al)|0,hu=hu+Math.imul(Ml,Nl)|0,cu=cu+Math.imul(Xu,Cl)|0,eu=eu+Math.imul(Xu,Ll)|0,eu=eu+Math.imul($l,Cl)|0,hu=hu+Math.imul($l,Ll)|0,cu=cu+Math.imul(yl,Pl)|0,eu=eu+Math.imul(yl,Fl)|0,eu=eu+Math.imul(Sl,Pl)|0,hu=hu+Math.imul(Sl,Fl)|0,cu=cu+Math.imul(_l,Il)|0,eu=eu+Math.imul(_l,Ul)|0,eu=eu+Math.imul(Qu,Il)|0,hu=hu+Math.imul(Qu,Ul)|0,cu=cu+Math.imul(Zu,Bl)|0,eu=eu+Math.imul(Zu,zl)|0,eu=eu+Math.imul(Yu,Bl)|0,hu=hu+Math.imul(Yu,zl)|0,cu=cu+Math.imul(ju,Tl)|0,eu=eu+Math.imul(ju,Hl)|0,eu=eu+Math.imul(Wu,Tl)|0,hu=hu+Math.imul(Wu,Hl)|0,cu=cu+Math.imul(Uu,Ol)|0,eu=eu+Math.imul(Uu,Kl)|0,eu=eu+Math.imul(Hu,Ol)|0,hu=hu+Math.imul(Hu,Kl)|0;var v0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(v0>>>26)|0,v0&=67108863,cu=Math.imul(Nu,Al),eu=Math.imul(Nu,Nl),eu=eu+Math.imul(Cu,Al)|0,hu=Math.imul(Cu,Nl),cu=cu+Math.imul(wl,Cl)|0,eu=eu+Math.imul(wl,Ll)|0,eu=eu+Math.imul(Ml,Cl)|0,hu=hu+Math.imul(Ml,Ll)|0,cu=cu+Math.imul(Xu,Pl)|0,eu=eu+Math.imul(Xu,Fl)|0,eu=eu+Math.imul($l,Pl)|0,hu=hu+Math.imul($l,Fl)|0,cu=cu+Math.imul(yl,Il)|0,eu=eu+Math.imul(yl,Ul)|0,eu=eu+Math.imul(Sl,Il)|0,hu=hu+Math.imul(Sl,Ul)|0,cu=cu+Math.imul(_l,Bl)|0,eu=eu+Math.imul(_l,zl)|0,eu=eu+Math.imul(Qu,Bl)|0,hu=hu+Math.imul(Qu,zl)|0,cu=cu+Math.imul(Zu,Tl)|0,eu=eu+Math.imul(Zu,Hl)|0,eu=eu+Math.imul(Yu,Tl)|0,hu=hu+Math.imul(Yu,Hl)|0,cu=cu+Math.imul(ju,Ol)|0,eu=eu+Math.imul(ju,Kl)|0,eu=eu+Math.imul(Wu,Ol)|0,hu=hu+Math.imul(Wu,Kl)|0;var g0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(g0>>>26)|0,g0&=67108863,cu=Math.imul(Nu,Cl),eu=Math.imul(Nu,Ll),eu=eu+Math.imul(Cu,Cl)|0,hu=Math.imul(Cu,Ll),cu=cu+Math.imul(wl,Pl)|0,eu=eu+Math.imul(wl,Fl)|0,eu=eu+Math.imul(Ml,Pl)|0,hu=hu+Math.imul(Ml,Fl)|0,cu=cu+Math.imul(Xu,Il)|0,eu=eu+Math.imul(Xu,Ul)|0,eu=eu+Math.imul($l,Il)|0,hu=hu+Math.imul($l,Ul)|0,cu=cu+Math.imul(yl,Bl)|0,eu=eu+Math.imul(yl,zl)|0,eu=eu+Math.imul(Sl,Bl)|0,hu=hu+Math.imul(Sl,zl)|0,cu=cu+Math.imul(_l,Tl)|0,eu=eu+Math.imul(_l,Hl)|0,eu=eu+Math.imul(Qu,Tl)|0,hu=hu+Math.imul(Qu,Hl)|0,cu=cu+Math.imul(Zu,Ol)|0,eu=eu+Math.imul(Zu,Kl)|0,eu=eu+Math.imul(Yu,Ol)|0,hu=hu+Math.imul(Yu,Kl)|0;var y0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(y0>>>26)|0,y0&=67108863,cu=Math.imul(Nu,Pl),eu=Math.imul(Nu,Fl),eu=eu+Math.imul(Cu,Pl)|0,hu=Math.imul(Cu,Fl),cu=cu+Math.imul(wl,Il)|0,eu=eu+Math.imul(wl,Ul)|0,eu=eu+Math.imul(Ml,Il)|0,hu=hu+Math.imul(Ml,Ul)|0,cu=cu+Math.imul(Xu,Bl)|0,eu=eu+Math.imul(Xu,zl)|0,eu=eu+Math.imul($l,Bl)|0,hu=hu+Math.imul($l,zl)|0,cu=cu+Math.imul(yl,Tl)|0,eu=eu+Math.imul(yl,Hl)|0,eu=eu+Math.imul(Sl,Tl)|0,hu=hu+Math.imul(Sl,Hl)|0,cu=cu+Math.imul(_l,Ol)|0,eu=eu+Math.imul(_l,Kl)|0,eu=eu+Math.imul(Qu,Ol)|0,hu=hu+Math.imul(Qu,Kl)|0;var b0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(b0>>>26)|0,b0&=67108863,cu=Math.imul(Nu,Il),eu=Math.imul(Nu,Ul),eu=eu+Math.imul(Cu,Il)|0,hu=Math.imul(Cu,Ul),cu=cu+Math.imul(wl,Bl)|0,eu=eu+Math.imul(wl,zl)|0,eu=eu+Math.imul(Ml,Bl)|0,hu=hu+Math.imul(Ml,zl)|0,cu=cu+Math.imul(Xu,Tl)|0,eu=eu+Math.imul(Xu,Hl)|0,eu=eu+Math.imul($l,Tl)|0,hu=hu+Math.imul($l,Hl)|0,cu=cu+Math.imul(yl,Ol)|0,eu=eu+Math.imul(yl,Kl)|0,eu=eu+Math.imul(Sl,Ol)|0,hu=hu+Math.imul(Sl,Kl)|0;var w0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(w0>>>26)|0,w0&=67108863,cu=Math.imul(Nu,Bl),eu=Math.imul(Nu,zl),eu=eu+Math.imul(Cu,Bl)|0,hu=Math.imul(Cu,zl),cu=cu+Math.imul(wl,Tl)|0,eu=eu+Math.imul(wl,Hl)|0,eu=eu+Math.imul(Ml,Tl)|0,hu=hu+Math.imul(Ml,Hl)|0,cu=cu+Math.imul(Xu,Ol)|0,eu=eu+Math.imul(Xu,Kl)|0,eu=eu+Math.imul($l,Ol)|0,hu=hu+Math.imul($l,Kl)|0;var $0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+($0>>>26)|0,$0&=67108863,cu=Math.imul(Nu,Tl),eu=Math.imul(Nu,Hl),eu=eu+Math.imul(Cu,Tl)|0,hu=Math.imul(Cu,Hl),cu=cu+Math.imul(wl,Ol)|0,eu=eu+Math.imul(wl,Kl)|0,eu=eu+Math.imul(Ml,Ol)|0,hu=hu+Math.imul(Ml,Kl)|0;var x0=(mu+cu|0)+((eu&8191)<<13)|0;mu=(hu+(eu>>>13)|0)+(x0>>>26)|0,x0&=67108863,cu=Math.imul(Nu,Ol),eu=Math.imul(Nu,Kl),eu=eu+Math.imul(Cu,Ol)|0,hu=Math.imul(Cu,Kl);var _0=(mu+cu|0)+((eu&8191)<<13)|0;return mu=(hu+(eu>>>13)|0)+(_0>>>26)|0,_0&=67108863,du[0]=_f,du[1]=_h,du[2]=a0,du[3]=u0,du[4]=l0,du[5]=c0,du[6]=f0,du[7]=h0,du[8]=d0,du[9]=p0,du[10]=m0,du[11]=v0,du[12]=g0,du[13]=y0,du[14]=b0,du[15]=w0,du[16]=$0,du[17]=x0,du[18]=_0,mu!==0&&(du[19]=mu,nu.length++),nu};Math.imul||(bu=gu);function xu(yu,_a,ru){ru.negative=_a.negative^yu.negative,ru.length=yu.length+_a.length;for(var nu=0,uu=0,lu=0;lu<ru.length-1;lu++){var du=uu;uu=0;for(var mu=nu&67108863,cu=Math.min(lu,_a.length-1),eu=Math.max(0,lu-yu.length+1);eu<=cu;eu++){var hu=lu-eu,Eu=yu.words[hu]|0,Ru=_a.words[eu]|0,Tu=Eu*Ru,qu=Tu&67108863;du=du+(Tu/67108864|0)|0,qu=qu+mu|0,mu=qu&67108863,du=du+(qu>>>26)|0,uu+=du>>>26,du&=67108863}ru.words[lu]=mu,nu=du,du=uu}return nu!==0?ru.words[lu]=nu:ru.length--,ru.strip()}function $u(yu,_a,ru){var nu=new wu;return nu.mulp(yu,_a,ru)}na.prototype.mulTo=function(_a,ru){var nu,uu=this.length+_a.length;return this.length===10&&_a.length===10?nu=bu(this,_a,ru):uu<63?nu=gu(this,_a,ru):uu<1024?nu=xu(this,_a,ru):nu=$u(this,_a,ru),nu};function wu(yu,_a){this.x=yu,this.y=_a}wu.prototype.makeRBT=function(_a){for(var ru=new Array(_a),nu=na.prototype._countBits(_a)-1,uu=0;uu<_a;uu++)ru[uu]=this.revBin(uu,nu,_a);return ru},wu.prototype.revBin=function(_a,ru,nu){if(_a===0||_a===nu-1)return _a;for(var uu=0,lu=0;lu<ru;lu++)uu|=(_a&1)<<ru-lu-1,_a>>=1;return uu},wu.prototype.permute=function(_a,ru,nu,uu,lu,du){for(var mu=0;mu<du;mu++)uu[mu]=ru[_a[mu]],lu[mu]=nu[_a[mu]]},wu.prototype.transform=function(_a,ru,nu,uu,lu,du){this.permute(du,_a,ru,nu,uu,lu);for(var mu=1;mu<lu;mu<<=1)for(var cu=mu<<1,eu=Math.cos(2*Math.PI/cu),hu=Math.sin(2*Math.PI/cu),Eu=0;Eu<lu;Eu+=cu)for(var Ru=eu,Tu=hu,qu=0;qu<mu;qu++){var Du=nu[Eu+qu],Iu=uu[Eu+qu],Lu=nu[Eu+qu+mu],Uu=uu[Eu+qu+mu],Hu=Ru*Lu-Tu*Uu;Uu=Ru*Uu+Tu*Lu,Lu=Hu,nu[Eu+qu]=Du+Lu,uu[Eu+qu]=Iu+Uu,nu[Eu+qu+mu]=Du-Lu,uu[Eu+qu+mu]=Iu-Uu,qu!==cu&&(Hu=eu*Ru-hu*Tu,Tu=eu*Tu+hu*Ru,Ru=Hu)}},wu.prototype.guessLen13b=function(_a,ru){var nu=Math.max(ru,_a)|1,uu=nu&1,lu=0;for(nu=nu/2|0;nu;nu=nu>>>1)lu++;return 1<<lu+1+uu},wu.prototype.conjugate=function(_a,ru,nu){if(!(nu<=1))for(var uu=0;uu<nu/2;uu++){var lu=_a[uu];_a[uu]=_a[nu-uu-1],_a[nu-uu-1]=lu,lu=ru[uu],ru[uu]=-ru[nu-uu-1],ru[nu-uu-1]=-lu}},wu.prototype.normalize13b=function(_a,ru){for(var nu=0,uu=0;uu<ru/2;uu++){var lu=Math.round(_a[2*uu+1]/ru)*8192+Math.round(_a[2*uu]/ru)+nu;_a[uu]=lu&67108863,lu<67108864?nu=0:nu=lu/67108864|0}return _a},wu.prototype.convert13b=function(_a,ru,nu,uu){for(var lu=0,du=0;du<ru;du++)lu=lu+(_a[du]|0),nu[2*du]=lu&8191,lu=lu>>>13,nu[2*du+1]=lu&8191,lu=lu>>>13;for(du=2*ru;du<uu;++du)nu[du]=0;cs(lu===0),cs((lu&-8192)===0)},wu.prototype.stub=function(_a){for(var ru=new Array(_a),nu=0;nu<_a;nu++)ru[nu]=0;return ru},wu.prototype.mulp=function(_a,ru,nu){var uu=2*this.guessLen13b(_a.length,ru.length),lu=this.makeRBT(uu),du=this.stub(uu),mu=new Array(uu),cu=new Array(uu),eu=new Array(uu),hu=new Array(uu),Eu=new Array(uu),Ru=new Array(uu),Tu=nu.words;Tu.length=uu,this.convert13b(_a.words,_a.length,mu,uu),this.convert13b(ru.words,ru.length,hu,uu),this.transform(mu,du,cu,eu,uu,lu),this.transform(hu,du,Eu,Ru,uu,lu);for(var qu=0;qu<uu;qu++){var Du=cu[qu]*Eu[qu]-eu[qu]*Ru[qu];eu[qu]=cu[qu]*Ru[qu]+eu[qu]*Eu[qu],cu[qu]=Du}return this.conjugate(cu,eu,uu),this.transform(cu,eu,Tu,du,uu,lu),this.conjugate(Tu,du,uu),this.normalize13b(Tu,uu),nu.negative=_a.negative^ru.negative,nu.length=_a.length+ru.length,nu.strip()},na.prototype.mul=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),this.mulTo(_a,ru)},na.prototype.mulf=function(_a){var ru=new na(null);return ru.words=new Array(this.length+_a.length),$u(this,_a,ru)},na.prototype.imul=function(_a){return this.clone().mulTo(_a,this)},na.prototype.imuln=function(_a){cs(typeof _a=="number"),cs(_a<67108864);for(var ru=0,nu=0;nu<this.length;nu++){var uu=(this.words[nu]|0)*_a,lu=(uu&67108863)+(ru&67108863);ru>>=26,ru+=uu/67108864|0,ru+=lu>>>26,this.words[nu]=lu&67108863}return ru!==0&&(this.words[nu]=ru,this.length++),this},na.prototype.muln=function(_a){return this.clone().imuln(_a)},na.prototype.sqr=function(){return this.mul(this)},na.prototype.isqr=function(){return this.imul(this.clone())},na.prototype.pow=function(_a){var ru=vu(_a);if(ru.length===0)return new na(1);for(var nu=this,uu=0;uu<ru.length&&ru[uu]===0;uu++,nu=nu.sqr());if(++uu<ru.length)for(var lu=nu.sqr();uu<ru.length;uu++,lu=lu.sqr())ru[uu]!==0&&(nu=nu.mul(lu));return nu},na.prototype.iushln=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=67108863>>>26-ru<<26-ru,lu;if(ru!==0){var du=0;for(lu=0;lu<this.length;lu++){var mu=this.words[lu]&uu,cu=(this.words[lu]|0)-mu<<ru;this.words[lu]=cu|du,du=mu>>>26-ru}du&&(this.words[lu]=du,this.length++)}if(nu!==0){for(lu=this.length-1;lu>=0;lu--)this.words[lu+nu]=this.words[lu];for(lu=0;lu<nu;lu++)this.words[lu]=0;this.length+=nu}return this.strip()},na.prototype.ishln=function(_a){return cs(this.negative===0),this.iushln(_a)},na.prototype.iushrn=function(_a,ru,nu){cs(typeof _a=="number"&&_a>=0);var uu;ru?uu=(ru-ru%26)/26:uu=0;var lu=_a%26,du=Math.min((_a-lu)/26,this.length),mu=67108863^67108863>>>lu<<lu,cu=nu;if(uu-=du,uu=Math.max(0,uu),cu){for(var eu=0;eu<du;eu++)cu.words[eu]=this.words[eu];cu.length=du}if(du!==0)if(this.length>du)for(this.length-=du,eu=0;eu<this.length;eu++)this.words[eu]=this.words[eu+du];else this.words[0]=0,this.length=1;var hu=0;for(eu=this.length-1;eu>=0&&(hu!==0||eu>=uu);eu--){var Eu=this.words[eu]|0;this.words[eu]=hu<<26-lu|Eu>>>lu,hu=Eu&mu}return cu&&hu!==0&&(cu.words[cu.length++]=hu),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},na.prototype.ishrn=function(_a,ru,nu){return cs(this.negative===0),this.iushrn(_a,ru,nu)},na.prototype.shln=function(_a){return this.clone().ishln(_a)},na.prototype.ushln=function(_a){return this.clone().iushln(_a)},na.prototype.shrn=function(_a){return this.clone().ishrn(_a)},na.prototype.ushrn=function(_a){return this.clone().iushrn(_a)},na.prototype.testn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return!1;var lu=this.words[nu];return!!(lu&uu)},na.prototype.imaskn=function(_a){cs(typeof _a=="number"&&_a>=0);var ru=_a%26,nu=(_a-ru)/26;if(cs(this.negative===0,"imaskn works only with positive numbers"),this.length<=nu)return this;if(ru!==0&&nu++,this.length=Math.min(nu,this.length),ru!==0){var uu=67108863^67108863>>>ru<<ru;this.words[this.length-1]&=uu}return this.strip()},na.prototype.maskn=function(_a){return this.clone().imaskn(_a)},na.prototype.iaddn=function(_a){return cs(typeof _a=="number"),cs(_a<67108864),_a<0?this.isubn(-_a):this.negative!==0?this.length===1&&(this.words[0]|0)<_a?(this.words[0]=_a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_a),this.negative=1,this):this._iaddn(_a)},na.prototype._iaddn=function(_a){this.words[0]+=_a;for(var ru=0;ru<this.length&&this.words[ru]>=67108864;ru++)this.words[ru]-=67108864,ru===this.length-1?this.words[ru+1]=1:this.words[ru+1]++;return this.length=Math.max(this.length,ru+1),this},na.prototype.isubn=function(_a){if(cs(typeof _a=="number"),cs(_a<67108864),_a<0)return this.iaddn(-_a);if(this.negative!==0)return this.negative=0,this.iaddn(_a),this.negative=1,this;if(this.words[0]-=_a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ru=0;ru<this.length&&this.words[ru]<0;ru++)this.words[ru]+=67108864,this.words[ru+1]-=1;return this.strip()},na.prototype.addn=function(_a){return this.clone().iaddn(_a)},na.prototype.subn=function(_a){return this.clone().isubn(_a)},na.prototype.iabs=function(){return this.negative=0,this},na.prototype.abs=function(){return this.clone().iabs()},na.prototype._ishlnsubmul=function(_a,ru,nu){var uu=_a.length+nu,lu;this._expand(uu);var du,mu=0;for(lu=0;lu<_a.length;lu++){du=(this.words[lu+nu]|0)+mu;var cu=(_a.words[lu]|0)*ru;du-=cu&67108863,mu=(du>>26)-(cu/67108864|0),this.words[lu+nu]=du&67108863}for(;lu<this.length-nu;lu++)du=(this.words[lu+nu]|0)+mu,mu=du>>26,this.words[lu+nu]=du&67108863;if(mu===0)return this.strip();for(cs(mu===-1),mu=0,lu=0;lu<this.length;lu++)du=-(this.words[lu]|0)+mu,mu=du>>26,this.words[lu]=du&67108863;return this.negative=1,this.strip()},na.prototype._wordDiv=function(_a,ru){var nu=this.length-_a.length,uu=this.clone(),lu=_a,du=lu.words[lu.length-1]|0,mu=this._countBits(du);nu=26-mu,nu!==0&&(lu=lu.ushln(nu),uu.iushln(nu),du=lu.words[lu.length-1]|0);var cu=uu.length-lu.length,eu;if(ru!=="mod"){eu=new na(null),eu.length=cu+1,eu.words=new Array(eu.length);for(var hu=0;hu<eu.length;hu++)eu.words[hu]=0}var Eu=uu.clone()._ishlnsubmul(lu,1,cu);Eu.negative===0&&(uu=Eu,eu&&(eu.words[cu]=1));for(var Ru=cu-1;Ru>=0;Ru--){var Tu=(uu.words[lu.length+Ru]|0)*67108864+(uu.words[lu.length+Ru-1]|0);for(Tu=Math.min(Tu/du|0,67108863),uu._ishlnsubmul(lu,Tu,Ru);uu.negative!==0;)Tu--,uu.negative=0,uu._ishlnsubmul(lu,1,Ru),uu.isZero()||(uu.negative^=1);eu&&(eu.words[Ru]=Tu)}return eu&&eu.strip(),uu.strip(),ru!=="div"&&nu!==0&&uu.iushrn(nu),{div:eu||null,mod:uu}},na.prototype.divmod=function(_a,ru,nu){if(cs(!_a.isZero()),this.isZero())return{div:new na(0),mod:new na(0)};var uu,lu,du;return this.negative!==0&&_a.negative===0?(du=this.neg().divmod(_a,ru),ru!=="mod"&&(uu=du.div.neg()),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.iadd(_a)),{div:uu,mod:lu}):this.negative===0&&_a.negative!==0?(du=this.divmod(_a.neg(),ru),ru!=="mod"&&(uu=du.div.neg()),{div:uu,mod:du.mod}):this.negative&_a.negative?(du=this.neg().divmod(_a.neg(),ru),ru!=="div"&&(lu=du.mod.neg(),nu&&lu.negative!==0&&lu.isub(_a)),{div:du.div,mod:lu}):_a.length>this.length||this.cmp(_a)<0?{div:new na(0),mod:this}:_a.length===1?ru==="div"?{div:this.divn(_a.words[0]),mod:null}:ru==="mod"?{div:null,mod:new na(this.modn(_a.words[0]))}:{div:this.divn(_a.words[0]),mod:new na(this.modn(_a.words[0]))}:this._wordDiv(_a,ru)},na.prototype.div=function(_a){return this.divmod(_a,"div",!1).div},na.prototype.mod=function(_a){return this.divmod(_a,"mod",!1).mod},na.prototype.umod=function(_a){return this.divmod(_a,"mod",!0).mod},na.prototype.divRound=function(_a){var ru=this.divmod(_a);if(ru.mod.isZero())return ru.div;var nu=ru.div.negative!==0?ru.mod.isub(_a):ru.mod,uu=_a.ushrn(1),lu=_a.andln(1),du=nu.cmp(uu);return du<0||lu===1&&du===0?ru.div:ru.div.negative!==0?ru.div.isubn(1):ru.div.iaddn(1)},na.prototype.modn=function(_a){cs(_a<=67108863);for(var ru=(1<<26)%_a,nu=0,uu=this.length-1;uu>=0;uu--)nu=(ru*nu+(this.words[uu]|0))%_a;return nu},na.prototype.idivn=function(_a){cs(_a<=67108863);for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=(this.words[nu]|0)+ru*67108864;this.words[nu]=uu/_a|0,ru=uu%_a}return this.strip()},na.prototype.divn=function(_a){return this.clone().idivn(_a)},na.prototype.egcd=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=new na(0),mu=new na(1),cu=0;ru.isEven()&&nu.isEven();)ru.iushrn(1),nu.iushrn(1),++cu;for(var eu=nu.clone(),hu=ru.clone();!ru.isZero();){for(var Eu=0,Ru=1;!(ru.words[0]&Ru)&&Eu<26;++Eu,Ru<<=1);if(Eu>0)for(ru.iushrn(Eu);Eu-- >0;)(uu.isOdd()||lu.isOdd())&&(uu.iadd(eu),lu.isub(hu)),uu.iushrn(1),lu.iushrn(1);for(var Tu=0,qu=1;!(nu.words[0]&qu)&&Tu<26;++Tu,qu<<=1);if(Tu>0)for(nu.iushrn(Tu);Tu-- >0;)(du.isOdd()||mu.isOdd())&&(du.iadd(eu),mu.isub(hu)),du.iushrn(1),mu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(du),lu.isub(mu)):(nu.isub(ru),du.isub(uu),mu.isub(lu))}return{a:du,b:mu,gcd:nu.iushln(cu)}},na.prototype._invmp=function(_a){cs(_a.negative===0),cs(!_a.isZero());var ru=this,nu=_a.clone();ru.negative!==0?ru=ru.umod(_a):ru=ru.clone();for(var uu=new na(1),lu=new na(0),du=nu.clone();ru.cmpn(1)>0&&nu.cmpn(1)>0;){for(var mu=0,cu=1;!(ru.words[0]&cu)&&mu<26;++mu,cu<<=1);if(mu>0)for(ru.iushrn(mu);mu-- >0;)uu.isOdd()&&uu.iadd(du),uu.iushrn(1);for(var eu=0,hu=1;!(nu.words[0]&hu)&&eu<26;++eu,hu<<=1);if(eu>0)for(nu.iushrn(eu);eu-- >0;)lu.isOdd()&&lu.iadd(du),lu.iushrn(1);ru.cmp(nu)>=0?(ru.isub(nu),uu.isub(lu)):(nu.isub(ru),lu.isub(uu))}var Eu;return ru.cmpn(1)===0?Eu=uu:Eu=lu,Eu.cmpn(0)<0&&Eu.iadd(_a),Eu},na.prototype.gcd=function(_a){if(this.isZero())return _a.abs();if(_a.isZero())return this.abs();var ru=this.clone(),nu=_a.clone();ru.negative=0,nu.negative=0;for(var uu=0;ru.isEven()&&nu.isEven();uu++)ru.iushrn(1),nu.iushrn(1);do{for(;ru.isEven();)ru.iushrn(1);for(;nu.isEven();)nu.iushrn(1);var lu=ru.cmp(nu);if(lu<0){var du=ru;ru=nu,nu=du}else if(lu===0||nu.cmpn(1)===0)break;ru.isub(nu)}while(!0);return nu.iushln(uu)},na.prototype.invm=function(_a){return this.egcd(_a).a.umod(_a)},na.prototype.isEven=function(){return(this.words[0]&1)===0},na.prototype.isOdd=function(){return(this.words[0]&1)===1},na.prototype.andln=function(_a){return this.words[0]&_a},na.prototype.bincn=function(_a){cs(typeof _a=="number");var ru=_a%26,nu=(_a-ru)/26,uu=1<<ru;if(this.length<=nu)return this._expand(nu+1),this.words[nu]|=uu,this;for(var lu=uu,du=nu;lu!==0&&du<this.length;du++){var mu=this.words[du]|0;mu+=lu,lu=mu>>>26,mu&=67108863,this.words[du]=mu}return lu!==0&&(this.words[du]=lu,this.length++),this},na.prototype.isZero=function(){return this.length===1&&this.words[0]===0},na.prototype.cmpn=function(_a){var ru=_a<0;if(this.negative!==0&&!ru)return-1;if(this.negative===0&&ru)return 1;this.strip();var nu;if(this.length>1)nu=1;else{ru&&(_a=-_a),cs(_a<=67108863,"Number is too big");var uu=this.words[0]|0;nu=uu===_a?0:uu<_a?-1:1}return this.negative!==0?-nu|0:nu},na.prototype.cmp=function(_a){if(this.negative!==0&&_a.negative===0)return-1;if(this.negative===0&&_a.negative!==0)return 1;var ru=this.ucmp(_a);return this.negative!==0?-ru|0:ru},na.prototype.ucmp=function(_a){if(this.length>_a.length)return 1;if(this.length<_a.length)return-1;for(var ru=0,nu=this.length-1;nu>=0;nu--){var uu=this.words[nu]|0,lu=_a.words[nu]|0;if(uu!==lu){uu<lu?ru=-1:uu>lu&&(ru=1);break}}return ru},na.prototype.gtn=function(_a){return this.cmpn(_a)===1},na.prototype.gt=function(_a){return this.cmp(_a)===1},na.prototype.gten=function(_a){return this.cmpn(_a)>=0},na.prototype.gte=function(_a){return this.cmp(_a)>=0},na.prototype.ltn=function(_a){return this.cmpn(_a)===-1},na.prototype.lt=function(_a){return this.cmp(_a)===-1},na.prototype.lten=function(_a){return this.cmpn(_a)<=0},na.prototype.lte=function(_a){return this.cmp(_a)<=0},na.prototype.eqn=function(_a){return this.cmpn(_a)===0},na.prototype.eq=function(_a){return this.cmp(_a)===0},na.red=function(_a){return new Ou(_a)},na.prototype.toRed=function(_a){return cs(!this.red,"Already a number in reduction context"),cs(this.negative===0,"red works only with positives"),_a.convertTo(this)._forceRed(_a)},na.prototype.fromRed=function(){return cs(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},na.prototype._forceRed=function(_a){return this.red=_a,this},na.prototype.forceRed=function(_a){return cs(!this.red,"Already a number in reduction context"),this._forceRed(_a)},na.prototype.redAdd=function(_a){return cs(this.red,"redAdd works only with red numbers"),this.red.add(this,_a)},na.prototype.redIAdd=function(_a){return cs(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_a)},na.prototype.redSub=function(_a){return cs(this.red,"redSub works only with red numbers"),this.red.sub(this,_a)},na.prototype.redISub=function(_a){return cs(this.red,"redISub works only with red numbers"),this.red.isub(this,_a)},na.prototype.redShl=function(_a){return cs(this.red,"redShl works only with red numbers"),this.red.shl(this,_a)},na.prototype.redMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.mul(this,_a)},na.prototype.redIMul=function(_a){return cs(this.red,"redMul works only with red numbers"),this.red._verify2(this,_a),this.red.imul(this,_a)},na.prototype.redSqr=function(){return cs(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},na.prototype.redISqr=function(){return cs(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},na.prototype.redSqrt=function(){return cs(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},na.prototype.redInvm=function(){return cs(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},na.prototype.redNeg=function(){return cs(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},na.prototype.redPow=function(_a){return cs(this.red&&!_a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_a)};var _u={k256:null,p224:null,p192:null,p25519:null};function Mu(yu,_a){this.name=yu,this.p=new na(_a,16),this.n=this.p.bitLength(),this.k=new na(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mu.prototype._tmp=function(){var _a=new na(null);return _a.words=new Array(Math.ceil(this.n/13)),_a},Mu.prototype.ireduce=function(_a){var ru=_a,nu;do this.split(ru,this.tmp),ru=this.imulK(ru),ru=ru.iadd(this.tmp),nu=ru.bitLength();while(nu>this.n);var uu=nu<this.n?-1:ru.ucmp(this.p);return uu===0?(ru.words[0]=0,ru.length=1):uu>0?ru.isub(this.p):ru.strip!==void 0?ru.strip():ru._strip(),ru},Mu.prototype.split=function(_a,ru){_a.iushrn(this.n,0,ru)},Mu.prototype.imulK=function(_a){return _a.imul(this.k)};function Au(){Mu.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$a(Au,Mu),Au.prototype.split=function(_a,ru){for(var nu=4194303,uu=Math.min(_a.length,9),lu=0;lu<uu;lu++)ru.words[lu]=_a.words[lu];if(ru.length=uu,_a.length<=9){_a.words[0]=0,_a.length=1;return}var du=_a.words[9];for(ru.words[ru.length++]=du&nu,lu=10;lu<_a.length;lu++){var mu=_a.words[lu]|0;_a.words[lu-10]=(mu&nu)<<4|du>>>22,du=mu}du>>>=22,_a.words[lu-10]=du,du===0&&_a.length>10?_a.length-=10:_a.length-=9},Au.prototype.imulK=function(_a){_a.words[_a.length]=0,_a.words[_a.length+1]=0,_a.length+=2;for(var ru=0,nu=0;nu<_a.length;nu++){var uu=_a.words[nu]|0;ru+=uu*977,_a.words[nu]=ru&67108863,ru=uu*64+(ru/67108864|0)}return _a.words[_a.length-1]===0&&(_a.length--,_a.words[_a.length-1]===0&&_a.length--),_a};function Pu(){Mu.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$a(Pu,Mu);function Su(){Mu.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$a(Su,Mu);function Bu(){Mu.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$a(Bu,Mu),Bu.prototype.imulK=function(_a){for(var ru=0,nu=0;nu<_a.length;nu++){var uu=(_a.words[nu]|0)*19+ru,lu=uu&67108863;uu>>>=26,_a.words[nu]=lu,ru=uu}return ru!==0&&(_a.words[_a.length++]=ru),_a},na._prime=function(_a){if(_u[_a])return _u[_a];var ru;if(_a==="k256")ru=new Au;else if(_a==="p224")ru=new Pu;else if(_a==="p192")ru=new Su;else if(_a==="p25519")ru=new Bu;else throw new Error("Unknown prime "+_a);return _u[_a]=ru,ru};function Ou(yu){if(typeof yu=="string"){var _a=na._prime(yu);this.m=_a.p,this.prime=_a}else cs(yu.gtn(1),"modulus must be greater than 1"),this.m=yu,this.prime=null}Ou.prototype._verify1=function(_a){cs(_a.negative===0,"red works only with positives"),cs(_a.red,"red works only with red numbers")},Ou.prototype._verify2=function(_a,ru){cs((_a.negative|ru.negative)===0,"red works only with positives"),cs(_a.red&&_a.red===ru.red,"red works only with red numbers")},Ou.prototype.imod=function(_a){return this.prime?this.prime.ireduce(_a)._forceRed(this):_a.umod(this.m)._forceRed(this)},Ou.prototype.neg=function(_a){return _a.isZero()?_a.clone():this.m.sub(_a)._forceRed(this)},Ou.prototype.add=function(_a,ru){this._verify2(_a,ru);var nu=_a.add(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu._forceRed(this)},Ou.prototype.iadd=function(_a,ru){this._verify2(_a,ru);var nu=_a.iadd(ru);return nu.cmp(this.m)>=0&&nu.isub(this.m),nu},Ou.prototype.sub=function(_a,ru){this._verify2(_a,ru);var nu=_a.sub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu._forceRed(this)},Ou.prototype.isub=function(_a,ru){this._verify2(_a,ru);var nu=_a.isub(ru);return nu.cmpn(0)<0&&nu.iadd(this.m),nu},Ou.prototype.shl=function(_a,ru){return this._verify1(_a),this.imod(_a.ushln(ru))},Ou.prototype.imul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.imul(ru))},Ou.prototype.mul=function(_a,ru){return this._verify2(_a,ru),this.imod(_a.mul(ru))},Ou.prototype.isqr=function(_a){return this.imul(_a,_a.clone())},Ou.prototype.sqr=function(_a){return this.mul(_a,_a)},Ou.prototype.sqrt=function(_a){if(_a.isZero())return _a.clone();var ru=this.m.andln(3);if(cs(ru%2===1),ru===3){var nu=this.m.add(new na(1)).iushrn(2);return this.pow(_a,nu)}for(var uu=this.m.subn(1),lu=0;!uu.isZero()&&uu.andln(1)===0;)lu++,uu.iushrn(1);cs(!uu.isZero());var du=new na(1).toRed(this),mu=du.redNeg(),cu=this.m.subn(1).iushrn(1),eu=this.m.bitLength();for(eu=new na(2*eu*eu).toRed(this);this.pow(eu,cu).cmp(mu)!==0;)eu.redIAdd(mu);for(var hu=this.pow(eu,uu),Eu=this.pow(_a,uu.addn(1).iushrn(1)),Ru=this.pow(_a,uu),Tu=lu;Ru.cmp(du)!==0;){for(var qu=Ru,Du=0;qu.cmp(du)!==0;Du++)qu=qu.redSqr();cs(Du<Tu);var Iu=this.pow(hu,new na(1).iushln(Tu-Du-1));Eu=Eu.redMul(Iu),hu=Iu.redSqr(),Ru=Ru.redMul(hu),Tu=Du}return Eu},Ou.prototype.invm=function(_a){var ru=_a._invmp(this.m);return ru.negative!==0?(ru.negative=0,this.imod(ru).redNeg()):this.imod(ru)},Ou.prototype.pow=function(_a,ru){if(ru.isZero())return new na(1).toRed(this);if(ru.cmpn(1)===0)return _a.clone();var nu=4,uu=new Array(1<<nu);uu[0]=new na(1).toRed(this),uu[1]=_a;for(var lu=2;lu<uu.length;lu++)uu[lu]=this.mul(uu[lu-1],_a);var du=uu[0],mu=0,cu=0,eu=ru.bitLength()%26;for(eu===0&&(eu=26),lu=ru.length-1;lu>=0;lu--){for(var hu=ru.words[lu],Eu=eu-1;Eu>=0;Eu--){var Ru=hu>>Eu&1;if(du!==uu[0]&&(du=this.sqr(du)),Ru===0&&mu===0){cu=0;continue}mu<<=1,mu|=Ru,cu++,!(cu!==nu&&(lu!==0||Eu!==0))&&(du=this.mul(du,uu[mu]),cu=0,mu=0)}eu=26}return du},Ou.prototype.convertTo=function(_a){var ru=_a.umod(this.m);return ru===_a?ru.clone():ru},Ou.prototype.convertFrom=function(_a){var ru=_a.clone();return ru.red=null,ru},na.mont=function(_a){return new Vu(_a)};function Vu(yu){Ou.call(this,yu),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new na(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$a(Vu,Ou),Vu.prototype.convertTo=function(_a){return this.imod(_a.ushln(this.shift))},Vu.prototype.convertFrom=function(_a){var ru=this.imod(_a.mul(this.rinv));return ru.red=null,ru},Vu.prototype.imul=function(_a,ru){if(_a.isZero()||ru.isZero())return _a.words[0]=0,_a.length=1,_a;var nu=_a.imul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.mul=function(_a,ru){if(_a.isZero()||ru.isZero())return new na(0)._forceRed(this);var nu=_a.mul(ru),uu=nu.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lu=nu.isub(uu).iushrn(this.shift),du=lu;return lu.cmp(this.m)>=0?du=lu.isub(this.m):lu.cmpn(0)<0&&(du=lu.iadd(this.m)),du._forceRed(this)},Vu.prototype.invm=function(_a){var ru=this.imod(_a._invmp(this.m).mul(this.r2));return ru._forceRed(this)}})(ss,commonjsGlobal)}(bn$2)),bn$2.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var ss=requireBn(),as=safeBufferExports.Buffer;function us(cs,$a){return as.from(cs.toRed(ss.mont($a.modulus)).redPow(new ss($a.publicExponent)).fromRed().toArray())}return withPublic_1=us,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var ss=requireParseAsn1(),as=requireBrowser$b(),us=requireBrowser$a(),cs=requireMgf(),$a=requireXor(),na=requireBn(),tu=requireWithPublic(),iu=requireBrowserifyRsa(),su=safeBufferExports.Buffer;publicEncrypt=function(vu,gu,bu){var xu;vu.padding?xu=vu.padding:bu?xu=1:xu=4;var $u=ss(vu),wu;if(xu===4)wu=au($u,gu);else if(xu===1)wu=ou($u,gu,bu);else if(xu===3){if(wu=new na(gu),wu.cmp($u.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return bu?iu(wu,$u):tu(wu,$u)};function au(pu,vu){var gu=pu.modulus.byteLength(),bu=vu.length,xu=us("sha1").update(su.alloc(0)).digest(),$u=xu.length,wu=2*$u;if(bu>gu-wu-2)throw new Error("message too long");var _u=su.alloc(gu-bu-wu-2),Mu=gu-$u-1,Au=as($u),Pu=$a(su.concat([xu,_u,su.alloc(1,1),vu],Mu),cs(Au,Mu)),Su=$a(Au,cs(Pu,$u));return new na(su.concat([su.alloc(1),Su,Pu],gu))}function ou(pu,vu,gu){var bu=vu.length,xu=pu.modulus.byteLength();if(bu>xu-11)throw new Error("message too long");var $u;return gu?$u=su.alloc(xu-bu-3,255):$u=fu(xu-bu-3),new na(su.concat([su.from([0,gu?1:2]),$u,su.alloc(1),vu],xu))}function fu(pu){for(var vu=su.allocUnsafe(pu),gu=0,bu=as(pu*2),xu=0,$u;gu<pu;)xu===bu.length&&(bu=as(pu*2),xu=0),$u=bu[xu++],$u&&(vu[gu++]=$u);return vu}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var ss=requireParseAsn1(),as=requireMgf(),us=requireXor(),cs=requireBn(),$a=requireBrowserifyRsa(),na=requireBrowser$a(),tu=requireWithPublic(),iu=safeBufferExports.Buffer;privateDecrypt=function(pu,vu,gu){var bu;pu.padding?bu=pu.padding:gu?bu=1:bu=4;var xu=ss(pu),$u=xu.modulus.byteLength();if(vu.length>$u||new cs(vu).cmp(xu.modulus)>=0)throw new Error("decryption error");var wu;gu?wu=tu(new cs(vu),xu):wu=$a(vu,xu);var _u=iu.alloc($u-wu.length);if(wu=iu.concat([_u,wu],$u),bu===4)return su(xu,wu);if(bu===1)return au(xu,wu,gu);if(bu===3)return wu;throw new Error("unknown padding")};function su(fu,pu){var vu=fu.modulus.byteLength(),gu=na("sha1").update(iu.alloc(0)).digest(),bu=gu.length;if(pu[0]!==0)throw new Error("decryption error");var xu=pu.slice(1,bu+1),$u=pu.slice(bu+1),wu=us(xu,as($u,bu)),_u=us($u,as(wu,vu-bu-1));if(ou(gu,_u.slice(0,bu)))throw new Error("decryption error");for(var Mu=bu;_u[Mu]===0;)Mu++;if(_u[Mu++]!==1)throw new Error("decryption error");return _u.slice(Mu)}function au(fu,pu,vu){for(var gu=pu.slice(0,2),bu=2,xu=0;pu[bu++]!==0;)if(bu>=pu.length){xu++;break}var $u=pu.slice(2,bu-1);if((gu.toString("hex")!=="0002"&&!vu||gu.toString("hex")!=="0001"&&vu)&&xu++,$u.length<8&&xu++,xu)throw new Error("decryption error");return pu.slice(bu)}function ou(fu,pu){fu=iu.from(fu),pu=iu.from(pu);var vu=0,gu=fu.length;fu.length!==pu.length&&(vu++,gu=Math.min(fu.length,pu.length));for(var bu=-1;++bu<gu;)vu+=fu[bu]^pu[bu];return vu}return privateDecrypt}var hasRequiredBrowser$2;function requireBrowser$2(){return hasRequiredBrowser$2||(hasRequiredBrowser$2=1,function(ss){ss.publicEncrypt=requirePublicEncrypt(),ss.privateDecrypt=requirePrivateDecrypt(),ss.privateEncrypt=function(us,cs){return ss.publicEncrypt(us,cs,!0)},ss.publicDecrypt=function(us,cs){return ss.privateDecrypt(us,cs,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$2;hasRequiredBrowser$1=1;function ss(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var as=safeBufferExports,us=requireBrowser$b(),cs=as.Buffer,$a=as.kMaxLength,na=commonjsGlobal.crypto||commonjsGlobal.msCrypto,tu=Math.pow(2,32)-1;function iu(pu,vu){if(typeof pu!="number"||pu!==pu)throw new TypeError("offset must be a number");if(pu>tu||pu<0)throw new TypeError("offset must be a uint32");if(pu>$a||pu>vu)throw new RangeError("offset out of range")}function su(pu,vu,gu){if(typeof pu!="number"||pu!==pu)throw new TypeError("size must be a number");if(pu>tu||pu<0)throw new TypeError("size must be a uint32");if(pu+vu>gu||pu>$a)throw new RangeError("buffer too small")}na&&na.getRandomValues||!process$1.browser?(browser$2.randomFill=au,browser$2.randomFillSync=fu):(browser$2.randomFill=ss,browser$2.randomFillSync=ss);function au(pu,vu,gu,bu){if(!cs.isBuffer(pu)&&!(pu instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof vu=="function")bu=vu,vu=0,gu=pu.length;else if(typeof gu=="function")bu=gu,gu=pu.length-vu;else if(typeof bu!="function")throw new TypeError('"cb" argument must be a function');return iu(vu,pu.length),su(gu,vu,pu.length),ou(pu,vu,gu,bu)}function ou(pu,vu,gu,bu){if(process$1.browser){var xu=pu.buffer,$u=new Uint8Array(xu,vu,gu);if(na.getRandomValues($u),bu){process$1.nextTick(function(){bu(null,pu)});return}return pu}if(bu){us(gu,function(_u,Mu){if(_u)return bu(_u);Mu.copy(pu,vu),bu(null,pu)});return}var wu=us(gu);return wu.copy(pu,vu),pu}function fu(pu,vu,gu){if(typeof vu>"u"&&(vu=0),!cs.isBuffer(pu)&&!(pu instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return iu(vu,pu.length),gu===void 0&&(gu=pu.length-vu),su(gu,vu,pu.length),ou(pu,vu,gu)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$a(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$9();var ss=requireAlgos(),as=Object.keys(ss),us=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(as);cryptoBrowserify.getHashes=function(){return us};var cs=requireBrowser$8();cryptoBrowserify.pbkdf2=cs.pbkdf2,cryptoBrowserify.pbkdf2Sync=cs.pbkdf2Sync;var $a=requireBrowser$6();cryptoBrowserify.Cipher=$a.Cipher,cryptoBrowserify.createCipher=$a.createCipher,cryptoBrowserify.Cipheriv=$a.Cipheriv,cryptoBrowserify.createCipheriv=$a.createCipheriv,cryptoBrowserify.Decipher=$a.Decipher,cryptoBrowserify.createDecipher=$a.createDecipher,cryptoBrowserify.Decipheriv=$a.Decipheriv,cryptoBrowserify.createDecipheriv=$a.createDecipheriv,cryptoBrowserify.getCiphers=$a.getCiphers,cryptoBrowserify.listCiphers=$a.listCiphers;var na=requireBrowser$5();cryptoBrowserify.DiffieHellmanGroup=na.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=na.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=na.getDiffieHellman,cryptoBrowserify.createDiffieHellman=na.createDiffieHellman,cryptoBrowserify.DiffieHellman=na.DiffieHellman;var tu=requireBrowser$4();cryptoBrowserify.createSign=tu.createSign,cryptoBrowserify.Sign=tu.Sign,cryptoBrowserify.createVerify=tu.createVerify,cryptoBrowserify.Verify=tu.Verify,cryptoBrowserify.createECDH=requireBrowser$3();var iu=requireBrowser$2();cryptoBrowserify.publicEncrypt=iu.publicEncrypt,cryptoBrowserify.privateEncrypt=iu.privateEncrypt,cryptoBrowserify.publicDecrypt=iu.publicDecrypt,cryptoBrowserify.privateDecrypt=iu.privateDecrypt;var su=requireBrowser$1();return cryptoBrowserify.randomFill=su.randomFill,cryptoBrowserify.randomFillSync=su.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$1,"__esModule",{value:!0});node$1.NodeRandomSource=void 0;const wipe_1=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const as=requireCryptoBrowserify();as&&as.randomBytes&&(this._crypto=as,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(as){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let us=this._crypto.randomBytes(as);if(us.length!==as)throw new Error("NodeRandomSource: got fewer bytes than requested");const cs=new Uint8Array(as);for(let $a=0;$a<cs.length;$a++)cs[$a]=us[$a];return(0,wipe_1.wipe)(us),cs}}node$1.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$e,node_1=node$1;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(as){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(as)}}system.SystemRandomSource=SystemRandomSource;(function(ss){Object.defineProperty(ss,"__esModule",{value:!0}),ss.randomStringForEntropy=ss.randomString=ss.randomUint32=ss.randomBytes=ss.defaultRandomSource=void 0;const as=system,us=binary,cs=wipe$1;ss.defaultRandomSource=new as.SystemRandomSource;function $a(au,ou=ss.defaultRandomSource){return ou.randomBytes(au)}ss.randomBytes=$a;function na(au=ss.defaultRandomSource){const ou=$a(4,au),fu=(0,us.readUint32LE)(ou);return(0,cs.wipe)(ou),fu}ss.randomUint32=na;const tu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function iu(au,ou=tu,fu=ss.defaultRandomSource){if(ou.length<2)throw new Error("randomString charset is too short");if(ou.length>256)throw new Error("randomString charset is too long");let pu="";const vu=ou.length,gu=256-256%vu;for(;au>0;){const bu=$a(Math.ceil(au*256/gu),fu);for(let xu=0;xu<bu.length&&au>0;xu++){const $u=bu[xu];$u<gu&&(pu+=ou.charAt($u%vu),au--)}(0,cs.wipe)(bu)}return pu}ss.randomString=iu;function su(au,ou=tu,fu=ss.defaultRandomSource){const pu=Math.ceil(au/(Math.log(ou.length)/Math.LN2));return iu(pu,ou,fu)}ss.randomStringForEntropy=su})(random);var sha256={};(function(ss){Object.defineProperty(ss,"__esModule",{value:!0});var as=binary,us=wipe$1;ss.DIGEST_LENGTH=32,ss.BLOCK_SIZE=64;var cs=function(){function iu(){this.digestLength=ss.DIGEST_LENGTH,this.blockSize=ss.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return iu.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},iu.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},iu.prototype.clean=function(){us.wipe(this._buffer),us.wipe(this._temp),this.reset()},iu.prototype.update=function(su,au){if(au===void 0&&(au=su.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var ou=0;if(this._bytesHashed+=au,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&au>0;)this._buffer[this._bufferLength++]=su[ou++],au--;this._bufferLength===this.blockSize&&(na(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(au>=this.blockSize&&(ou=na(this._temp,this._state,su,ou,au),au%=this.blockSize);au>0;)this._buffer[this._bufferLength++]=su[ou++],au--;return this},iu.prototype.finish=function(su){if(!this._finished){var au=this._bytesHashed,ou=this._bufferLength,fu=au/536870912|0,pu=au<<3,vu=au%64<56?64:128;this._buffer[ou]=128;for(var gu=ou+1;gu<vu-8;gu++)this._buffer[gu]=0;as.writeUint32BE(fu,this._buffer,vu-8),as.writeUint32BE(pu,this._buffer,vu-4),na(this._temp,this._state,this._buffer,0,vu),this._finished=!0}for(var gu=0;gu<this.digestLength/4;gu++)as.writeUint32BE(this._state[gu],su,gu*4);return this},iu.prototype.digest=function(){var su=new Uint8Array(this.digestLength);return this.finish(su),su},iu.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},iu.prototype.restoreState=function(su){return this._state.set(su.state),this._bufferLength=su.bufferLength,su.buffer&&this._buffer.set(su.buffer),this._bytesHashed=su.bytesHashed,this._finished=!1,this},iu.prototype.cleanSavedState=function(su){us.wipe(su.state),su.buffer&&us.wipe(su.buffer),su.bufferLength=0,su.bytesHashed=0},iu}();ss.SHA256=cs;var $a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function na(iu,su,au,ou,fu){for(;fu>=64;){for(var pu=su[0],vu=su[1],gu=su[2],bu=su[3],xu=su[4],$u=su[5],wu=su[6],_u=su[7],Mu=0;Mu<16;Mu++){var Au=ou+Mu*4;iu[Mu]=as.readUint32BE(au,Au)}for(var Mu=16;Mu<64;Mu++){var Pu=iu[Mu-2],Su=(Pu>>>17|Pu<<15)^(Pu>>>19|Pu<<13)^Pu>>>10;Pu=iu[Mu-15];var Bu=(Pu>>>7|Pu<<25)^(Pu>>>18|Pu<<14)^Pu>>>3;iu[Mu]=(Su+iu[Mu-7]|0)+(Bu+iu[Mu-16]|0)}for(var Mu=0;Mu<64;Mu++){var Su=(((xu>>>6|xu<<26)^(xu>>>11|xu<<21)^(xu>>>25|xu<<7))+(xu&$u^~xu&wu)|0)+(_u+($a[Mu]+iu[Mu]|0)|0)|0,Bu=((pu>>>2|pu<<30)^(pu>>>13|pu<<19)^(pu>>>22|pu<<10))+(pu&vu^pu&gu^vu&gu)|0;_u=wu,wu=$u,$u=xu,xu=bu+Su|0,bu=gu,gu=vu,vu=pu,pu=Su+Bu|0}su[0]+=pu,su[1]+=vu,su[2]+=gu,su[3]+=bu,su[4]+=xu,su[5]+=$u,su[6]+=wu,su[7]+=_u,ou+=64,fu-=64}return ou}function tu(iu){var su=new cs;su.update(iu);var au=su.digest();return su.clean(),au}ss.hash=tu})(sha256);var x25519={};(function(ss){Object.defineProperty(ss,"__esModule",{value:!0}),ss.sharedKey=ss.generateKeyPair=ss.generateKeyPairFromSeed=ss.scalarMultBase=ss.scalarMult=ss.SHARED_KEY_LENGTH=ss.SECRET_KEY_LENGTH=ss.PUBLIC_KEY_LENGTH=void 0;const as=random,us=wipe$1;ss.PUBLIC_KEY_LENGTH=32,ss.SECRET_KEY_LENGTH=32,ss.SHARED_KEY_LENGTH=32;function cs(Mu){const Au=new Float64Array(16);if(Mu)for(let Pu=0;Pu<Mu.length;Pu++)Au[Pu]=Mu[Pu];return Au}const $a=new Uint8Array(32);$a[0]=9;const na=cs([56129,1]);function tu(Mu){let Au=1;for(let Pu=0;Pu<16;Pu++){let Su=Mu[Pu]+Au+65535;Au=Math.floor(Su/65536),Mu[Pu]=Su-Au*65536}Mu[0]+=Au-1+37*(Au-1)}function iu(Mu,Au,Pu){const Su=~(Pu-1);for(let Bu=0;Bu<16;Bu++){const Ou=Su&(Mu[Bu]^Au[Bu]);Mu[Bu]^=Ou,Au[Bu]^=Ou}}function su(Mu,Au){const Pu=cs(),Su=cs();for(let Bu=0;Bu<16;Bu++)Su[Bu]=Au[Bu];tu(Su),tu(Su),tu(Su);for(let Bu=0;Bu<2;Bu++){Pu[0]=Su[0]-65517;for(let Vu=1;Vu<15;Vu++)Pu[Vu]=Su[Vu]-65535-(Pu[Vu-1]>>16&1),Pu[Vu-1]&=65535;Pu[15]=Su[15]-32767-(Pu[14]>>16&1);const Ou=Pu[15]>>16&1;Pu[14]&=65535,iu(Su,Pu,1-Ou)}for(let Bu=0;Bu<16;Bu++)Mu[2*Bu]=Su[Bu]&255,Mu[2*Bu+1]=Su[Bu]>>8}function au(Mu,Au){for(let Pu=0;Pu<16;Pu++)Mu[Pu]=Au[2*Pu]+(Au[2*Pu+1]<<8);Mu[15]&=32767}function ou(Mu,Au,Pu){for(let Su=0;Su<16;Su++)Mu[Su]=Au[Su]+Pu[Su]}function fu(Mu,Au,Pu){for(let Su=0;Su<16;Su++)Mu[Su]=Au[Su]-Pu[Su]}function pu(Mu,Au,Pu){let Su,Bu,Ou=0,Vu=0,yu=0,_a=0,ru=0,nu=0,uu=0,lu=0,du=0,mu=0,cu=0,eu=0,hu=0,Eu=0,Ru=0,Tu=0,qu=0,Du=0,Iu=0,Lu=0,Uu=0,Hu=0,zu=0,ju=0,Wu=0,Dl=0,Zu=0,Yu=0,Vl=0,_l=0,Qu=0,Gl=Pu[0],yl=Pu[1],Sl=Pu[2],Ql=Pu[3],Xu=Pu[4],$l=Pu[5],Zl=Pu[6],wl=Pu[7],Ml=Pu[8],Xl=Pu[9],Nu=Pu[10],Cu=Pu[11],ku=Pu[12],Fu=Pu[13],Ku=Pu[14],Ju=Pu[15];Su=Au[0],Ou+=Su*Gl,Vu+=Su*yl,yu+=Su*Sl,_a+=Su*Ql,ru+=Su*Xu,nu+=Su*$l,uu+=Su*Zl,lu+=Su*wl,du+=Su*Ml,mu+=Su*Xl,cu+=Su*Nu,eu+=Su*Cu,hu+=Su*ku,Eu+=Su*Fu,Ru+=Su*Ku,Tu+=Su*Ju,Su=Au[1],Vu+=Su*Gl,yu+=Su*yl,_a+=Su*Sl,ru+=Su*Ql,nu+=Su*Xu,uu+=Su*$l,lu+=Su*Zl,du+=Su*wl,mu+=Su*Ml,cu+=Su*Xl,eu+=Su*Nu,hu+=Su*Cu,Eu+=Su*ku,Ru+=Su*Fu,Tu+=Su*Ku,qu+=Su*Ju,Su=Au[2],yu+=Su*Gl,_a+=Su*yl,ru+=Su*Sl,nu+=Su*Ql,uu+=Su*Xu,lu+=Su*$l,du+=Su*Zl,mu+=Su*wl,cu+=Su*Ml,eu+=Su*Xl,hu+=Su*Nu,Eu+=Su*Cu,Ru+=Su*ku,Tu+=Su*Fu,qu+=Su*Ku,Du+=Su*Ju,Su=Au[3],_a+=Su*Gl,ru+=Su*yl,nu+=Su*Sl,uu+=Su*Ql,lu+=Su*Xu,du+=Su*$l,mu+=Su*Zl,cu+=Su*wl,eu+=Su*Ml,hu+=Su*Xl,Eu+=Su*Nu,Ru+=Su*Cu,Tu+=Su*ku,qu+=Su*Fu,Du+=Su*Ku,Iu+=Su*Ju,Su=Au[4],ru+=Su*Gl,nu+=Su*yl,uu+=Su*Sl,lu+=Su*Ql,du+=Su*Xu,mu+=Su*$l,cu+=Su*Zl,eu+=Su*wl,hu+=Su*Ml,Eu+=Su*Xl,Ru+=Su*Nu,Tu+=Su*Cu,qu+=Su*ku,Du+=Su*Fu,Iu+=Su*Ku,Lu+=Su*Ju,Su=Au[5],nu+=Su*Gl,uu+=Su*yl,lu+=Su*Sl,du+=Su*Ql,mu+=Su*Xu,cu+=Su*$l,eu+=Su*Zl,hu+=Su*wl,Eu+=Su*Ml,Ru+=Su*Xl,Tu+=Su*Nu,qu+=Su*Cu,Du+=Su*ku,Iu+=Su*Fu,Lu+=Su*Ku,Uu+=Su*Ju,Su=Au[6],uu+=Su*Gl,lu+=Su*yl,du+=Su*Sl,mu+=Su*Ql,cu+=Su*Xu,eu+=Su*$l,hu+=Su*Zl,Eu+=Su*wl,Ru+=Su*Ml,Tu+=Su*Xl,qu+=Su*Nu,Du+=Su*Cu,Iu+=Su*ku,Lu+=Su*Fu,Uu+=Su*Ku,Hu+=Su*Ju,Su=Au[7],lu+=Su*Gl,du+=Su*yl,mu+=Su*Sl,cu+=Su*Ql,eu+=Su*Xu,hu+=Su*$l,Eu+=Su*Zl,Ru+=Su*wl,Tu+=Su*Ml,qu+=Su*Xl,Du+=Su*Nu,Iu+=Su*Cu,Lu+=Su*ku,Uu+=Su*Fu,Hu+=Su*Ku,zu+=Su*Ju,Su=Au[8],du+=Su*Gl,mu+=Su*yl,cu+=Su*Sl,eu+=Su*Ql,hu+=Su*Xu,Eu+=Su*$l,Ru+=Su*Zl,Tu+=Su*wl,qu+=Su*Ml,Du+=Su*Xl,Iu+=Su*Nu,Lu+=Su*Cu,Uu+=Su*ku,Hu+=Su*Fu,zu+=Su*Ku,ju+=Su*Ju,Su=Au[9],mu+=Su*Gl,cu+=Su*yl,eu+=Su*Sl,hu+=Su*Ql,Eu+=Su*Xu,Ru+=Su*$l,Tu+=Su*Zl,qu+=Su*wl,Du+=Su*Ml,Iu+=Su*Xl,Lu+=Su*Nu,Uu+=Su*Cu,Hu+=Su*ku,zu+=Su*Fu,ju+=Su*Ku,Wu+=Su*Ju,Su=Au[10],cu+=Su*Gl,eu+=Su*yl,hu+=Su*Sl,Eu+=Su*Ql,Ru+=Su*Xu,Tu+=Su*$l,qu+=Su*Zl,Du+=Su*wl,Iu+=Su*Ml,Lu+=Su*Xl,Uu+=Su*Nu,Hu+=Su*Cu,zu+=Su*ku,ju+=Su*Fu,Wu+=Su*Ku,Dl+=Su*Ju,Su=Au[11],eu+=Su*Gl,hu+=Su*yl,Eu+=Su*Sl,Ru+=Su*Ql,Tu+=Su*Xu,qu+=Su*$l,Du+=Su*Zl,Iu+=Su*wl,Lu+=Su*Ml,Uu+=Su*Xl,Hu+=Su*Nu,zu+=Su*Cu,ju+=Su*ku,Wu+=Su*Fu,Dl+=Su*Ku,Zu+=Su*Ju,Su=Au[12],hu+=Su*Gl,Eu+=Su*yl,Ru+=Su*Sl,Tu+=Su*Ql,qu+=Su*Xu,Du+=Su*$l,Iu+=Su*Zl,Lu+=Su*wl,Uu+=Su*Ml,Hu+=Su*Xl,zu+=Su*Nu,ju+=Su*Cu,Wu+=Su*ku,Dl+=Su*Fu,Zu+=Su*Ku,Yu+=Su*Ju,Su=Au[13],Eu+=Su*Gl,Ru+=Su*yl,Tu+=Su*Sl,qu+=Su*Ql,Du+=Su*Xu,Iu+=Su*$l,Lu+=Su*Zl,Uu+=Su*wl,Hu+=Su*Ml,zu+=Su*Xl,ju+=Su*Nu,Wu+=Su*Cu,Dl+=Su*ku,Zu+=Su*Fu,Yu+=Su*Ku,Vl+=Su*Ju,Su=Au[14],Ru+=Su*Gl,Tu+=Su*yl,qu+=Su*Sl,Du+=Su*Ql,Iu+=Su*Xu,Lu+=Su*$l,Uu+=Su*Zl,Hu+=Su*wl,zu+=Su*Ml,ju+=Su*Xl,Wu+=Su*Nu,Dl+=Su*Cu,Zu+=Su*ku,Yu+=Su*Fu,Vl+=Su*Ku,_l+=Su*Ju,Su=Au[15],Tu+=Su*Gl,qu+=Su*yl,Du+=Su*Sl,Iu+=Su*Ql,Lu+=Su*Xu,Uu+=Su*$l,Hu+=Su*Zl,zu+=Su*wl,ju+=Su*Ml,Wu+=Su*Xl,Dl+=Su*Nu,Zu+=Su*Cu,Yu+=Su*ku,Vl+=Su*Fu,_l+=Su*Ku,Qu+=Su*Ju,Ou+=38*qu,Vu+=38*Du,yu+=38*Iu,_a+=38*Lu,ru+=38*Uu,nu+=38*Hu,uu+=38*zu,lu+=38*ju,du+=38*Wu,mu+=38*Dl,cu+=38*Zu,eu+=38*Yu,hu+=38*Vl,Eu+=38*_l,Ru+=38*Qu,Bu=1,Su=Ou+Bu+65535,Bu=Math.floor(Su/65536),Ou=Su-Bu*65536,Su=Vu+Bu+65535,Bu=Math.floor(Su/65536),Vu=Su-Bu*65536,Su=yu+Bu+65535,Bu=Math.floor(Su/65536),yu=Su-Bu*65536,Su=_a+Bu+65535,Bu=Math.floor(Su/65536),_a=Su-Bu*65536,Su=ru+Bu+65535,Bu=Math.floor(Su/65536),ru=Su-Bu*65536,Su=nu+Bu+65535,Bu=Math.floor(Su/65536),nu=Su-Bu*65536,Su=uu+Bu+65535,Bu=Math.floor(Su/65536),uu=Su-Bu*65536,Su=lu+Bu+65535,Bu=Math.floor(Su/65536),lu=Su-Bu*65536,Su=du+Bu+65535,Bu=Math.floor(Su/65536),du=Su-Bu*65536,Su=mu+Bu+65535,Bu=Math.floor(Su/65536),mu=Su-Bu*65536,Su=cu+Bu+65535,Bu=Math.floor(Su/65536),cu=Su-Bu*65536,Su=eu+Bu+65535,Bu=Math.floor(Su/65536),eu=Su-Bu*65536,Su=hu+Bu+65535,Bu=Math.floor(Su/65536),hu=Su-Bu*65536,Su=Eu+Bu+65535,Bu=Math.floor(Su/65536),Eu=Su-Bu*65536,Su=Ru+Bu+65535,Bu=Math.floor(Su/65536),Ru=Su-Bu*65536,Su=Tu+Bu+65535,Bu=Math.floor(Su/65536),Tu=Su-Bu*65536,Ou+=Bu-1+37*(Bu-1),Bu=1,Su=Ou+Bu+65535,Bu=Math.floor(Su/65536),Ou=Su-Bu*65536,Su=Vu+Bu+65535,Bu=Math.floor(Su/65536),Vu=Su-Bu*65536,Su=yu+Bu+65535,Bu=Math.floor(Su/65536),yu=Su-Bu*65536,Su=_a+Bu+65535,Bu=Math.floor(Su/65536),_a=Su-Bu*65536,Su=ru+Bu+65535,Bu=Math.floor(Su/65536),ru=Su-Bu*65536,Su=nu+Bu+65535,Bu=Math.floor(Su/65536),nu=Su-Bu*65536,Su=uu+Bu+65535,Bu=Math.floor(Su/65536),uu=Su-Bu*65536,Su=lu+Bu+65535,Bu=Math.floor(Su/65536),lu=Su-Bu*65536,Su=du+Bu+65535,Bu=Math.floor(Su/65536),du=Su-Bu*65536,Su=mu+Bu+65535,Bu=Math.floor(Su/65536),mu=Su-Bu*65536,Su=cu+Bu+65535,Bu=Math.floor(Su/65536),cu=Su-Bu*65536,Su=eu+Bu+65535,Bu=Math.floor(Su/65536),eu=Su-Bu*65536,Su=hu+Bu+65535,Bu=Math.floor(Su/65536),hu=Su-Bu*65536,Su=Eu+Bu+65535,Bu=Math.floor(Su/65536),Eu=Su-Bu*65536,Su=Ru+Bu+65535,Bu=Math.floor(Su/65536),Ru=Su-Bu*65536,Su=Tu+Bu+65535,Bu=Math.floor(Su/65536),Tu=Su-Bu*65536,Ou+=Bu-1+37*(Bu-1),Mu[0]=Ou,Mu[1]=Vu,Mu[2]=yu,Mu[3]=_a,Mu[4]=ru,Mu[5]=nu,Mu[6]=uu,Mu[7]=lu,Mu[8]=du,Mu[9]=mu,Mu[10]=cu,Mu[11]=eu,Mu[12]=hu,Mu[13]=Eu,Mu[14]=Ru,Mu[15]=Tu}function vu(Mu,Au){pu(Mu,Au,Au)}function gu(Mu,Au){const Pu=cs();for(let Su=0;Su<16;Su++)Pu[Su]=Au[Su];for(let Su=253;Su>=0;Su--)vu(Pu,Pu),Su!==2&&Su!==4&&pu(Pu,Pu,Au);for(let Su=0;Su<16;Su++)Mu[Su]=Pu[Su]}function bu(Mu,Au){const Pu=new Uint8Array(32),Su=new Float64Array(80),Bu=cs(),Ou=cs(),Vu=cs(),yu=cs(),_a=cs(),ru=cs();for(let du=0;du<31;du++)Pu[du]=Mu[du];Pu[31]=Mu[31]&127|64,Pu[0]&=248,au(Su,Au);for(let du=0;du<16;du++)Ou[du]=Su[du];Bu[0]=yu[0]=1;for(let du=254;du>=0;--du){const mu=Pu[du>>>3]>>>(du&7)&1;iu(Bu,Ou,mu),iu(Vu,yu,mu),ou(_a,Bu,Vu),fu(Bu,Bu,Vu),ou(Vu,Ou,yu),fu(Ou,Ou,yu),vu(yu,_a),vu(ru,Bu),pu(Bu,Vu,Bu),pu(Vu,Ou,_a),ou(_a,Bu,Vu),fu(Bu,Bu,Vu),vu(Ou,Bu),fu(Vu,yu,ru),pu(Bu,Vu,na),ou(Bu,Bu,yu),pu(Vu,Vu,Bu),pu(Bu,yu,ru),pu(yu,Ou,Su),vu(Ou,_a),iu(Bu,Ou,mu),iu(Vu,yu,mu)}for(let du=0;du<16;du++)Su[du+16]=Bu[du],Su[du+32]=Vu[du],Su[du+48]=Ou[du],Su[du+64]=yu[du];const nu=Su.subarray(32),uu=Su.subarray(16);gu(nu,nu),pu(uu,uu,nu);const lu=new Uint8Array(32);return su(lu,uu),lu}ss.scalarMult=bu;function xu(Mu){return bu(Mu,$a)}ss.scalarMultBase=xu;function $u(Mu){if(Mu.length!==ss.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${ss.SECRET_KEY_LENGTH} bytes`);const Au=new Uint8Array(Mu);return{publicKey:xu(Au),secretKey:Au}}ss.generateKeyPairFromSeed=$u;function wu(Mu){const Au=(0,as.randomBytes)(32,Mu),Pu=$u(Au);return(0,us.wipe)(Au),Pu}ss.generateKeyPair=wu;function _u(Mu,Au,Pu=!1){if(Mu.length!==ss.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(Au.length!==ss.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const Su=bu(Mu,Au);if(Pu){let Bu=0;for(let Ou=0;Ou<Su.length;Ou++)Bu|=Su[Ou];if(Bu===0)throw new Error("X25519: invalid shared key")}return Su}ss.sharedKey=_u})(x25519);function allocUnsafe(ss=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(ss):new Uint8Array(ss)}function concat(ss,as){as||(as=ss.reduce(($a,na)=>$a+na.length,0));const us=allocUnsafe(as);let cs=0;for(const $a of ss)us.set($a,cs),cs+=$a.length;return us}function base$1(ss,as){if(ss.length>=255)throw new TypeError("Alphabet too long");for(var us=new Uint8Array(256),cs=0;cs<us.length;cs++)us[cs]=255;for(var $a=0;$a<ss.length;$a++){var na=ss.charAt($a),tu=na.charCodeAt(0);if(us[tu]!==255)throw new TypeError(na+" is ambiguous");us[tu]=$a}var iu=ss.length,su=ss.charAt(0),au=Math.log(iu)/Math.log(256),ou=Math.log(256)/Math.log(iu);function fu(gu){if(gu instanceof Uint8Array||(ArrayBuffer.isView(gu)?gu=new Uint8Array(gu.buffer,gu.byteOffset,gu.byteLength):Array.isArray(gu)&&(gu=Uint8Array.from(gu))),!(gu instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(gu.length===0)return"";for(var bu=0,xu=0,$u=0,wu=gu.length;$u!==wu&&gu[$u]===0;)$u++,bu++;for(var _u=(wu-$u)*ou+1>>>0,Mu=new Uint8Array(_u);$u!==wu;){for(var Au=gu[$u],Pu=0,Su=_u-1;(Au!==0||Pu<xu)&&Su!==-1;Su--,Pu++)Au+=256*Mu[Su]>>>0,Mu[Su]=Au%iu>>>0,Au=Au/iu>>>0;if(Au!==0)throw new Error("Non-zero carry");xu=Pu,$u++}for(var Bu=_u-xu;Bu!==_u&&Mu[Bu]===0;)Bu++;for(var Ou=su.repeat(bu);Bu<_u;++Bu)Ou+=ss.charAt(Mu[Bu]);return Ou}function pu(gu){if(typeof gu!="string")throw new TypeError("Expected String");if(gu.length===0)return new Uint8Array;var bu=0;if(gu[bu]!==" "){for(var xu=0,$u=0;gu[bu]===su;)xu++,bu++;for(var wu=(gu.length-bu)*au+1>>>0,_u=new Uint8Array(wu);gu[bu];){var Mu=us[gu.charCodeAt(bu)];if(Mu===255)return;for(var Au=0,Pu=wu-1;(Mu!==0||Au<$u)&&Pu!==-1;Pu--,Au++)Mu+=iu*_u[Pu]>>>0,_u[Pu]=Mu%256>>>0,Mu=Mu/256>>>0;if(Mu!==0)throw new Error("Non-zero carry");$u=Au,bu++}if(gu[bu]!==" "){for(var Su=wu-$u;Su!==wu&&_u[Su]===0;)Su++;for(var Bu=new Uint8Array(xu+(wu-Su)),Ou=xu;Su!==wu;)Bu[Ou++]=_u[Su++];return Bu}}}function vu(gu){var bu=pu(gu);if(bu)return bu;throw new Error(`Non-${as} character`)}return{encode:fu,decodeUnsafe:pu,decode:vu}}var src=base$1,_brrp__multiformats_scope_baseX=src;const coerce=ss=>{if(ss instanceof Uint8Array&&ss.constructor.name==="Uint8Array")return ss;if(ss instanceof ArrayBuffer)return new Uint8Array(ss);if(ArrayBuffer.isView(ss))return new Uint8Array(ss.buffer,ss.byteOffset,ss.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=ss=>new TextEncoder().encode(ss),toString$1=ss=>new TextDecoder().decode(ss);class Encoder{constructor(as,us,cs){this.name=as,this.prefix=us,this.baseEncode=cs}encode(as){if(as instanceof Uint8Array)return`${this.prefix}${this.baseEncode(as)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(as,us,cs){if(this.name=as,this.prefix=us,us.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=us.codePointAt(0),this.baseDecode=cs}decode(as){if(typeof as=="string"){if(as.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(as)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(as.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(as){return or$3(this,as)}}class ComposedDecoder{constructor(as){this.decoders=as}or(as){return or$3(this,as)}decode(as){const us=as[0],cs=this.decoders[us];if(cs)return cs.decode(as);throw RangeError(`Unable to decode multibase string ${JSON.stringify(as)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$3=(ss,as)=>new ComposedDecoder({...ss.decoders||{[ss.prefix]:ss},...as.decoders||{[as.prefix]:as}});class Codec{constructor(as,us,cs,$a){this.name=as,this.prefix=us,this.baseEncode=cs,this.baseDecode=$a,this.encoder=new Encoder(as,us,cs),this.decoder=new Decoder(as,us,$a)}encode(as){return this.encoder.encode(as)}decode(as){return this.decoder.decode(as)}}const from=({name:ss,prefix:as,encode:us,decode:cs})=>new Codec(ss,as,us,cs),baseX=({prefix:ss,name:as,alphabet:us})=>{const{encode:cs,decode:$a}=_brrp__multiformats_scope_baseX(us,as);return from({prefix:ss,name:as,encode:cs,decode:na=>coerce($a(na))})},decode$2=(ss,as,us,cs)=>{const $a={};for(let ou=0;ou<as.length;++ou)$a[as[ou]]=ou;let na=ss.length;for(;ss[na-1]==="=";)--na;const tu=new Uint8Array(na*us/8|0);let iu=0,su=0,au=0;for(let ou=0;ou<na;++ou){const fu=$a[ss[ou]];if(fu===void 0)throw new SyntaxError(`Non-${cs} character`);su=su<<us|fu,iu+=us,iu>=8&&(iu-=8,tu[au++]=255&su>>iu)}if(iu>=us||255&su<<8-iu)throw new SyntaxError("Unexpected end of data");return tu},encode$1=(ss,as,us)=>{const cs=as[as.length-1]==="=",$a=(1<<us)-1;let na="",tu=0,iu=0;for(let su=0;su<ss.length;++su)for(iu=iu<<8|ss[su],tu+=8;tu>us;)tu-=us,na+=as[$a&iu>>tu];if(tu&&(na+=as[$a&iu<<us-tu]),cs)for(;na.length*us&7;)na+="=";return na},rfc4648=({name:ss,prefix:as,bitsPerChar:us,alphabet:cs})=>from({prefix:as,name:ss,encode($a){return encode$1($a,cs,us)},decode($a){return decode$2($a,cs,us,ss)}}),identity=from({prefix:"\0",name:"identity",encode:ss=>toString$1(ss),decode:ss=>fromString$1(ss)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((ss,as,us)=>(ss[us]=as,ss),[]),alphabetCharsToBytes=alphabet.reduce((ss,as,us)=>(ss[as.codePointAt(0)]=us,ss),[]);function encode(ss){return ss.reduce((as,us)=>(as+=alphabetBytesToChars[us],as),"")}function decode$1(ss){const as=[];for(const us of ss){const cs=alphabetCharsToBytes[us.codePointAt(0)];if(cs===void 0)throw new Error(`Non-base256emoji character: ${us}`);as.push(cs)}return new Uint8Array(as)}const base256emoji=from({prefix:"",name:"base256emoji",encode,decode:decode$1}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function createCodec(ss,as,us,cs){return{name:ss,prefix:as,encoder:{name:ss,prefix:as,encode:us},decoder:{decode:cs}}}const string=createCodec("utf8","u",ss=>"u"+new TextDecoder("utf8").decode(ss),ss=>new TextEncoder().encode(ss.substring(1))),ascii=createCodec("ascii","a",ss=>{let as="a";for(let us=0;us<ss.length;us++)as+=String.fromCharCode(ss[us]);return as},ss=>{ss=ss.substring(1);const as=allocUnsafe(ss.length);for(let us=0;us<ss.length;us++)as[us]=ss.charCodeAt(us);return as}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(ss,as="utf8"){const us=BASES[as];if(!us)throw new Error(`Unsupported encoding "${as}"`);return(as==="utf8"||as==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(ss,"utf8"):us.decoder.decode(`${us.prefix}${ss}`)}function toString(ss,as="utf8"){const us=BASES[as];if(!us)throw new Error(`Unsupported encoding "${as}"`);return(as==="utf8"||as==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(ss.buffer,ss.byteOffset,ss.byteLength).toString("utf8"):us.encoder.encode(ss).substring(1)}var __spreadArray=function(ss,as,us){if(us||arguments.length===2)for(var cs=0,$a=as.length,na;cs<$a;cs++)(na||!(cs in as))&&(na||(na=Array.prototype.slice.call(as,0,cs)),na[cs]=as[cs]);return ss.concat(na||Array.prototype.slice.call(as))},BrowserInfo=function(){function ss(as,us,cs){this.name=as,this.version=us,this.os=cs,this.type="browser"}return ss}(),NodeInfo=function(){function ss(as){this.version=as,this.type="node",this.name="node",this.os=process$1.platform}return ss}(),SearchBotDeviceInfo=function(){function ss(as,us,cs,$a){this.name=as,this.version=us,this.os=cs,this.bot=$a,this.type="bot-device"}return ss}(),BotInfo=function(){function ss(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return ss}(),ReactNativeInfo=function(){function ss(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return ss}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(ss){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(ss){return ss!==""&&userAgentRules.reduce(function(as,us){var cs=us[0],$a=us[1];if(as)return as;var na=$a.exec(ss);return!!na&&[cs,na]},!1)}function parseUserAgent(ss){var as=matchUserAgent(ss);if(!as)return null;var us=as[0],cs=as[1];if(us==="searchbot")return new BotInfo;var $a=cs[1]&&cs[1].split(".").join("_").split("_").slice(0,3);$a?$a.length<REQUIRED_VERSION_PARTS&&($a=__spreadArray(__spreadArray([],$a,!0),createVersionParts(REQUIRED_VERSION_PARTS-$a.length),!0)):$a=[];var na=$a.join("."),tu=detectOS(ss),iu=SEARCHBOT_OS_REGEX.exec(ss);return iu&&iu[1]?new SearchBotDeviceInfo(us,na,tu,iu[1]):new BrowserInfo(us,na,tu)}function detectOS(ss){for(var as=0,us=operatingSystemRules.length;as<us;as++){var cs=operatingSystemRules[as],$a=cs[0],na=cs[1],tu=na.exec(ss);if(tu)return $a}return null}function getNodeVersion(){var ss=typeof process$1<"u"&&process$1.version;return ss?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(ss){for(var as=[],us=0;us<ss;us++)as.push("0");return as}var cjs$3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(ss,as){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(us,cs){us.__proto__=cs}||function(us,cs){for(var $a in cs)cs.hasOwnProperty($a)&&(us[$a]=cs[$a])},extendStatics$1(ss,as)};function __extends$1(ss,as){extendStatics$1(ss,as);function us(){this.constructor=ss}ss.prototype=as===null?Object.create(as):(us.prototype=as.prototype,new us)}var __assign$1=function(){return __assign$1=Object.assign||function(as){for(var us,cs=1,$a=arguments.length;cs<$a;cs++){us=arguments[cs];for(var na in us)Object.prototype.hasOwnProperty.call(us,na)&&(as[na]=us[na])}return as},__assign$1.apply(this,arguments)};function __rest$1(ss,as){var us={};for(var cs in ss)Object.prototype.hasOwnProperty.call(ss,cs)&&as.indexOf(cs)<0&&(us[cs]=ss[cs]);if(ss!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $a=0,cs=Object.getOwnPropertySymbols(ss);$a<cs.length;$a++)as.indexOf(cs[$a])<0&&Object.prototype.propertyIsEnumerable.call(ss,cs[$a])&&(us[cs[$a]]=ss[cs[$a]]);return us}function __decorate$1(ss,as,us,cs){var $a=arguments.length,na=$a<3?as:cs===null?cs=Object.getOwnPropertyDescriptor(as,us):cs,tu;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")na=Reflect.decorate(ss,as,us,cs);else for(var iu=ss.length-1;iu>=0;iu--)(tu=ss[iu])&&(na=($a<3?tu(na):$a>3?tu(as,us,na):tu(as,us))||na);return $a>3&&na&&Object.defineProperty(as,us,na),na}function __param$1(ss,as){return function(us,cs){as(us,cs,ss)}}function __metadata$1(ss,as){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ss,as)}function __awaiter$1(ss,as,us,cs){function $a(na){return na instanceof us?na:new us(function(tu){tu(na)})}return new(us||(us=Promise))(function(na,tu){function iu(ou){try{au(cs.next(ou))}catch(fu){tu(fu)}}function su(ou){try{au(cs.throw(ou))}catch(fu){tu(fu)}}function au(ou){ou.done?na(ou.value):$a(ou.value).then(iu,su)}au((cs=cs.apply(ss,as||[])).next())})}function __generator$1(ss,as){var us={label:0,sent:function(){if(na[0]&1)throw na[1];return na[1]},trys:[],ops:[]},cs,$a,na,tu;return tu={next:iu(0),throw:iu(1),return:iu(2)},typeof Symbol=="function"&&(tu[Symbol.iterator]=function(){return this}),tu;function iu(au){return function(ou){return su([au,ou])}}function su(au){if(cs)throw new TypeError("Generator is already executing.");for(;us;)try{if(cs=1,$a&&(na=au[0]&2?$a.return:au[0]?$a.throw||((na=$a.return)&&na.call($a),0):$a.next)&&!(na=na.call($a,au[1])).done)return na;switch($a=0,na&&(au=[au[0]&2,na.value]),au[0]){case 0:case 1:na=au;break;case 4:return us.label++,{value:au[1],done:!1};case 5:us.label++,$a=au[1],au=[0];continue;case 7:au=us.ops.pop(),us.trys.pop();continue;default:if(na=us.trys,!(na=na.length>0&&na[na.length-1])&&(au[0]===6||au[0]===2)){us=0;continue}if(au[0]===3&&(!na||au[1]>na[0]&&au[1]<na[3])){us.label=au[1];break}if(au[0]===6&&us.label<na[1]){us.label=na[1],na=au;break}if(na&&us.label<na[2]){us.label=na[2],us.ops.push(au);break}na[2]&&us.ops.pop(),us.trys.pop();continue}au=as.call(ss,us)}catch(ou){au=[6,ou],$a=0}finally{cs=na=0}if(au[0]&5)throw au[1];return{value:au[0]?au[1]:void 0,done:!0}}}function __createBinding$1(ss,as,us,cs){cs===void 0&&(cs=us),ss[cs]=as[us]}function __exportStar$1(ss,as){for(var us in ss)us!=="default"&&!as.hasOwnProperty(us)&&(as[us]=ss[us])}function __values$1(ss){var as=typeof Symbol=="function"&&Symbol.iterator,us=as&&ss[as],cs=0;if(us)return us.call(ss);if(ss&&typeof ss.length=="number")return{next:function(){return ss&&cs>=ss.length&&(ss=void 0),{value:ss&&ss[cs++],done:!ss}}};throw new TypeError(as?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(ss,as){var us=typeof Symbol=="function"&&ss[Symbol.iterator];if(!us)return ss;var cs=us.call(ss),$a,na=[],tu;try{for(;(as===void 0||as-- >0)&&!($a=cs.next()).done;)na.push($a.value)}catch(iu){tu={error:iu}}finally{try{$a&&!$a.done&&(us=cs.return)&&us.call(cs)}finally{if(tu)throw tu.error}}return na}function __spread$1(){for(var ss=[],as=0;as<arguments.length;as++)ss=ss.concat(__read$1(arguments[as]));return ss}function __spreadArrays$1(){for(var ss=0,as=0,us=arguments.length;as<us;as++)ss+=arguments[as].length;for(var cs=Array(ss),$a=0,as=0;as<us;as++)for(var na=arguments[as],tu=0,iu=na.length;tu<iu;tu++,$a++)cs[$a]=na[tu];return cs}function __await$1(ss){return this instanceof __await$1?(this.v=ss,this):new __await$1(ss)}function __asyncGenerator$1(ss,as,us){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var cs=us.apply(ss,as||[]),$a,na=[];return $a={},tu("next"),tu("throw"),tu("return"),$a[Symbol.asyncIterator]=function(){return this},$a;function tu(pu){cs[pu]&&($a[pu]=function(vu){return new Promise(function(gu,bu){na.push([pu,vu,gu,bu])>1||iu(pu,vu)})})}function iu(pu,vu){try{su(cs[pu](vu))}catch(gu){fu(na[0][3],gu)}}function su(pu){pu.value instanceof __await$1?Promise.resolve(pu.value.v).then(au,ou):fu(na[0][2],pu)}function au(pu){iu("next",pu)}function ou(pu){iu("throw",pu)}function fu(pu,vu){pu(vu),na.shift(),na.length&&iu(na[0][0],na[0][1])}}function __asyncDelegator$1(ss){var as,us;return as={},cs("next"),cs("throw",function($a){throw $a}),cs("return"),as[Symbol.iterator]=function(){return this},as;function cs($a,na){as[$a]=ss[$a]?function(tu){return(us=!us)?{value:__await$1(ss[$a](tu)),done:$a==="return"}:na?na(tu):tu}:na}}function __asyncValues$1(ss){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var as=ss[Symbol.asyncIterator],us;return as?as.call(ss):(ss=typeof __values$1=="function"?__values$1(ss):ss[Symbol.iterator](),us={},cs("next"),cs("throw"),cs("return"),us[Symbol.asyncIterator]=function(){return this},us);function cs(na){us[na]=ss[na]&&function(tu){return new Promise(function(iu,su){tu=ss[na](tu),$a(iu,su,tu.done,tu.value)})}}function $a(na,tu,iu,su){Promise.resolve(su).then(function(au){na({value:au,done:iu})},tu)}}function __makeTemplateObject$1(ss,as){return Object.defineProperty?Object.defineProperty(ss,"raw",{value:as}):ss.raw=as,ss}function __importStar$1(ss){if(ss&&ss.__esModule)return ss;var as={};if(ss!=null)for(var us in ss)Object.hasOwnProperty.call(ss,us)&&(as[us]=ss[us]);return as.default=ss,as}function __importDefault$1(ss){return ss&&ss.__esModule?ss:{default:ss}}function __classPrivateFieldGet$1(ss,as){if(!as.has(ss))throw new TypeError("attempted to get private field on non-instance");return as.get(ss)}function __classPrivateFieldSet$1(ss,as,us){if(!as.has(ss))throw new TypeError("attempted to set private field on non-instance");return as.set(ss,us),us}const tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$1},__asyncDelegator:__asyncDelegator$1,__asyncGenerator:__asyncGenerator$1,__asyncValues:__asyncValues$1,__await:__await$1,__awaiter:__awaiter$1,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldSet:__classPrivateFieldSet$1,__createBinding:__createBinding$1,__decorate:__decorate$1,__exportStar:__exportStar$1,__extends:__extends$1,__generator:__generator$1,__importDefault:__importDefault$1,__importStar:__importStar$1,__makeTemplateObject:__makeTemplateObject$1,__metadata:__metadata$1,__param:__param$1,__read:__read$1,__rest:__rest$1,__spread:__spread$1,__spreadArrays:__spreadArrays$1,__values:__values$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(tslib_es6$1);var utils={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function ss(as){return new Promise(us=>{setTimeout(()=>{us(!0)},as)})}return delay.delay=ss,delay}var convert={},constants={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(ss){Object.defineProperty(ss,"__esModule",{value:!0}),ss.ONE_YEAR=ss.FOUR_WEEKS=ss.THREE_WEEKS=ss.TWO_WEEKS=ss.ONE_WEEK=ss.THIRTY_DAYS=ss.SEVEN_DAYS=ss.FIVE_DAYS=ss.THREE_DAYS=ss.ONE_DAY=ss.TWENTY_FOUR_HOURS=ss.TWELVE_HOURS=ss.SIX_HOURS=ss.THREE_HOURS=ss.ONE_HOUR=ss.SIXTY_MINUTES=ss.THIRTY_MINUTES=ss.TEN_MINUTES=ss.FIVE_MINUTES=ss.ONE_MINUTE=ss.SIXTY_SECONDS=ss.THIRTY_SECONDS=ss.TEN_SECONDS=ss.FIVE_SECONDS=ss.ONE_SECOND=void 0,ss.ONE_SECOND=1,ss.FIVE_SECONDS=5,ss.TEN_SECONDS=10,ss.THIRTY_SECONDS=30,ss.SIXTY_SECONDS=60,ss.ONE_MINUTE=ss.SIXTY_SECONDS,ss.FIVE_MINUTES=ss.ONE_MINUTE*5,ss.TEN_MINUTES=ss.ONE_MINUTE*10,ss.THIRTY_MINUTES=ss.ONE_MINUTE*30,ss.SIXTY_MINUTES=ss.ONE_MINUTE*60,ss.ONE_HOUR=ss.SIXTY_MINUTES,ss.THREE_HOURS=ss.ONE_HOUR*3,ss.SIX_HOURS=ss.ONE_HOUR*6,ss.TWELVE_HOURS=ss.ONE_HOUR*12,ss.TWENTY_FOUR_HOURS=ss.ONE_HOUR*24,ss.ONE_DAY=ss.TWENTY_FOUR_HOURS,ss.THREE_DAYS=ss.ONE_DAY*3,ss.FIVE_DAYS=ss.ONE_DAY*5,ss.SEVEN_DAYS=ss.ONE_DAY*7,ss.THIRTY_DAYS=ss.ONE_DAY*30,ss.ONE_WEEK=ss.SEVEN_DAYS,ss.TWO_WEEKS=ss.ONE_WEEK*2,ss.THREE_WEEKS=ss.ONE_WEEK*3,ss.FOUR_WEEKS=ss.ONE_WEEK*4,ss.ONE_YEAR=ss.ONE_DAY*365}(time)),time}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(ss){Object.defineProperty(ss,"__esModule",{value:!0});const as=require$$0$1;as.__exportStar(requireMisc(),ss),as.__exportStar(requireTime(),ss)}(constants)),constants}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const ss=requireConstants();function as(cs){return cs*ss.ONE_THOUSAND}convert.toMiliseconds=as;function us(cs){return Math.floor(cs/ss.ONE_THOUSAND)}return convert.fromMiliseconds=us,convert}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(ss){Object.defineProperty(ss,"__esModule",{value:!0});const as=require$$0$1;as.__exportStar(requireDelay(),ss),as.__exportStar(requireConvert(),ss)}(utils)),utils}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class ss{constructor(){this.timestamps=new Map}start(us){if(this.timestamps.has(us))throw new Error(`Watch already started for label: ${us}`);this.timestamps.set(us,{started:Date.now()})}stop(us){const cs=this.get(us);if(typeof cs.elapsed<"u")throw new Error(`Watch already stopped for label: ${us}`);const $a=Date.now()-cs.started;this.timestamps.set(us,{started:cs.started,elapsed:$a})}get(us){const cs=this.timestamps.get(us);if(typeof cs>"u")throw new Error(`No timestamp found for label: ${us}`);return cs}elapsed(us){const cs=this.get(us);return cs.elapsed||Date.now()-cs.started}}return watch$2.Watch=ss,watch$2.default=ss,watch$2}var types={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class ss{}return watch$1.IWatch=ss,watch$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(ss){Object.defineProperty(ss,"__esModule",{value:!0}),require$$0$1.__exportStar(requireWatch(),ss)}(types)),types}(function(ss){Object.defineProperty(ss,"__esModule",{value:!0});const as=require$$0$1;as.__exportStar(requireUtils(),ss),as.__exportStar(requireWatch$1(),ss),as.__exportStar(requireTypes(),ss),as.__exportStar(requireConstants(),ss)})(cjs$3);var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.getLocalStorage=cjs$2.getLocalStorageOrThrow=cjs$2.getCrypto=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=cjs$2.getDocumentOrThrow=cjs$2.getFromWindowOrThrow=cjs$2.getFromWindow=void 0;function getFromWindow(ss){let as;return typeof window<"u"&&typeof window[ss]<"u"&&(as=window[ss]),as}cjs$2.getFromWindow=getFromWindow;function getFromWindowOrThrow(ss){const as=getFromWindow(ss);if(!as)throw new Error(`${ss} is not defined in Window`);return as}cjs$2.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs$2.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}var getDocument_1=cjs$2.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs$2.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator(){return getFromWindow("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs$2.getLocationOrThrow=getLocationOrThrow;function getLocation(){return getFromWindow("location")}var getLocation_1=cjs$2.getLocation=getLocation;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs$2.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs$2.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage(){return getFromWindow("localStorage")}cjs$2.getLocalStorage=getLocalStorage;var cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});var getWindowMetadata_1=cjs$1.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let ss,as;try{ss=window_getters_1.getDocumentOrThrow(),as=window_getters_1.getLocationOrThrow()}catch{return null}function us(){const fu=ss.getElementsByTagName("link"),pu=[];for(let vu=0;vu<fu.length;vu++){const gu=fu[vu],bu=gu.getAttribute("rel");if(bu&&bu.toLowerCase().indexOf("icon")>-1){const xu=gu.getAttribute("href");if(xu)if(xu.toLowerCase().indexOf("https:")===-1&&xu.toLowerCase().indexOf("http:")===-1&&xu.indexOf("//")!==0){let $u=as.protocol+"//"+as.host;if(xu.indexOf("/")===0)$u+=xu;else{const wu=as.pathname.split("/");wu.pop();const _u=wu.join("/");$u+=_u+"/"+xu}pu.push($u)}else if(xu.indexOf("//")===0){const $u=as.protocol+xu;pu.push($u)}else pu.push(xu)}}return pu}function cs(...fu){const pu=ss.getElementsByTagName("meta");for(let vu=0;vu<pu.length;vu++){const gu=pu[vu],bu=["itemprop","property","name"].map(xu=>gu.getAttribute(xu)).filter(xu=>xu?fu.includes(xu):!1);if(bu.length&&bu){const xu=gu.getAttribute("content");if(xu)return xu}}return""}function $a(){let fu=cs("name","og:site_name","og:title","twitter:title");return fu||(fu=ss.title),fu}function na(){return cs("description","og:description","twitter:description","keywords")}const tu=$a(),iu=na(),su=as.origin,au=us();return{description:iu,url:su,icons:au,name:tu}}getWindowMetadata_1=cjs$1.getWindowMetadata=getWindowMetadata;var queryString={},strictUriEncode=ss=>encodeURIComponent(ss).replace(/[!'()*]/g,as=>`%${as.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(ss,as){try{return[decodeURIComponent(ss.join(""))]}catch{}if(ss.length===1)return ss;as=as||1;var us=ss.slice(0,as),cs=ss.slice(as);return Array.prototype.concat.call([],decodeComponents(us),decodeComponents(cs))}function decode(ss){try{return decodeURIComponent(ss)}catch{for(var as=ss.match(singleMatcher)||[],us=1;us<as.length;us++)ss=decodeComponents(as,us).join(""),as=ss.match(singleMatcher)||[];return ss}}function customDecodeURIComponent(ss){for(var as={"%FE%FF":"","%FF%FE":""},us=multiMatcher.exec(ss);us;){try{as[us[0]]=decodeURIComponent(us[0])}catch{var cs=decode(us[0]);cs!==us[0]&&(as[us[0]]=cs)}us=multiMatcher.exec(ss)}as["%C2"]="";for(var $a=Object.keys(as),na=0;na<$a.length;na++){var tu=$a[na];ss=ss.replace(new RegExp(tu,"g"),as[tu])}return ss}var decodeUriComponent=function(ss){if(typeof ss!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof ss+"`");try{return ss=ss.replace(/\+/g," "),decodeURIComponent(ss)}catch{return customDecodeURIComponent(ss)}},splitOnFirst=(ss,as)=>{if(!(typeof ss=="string"&&typeof as=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(as==="")return[ss];const us=ss.indexOf(as);return us===-1?[ss]:[ss.slice(0,us),ss.slice(us+as.length)]},filterObj=function(ss,as){for(var us={},cs=Object.keys(ss),$a=Array.isArray(as),na=0;na<cs.length;na++){var tu=cs[na],iu=ss[tu];($a?as.indexOf(tu)!==-1:as(tu,iu,ss))&&(us[tu]=iu)}return us};(function(ss){const as=strictUriEncode,us=decodeUriComponent,cs=splitOnFirst,$a=filterObj,na=wu=>wu==null,tu=Symbol("encodeFragmentIdentifier");function iu(wu){switch(wu.arrayFormat){case"index":return _u=>(Mu,Au)=>{const Pu=Mu.length;return Au===void 0||wu.skipNull&&Au===null||wu.skipEmptyString&&Au===""?Mu:Au===null?[...Mu,[ou(_u,wu),"[",Pu,"]"].join("")]:[...Mu,[ou(_u,wu),"[",ou(Pu,wu),"]=",ou(Au,wu)].join("")]};case"bracket":return _u=>(Mu,Au)=>Au===void 0||wu.skipNull&&Au===null||wu.skipEmptyString&&Au===""?Mu:Au===null?[...Mu,[ou(_u,wu),"[]"].join("")]:[...Mu,[ou(_u,wu),"[]=",ou(Au,wu)].join("")];case"colon-list-separator":return _u=>(Mu,Au)=>Au===void 0||wu.skipNull&&Au===null||wu.skipEmptyString&&Au===""?Mu:Au===null?[...Mu,[ou(_u,wu),":list="].join("")]:[...Mu,[ou(_u,wu),":list=",ou(Au,wu)].join("")];case"comma":case"separator":case"bracket-separator":{const _u=wu.arrayFormat==="bracket-separator"?"[]=":"=";return Mu=>(Au,Pu)=>Pu===void 0||wu.skipNull&&Pu===null||wu.skipEmptyString&&Pu===""?Au:(Pu=Pu===null?"":Pu,Au.length===0?[[ou(Mu,wu),_u,ou(Pu,wu)].join("")]:[[Au,ou(Pu,wu)].join(wu.arrayFormatSeparator)])}default:return _u=>(Mu,Au)=>Au===void 0||wu.skipNull&&Au===null||wu.skipEmptyString&&Au===""?Mu:Au===null?[...Mu,ou(_u,wu)]:[...Mu,[ou(_u,wu),"=",ou(Au,wu)].join("")]}}function su(wu){let _u;switch(wu.arrayFormat){case"index":return(Mu,Au,Pu)=>{if(_u=/\[(\d*)\]$/.exec(Mu),Mu=Mu.replace(/\[\d*\]$/,""),!_u){Pu[Mu]=Au;return}Pu[Mu]===void 0&&(Pu[Mu]={}),Pu[Mu][_u[1]]=Au};case"bracket":return(Mu,Au,Pu)=>{if(_u=/(\[\])$/.exec(Mu),Mu=Mu.replace(/\[\]$/,""),!_u){Pu[Mu]=Au;return}if(Pu[Mu]===void 0){Pu[Mu]=[Au];return}Pu[Mu]=[].concat(Pu[Mu],Au)};case"colon-list-separator":return(Mu,Au,Pu)=>{if(_u=/(:list)$/.exec(Mu),Mu=Mu.replace(/:list$/,""),!_u){Pu[Mu]=Au;return}if(Pu[Mu]===void 0){Pu[Mu]=[Au];return}Pu[Mu]=[].concat(Pu[Mu],Au)};case"comma":case"separator":return(Mu,Au,Pu)=>{const Su=typeof Au=="string"&&Au.includes(wu.arrayFormatSeparator),Bu=typeof Au=="string"&&!Su&&fu(Au,wu).includes(wu.arrayFormatSeparator);Au=Bu?fu(Au,wu):Au;const Ou=Su||Bu?Au.split(wu.arrayFormatSeparator).map(Vu=>fu(Vu,wu)):Au===null?Au:fu(Au,wu);Pu[Mu]=Ou};case"bracket-separator":return(Mu,Au,Pu)=>{const Su=/(\[\])$/.test(Mu);if(Mu=Mu.replace(/\[\]$/,""),!Su){Pu[Mu]=Au&&fu(Au,wu);return}const Bu=Au===null?[]:Au.split(wu.arrayFormatSeparator).map(Ou=>fu(Ou,wu));if(Pu[Mu]===void 0){Pu[Mu]=Bu;return}Pu[Mu]=[].concat(Pu[Mu],Bu)};default:return(Mu,Au,Pu)=>{if(Pu[Mu]===void 0){Pu[Mu]=Au;return}Pu[Mu]=[].concat(Pu[Mu],Au)}}}function au(wu){if(typeof wu!="string"||wu.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ou(wu,_u){return _u.encode?_u.strict?as(wu):encodeURIComponent(wu):wu}function fu(wu,_u){return _u.decode?us(wu):wu}function pu(wu){return Array.isArray(wu)?wu.sort():typeof wu=="object"?pu(Object.keys(wu)).sort((_u,Mu)=>Number(_u)-Number(Mu)).map(_u=>wu[_u]):wu}function vu(wu){const _u=wu.indexOf("#");return _u!==-1&&(wu=wu.slice(0,_u)),wu}function gu(wu){let _u="";const Mu=wu.indexOf("#");return Mu!==-1&&(_u=wu.slice(Mu)),_u}function bu(wu){wu=vu(wu);const _u=wu.indexOf("?");return _u===-1?"":wu.slice(_u+1)}function xu(wu,_u){return _u.parseNumbers&&!Number.isNaN(Number(wu))&&typeof wu=="string"&&wu.trim()!==""?wu=Number(wu):_u.parseBooleans&&wu!==null&&(wu.toLowerCase()==="true"||wu.toLowerCase()==="false")&&(wu=wu.toLowerCase()==="true"),wu}function $u(wu,_u){_u=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},_u),au(_u.arrayFormatSeparator);const Mu=su(_u),Au=Object.create(null);if(typeof wu!="string"||(wu=wu.trim().replace(/^[?#&]/,""),!wu))return Au;for(const Pu of wu.split("&")){if(Pu==="")continue;let[Su,Bu]=cs(_u.decode?Pu.replace(/\+/g," "):Pu,"=");Bu=Bu===void 0?null:["comma","separator","bracket-separator"].includes(_u.arrayFormat)?Bu:fu(Bu,_u),Mu(fu(Su,_u),Bu,Au)}for(const Pu of Object.keys(Au)){const Su=Au[Pu];if(typeof Su=="object"&&Su!==null)for(const Bu of Object.keys(Su))Su[Bu]=xu(Su[Bu],_u);else Au[Pu]=xu(Su,_u)}return _u.sort===!1?Au:(_u.sort===!0?Object.keys(Au).sort():Object.keys(Au).sort(_u.sort)).reduce((Pu,Su)=>{const Bu=Au[Su];return Bu&&typeof Bu=="object"&&!Array.isArray(Bu)?Pu[Su]=pu(Bu):Pu[Su]=Bu,Pu},Object.create(null))}ss.extract=bu,ss.parse=$u,ss.stringify=(wu,_u)=>{if(!wu)return"";_u=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},_u),au(_u.arrayFormatSeparator);const Mu=Bu=>_u.skipNull&&na(wu[Bu])||_u.skipEmptyString&&wu[Bu]==="",Au=iu(_u),Pu={};for(const Bu of Object.keys(wu))Mu(Bu)||(Pu[Bu]=wu[Bu]);const Su=Object.keys(Pu);return _u.sort!==!1&&Su.sort(_u.sort),Su.map(Bu=>{const Ou=wu[Bu];return Ou===void 0?"":Ou===null?ou(Bu,_u):Array.isArray(Ou)?Ou.length===0&&_u.arrayFormat==="bracket-separator"?ou(Bu,_u)+"[]":Ou.reduce(Au(Bu),[]).join("&"):ou(Bu,_u)+"="+ou(Ou,_u)}).filter(Bu=>Bu.length>0).join("&")},ss.parseUrl=(wu,_u)=>{_u=Object.assign({decode:!0},_u);const[Mu,Au]=cs(wu,"#");return Object.assign({url:Mu.split("?")[0]||"",query:$u(bu(wu),_u)},_u&&_u.parseFragmentIdentifier&&Au?{fragmentIdentifier:fu(Au,_u)}:{})},ss.stringifyUrl=(wu,_u)=>{_u=Object.assign({encode:!0,strict:!0,[tu]:!0},_u);const Mu=vu(wu.url).split("?")[0]||"",Au=ss.extract(wu.url),Pu=ss.parse(Au,{sort:!1}),Su=Object.assign(Pu,wu.query);let Bu=ss.stringify(Su,_u);Bu&&(Bu=`?${Bu}`);let Ou=gu(wu.url);return wu.fragmentIdentifier&&(Ou=`#${_u[tu]?ou(wu.fragmentIdentifier,_u):wu.fragmentIdentifier}`),`${Mu}${Bu}${Ou}`},ss.pick=(wu,_u,Mu)=>{Mu=Object.assign({parseFragmentIdentifier:!0,[tu]:!1},Mu);const{url:Au,query:Pu,fragmentIdentifier:Su}=ss.parseUrl(wu,Mu);return ss.stringifyUrl({url:Au,query:$a(Pu,_u),fragmentIdentifier:Su},Mu)},ss.exclude=(wu,_u,Mu)=>{const Au=Array.isArray(_u)?Pu=>!_u.includes(Pu):(Pu,Su)=>!_u(Pu,Su);return ss.pick(wu,Au,Mu)}})(queryString);const C$3={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function S$4(ss=[],as=[]){return[...new Set([...ss,...as])]}var Pt$3=Object.defineProperty,Rt$3=Object.defineProperties,Tt$3=Object.getOwnPropertyDescriptors,Ye$3=Object.getOwnPropertySymbols,At$2=Object.prototype.hasOwnProperty,Ut$2=Object.prototype.propertyIsEnumerable,Je$3=(ss,as,us)=>as in ss?Pt$3(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,_t$3=(ss,as)=>{for(var us in as||(as={}))At$2.call(as,us)&&Je$3(ss,us,as[us]);if(Ye$3)for(var us of Ye$3(as))Ut$2.call(as,us)&&Je$3(ss,us,as[us]);return ss},Ct$2=(ss,as)=>Rt$3(ss,Tt$3(as));function oe$1(ss){return ss.includes(":")}function en$3(ss){return oe$1(ss)?ss.split(":")[0]:ss}function se$3(ss){var as,us,cs;const $a={};if(!B$3(ss))return $a;for(const[na,tu]of Object.entries(ss)){const iu=oe$1(na)?[na]:tu.chains,su=tu.methods||[],au=tu.events||[],ou=en$3(na);$a[ou]=Ct$2(_t$3({},$a[ou]),{chains:S$4(iu,(as=$a[ou])==null?void 0:as.chains),methods:S$4(su,(us=$a[ou])==null?void 0:us.methods),events:S$4(au,(cs=$a[ou])==null?void 0:cs.events)})}return $a}function B$3(ss){return Object.getPrototypeOf(ss)===Object.prototype&&Object.keys(ss).length}var NAMESPACE="eip155",STORE_KEY="store",REQUESTED_CHAINS_KEY="requestedChains",ADD_ETH_CHAIN_METHOD="wallet_addEthereumChain",_provider$1,_initProviderPromise,_createProvider,createProvider_fn,_initProvider,initProvider_fn,_isChainsStale,isChainsStale_fn,_setupListeners,setupListeners_fn,_removeListeners,removeListeners_fn,_setRequestedChainsIds,setRequestedChainsIds_fn,_getRequestedChainsIds,getRequestedChainsIds_fn,_getNamespaceChainsIds,getNamespaceChainsIds_fn,_getNamespaceMethods,getNamespaceMethods_fn,WalletConnectConnector=class extends Connector{constructor(ss){super({...ss,options:{isNewChainsStale:!0,...ss.options}}),__privateAdd$1(this,_createProvider),__privateAdd$1(this,_initProvider),__privateAdd$1(this,_isChainsStale),__privateAdd$1(this,_setupListeners),__privateAdd$1(this,_removeListeners),__privateAdd$1(this,_setRequestedChainsIds),__privateAdd$1(this,_getRequestedChainsIds),__privateAdd$1(this,_getNamespaceChainsIds),__privateAdd$1(this,_getNamespaceMethods),this.id="walletConnect",this.name="WalletConnect",this.ready=!0,__privateAdd$1(this,_provider$1,void 0),__privateAdd$1(this,_initProviderPromise,void 0),this.onAccountsChanged=as=>{as.length===0?this.emit("disconnect"):this.emit("change",{account:getAddress(as[0])})},this.onChainChanged=as=>{const us=Number(as),cs=this.isChainUnsupported(us);this.emit("change",{chain:{id:us,unsupported:cs}})},this.onDisconnect=()=>{__privateMethod$1(this,_setRequestedChainsIds,setRequestedChainsIds_fn).call(this,[]),this.emit("disconnect")},this.onDisplayUri=as=>{this.emit("message",{type:"display_uri",data:as})},this.onConnect=()=>{this.emit("connect",{})},__privateMethod$1(this,_createProvider,createProvider_fn).call(this)}async connect({chainId:ss,pairingTopic:as}={}){var us,cs,$a,na,tu;try{let iu=ss;if(!iu){const gu=(us=this.storage)==null?void 0:us.getItem(STORE_KEY),bu=(na=($a=(cs=gu==null?void 0:gu.state)==null?void 0:cs.data)==null?void 0:$a.chain)==null?void 0:na.id;bu&&!this.isChainUnsupported(bu)?iu=bu:iu=(tu=this.chains[0])==null?void 0:tu.id}if(!iu)throw new Error("No chains found on connector.");const su=await this.getProvider();__privateMethod$1(this,_setupListeners,setupListeners_fn).call(this);const au=__privateMethod$1(this,_isChainsStale,isChainsStale_fn).call(this);if(su.session&&au&&await su.disconnect(),!su.session||au){const gu=this.chains.filter(bu=>bu.id!==iu).map(bu=>bu.id);this.emit("message",{type:"connecting"}),await su.connect({pairingTopic:as,optionalChains:[iu,...gu]}),__privateMethod$1(this,_setRequestedChainsIds,setRequestedChainsIds_fn).call(this,this.chains.map(({id:bu})=>bu))}const ou=await su.enable(),fu=getAddress(ou[0]),pu=await this.getChainId(),vu=this.isChainUnsupported(pu);return{account:fu,chain:{id:pu,unsupported:vu}}}catch(iu){throw/user rejected/i.test(iu==null?void 0:iu.message)?new UserRejectedRequestError(iu):iu}}async disconnect(){const ss=await this.getProvider();try{await ss.disconnect()}catch(as){if(!/No matching key/i.test(as.message))throw as}finally{__privateMethod$1(this,_removeListeners,removeListeners_fn).call(this),__privateMethod$1(this,_setRequestedChainsIds,setRequestedChainsIds_fn).call(this,[])}}async getAccount(){const{accounts:ss}=await this.getProvider();return getAddress(ss[0])}async getChainId(){const{chainId:ss}=await this.getProvider();return ss}async getProvider({chainId:ss}={}){return __privateGet$1(this,_provider$1)||await __privateMethod$1(this,_createProvider,createProvider_fn).call(this),ss&&await this.switchChain(ss),__privateGet$1(this,_provider$1)}async getWalletClient({chainId:ss}={}){const[as,us]=await Promise.all([this.getProvider({chainId:ss}),this.getAccount()]),cs=this.chains.find($a=>$a.id===ss);if(!as)throw new Error("provider is required.");return createWalletClient({account:us,chain:cs,transport:custom(as)})}async isAuthorized(){try{const[ss,as]=await Promise.all([this.getAccount(),this.getProvider()]),us=__privateMethod$1(this,_isChainsStale,isChainsStale_fn).call(this);if(!ss)return!1;if(us&&as.session){try{await as.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(ss){var us,cs;const as=this.chains.find($a=>$a.id===ss);if(!as)throw new SwitchChainError(new Error("chain not found on connector."));try{const $a=await this.getProvider(),na=__privateMethod$1(this,_getNamespaceChainsIds,getNamespaceChainsIds_fn).call(this),tu=__privateMethod$1(this,_getNamespaceMethods,getNamespaceMethods_fn).call(this);if(!na.includes(ss)&&tu.includes(ADD_ETH_CHAIN_METHOD)){await $a.request({method:ADD_ETH_CHAIN_METHOD,params:[{chainId:numberToHex$1(as.id),blockExplorerUrls:[(cs=(us=as.blockExplorers)==null?void 0:us.default)==null?void 0:cs.url],chainName:as.name,nativeCurrency:as.nativeCurrency,rpcUrls:[...as.rpcUrls.default.http]}]});const su=__privateMethod$1(this,_getRequestedChainsIds,getRequestedChainsIds_fn).call(this);su.push(ss),__privateMethod$1(this,_setRequestedChainsIds,setRequestedChainsIds_fn).call(this,su)}return await $a.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex$1(ss)}]}),as}catch($a){const na=typeof $a=="string"?$a:$a==null?void 0:$a.message;throw/user rejected request/i.test(na)?new UserRejectedRequestError($a):new SwitchChainError($a)}}};_provider$1=new WeakMap;_initProviderPromise=new WeakMap;_createProvider=new WeakSet;createProvider_fn=async function(){return!__privateGet$1(this,_initProviderPromise)&&typeof window<"u"&&__privateSet$1(this,_initProviderPromise,__privateMethod$1(this,_initProvider,initProvider_fn).call(this)),__privateGet$1(this,_initProviderPromise)};_initProvider=new WeakSet;initProvider_fn=async function(){const{EthereumProvider:ss}=await __vitePreload(async()=>{const{EthereumProvider:us}=await import("./index.es-DdoHVIDc.js");return{EthereumProvider:us}},[]),as=this.chains.map(({id:us})=>us);if(as.length){const{projectId:us,showQrModal:cs=!0,qrModalOptions:$a,metadata:na,relayUrl:tu}=this.options;__privateSet$1(this,_provider$1,await ss.init({showQrModal:cs,qrModalOptions:$a,projectId:us,optionalChains:as,rpcMap:Object.fromEntries(this.chains.map(iu=>[iu.id,iu.rpcUrls.default.http[0]])),metadata:na,relayUrl:tu}))}};_isChainsStale=new WeakSet;isChainsStale_fn=function(){if(__privateMethod$1(this,_getNamespaceMethods,getNamespaceMethods_fn).call(this).includes(ADD_ETH_CHAIN_METHOD)||!this.options.isNewChainsStale)return!1;const as=__privateMethod$1(this,_getRequestedChainsIds,getRequestedChainsIds_fn).call(this),us=this.chains.map(({id:$a})=>$a),cs=__privateMethod$1(this,_getNamespaceChainsIds,getNamespaceChainsIds_fn).call(this);return cs.length&&!cs.some($a=>us.includes($a))?!1:!us.every($a=>as.includes($a))};_setupListeners=new WeakSet;setupListeners_fn=function(){__privateGet$1(this,_provider$1)&&(__privateMethod$1(this,_removeListeners,removeListeners_fn).call(this),__privateGet$1(this,_provider$1).on("accountsChanged",this.onAccountsChanged),__privateGet$1(this,_provider$1).on("chainChanged",this.onChainChanged),__privateGet$1(this,_provider$1).on("disconnect",this.onDisconnect),__privateGet$1(this,_provider$1).on("session_delete",this.onDisconnect),__privateGet$1(this,_provider$1).on("display_uri",this.onDisplayUri),__privateGet$1(this,_provider$1).on("connect",this.onConnect))};_removeListeners=new WeakSet;removeListeners_fn=function(){__privateGet$1(this,_provider$1)&&(__privateGet$1(this,_provider$1).removeListener("accountsChanged",this.onAccountsChanged),__privateGet$1(this,_provider$1).removeListener("chainChanged",this.onChainChanged),__privateGet$1(this,_provider$1).removeListener("disconnect",this.onDisconnect),__privateGet$1(this,_provider$1).removeListener("session_delete",this.onDisconnect),__privateGet$1(this,_provider$1).removeListener("display_uri",this.onDisplayUri),__privateGet$1(this,_provider$1).removeListener("connect",this.onConnect))};_setRequestedChainsIds=new WeakSet;setRequestedChainsIds_fn=function(ss){var as;(as=this.storage)==null||as.setItem(REQUESTED_CHAINS_KEY,ss)};_getRequestedChainsIds=new WeakSet;getRequestedChainsIds_fn=function(){var ss;return((ss=this.storage)==null?void 0:ss.getItem(REQUESTED_CHAINS_KEY))??[]};_getNamespaceChainsIds=new WeakSet;getNamespaceChainsIds_fn=function(){var cs,$a,na;if(!__privateGet$1(this,_provider$1))return[];const ss=(cs=__privateGet$1(this,_provider$1).session)==null?void 0:cs.namespaces;return ss?((na=($a=se$3(ss)[NAMESPACE])==null?void 0:$a.chains)==null?void 0:na.map(tu=>parseInt(tu.split(":")[1]||"")))??[]:[]};_getNamespaceMethods=new WeakSet;getNamespaceMethods_fn=function(){var cs,$a;if(!__privateGet$1(this,_provider$1))return[];const ss=(cs=__privateGet$1(this,_provider$1).session)==null?void 0:cs.namespaces;return ss?(($a=se$3(ss)[NAMESPACE])==null?void 0:$a.methods)??[]:[]};var _client,_provider,CoinbaseWalletConnector=class extends Connector{constructor({chains:ss,options:as}){super({chains:ss,options:{reloadOnDisconnect:!1,...as}}),this.id="coinbaseWallet",this.name="Coinbase Wallet",this.ready=!0,__privateAdd$1(this,_client,void 0),__privateAdd$1(this,_provider,void 0),this.onAccountsChanged=us=>{us.length===0?this.emit("disconnect"):this.emit("change",{account:getAddress(us[0])})},this.onChainChanged=us=>{const cs=normalizeChainId(us),$a=this.isChainUnsupported(cs);this.emit("change",{chain:{id:cs,unsupported:$a}})},this.onDisconnect=()=>{this.emit("disconnect")}}async connect({chainId:ss}={}){try{const as=await this.getProvider();as.on("accountsChanged",this.onAccountsChanged),as.on("chainChanged",this.onChainChanged),as.on("disconnect",this.onDisconnect),this.emit("message",{type:"connecting"});const us=await as.enable(),cs=getAddress(us[0]);let $a=await this.getChainId(),na=this.isChainUnsupported($a);return ss&&$a!==ss&&($a=(await this.switchChain(ss)).id,na=this.isChainUnsupported($a)),{account:cs,chain:{id:$a,unsupported:na}}}catch(as){throw/(user closed modal|accounts received is empty)/i.test(as.message)?new UserRejectedRequestError(as):as}}async disconnect(){if(!__privateGet$1(this,_provider))return;const ss=await this.getProvider();ss.removeListener("accountsChanged",this.onAccountsChanged),ss.removeListener("chainChanged",this.onChainChanged),ss.removeListener("disconnect",this.onDisconnect),ss.disconnect(),ss.close()}async getAccount(){const as=await(await this.getProvider()).request({method:"eth_accounts"});return getAddress(as[0])}async getChainId(){const ss=await this.getProvider();return normalizeChainId(ss.chainId)}async getProvider(){var ss;if(!__privateGet$1(this,_provider)){let as=(await __vitePreload(async()=>{const{default:tu}=await import("./index-Dm7YGVis.js").then(iu=>iu.i);return{default:tu}},[])).default;typeof as!="function"&&typeof as.default=="function"&&(as=as.default),__privateSet$1(this,_client,new as(this.options));const us=(ss=__privateGet$1(this,_client).walletExtension)==null?void 0:ss.getChainId(),cs=this.chains.find(tu=>this.options.chainId?tu.id===this.options.chainId:tu.id===us)||this.chains[0],$a=this.options.chainId||(cs==null?void 0:cs.id),na=this.options.jsonRpcUrl||(cs==null?void 0:cs.rpcUrls.default.http[0]);__privateSet$1(this,_provider,__privateGet$1(this,_client).makeWeb3Provider(na,$a))}return __privateGet$1(this,_provider)}async getWalletClient({chainId:ss}={}){const[as,us]=await Promise.all([this.getProvider(),this.getAccount()]),cs=this.chains.find($a=>$a.id===ss);if(!as)throw new Error("provider is required.");return createWalletClient({account:us,chain:cs,transport:custom(as)})}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}async switchChain(ss){var cs;const as=await this.getProvider(),us=numberToHex$1(ss);try{return await as.request({method:"wallet_switchEthereumChain",params:[{chainId:us}]}),this.chains.find($a=>$a.id===ss)??{id:ss,name:`Chain ${us}`,network:`${us}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch($a){const na=this.chains.find(tu=>tu.id===ss);if(!na)throw new ChainNotConfiguredForConnectorError({chainId:ss,connectorId:this.id});if($a.code===4902)try{return await as.request({method:"wallet_addEthereumChain",params:[{chainId:us,chainName:na.name,nativeCurrency:na.nativeCurrency,rpcUrls:[((cs=na.rpcUrls.public)==null?void 0:cs.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(na)}]}),na}catch(tu){throw new UserRejectedRequestError(tu)}throw new SwitchChainError($a)}}async watchAsset({address:ss,decimals:as=18,image:us,symbol:cs}){return(await this.getProvider()).request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:ss,decimals:as,image:us,symbol:cs}}})}};_client=new WeakMap;_provider=new WeakMap;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(ss){return this.listeners.add(ss),this.onSubscribe(),()=>{this.listeners.delete(ss),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$1(){}function functionalUpdate(ss,as){return typeof ss=="function"?ss(as):ss}function isValidTimeout(ss){return typeof ss=="number"&&ss>=0&&ss!==1/0}function timeUntilStale(ss,as){return Math.max(ss+(as||0)-Date.now(),0)}function resolveStaleTime(ss,as){return typeof ss=="function"?ss(as):ss}function resolveEnabled(ss,as){return typeof ss=="function"?ss(as):ss}function matchQuery(ss,as){const{type:us="all",exact:cs,fetchStatus:$a,predicate:na,queryKey:tu,stale:iu}=ss;if(tu){if(cs){if(as.queryHash!==hashQueryKeyByOptions(tu,as.options))return!1}else if(!partialMatchKey(as.queryKey,tu))return!1}if(us!=="all"){const su=as.isActive();if(us==="active"&&!su||us==="inactive"&&su)return!1}return!(typeof iu=="boolean"&&as.isStale()!==iu||$a&&$a!==as.state.fetchStatus||na&&!na(as))}function matchMutation(ss,as){const{exact:us,status:cs,predicate:$a,mutationKey:na}=ss;if(na){if(!as.options.mutationKey)return!1;if(us){if(hashKey(as.options.mutationKey)!==hashKey(na))return!1}else if(!partialMatchKey(as.options.mutationKey,na))return!1}return!(cs&&as.state.status!==cs||$a&&!$a(as))}function hashQueryKeyByOptions(ss,as){return((as==null?void 0:as.queryKeyHashFn)||hashKey)(ss)}function hashKey(ss){return JSON.stringify(ss,(as,us)=>isPlainObject(us)?Object.keys(us).sort().reduce((cs,$a)=>(cs[$a]=us[$a],cs),{}):us)}function partialMatchKey(ss,as){return ss===as?!0:typeof ss!=typeof as?!1:ss&&as&&typeof ss=="object"&&typeof as=="object"?Object.keys(as).every(us=>partialMatchKey(ss[us],as[us])):!1}function replaceEqualDeep(ss,as){if(ss===as)return ss;const us=isPlainArray(ss)&&isPlainArray(as);if(us||isPlainObject(ss)&&isPlainObject(as)){const cs=us?ss:Object.keys(ss),$a=cs.length,na=us?as:Object.keys(as),tu=na.length,iu=us?[]:{};let su=0;for(let au=0;au<tu;au++){const ou=us?au:na[au];(!us&&cs.includes(ou)||us)&&ss[ou]===void 0&&as[ou]===void 0?(iu[ou]=void 0,su++):(iu[ou]=replaceEqualDeep(ss[ou],as[ou]),iu[ou]===ss[ou]&&ss[ou]!==void 0&&su++)}return $a===tu&&su===$a?ss:iu}return as}function isPlainArray(ss){return Array.isArray(ss)&&ss.length===Object.keys(ss).length}function isPlainObject(ss){if(!hasObjectPrototype(ss))return!1;const as=ss.constructor;if(as===void 0)return!0;const us=as.prototype;return!(!hasObjectPrototype(us)||!us.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(ss)!==Object.prototype)}function hasObjectPrototype(ss){return Object.prototype.toString.call(ss)==="[object Object]"}function sleep(ss){return new Promise(as=>{setTimeout(as,ss)})}function replaceData(ss,as,us){return typeof us.structuralSharing=="function"?us.structuralSharing(ss,as):us.structuralSharing!==!1?replaceEqualDeep(ss,as):as}function addToEnd(ss,as,us=0){const cs=[...ss,as];return us&&cs.length>us?cs.slice(1):cs}function addToStart(ss,as,us=0){const cs=[as,...ss];return us&&cs.length>us?cs.slice(0,-1):cs}var skipToken=Symbol();function ensureQueryFn(ss,as){return!ss.queryFn&&(as!=null&&as.initialPromise)?()=>as.initialPromise:!ss.queryFn||ss.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${ss.queryHash}'`)):ss.queryFn}var U0,N0,V0,cp,FocusManager=(cp=class extends Subscribable{constructor(){super();o0(this,U0);o0(this,N0);o0(this,V0);_d(this,V0,as=>{if(!isServer&&window.addEventListener){const us=()=>as();return window.addEventListener("visibilitychange",us,!1),()=>{window.removeEventListener("visibilitychange",us)}}})}onSubscribe(){Wl(this,N0)||this.setEventListener(Wl(this,V0))}onUnsubscribe(){var as;this.hasListeners()||((as=Wl(this,N0))==null||as.call(this),_d(this,N0,void 0))}setEventListener(as){var us;_d(this,V0,as),(us=Wl(this,N0))==null||us.call(this),_d(this,N0,as(cs=>{typeof cs=="boolean"?this.setFocused(cs):this.onFocus()}))}setFocused(as){Wl(this,U0)!==as&&(_d(this,U0,as),this.onFocus())}onFocus(){const as=this.isFocused();this.listeners.forEach(us=>{us(as)})}isFocused(){var as;return typeof Wl(this,U0)=="boolean"?Wl(this,U0):((as=globalThis.document)==null?void 0:as.visibilityState)!=="hidden"}},U0=new WeakMap,N0=new WeakMap,V0=new WeakMap,cp),focusManager=new FocusManager,G0,q0,Q0,fp,OnlineManager=(fp=class extends Subscribable{constructor(){super();o0(this,G0,!0);o0(this,q0);o0(this,Q0);_d(this,Q0,as=>{if(!isServer&&window.addEventListener){const us=()=>as(!0),cs=()=>as(!1);return window.addEventListener("online",us,!1),window.addEventListener("offline",cs,!1),()=>{window.removeEventListener("online",us),window.removeEventListener("offline",cs)}}})}onSubscribe(){Wl(this,q0)||this.setEventListener(Wl(this,Q0))}onUnsubscribe(){var as;this.hasListeners()||((as=Wl(this,q0))==null||as.call(this),_d(this,q0,void 0))}setEventListener(as){var us;_d(this,Q0,as),(us=Wl(this,q0))==null||us.call(this),_d(this,q0,as(this.setOnline.bind(this)))}setOnline(as){Wl(this,G0)!==as&&(_d(this,G0,as),this.listeners.forEach(cs=>{cs(as)}))}isOnline(){return Wl(this,G0)}},G0=new WeakMap,q0=new WeakMap,Q0=new WeakMap,fp),onlineManager=new OnlineManager;function pendingThenable(){let ss,as;const us=new Promise(($a,na)=>{ss=$a,as=na});us.status="pending",us.catch(()=>{});function cs($a){Object.assign(us,$a),delete us.resolve,delete us.reject}return us.resolve=$a=>{cs({status:"fulfilled",value:$a}),ss($a)},us.reject=$a=>{cs({status:"rejected",reason:$a}),as($a)},us}function defaultRetryDelay(ss){return Math.min(1e3*2**ss,3e4)}function canFetch(ss){return(ss??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(ss){super("CancelledError"),this.revert=ss==null?void 0:ss.revert,this.silent=ss==null?void 0:ss.silent}};function isCancelledError(ss){return ss instanceof CancelledError}function createRetryer(ss){let as=!1,us=0,cs=!1,$a;const na=pendingThenable(),tu=bu=>{var xu;cs||(pu(new CancelledError(bu)),(xu=ss.abort)==null||xu.call(ss))},iu=()=>{as=!0},su=()=>{as=!1},au=()=>focusManager.isFocused()&&(ss.networkMode==="always"||onlineManager.isOnline())&&ss.canRun(),ou=()=>canFetch(ss.networkMode)&&ss.canRun(),fu=bu=>{var xu;cs||(cs=!0,(xu=ss.onSuccess)==null||xu.call(ss,bu),$a==null||$a(),na.resolve(bu))},pu=bu=>{var xu;cs||(cs=!0,(xu=ss.onError)==null||xu.call(ss,bu),$a==null||$a(),na.reject(bu))},vu=()=>new Promise(bu=>{var xu;$a=$u=>{(cs||au())&&bu($u)},(xu=ss.onPause)==null||xu.call(ss)}).then(()=>{var bu;$a=void 0,cs||(bu=ss.onContinue)==null||bu.call(ss)}),gu=()=>{if(cs)return;let bu;const xu=us===0?ss.initialPromise:void 0;try{bu=xu??ss.fn()}catch($u){bu=Promise.reject($u)}Promise.resolve(bu).then(fu).catch($u=>{var Pu;if(cs)return;const wu=ss.retry??(isServer?0:3),_u=ss.retryDelay??defaultRetryDelay,Mu=typeof _u=="function"?_u(us,$u):_u,Au=wu===!0||typeof wu=="number"&&us<wu||typeof wu=="function"&&wu(us,$u);if(as||!Au){pu($u);return}us++,(Pu=ss.onFail)==null||Pu.call(ss,us,$u),sleep(Mu).then(()=>au()?void 0:vu()).then(()=>{as?pu($u):gu()})})};return{promise:na,cancel:tu,continue:()=>($a==null||$a(),na),cancelRetry:iu,continueRetry:su,canStart:ou,start:()=>(ou()?gu():vu().then(gu),na)}}var defaultScheduler=ss=>setTimeout(ss,0);function createNotifyManager(){let ss=[],as=0,us=iu=>{iu()},cs=iu=>{iu()},$a=defaultScheduler;const na=iu=>{as?ss.push(iu):$a(()=>{us(iu)})},tu=()=>{const iu=ss;ss=[],iu.length&&$a(()=>{cs(()=>{iu.forEach(su=>{us(su)})})})};return{batch:iu=>{let su;as++;try{su=iu()}finally{as--,as||tu()}return su},batchCalls:iu=>(...su)=>{na(()=>{iu(...su)})},schedule:na,setNotifyFunction:iu=>{us=iu},setBatchNotifyFunction:iu=>{cs=iu},setScheduler:iu=>{$a=iu}}}var notifyManager=createNotifyManager(),z0,hp,Removable=(hp=class{constructor(){o0(this,z0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&_d(this,z0,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(ss){this.gcTime=Math.max(this.gcTime||0,ss??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Wl(this,z0)&&(clearTimeout(Wl(this,z0)),_d(this,z0,void 0))}},z0=new WeakMap,hp),Z0,J0,A0,H0,S0,rp,K0,C0,k0,dp,Query=(dp=class extends Removable{constructor(as){super();o0(this,C0);o0(this,Z0);o0(this,J0);o0(this,A0);o0(this,H0);o0(this,S0);o0(this,rp);o0(this,K0);_d(this,K0,!1),_d(this,rp,as.defaultOptions),this.setOptions(as.options),this.observers=[],_d(this,H0,as.client),_d(this,A0,Wl(this,H0).getQueryCache()),this.queryKey=as.queryKey,this.queryHash=as.queryHash,_d(this,Z0,getDefaultState$1(this.options)),this.state=as.state??Wl(this,Z0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var as;return(as=Wl(this,S0))==null?void 0:as.promise}setOptions(as){this.options={...Wl(this,rp),...as},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Wl(this,A0).remove(this)}setData(as,us){const cs=replaceData(this.state.data,as,this.options);return M0(this,C0,k0).call(this,{data:cs,type:"success",dataUpdatedAt:us==null?void 0:us.updatedAt,manual:us==null?void 0:us.manual}),cs}setState(as,us){M0(this,C0,k0).call(this,{type:"setState",state:as,setStateOptions:us})}cancel(as){var cs,$a;const us=(cs=Wl(this,S0))==null?void 0:cs.promise;return($a=Wl(this,S0))==null||$a.cancel(as),us?us.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Wl(this,Z0))}isActive(){return this.observers.some(as=>resolveEnabled(as.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(as=>as.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(as=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,as)}onFocus(){var us;const as=this.observers.find(cs=>cs.shouldFetchOnWindowFocus());as==null||as.refetch({cancelRefetch:!1}),(us=Wl(this,S0))==null||us.continue()}onOnline(){var us;const as=this.observers.find(cs=>cs.shouldFetchOnReconnect());as==null||as.refetch({cancelRefetch:!1}),(us=Wl(this,S0))==null||us.continue()}addObserver(as){this.observers.includes(as)||(this.observers.push(as),this.clearGcTimeout(),Wl(this,A0).notify({type:"observerAdded",query:this,observer:as}))}removeObserver(as){this.observers.includes(as)&&(this.observers=this.observers.filter(us=>us!==as),this.observers.length||(Wl(this,S0)&&(Wl(this,K0)?Wl(this,S0).cancel({revert:!0}):Wl(this,S0).cancelRetry()),this.scheduleGc()),Wl(this,A0).notify({type:"observerRemoved",query:this,observer:as}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||M0(this,C0,k0).call(this,{type:"invalidate"})}fetch(as,us){var su,au,ou;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(us!=null&&us.cancelRefetch))this.cancel({silent:!0});else if(Wl(this,S0))return Wl(this,S0).continueRetry(),Wl(this,S0).promise}if(as&&this.setOptions(as),!this.options.queryFn){const fu=this.observers.find(pu=>pu.options.queryFn);fu&&this.setOptions(fu.options)}const cs=new AbortController,$a=fu=>{Object.defineProperty(fu,"signal",{enumerable:!0,get:()=>(_d(this,K0,!0),cs.signal)})},na=()=>{const fu=ensureQueryFn(this.options,us),pu={client:Wl(this,H0),queryKey:this.queryKey,meta:this.meta};return $a(pu),_d(this,K0,!1),this.options.persister?this.options.persister(fu,pu,this):fu(pu)},tu={fetchOptions:us,options:this.options,queryKey:this.queryKey,client:Wl(this,H0),state:this.state,fetchFn:na};$a(tu),(su=this.options.behavior)==null||su.onFetch(tu,this),_d(this,J0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((au=tu.fetchOptions)==null?void 0:au.meta))&&M0(this,C0,k0).call(this,{type:"fetch",meta:(ou=tu.fetchOptions)==null?void 0:ou.meta});const iu=fu=>{var pu,vu,gu,bu;isCancelledError(fu)&&fu.silent||M0(this,C0,k0).call(this,{type:"error",error:fu}),isCancelledError(fu)||((vu=(pu=Wl(this,A0).config).onError)==null||vu.call(pu,fu,this),(bu=(gu=Wl(this,A0).config).onSettled)==null||bu.call(gu,this.state.data,fu,this)),this.scheduleGc()};return _d(this,S0,createRetryer({initialPromise:us==null?void 0:us.initialPromise,fn:tu.fetchFn,abort:cs.abort.bind(cs),onSuccess:fu=>{var pu,vu,gu,bu;if(fu===void 0){iu(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(fu)}catch(xu){iu(xu);return}(vu=(pu=Wl(this,A0).config).onSuccess)==null||vu.call(pu,fu,this),(bu=(gu=Wl(this,A0).config).onSettled)==null||bu.call(gu,fu,this.state.error,this),this.scheduleGc()},onError:iu,onFail:(fu,pu)=>{M0(this,C0,k0).call(this,{type:"failed",failureCount:fu,error:pu})},onPause:()=>{M0(this,C0,k0).call(this,{type:"pause"})},onContinue:()=>{M0(this,C0,k0).call(this,{type:"continue"})},retry:tu.options.retry,retryDelay:tu.options.retryDelay,networkMode:tu.options.networkMode,canRun:()=>!0})),Wl(this,S0).start()}},Z0=new WeakMap,J0=new WeakMap,A0=new WeakMap,H0=new WeakMap,S0=new WeakMap,rp=new WeakMap,K0=new WeakMap,C0=new WeakSet,k0=function(as){const us=cs=>{switch(as.type){case"failed":return{...cs,fetchFailureCount:as.failureCount,fetchFailureReason:as.error};case"pause":return{...cs,fetchStatus:"paused"};case"continue":return{...cs,fetchStatus:"fetching"};case"fetch":return{...cs,...fetchState(cs.data,this.options),fetchMeta:as.meta??null};case"success":return{...cs,data:as.data,dataUpdateCount:cs.dataUpdateCount+1,dataUpdatedAt:as.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!as.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const $a=as.error;return isCancelledError($a)&&$a.revert&&Wl(this,J0)?{...Wl(this,J0),fetchStatus:"idle"}:{...cs,error:$a,errorUpdateCount:cs.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:cs.fetchFailureCount+1,fetchFailureReason:$a,fetchStatus:"idle",status:"error"};case"invalidate":return{...cs,isInvalidated:!0};case"setState":return{...cs,...as.state}}};this.state=us(this.state),notifyManager.batch(()=>{this.observers.forEach(cs=>{cs.onQueryUpdate()}),Wl(this,A0).notify({query:this,type:"updated",action:as})})},dp);function fetchState(ss,as){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(as.networkMode)?"fetching":"paused",...ss===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(ss){const as=typeof ss.initialData=="function"?ss.initialData():ss.initialData,us=as!==void 0,cs=us?typeof ss.initialDataUpdatedAt=="function"?ss.initialDataUpdatedAt():ss.initialDataUpdatedAt:0;return{data:as,dataUpdateCount:0,dataUpdatedAt:us?cs??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:us?"success":"pending",fetchStatus:"idle"}}var I0,pp,QueryCache=(pp=class extends Subscribable{constructor(as={}){super();o0(this,I0);this.config=as,_d(this,I0,new Map)}build(as,us,cs){const $a=us.queryKey,na=us.queryHash??hashQueryKeyByOptions($a,us);let tu=this.get(na);return tu||(tu=new Query({client:as,queryKey:$a,queryHash:na,options:as.defaultQueryOptions(us),state:cs,defaultOptions:as.getQueryDefaults($a)}),this.add(tu)),tu}add(as){Wl(this,I0).has(as.queryHash)||(Wl(this,I0).set(as.queryHash,as),this.notify({type:"added",query:as}))}remove(as){const us=Wl(this,I0).get(as.queryHash);us&&(as.destroy(),us===as&&Wl(this,I0).delete(as.queryHash),this.notify({type:"removed",query:as}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(as=>{this.remove(as)})})}get(as){return Wl(this,I0).get(as)}getAll(){return[...Wl(this,I0).values()]}find(as){const us={exact:!0,...as};return this.getAll().find(cs=>matchQuery(us,cs))}findAll(as={}){const us=this.getAll();return Object.keys(as).length>0?us.filter(cs=>matchQuery(as,cs)):us}notify(as){notifyManager.batch(()=>{this.listeners.forEach(us=>{us(as)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(as=>{as.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(as=>{as.onOnline()})})}},I0=new WeakMap,pp),B0,R0,W0,T0,D0,mp,Mutation=(mp=class extends Removable{constructor(as){super();o0(this,T0);o0(this,B0);o0(this,R0);o0(this,W0);this.mutationId=as.mutationId,_d(this,R0,as.mutationCache),_d(this,B0,[]),this.state=as.state||getDefaultState(),this.setOptions(as.options),this.scheduleGc()}setOptions(as){this.options=as,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(as){Wl(this,B0).includes(as)||(Wl(this,B0).push(as),this.clearGcTimeout(),Wl(this,R0).notify({type:"observerAdded",mutation:this,observer:as}))}removeObserver(as){_d(this,B0,Wl(this,B0).filter(us=>us!==as)),this.scheduleGc(),Wl(this,R0).notify({type:"observerRemoved",mutation:this,observer:as})}optionalRemove(){Wl(this,B0).length||(this.state.status==="pending"?this.scheduleGc():Wl(this,R0).remove(this))}continue(){var as;return((as=Wl(this,W0))==null?void 0:as.continue())??this.execute(this.state.variables)}async execute(as){var $a,na,tu,iu,su,au,ou,fu,pu,vu,gu,bu,xu,$u,wu,_u,Mu,Au,Pu,Su;_d(this,W0,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(as):Promise.reject(new Error("No mutationFn found")),onFail:(Bu,Ou)=>{M0(this,T0,D0).call(this,{type:"failed",failureCount:Bu,error:Ou})},onPause:()=>{M0(this,T0,D0).call(this,{type:"pause"})},onContinue:()=>{M0(this,T0,D0).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Wl(this,R0).canRun(this)}));const us=this.state.status==="pending",cs=!Wl(this,W0).canStart();try{if(!us){M0(this,T0,D0).call(this,{type:"pending",variables:as,isPaused:cs}),await((na=($a=Wl(this,R0).config).onMutate)==null?void 0:na.call($a,as,this));const Ou=await((iu=(tu=this.options).onMutate)==null?void 0:iu.call(tu,as));Ou!==this.state.context&&M0(this,T0,D0).call(this,{type:"pending",context:Ou,variables:as,isPaused:cs})}const Bu=await Wl(this,W0).start();return await((au=(su=Wl(this,R0).config).onSuccess)==null?void 0:au.call(su,Bu,as,this.state.context,this)),await((fu=(ou=this.options).onSuccess)==null?void 0:fu.call(ou,Bu,as,this.state.context)),await((vu=(pu=Wl(this,R0).config).onSettled)==null?void 0:vu.call(pu,Bu,null,this.state.variables,this.state.context,this)),await((bu=(gu=this.options).onSettled)==null?void 0:bu.call(gu,Bu,null,as,this.state.context)),M0(this,T0,D0).call(this,{type:"success",data:Bu}),Bu}catch(Bu){try{throw await(($u=(xu=Wl(this,R0).config).onError)==null?void 0:$u.call(xu,Bu,as,this.state.context,this)),await((_u=(wu=this.options).onError)==null?void 0:_u.call(wu,Bu,as,this.state.context)),await((Au=(Mu=Wl(this,R0).config).onSettled)==null?void 0:Au.call(Mu,void 0,Bu,this.state.variables,this.state.context,this)),await((Su=(Pu=this.options).onSettled)==null?void 0:Su.call(Pu,void 0,Bu,as,this.state.context)),Bu}finally{M0(this,T0,D0).call(this,{type:"error",error:Bu})}}finally{Wl(this,R0).runNext(this)}}},B0=new WeakMap,R0=new WeakMap,W0=new WeakMap,T0=new WeakSet,D0=function(as){const us=cs=>{switch(as.type){case"failed":return{...cs,failureCount:as.failureCount,failureReason:as.error};case"pause":return{...cs,isPaused:!0};case"continue":return{...cs,isPaused:!1};case"pending":return{...cs,context:as.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:as.isPaused,status:"pending",variables:as.variables,submittedAt:Date.now()};case"success":return{...cs,data:as.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...cs,data:void 0,error:as.error,failureCount:cs.failureCount+1,failureReason:as.error,isPaused:!1,status:"error"}}};this.state=us(this.state),notifyManager.batch(()=>{Wl(this,B0).forEach(cs=>{cs.onMutationUpdate(as)}),Wl(this,R0).notify({mutation:this,type:"updated",action:as})})},mp);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var O0,P0,ip,vp,MutationCache=(vp=class extends Subscribable{constructor(as={}){super();o0(this,O0);o0(this,P0);o0(this,ip);this.config=as,_d(this,O0,new Set),_d(this,P0,new Map),_d(this,ip,0)}build(as,us,cs){const $a=new Mutation({mutationCache:this,mutationId:++np(this,ip)._,options:as.defaultMutationOptions(us),state:cs});return this.add($a),$a}add(as){Wl(this,O0).add(as);const us=scopeFor(as);if(typeof us=="string"){const cs=Wl(this,P0).get(us);cs?cs.push(as):Wl(this,P0).set(us,[as])}this.notify({type:"added",mutation:as})}remove(as){if(Wl(this,O0).delete(as)){const us=scopeFor(as);if(typeof us=="string"){const cs=Wl(this,P0).get(us);if(cs)if(cs.length>1){const $a=cs.indexOf(as);$a!==-1&&cs.splice($a,1)}else cs[0]===as&&Wl(this,P0).delete(us)}}this.notify({type:"removed",mutation:as})}canRun(as){const us=scopeFor(as);if(typeof us=="string"){const cs=Wl(this,P0).get(us),$a=cs==null?void 0:cs.find(na=>na.state.status==="pending");return!$a||$a===as}else return!0}runNext(as){var cs;const us=scopeFor(as);if(typeof us=="string"){const $a=(cs=Wl(this,P0).get(us))==null?void 0:cs.find(na=>na!==as&&na.state.isPaused);return($a==null?void 0:$a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{Wl(this,O0).forEach(as=>{this.notify({type:"removed",mutation:as})}),Wl(this,O0).clear(),Wl(this,P0).clear()})}getAll(){return Array.from(Wl(this,O0))}find(as){const us={exact:!0,...as};return this.getAll().find(cs=>matchMutation(us,cs))}findAll(as={}){return this.getAll().filter(us=>matchMutation(as,us))}notify(as){notifyManager.batch(()=>{this.listeners.forEach(us=>{us(as)})})}resumePausedMutations(){const as=this.getAll().filter(us=>us.state.isPaused);return notifyManager.batch(()=>Promise.all(as.map(us=>us.continue().catch(noop$1))))}},O0=new WeakMap,P0=new WeakMap,ip=new WeakMap,vp);function scopeFor(ss){var as;return(as=ss.options.scope)==null?void 0:as.id}function infiniteQueryBehavior(ss){return{onFetch:(as,us)=>{var ou,fu,pu,vu,gu;const cs=as.options,$a=(pu=(fu=(ou=as.fetchOptions)==null?void 0:ou.meta)==null?void 0:fu.fetchMore)==null?void 0:pu.direction,na=((vu=as.state.data)==null?void 0:vu.pages)||[],tu=((gu=as.state.data)==null?void 0:gu.pageParams)||[];let iu={pages:[],pageParams:[]},su=0;const au=async()=>{let bu=!1;const xu=_u=>{Object.defineProperty(_u,"signal",{enumerable:!0,get:()=>(as.signal.aborted?bu=!0:as.signal.addEventListener("abort",()=>{bu=!0}),as.signal)})},$u=ensureQueryFn(as.options,as.fetchOptions),wu=async(_u,Mu,Au)=>{if(bu)return Promise.reject();if(Mu==null&&_u.pages.length)return Promise.resolve(_u);const Pu={client:as.client,queryKey:as.queryKey,pageParam:Mu,direction:Au?"backward":"forward",meta:as.options.meta};xu(Pu);const Su=await $u(Pu),{maxPages:Bu}=as.options,Ou=Au?addToStart:addToEnd;return{pages:Ou(_u.pages,Su,Bu),pageParams:Ou(_u.pageParams,Mu,Bu)}};if($a&&na.length){const _u=$a==="backward",Mu=_u?getPreviousPageParam:getNextPageParam,Au={pages:na,pageParams:tu},Pu=Mu(cs,Au);iu=await wu(Au,Pu,_u)}else{const _u=ss??na.length;do{const Mu=su===0?tu[0]??cs.initialPageParam:getNextPageParam(cs,iu);if(su>0&&Mu==null)break;iu=await wu(iu,Mu),su++}while(su<_u)}return iu};as.options.persister?as.fetchFn=()=>{var bu,xu;return(xu=(bu=as.options).persister)==null?void 0:xu.call(bu,au,{client:as.client,queryKey:as.queryKey,meta:as.options.meta,signal:as.signal},us)}:as.fetchFn=au}}}function getNextPageParam(ss,{pages:as,pageParams:us}){const cs=as.length-1;return as.length>0?ss.getNextPageParam(as[cs],as,us[cs],us):void 0}function getPreviousPageParam(ss,{pages:as,pageParams:us}){var cs;return as.length>0?(cs=ss.getPreviousPageParam)==null?void 0:cs.call(ss,as[0],as,us[0],us):void 0}var E0,j0,L0,Y0,X0,F0,ep,tp,gp,QueryClient=(gp=class{constructor(ss={}){o0(this,E0);o0(this,j0);o0(this,L0);o0(this,Y0);o0(this,X0);o0(this,F0);o0(this,ep);o0(this,tp);_d(this,E0,ss.queryCache||new QueryCache),_d(this,j0,ss.mutationCache||new MutationCache),_d(this,L0,ss.defaultOptions||{}),_d(this,Y0,new Map),_d(this,X0,new Map),_d(this,F0,0)}mount(){np(this,F0)._++,Wl(this,F0)===1&&(_d(this,ep,focusManager.subscribe(async ss=>{ss&&(await this.resumePausedMutations(),Wl(this,E0).onFocus())})),_d(this,tp,onlineManager.subscribe(async ss=>{ss&&(await this.resumePausedMutations(),Wl(this,E0).onOnline())})))}unmount(){var ss,as;np(this,F0)._--,Wl(this,F0)===0&&((ss=Wl(this,ep))==null||ss.call(this),_d(this,ep,void 0),(as=Wl(this,tp))==null||as.call(this),_d(this,tp,void 0))}isFetching(ss){return Wl(this,E0).findAll({...ss,fetchStatus:"fetching"}).length}isMutating(ss){return Wl(this,j0).findAll({...ss,status:"pending"}).length}getQueryData(ss){var us;const as=this.defaultQueryOptions({queryKey:ss});return(us=Wl(this,E0).get(as.queryHash))==null?void 0:us.state.data}ensureQueryData(ss){const as=this.defaultQueryOptions(ss),us=Wl(this,E0).build(this,as),cs=us.state.data;return cs===void 0?this.fetchQuery(ss):(ss.revalidateIfStale&&us.isStaleByTime(resolveStaleTime(as.staleTime,us))&&this.prefetchQuery(as),Promise.resolve(cs))}getQueriesData(ss){return Wl(this,E0).findAll(ss).map(({queryKey:as,state:us})=>{const cs=us.data;return[as,cs]})}setQueryData(ss,as,us){const cs=this.defaultQueryOptions({queryKey:ss}),$a=Wl(this,E0).get(cs.queryHash),na=$a==null?void 0:$a.state.data,tu=functionalUpdate(as,na);if(tu!==void 0)return Wl(this,E0).build(this,cs).setData(tu,{...us,manual:!0})}setQueriesData(ss,as,us){return notifyManager.batch(()=>Wl(this,E0).findAll(ss).map(({queryKey:cs})=>[cs,this.setQueryData(cs,as,us)]))}getQueryState(ss){var us;const as=this.defaultQueryOptions({queryKey:ss});return(us=Wl(this,E0).get(as.queryHash))==null?void 0:us.state}removeQueries(ss){const as=Wl(this,E0);notifyManager.batch(()=>{as.findAll(ss).forEach(us=>{as.remove(us)})})}resetQueries(ss,as){const us=Wl(this,E0);return notifyManager.batch(()=>(us.findAll(ss).forEach(cs=>{cs.reset()}),this.refetchQueries({type:"active",...ss},as)))}cancelQueries(ss,as={}){const us={revert:!0,...as},cs=notifyManager.batch(()=>Wl(this,E0).findAll(ss).map($a=>$a.cancel(us)));return Promise.all(cs).then(noop$1).catch(noop$1)}invalidateQueries(ss,as={}){return notifyManager.batch(()=>(Wl(this,E0).findAll(ss).forEach(us=>{us.invalidate()}),(ss==null?void 0:ss.refetchType)==="none"?Promise.resolve():this.refetchQueries({...ss,type:(ss==null?void 0:ss.refetchType)??(ss==null?void 0:ss.type)??"active"},as)))}refetchQueries(ss,as={}){const us={...as,cancelRefetch:as.cancelRefetch??!0},cs=notifyManager.batch(()=>Wl(this,E0).findAll(ss).filter($a=>!$a.isDisabled()).map($a=>{let na=$a.fetch(void 0,us);return us.throwOnError||(na=na.catch(noop$1)),$a.state.fetchStatus==="paused"?Promise.resolve():na}));return Promise.all(cs).then(noop$1)}fetchQuery(ss){const as=this.defaultQueryOptions(ss);as.retry===void 0&&(as.retry=!1);const us=Wl(this,E0).build(this,as);return us.isStaleByTime(resolveStaleTime(as.staleTime,us))?us.fetch(as):Promise.resolve(us.state.data)}prefetchQuery(ss){return this.fetchQuery(ss).then(noop$1).catch(noop$1)}fetchInfiniteQuery(ss){return ss.behavior=infiniteQueryBehavior(ss.pages),this.fetchQuery(ss)}prefetchInfiniteQuery(ss){return this.fetchInfiniteQuery(ss).then(noop$1).catch(noop$1)}ensureInfiniteQueryData(ss){return ss.behavior=infiniteQueryBehavior(ss.pages),this.ensureQueryData(ss)}resumePausedMutations(){return onlineManager.isOnline()?Wl(this,j0).resumePausedMutations():Promise.resolve()}getQueryCache(){return Wl(this,E0)}getMutationCache(){return Wl(this,j0)}getDefaultOptions(){return Wl(this,L0)}setDefaultOptions(ss){_d(this,L0,ss)}setQueryDefaults(ss,as){Wl(this,Y0).set(hashKey(ss),{queryKey:ss,defaultOptions:as})}getQueryDefaults(ss){const as=[...Wl(this,Y0).values()],us={};return as.forEach(cs=>{partialMatchKey(ss,cs.queryKey)&&Object.assign(us,cs.defaultOptions)}),us}setMutationDefaults(ss,as){Wl(this,X0).set(hashKey(ss),{mutationKey:ss,defaultOptions:as})}getMutationDefaults(ss){const as=[...Wl(this,X0).values()],us={};return as.forEach(cs=>{partialMatchKey(ss,cs.mutationKey)&&Object.assign(us,cs.defaultOptions)}),us}defaultQueryOptions(ss){if(ss._defaulted)return ss;const as={...Wl(this,L0).queries,...this.getQueryDefaults(ss.queryKey),...ss,_defaulted:!0};return as.queryHash||(as.queryHash=hashQueryKeyByOptions(as.queryKey,as)),as.refetchOnReconnect===void 0&&(as.refetchOnReconnect=as.networkMode!=="always"),as.throwOnError===void 0&&(as.throwOnError=!!as.suspense),!as.networkMode&&as.persister&&(as.networkMode="offlineFirst"),as.queryFn===skipToken&&(as.enabled=!1),as}defaultMutationOptions(ss){return ss!=null&&ss._defaulted?ss:{...Wl(this,L0).mutations,...(ss==null?void 0:ss.mutationKey)&&this.getMutationDefaults(ss.mutationKey),...ss,_defaulted:!0}}clear(){Wl(this,E0).clear(),Wl(this,j0).clear()}},E0=new WeakMap,j0=new WeakMap,L0=new WeakMap,Y0=new WeakMap,X0=new WeakMap,F0=new WeakMap,ep=new WeakMap,tp=new WeakMap,gp),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:ss,children:as})=>(reactExports.useEffect(()=>(ss.mount(),()=>{ss.unmount()}),[ss]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:ss,children:as}));class IEvents{}let n$2=class extends IEvents{constructor(as){super()}};const s=cjs$3.FIVE_SECONDS,r$1={pulse:"heartbeat_pulse"};let i$2=class bp extends n$2{constructor(as){super(as),this.events=new eventsExports.EventEmitter,this.interval=s,this.interval=(as==null?void 0:as.interval)||s}static async init(as){const us=new bp(as);return await us.init(),us}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(as,us){this.events.on(as,us)}once(as,us){this.events.once(as,us)}off(as,us){this.events.off(as,us)}removeListener(as,us){this.events.removeListener(as,us)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),cjs$3.toMiliseconds(this.interval))}pulse(){this.events.emit(r$1.pulse)}};const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(ss,as){if(ss==="__proto__"||ss==="constructor"&&as&&typeof as=="object"&&"prototype"in as){warnKeyDropped(ss);return}return as}function warnKeyDropped(ss){console.warn(`[destr] Dropping "${ss}" key to prevent prototype pollution.`)}function destr(ss,as={}){if(typeof ss!="string")return ss;if(ss[0]==='"'&&ss[ss.length-1]==='"'&&ss.indexOf("\\")===-1)return ss.slice(1,-1);const us=ss.trim();if(us.length<=9)switch(us.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(ss)){if(as.strict)throw new SyntaxError("[destr] Invalid JSON");return ss}try{if(suspectProtoRx.test(ss)||suspectConstructorRx.test(ss)){if(as.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(ss,jsonParseTransform)}return JSON.parse(ss)}catch(cs){if(as.strict)throw cs;return ss}}function wrapToPromise(ss){return!ss||typeof ss.then!="function"?Promise.resolve(ss):ss}function asyncCall(ss,...as){try{return wrapToPromise(ss(...as))}catch(us){return Promise.reject(us)}}function isPrimitive(ss){const as=typeof ss;return ss===null||as!=="object"&&as!=="function"}function isPureObject(ss){const as=Object.getPrototypeOf(ss);return!as||as.isPrototypeOf(Object)}function stringify(ss){if(isPrimitive(ss))return String(ss);if(isPureObject(ss)||Array.isArray(ss))return JSON.stringify(ss);if(typeof ss.toJSON=="function")return stringify(ss.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const BASE64_PREFIX="base64:";function serializeRaw(ss){return typeof ss=="string"?ss:BASE64_PREFIX+base64Encode(ss)}function deserializeRaw(ss){return typeof ss!="string"||!ss.startsWith(BASE64_PREFIX)?ss:base64Decode(ss.slice(BASE64_PREFIX.length))}function base64Decode(ss){return globalThis.Buffer?Buffer$7.from(ss,"base64"):Uint8Array.from(globalThis.atob(ss),as=>as.codePointAt(0))}function base64Encode(ss){return globalThis.Buffer?Buffer$7.from(ss).toString("base64"):globalThis.btoa(String.fromCodePoint(...ss))}function normalizeKey(ss){var as;return ss&&((as=ss.split("?")[0])==null?void 0:as.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function joinKeys(...ss){return normalizeKey(ss.join(":"))}function normalizeBaseKey(ss){return ss=normalizeKey(ss),ss?ss+":":""}function filterKeyByDepth(ss,as){if(as===void 0)return!0;let us=0,cs=ss.indexOf(":");for(;cs>-1;)us++,cs=ss.indexOf(":",cs+1);return us<=as}function filterKeyByBase(ss,as){return as?ss.startsWith(as)&&ss[ss.length-1]!=="$":ss[ss.length-1]!=="$"}function defineDriver(ss){return ss}const DRIVER_NAME="memory",memory=()=>{const ss=new Map;return{name:DRIVER_NAME,getInstance:()=>ss,hasItem(as){return ss.has(as)},getItem(as){return ss.get(as)??null},getItemRaw(as){return ss.get(as)??null},setItem(as,us){ss.set(as,us)},setItemRaw(as,us){ss.set(as,us)},removeItem(as){ss.delete(as)},getKeys(){return[...ss.keys()]},clear(){ss.clear()},dispose(){ss.clear()}}};function createStorage(ss={}){const as={mounts:{"":ss.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},us=au=>{for(const ou of as.mountpoints)if(au.startsWith(ou))return{base:ou,relativeKey:au.slice(ou.length),driver:as.mounts[ou]};return{base:"",relativeKey:au,driver:as.mounts[""]}},cs=(au,ou)=>as.mountpoints.filter(fu=>fu.startsWith(au)||ou&&au.startsWith(fu)).map(fu=>({relativeBase:au.length>fu.length?au.slice(fu.length):void 0,mountpoint:fu,driver:as.mounts[fu]})),$a=(au,ou)=>{if(as.watching){ou=normalizeKey(ou);for(const fu of as.watchListeners)fu(au,ou)}},na=async()=>{if(!as.watching){as.watching=!0;for(const au in as.mounts)as.unwatch[au]=await watch(as.mounts[au],$a,au)}},tu=async()=>{if(as.watching){for(const au in as.unwatch)await as.unwatch[au]();as.unwatch={},as.watching=!1}},iu=(au,ou,fu)=>{const pu=new Map,vu=gu=>{let bu=pu.get(gu.base);return bu||(bu={driver:gu.driver,base:gu.base,items:[]},pu.set(gu.base,bu)),bu};for(const gu of au){const bu=typeof gu=="string",xu=normalizeKey(bu?gu:gu.key),$u=bu?void 0:gu.value,wu=bu||!gu.options?ou:{...ou,...gu.options},_u=us(xu);vu(_u).items.push({key:xu,value:$u,relativeKey:_u.relativeKey,options:wu})}return Promise.all([...pu.values()].map(gu=>fu(gu))).then(gu=>gu.flat())},su={hasItem(au,ou={}){au=normalizeKey(au);const{relativeKey:fu,driver:pu}=us(au);return asyncCall(pu.hasItem,fu,ou)},getItem(au,ou={}){au=normalizeKey(au);const{relativeKey:fu,driver:pu}=us(au);return asyncCall(pu.getItem,fu,ou).then(vu=>destr(vu))},getItems(au,ou={}){return iu(au,ou,fu=>fu.driver.getItems?asyncCall(fu.driver.getItems,fu.items.map(pu=>({key:pu.relativeKey,options:pu.options})),ou).then(pu=>pu.map(vu=>({key:joinKeys(fu.base,vu.key),value:destr(vu.value)}))):Promise.all(fu.items.map(pu=>asyncCall(fu.driver.getItem,pu.relativeKey,pu.options).then(vu=>({key:pu.key,value:destr(vu)})))))},getItemRaw(au,ou={}){au=normalizeKey(au);const{relativeKey:fu,driver:pu}=us(au);return pu.getItemRaw?asyncCall(pu.getItemRaw,fu,ou):asyncCall(pu.getItem,fu,ou).then(vu=>deserializeRaw(vu))},async setItem(au,ou,fu={}){if(ou===void 0)return su.removeItem(au);au=normalizeKey(au);const{relativeKey:pu,driver:vu}=us(au);vu.setItem&&(await asyncCall(vu.setItem,pu,stringify(ou),fu),vu.watch||$a("update",au))},async setItems(au,ou){await iu(au,ou,async fu=>{if(fu.driver.setItems)return asyncCall(fu.driver.setItems,fu.items.map(pu=>({key:pu.relativeKey,value:stringify(pu.value),options:pu.options})),ou);fu.driver.setItem&&await Promise.all(fu.items.map(pu=>asyncCall(fu.driver.setItem,pu.relativeKey,stringify(pu.value),pu.options)))})},async setItemRaw(au,ou,fu={}){if(ou===void 0)return su.removeItem(au,fu);au=normalizeKey(au);const{relativeKey:pu,driver:vu}=us(au);if(vu.setItemRaw)await asyncCall(vu.setItemRaw,pu,ou,fu);else if(vu.setItem)await asyncCall(vu.setItem,pu,serializeRaw(ou),fu);else return;vu.watch||$a("update",au)},async removeItem(au,ou={}){typeof ou=="boolean"&&(ou={removeMeta:ou}),au=normalizeKey(au);const{relativeKey:fu,driver:pu}=us(au);pu.removeItem&&(await asyncCall(pu.removeItem,fu,ou),(ou.removeMeta||ou.removeMata)&&await asyncCall(pu.removeItem,fu+"$",ou),pu.watch||$a("remove",au))},async getMeta(au,ou={}){typeof ou=="boolean"&&(ou={nativeOnly:ou}),au=normalizeKey(au);const{relativeKey:fu,driver:pu}=us(au),vu=Object.create(null);if(pu.getMeta&&Object.assign(vu,await asyncCall(pu.getMeta,fu,ou)),!ou.nativeOnly){const gu=await asyncCall(pu.getItem,fu+"$",ou).then(bu=>destr(bu));gu&&typeof gu=="object"&&(typeof gu.atime=="string"&&(gu.atime=new Date(gu.atime)),typeof gu.mtime=="string"&&(gu.mtime=new Date(gu.mtime)),Object.assign(vu,gu))}return vu},setMeta(au,ou,fu={}){return this.setItem(au+"$",ou,fu)},removeMeta(au,ou={}){return this.removeItem(au+"$",ou)},async getKeys(au,ou={}){var xu;au=normalizeBaseKey(au);const fu=cs(au,!0);let pu=[];const vu=[];let gu=!0;for(const $u of fu){(xu=$u.driver.flags)!=null&&xu.maxDepth||(gu=!1);const wu=await asyncCall($u.driver.getKeys,$u.relativeBase,ou);for(const _u of wu){const Mu=$u.mountpoint+normalizeKey(_u);pu.some(Au=>Mu.startsWith(Au))||vu.push(Mu)}pu=[$u.mountpoint,...pu.filter(_u=>!_u.startsWith($u.mountpoint))]}const bu=ou.maxDepth!==void 0&&!gu;return vu.filter($u=>(!bu||filterKeyByDepth($u,ou.maxDepth))&&filterKeyByBase($u,au))},async clear(au,ou={}){au=normalizeBaseKey(au),await Promise.all(cs(au,!1).map(async fu=>{if(fu.driver.clear)return asyncCall(fu.driver.clear,fu.relativeBase,ou);if(fu.driver.removeItem){const pu=await fu.driver.getKeys(fu.relativeBase||"",ou);return Promise.all(pu.map(vu=>fu.driver.removeItem(vu,ou)))}}))},async dispose(){await Promise.all(Object.values(as.mounts).map(au=>dispose(au)))},async watch(au){return await na(),as.watchListeners.push(au),async()=>{as.watchListeners=as.watchListeners.filter(ou=>ou!==au),as.watchListeners.length===0&&await tu()}},async unwatch(){as.watchListeners=[],await tu()},mount(au,ou){if(au=normalizeBaseKey(au),au&&as.mounts[au])throw new Error(`already mounted at ${au}`);return au&&(as.mountpoints.push(au),as.mountpoints.sort((fu,pu)=>pu.length-fu.length)),as.mounts[au]=ou,as.watching&&Promise.resolve(watch(ou,$a,au)).then(fu=>{as.unwatch[au]=fu}).catch(console.error),su},async unmount(au,ou=!0){var fu,pu;au=normalizeBaseKey(au),!(!au||!as.mounts[au])&&(as.watching&&au in as.unwatch&&((pu=(fu=as.unwatch)[au])==null||pu.call(fu),delete as.unwatch[au]),ou&&await dispose(as.mounts[au]),as.mountpoints=as.mountpoints.filter(vu=>vu!==au),delete as.mounts[au])},getMount(au=""){au=normalizeKey(au)+":";const ou=us(au);return{driver:ou.driver,base:ou.base}},getMounts(au="",ou={}){return au=normalizeKey(au),cs(au,ou.parents).map(pu=>({driver:pu.driver,base:pu.mountpoint}))},keys:(au,ou={})=>su.getKeys(au,ou),get:(au,ou={})=>su.getItem(au,ou),set:(au,ou,fu={})=>su.setItem(au,ou,fu),has:(au,ou={})=>su.hasItem(au,ou),del:(au,ou={})=>su.removeItem(au,ou),remove:(au,ou={})=>su.removeItem(au,ou)};return su}function watch(ss,as,us){return ss.watch?ss.watch((cs,$a)=>as(cs,us+$a)):()=>{}}async function dispose(ss){typeof ss.dispose=="function"&&await asyncCall(ss.dispose)}function promisifyRequest(ss){return new Promise((as,us)=>{ss.oncomplete=ss.onsuccess=()=>as(ss.result),ss.onabort=ss.onerror=()=>us(ss.error)})}function createStore(ss,as){const us=indexedDB.open(ss);us.onupgradeneeded=()=>us.result.createObjectStore(as);const cs=promisifyRequest(us);return($a,na)=>cs.then(tu=>na(tu.transaction(as,$a).objectStore(as)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(ss,as=defaultGetStore()){return as("readonly",us=>promisifyRequest(us.get(ss)))}function set$1(ss,as,us=defaultGetStore()){return us("readwrite",cs=>(cs.put(as,ss),promisifyRequest(cs.transaction)))}function del(ss,as=defaultGetStore()){return as("readwrite",us=>(us.delete(ss),promisifyRequest(us.transaction)))}function clear(ss=defaultGetStore()){return ss("readwrite",as=>(as.clear(),promisifyRequest(as.transaction)))}function eachCursor(ss,as){return ss.openCursor().onsuccess=function(){this.result&&(as(this.result),this.result.continue())},promisifyRequest(ss.transaction)}function keys(ss=defaultGetStore()){return ss("readonly",as=>{if(as.getAllKeys)return promisifyRequest(as.getAllKeys());const us=[];return eachCursor(as,cs=>us.push(cs.key)).then(()=>us)})}const JSONStringify=ss=>JSON.stringify(ss,(as,us)=>typeof us=="bigint"?us.toString()+"n":us),JSONParse=ss=>{const as=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,us=ss.replace(as,'$1"$2n"$3');return JSON.parse(us,(cs,$a)=>typeof $a=="string"&&$a.match(/^\d+n$/)?BigInt($a.substring(0,$a.length-1)):$a)};function safeJsonParse(ss){if(typeof ss!="string")throw new Error(`Cannot safe json parse value of type ${typeof ss}`);try{return JSONParse(ss)}catch{return ss}}function safeJsonStringify(ss){return typeof ss=="string"?ss:JSONStringify(ss)||""}const x$3="idb-keyval";var z$3=(ss={})=>{const as=ss.base&&ss.base.length>0?`${ss.base}:`:"",us=$a=>as+$a;let cs;return ss.dbName&&ss.storeName&&(cs=createStore(ss.dbName,ss.storeName)),{name:x$3,options:ss,async hasItem($a){return!(typeof await get(us($a),cs)>"u")},async getItem($a){return await get(us($a),cs)??null},setItem($a,na){return set$1(us($a),na,cs)},removeItem($a){return del(us($a),cs)},getKeys(){return keys(cs)},clear(){return clear(cs)}}};const D$1="WALLET_CONNECT_V2_INDEXED_DB",E$4="keyvaluestorage";let _$2=class{constructor(){this.indexedDb=createStorage({driver:z$3({dbName:D$1,storeName:E$4})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(as=>[as.key,as.value])}async getItem(as){const us=await this.indexedDb.getItem(as);if(us!==null)return us}async setItem(as,us){await this.indexedDb.setItem(as,safeJsonStringify(us))}async removeItem(as){await this.indexedDb.removeItem(as)}};var l$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$1<"u"?global$1:typeof self<"u"?self:{},c$3={exports:{}};(function(){let ss;function as(){}ss=as,ss.prototype.getItem=function(us){return this.hasOwnProperty(us)?String(this[us]):null},ss.prototype.setItem=function(us,cs){this[us]=String(cs)},ss.prototype.removeItem=function(us){delete this[us]},ss.prototype.clear=function(){const us=this;Object.keys(us).forEach(function(cs){us[cs]=void 0,delete us[cs]})},ss.prototype.key=function(us){return us=us||0,Object.keys(this)[us]},ss.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$2<"u"&&l$2.localStorage?c$3.exports=l$2.localStorage:typeof window<"u"&&window.localStorage?c$3.exports=window.localStorage:c$3.exports=new as})();function k$5(ss){var as;return[ss[0],safeJsonParse((as=ss[1])!=null?as:"")]}let K$3=class{constructor(){this.localStorage=c$3.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$5)}async getItem(as){const us=this.localStorage.getItem(as);if(us!==null)return safeJsonParse(us)}async setItem(as,us){this.localStorage.setItem(as,safeJsonStringify(us))}async removeItem(as){this.localStorage.removeItem(as)}};const N$3="wc_storage_version",y$4=1,O$3=async(ss,as,us)=>{const cs=N$3,$a=await as.getItem(cs);if($a&&$a>=y$4){us(as);return}const na=await ss.getKeys();if(!na.length){us(as);return}const tu=[];for(;na.length;){const iu=na.shift();if(!iu)continue;const su=iu.toLowerCase();if(su.includes("wc@")||su.includes("walletconnect")||su.includes("wc_")||su.includes("wallet_connect")){const au=await ss.getItem(iu);await as.setItem(iu,au),tu.push(iu)}}await as.setItem(cs,y$4),us(as),j$2(ss,tu)},j$2=async(ss,as)=>{as.length&&as.forEach(async us=>{await ss.removeItem(us)})};let h$3=class{constructor(){this.initialized=!1,this.setInitialized=us=>{this.storage=us,this.initialized=!0};const as=new K$3;this.storage=as;try{const us=new _$2;O$3(as,us,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(as){return await this.initialize(),this.storage.getItem(as)}async setItem(as,us){return await this.initialize(),this.storage.setItem(as,us)}async removeItem(as){return await this.initialize(),this.storage.removeItem(as)}async initialize(){this.initialized||await new Promise(as=>{const us=setInterval(()=>{this.initialized&&(clearInterval(us),as())},20)})}};function tryStringify(ss){try{return JSON.stringify(ss)}catch{return'"[Circular]"'}}var quickFormatUnescaped=format$1;function format$1(ss,as,us){var cs=us&&us.stringify||tryStringify,$a=1;if(typeof ss=="object"&&ss!==null){var na=as.length+$a;if(na===1)return ss;var tu=new Array(na);tu[0]=cs(ss);for(var iu=1;iu<na;iu++)tu[iu]=cs(as[iu]);return tu.join(" ")}if(typeof ss!="string")return ss;var su=as.length;if(su===0)return ss;for(var au="",ou=1-$a,fu=-1,pu=ss&&ss.length||0,vu=0;vu<pu;){if(ss.charCodeAt(vu)===37&&vu+1<pu){switch(fu=fu>-1?fu:0,ss.charCodeAt(vu+1)){case 100:case 102:if(ou>=su||as[ou]==null)break;fu<vu&&(au+=ss.slice(fu,vu)),au+=Number(as[ou]),fu=vu+2,vu++;break;case 105:if(ou>=su||as[ou]==null)break;fu<vu&&(au+=ss.slice(fu,vu)),au+=Math.floor(Number(as[ou])),fu=vu+2,vu++;break;case 79:case 111:case 106:if(ou>=su||as[ou]===void 0)break;fu<vu&&(au+=ss.slice(fu,vu));var gu=typeof as[ou];if(gu==="string"){au+="'"+as[ou]+"'",fu=vu+2,vu++;break}if(gu==="function"){au+=as[ou].name||"<anonymous>",fu=vu+2,vu++;break}au+=cs(as[ou]),fu=vu+2,vu++;break;case 115:if(ou>=su)break;fu<vu&&(au+=ss.slice(fu,vu)),au+=String(as[ou]),fu=vu+2,vu++;break;case 37:fu<vu&&(au+=ss.slice(fu,vu)),au+="%",fu=vu+2,vu++,ou--;break}++ou}++vu}return fu===-1?ss:(fu<pu&&(au+=ss.slice(fu)),au)}const format=quickFormatUnescaped;var browser$1=pino;const _console=pfGlobalThisOrFallback().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue};function shouldSerialize(ss,as){return Array.isArray(ss)?ss.filter(function(cs){return cs!=="!stdSerializers.err"}):ss===!0?Object.keys(as):!1}function pino(ss){ss=ss||{},ss.browser=ss.browser||{};const as=ss.browser.transmit;if(as&&typeof as.send!="function")throw Error("pino: transmit option must have a send function");const us=ss.browser.write||_console;ss.browser.write&&(ss.browser.asObject=!0);const cs=ss.serializers||{},$a=shouldSerialize(ss.browser.serialize,cs);let na=ss.browser.serialize;Array.isArray(ss.browser.serialize)&&ss.browser.serialize.indexOf("!stdSerializers.err")>-1&&(na=!1);const tu=["error","fatal","warn","info","debug","trace"];typeof us=="function"&&(us.error=us.fatal=us.warn=us.info=us.debug=us.trace=us),ss.enabled===!1&&(ss.level="silent");const iu=ss.level||"info",su=Object.create(us);su.log||(su.log=noop),Object.defineProperty(su,"levelVal",{get:ou}),Object.defineProperty(su,"level",{get:fu,set:pu});const au={transmit:as,serialize:$a,asObject:ss.browser.asObject,levels:tu,timestamp:getTimeFunction(ss)};su.levels=pino.levels,su.level=iu,su.setMaxListeners=su.getMaxListeners=su.emit=su.addListener=su.on=su.prependListener=su.once=su.prependOnceListener=su.removeListener=su.removeAllListeners=su.listeners=su.listenerCount=su.eventNames=su.write=su.flush=noop,su.serializers=cs,su._serialize=$a,su._stdErrSerialize=na,su.child=vu,as&&(su._logEvent=createLogEventShape());function ou(){return this.level==="silent"?1/0:this.levels.values[this.level]}function fu(){return this._level}function pu(gu){if(gu!=="silent"&&!this.levels.values[gu])throw Error("unknown level "+gu);this._level=gu,set(au,su,"error","log"),set(au,su,"fatal","error"),set(au,su,"warn","error"),set(au,su,"info","log"),set(au,su,"debug","log"),set(au,su,"trace","log")}function vu(gu,bu){if(!gu)throw new Error("missing bindings for child Pino");bu=bu||{},$a&&gu.serializers&&(bu.serializers=gu.serializers);const xu=bu.serializers;if($a&&xu){var $u=Object.assign({},cs,xu),wu=ss.browser.serialize===!0?Object.keys($u):$a;delete gu.serializers,applySerializers([gu],wu,$u,this._stdErrSerialize)}function _u(Mu){this._childLevel=(Mu._childLevel|0)+1,this.error=bind(Mu,gu,"error"),this.fatal=bind(Mu,gu,"fatal"),this.warn=bind(Mu,gu,"warn"),this.info=bind(Mu,gu,"info"),this.debug=bind(Mu,gu,"debug"),this.trace=bind(Mu,gu,"trace"),$u&&(this.serializers=$u,this._serialize=wu),as&&(this._logEvent=createLogEventShape([].concat(Mu._logEvent.bindings,gu)))}return _u.prototype=this,new _u(this)}return su}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pino.stdSerializers=stdSerializers;pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime,isoTime});function set(ss,as,us,cs){const $a=Object.getPrototypeOf(as);as[us]=as.levelVal>as.levels.values[us]?noop:$a[us]?$a[us]:_console[us]||_console[cs]||noop,wrap(ss,as,us)}function wrap(ss,as,us){!ss.transmit&&as[us]===noop||(as[us]=function(cs){return function(){const na=ss.timestamp(),tu=new Array(arguments.length),iu=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var su=0;su<tu.length;su++)tu[su]=arguments[su];if(ss.serialize&&!ss.asObject&&applySerializers(tu,this._serialize,this.serializers,this._stdErrSerialize),ss.asObject?cs.call(iu,asObject(this,us,tu,na)):cs.apply(iu,tu),ss.transmit){const au=ss.transmit.level||as.level,ou=pino.levels.values[au],fu=pino.levels.values[us];if(fu<ou)return;transmit(this,{ts:na,methodLevel:us,methodValue:fu,transmitValue:pino.levels.values[ss.transmit.level||as.level],send:ss.transmit.send,val:as.levelVal},tu)}}}(as[us]))}function asObject(ss,as,us,cs){ss._serialize&&applySerializers(us,ss._serialize,ss.serializers,ss._stdErrSerialize);const $a=us.slice();let na=$a[0];const tu={};cs&&(tu.time=cs),tu.level=pino.levels.values[as];let iu=(ss._childLevel|0)+1;if(iu<1&&(iu=1),na!==null&&typeof na=="object"){for(;iu--&&typeof $a[0]=="object";)Object.assign(tu,$a.shift());na=$a.length?format($a.shift(),$a):void 0}else typeof na=="string"&&(na=format($a.shift(),$a));return na!==void 0&&(tu.msg=na),tu}function applySerializers(ss,as,us,cs){for(const $a in ss)if(cs&&ss[$a]instanceof Error)ss[$a]=pino.stdSerializers.err(ss[$a]);else if(typeof ss[$a]=="object"&&!Array.isArray(ss[$a]))for(const na in ss[$a])as&&as.indexOf(na)>-1&&na in us&&(ss[$a][na]=us[na](ss[$a][na]))}function bind(ss,as,us){return function(){const cs=new Array(1+arguments.length);cs[0]=as;for(var $a=1;$a<cs.length;$a++)cs[$a]=arguments[$a-1];return ss[us].apply(this,cs)}}function transmit(ss,as,us){const cs=as.send,$a=as.ts,na=as.methodLevel,tu=as.methodValue,iu=as.val,su=ss._logEvent.bindings;applySerializers(us,ss._serialize||Object.keys(ss.serializers),ss.serializers,ss._stdErrSerialize===void 0?!0:ss._stdErrSerialize),ss._logEvent.ts=$a,ss._logEvent.messages=us.filter(function(au){return su.indexOf(au)===-1}),ss._logEvent.level.label=na,ss._logEvent.level.value=tu,cs(na,ss._logEvent,iu),ss._logEvent=createLogEventShape(su)}function createLogEventShape(ss){return{ts:0,messages:[],bindings:ss||[],level:{label:"",value:0}}}function asErrValue(ss){const as={type:ss.constructor.name,msg:ss.message,stack:ss.stack};for(const us in ss)as[us]===void 0&&(as[us]=ss[us]);return as}function getTimeFunction(ss){return typeof ss.timestamp=="function"?ss.timestamp:ss.timestamp===!1?nullTime:epochTime}function mock(){return{}}function passthrough(ss){return ss}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}function unixTime(){return Math.round(Date.now()/1e3)}function isoTime(){return new Date(Date.now()).toISOString()}function pfGlobalThisOrFallback(){function ss(as){return typeof as<"u"&&as}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return ss(self)||ss(window)||ss(this)||{}}}const Dg=getDefaultExportFromCjs$1(browser$1),c$2={level:"info"},n$1="custom_context",l$1=1e3*1024;let O$2=class{constructor(as){this.nodeValue=as,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},d$2=class{constructor(as){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=as,this.sizeInBytes=0}append(as){const us=new O$2(as);if(us.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${as} with size ${us.size}`);for(;this.size+us.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=us),this.tail=us):(this.head=us,this.tail=us),this.lengthInNodes++,this.sizeInBytes+=us.size}shift(){if(!this.head)return;const as=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=as.size}toArray(){const as=[];let us=this.head;for(;us!==null;)as.push(us.value),us=us.next;return as}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let as=this.head;return{next:()=>{if(!as)return{done:!0,value:null};const us=as.value;return as=as.next,{done:!1,value:us}}}}},L$2=class{constructor(as,us=l$1){this.level=as??"error",this.levelValue=browser$1.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=us,this.logs=new d$2(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(as,us){us===browser$1.levels.values.error?console.error(as):us===browser$1.levels.values.warn?console.warn(as):us===browser$1.levels.values.debug?console.debug(as):us===browser$1.levels.values.trace?console.trace(as):console.log(as)}appendToLogs(as){this.logs.append(safeJsonStringify({timestamp:new Date().toISOString(),log:as}));const us=typeof as=="string"?JSON.parse(as).level:as.level;us>=this.levelValue&&this.forwardToConsole(as,us)}getLogs(){return this.logs}clearLogs(){this.logs=new d$2(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(as){const us=this.getLogArray();return us.push(safeJsonStringify({extraMetadata:as})),new Blob(us,{type:"application/json"})}},m$1=class{constructor(as,us=l$1){this.baseChunkLogger=new L$2(as,us)}write(as){this.baseChunkLogger.appendToLogs(as)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(as){return this.baseChunkLogger.logsToBlob(as)}downloadLogsBlobInBrowser(as){const us=URL.createObjectURL(this.logsToBlob(as)),cs=document.createElement("a");cs.href=us,cs.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(cs),cs.click(),document.body.removeChild(cs),URL.revokeObjectURL(us)}},B$2=class{constructor(as,us=l$1){this.baseChunkLogger=new L$2(as,us)}write(as){this.baseChunkLogger.appendToLogs(as)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(as){return this.baseChunkLogger.logsToBlob(as)}};var x$2=Object.defineProperty,S$3=Object.defineProperties,_$1=Object.getOwnPropertyDescriptors,p$3=Object.getOwnPropertySymbols,T$2=Object.prototype.hasOwnProperty,z$2=Object.prototype.propertyIsEnumerable,f$4=(ss,as,us)=>as in ss?x$2(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,i$1=(ss,as)=>{for(var us in as||(as={}))T$2.call(as,us)&&f$4(ss,us,as[us]);if(p$3)for(var us of p$3(as))z$2.call(as,us)&&f$4(ss,us,as[us]);return ss},g$1=(ss,as)=>S$3(ss,_$1(as));function k$4(ss){return g$1(i$1({},ss),{level:(ss==null?void 0:ss.level)||c$2.level})}function v$5(ss,as=n$1){return ss[as]||""}function b$4(ss,as,us=n$1){return ss[us]=as,ss}function y$3(ss,as=n$1){let us="";return typeof ss.bindings>"u"?us=v$5(ss,as):us=ss.bindings().context||"",us}function w$3(ss,as,us=n$1){const cs=y$3(ss,us);return cs.trim()?`${cs}/${as}`:as}function E$3(ss,as,us=n$1){const cs=w$3(ss,as,us),$a=ss.child({context:cs});return b$4($a,cs,us)}function C$2(ss){var as,us;const cs=new m$1((as=ss.opts)==null?void 0:as.level,ss.maxSizeInBytes);return{logger:Dg(g$1(i$1({},ss.opts),{level:"trace",browser:g$1(i$1({},(us=ss.opts)==null?void 0:us.browser),{write:$a=>cs.write($a)})})),chunkLoggerController:cs}}function I$1(ss){var as;const us=new B$2((as=ss.opts)==null?void 0:as.level,ss.maxSizeInBytes);return{logger:Dg(g$1(i$1({},ss.opts),{level:"trace"}),us),chunkLoggerController:us}}function A$2(ss){return typeof ss.loggerOverride<"u"&&typeof ss.loggerOverride!="string"?{logger:ss.loggerOverride,chunkLoggerController:null}:typeof window<"u"?C$2(ss):I$1(ss)}var a=Object.defineProperty,u=(ss,as,us)=>as in ss?a(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,c$1=(ss,as,us)=>u(ss,typeof as!="symbol"?as+"":as,us);let h$2=class extends IEvents{constructor(as){super(),this.opts=as,c$1(this,"protocol","wc"),c$1(this,"version",2)}};var p$2=Object.defineProperty,b$3=(ss,as,us)=>as in ss?p$2(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,v$4=(ss,as,us)=>b$3(ss,as+"",us);class I extends IEvents{constructor(as,us){super(),this.core=as,this.logger=us,v$4(this,"records",new Map)}}let y$2=class{constructor(as,us){this.logger=as,this.core=us}};class m extends IEvents{constructor(as,us){super(),this.relayer=as,this.logger=us}}let d$1=class extends IEvents{constructor(as){super()}},f$3=class{constructor(as,us,cs,$a){this.core=as,this.logger=us,this.name=cs}},P$2=class extends IEvents{constructor(as,us){super(),this.relayer=as,this.logger=us}},S$2=class extends IEvents{constructor(as,us){super(),this.core=as,this.logger=us}},M$2=class{constructor(as,us,cs){this.core=as,this.logger=us,this.store=cs}},O$1=class{constructor(as,us){this.projectId=as,this.logger=us}},R$2=class{constructor(as,us,cs){this.core=as,this.logger=us,this.telemetryEnabled=cs}};var T$1=Object.defineProperty,k$3=(ss,as,us)=>as in ss?T$1(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,i=(ss,as,us)=>k$3(ss,typeof as!="symbol"?as+"":as,us);let J$3=class{constructor(as){this.opts=as,i(this,"protocol","wc"),i(this,"version",2)}},V$3=class{constructor(as){this.client=as}};function En$2(ss){return ss instanceof Uint8Array||ArrayBuffer.isView(ss)&&ss.constructor.name==="Uint8Array"}function fe$1(ss,...as){if(!En$2(ss))throw new Error("Uint8Array expected");if(as.length>0&&!as.includes(ss.length))throw new Error("Uint8Array expected of length "+as+", got length="+ss.length)}function De$2(ss,as=!0){if(ss.destroyed)throw new Error("Hash instance has been destroyed");if(as&&ss.finished)throw new Error("Hash#digest() has already been called")}function gn$1(ss,as){fe$1(ss);const us=as.outputLen;if(ss.length<us)throw new Error("digestInto() expects output buffer of length at least "+us)}const it=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t$2=ss=>new DataView(ss.buffer,ss.byteOffset,ss.byteLength);function yn$1(ss){if(typeof ss!="string")throw new Error("utf8ToBytes expected string, got "+typeof ss);return new Uint8Array(new TextEncoder().encode(ss))}function de$2(ss){return typeof ss=="string"&&(ss=yn$1(ss)),fe$1(ss),ss}let xn$1=class{clone(){return this._cloneInto()}};function Bn$1(ss){const as=cs=>ss().update(de$2(cs)).digest(),us=ss();return as.outputLen=us.outputLen,as.blockLen=us.blockLen,as.create=()=>ss(),as}function he$2(ss=32){if(it&&typeof it.getRandomValues=="function")return it.getRandomValues(new Uint8Array(ss));if(it&&typeof it.randomBytes=="function")return it.randomBytes(ss);throw new Error("crypto.getRandomValues must be defined")}function Cn$2(ss,as,us,cs){if(typeof ss.setBigUint64=="function")return ss.setBigUint64(as,us,cs);const $a=BigInt(32),na=BigInt(4294967295),tu=Number(us>>$a&na),iu=Number(us&na),su=cs?4:0,au=cs?0:4;ss.setUint32(as+su,tu,cs),ss.setUint32(as+au,iu,cs)}let An$1=class extends xn$1{constructor(as,us,cs,$a){super(),this.blockLen=as,this.outputLen=us,this.padOffset=cs,this.isLE=$a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(as),this.view=_t$2(this.buffer)}update(as){De$2(this);const{view:us,buffer:cs,blockLen:$a}=this;as=de$2(as);const na=as.length;for(let tu=0;tu<na;){const iu=Math.min($a-this.pos,na-tu);if(iu===$a){const su=_t$2(as);for(;$a<=na-tu;tu+=$a)this.process(su,tu);continue}cs.set(as.subarray(tu,tu+iu),this.pos),this.pos+=iu,tu+=iu,this.pos===$a&&(this.process(us,0),this.pos=0)}return this.length+=as.length,this.roundClean(),this}digestInto(as){De$2(this),gn$1(as,this),this.finished=!0;const{buffer:us,view:cs,blockLen:$a,isLE:na}=this;let{pos:tu}=this;us[tu++]=128,this.buffer.subarray(tu).fill(0),this.padOffset>$a-tu&&(this.process(cs,0),tu=0);for(let fu=tu;fu<$a;fu++)us[fu]=0;Cn$2(cs,$a-8,BigInt(this.length*8),na),this.process(cs,0);const iu=_t$2(as),su=this.outputLen;if(su%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const au=su/4,ou=this.get();if(au>ou.length)throw new Error("_sha2: outputLen bigger than state");for(let fu=0;fu<au;fu++)iu.setUint32(4*fu,ou[fu],na)}digest(){const{buffer:as,outputLen:us}=this;this.digestInto(as);const cs=as.slice(0,us);return this.destroy(),cs}_cloneInto(as){as||(as=new this.constructor),as.set(...this.get());const{blockLen:us,buffer:cs,length:$a,finished:na,destroyed:tu,pos:iu}=this;return as.length=$a,as.pos=iu,as.finished=na,as.destroyed=tu,$a%us&&as.buffer.set(cs),as}};const wt$2=BigInt(2**32-1),St$3=BigInt(32);function le$2(ss,as=!1){return as?{h:Number(ss&wt$2),l:Number(ss>>St$3&wt$2)}:{h:Number(ss>>St$3&wt$2)|0,l:Number(ss&wt$2)|0}}function mn$2(ss,as=!1){let us=new Uint32Array(ss.length),cs=new Uint32Array(ss.length);for(let $a=0;$a<ss.length;$a++){const{h:na,l:tu}=le$2(ss[$a],as);[us[$a],cs[$a]]=[na,tu]}return[us,cs]}const _n$2=(ss,as)=>BigInt(ss>>>0)<<St$3|BigInt(as>>>0),Sn$1=(ss,as,us)=>ss>>>us,vn$1=(ss,as,us)=>ss<<32-us|as>>>us,In$1=(ss,as,us)=>ss>>>us|as<<32-us,Un$1=(ss,as,us)=>ss<<32-us|as>>>us,Tn$2=(ss,as,us)=>ss<<64-us|as>>>us-32,Fn$2=(ss,as,us)=>ss>>>us-32|as<<64-us,Nn$1=(ss,as)=>as,Ln$1=(ss,as)=>ss,On$1=(ss,as,us)=>ss<<us|as>>>32-us,Hn$1=(ss,as,us)=>as<<us|ss>>>32-us,zn$2=(ss,as,us)=>as<<us-32|ss>>>64-us,Mn$2=(ss,as,us)=>ss<<us-32|as>>>64-us;function qn$1(ss,as,us,cs){const $a=(as>>>0)+(cs>>>0);return{h:ss+us+($a/2**32|0)|0,l:$a|0}}const $n$2=(ss,as,us)=>(ss>>>0)+(as>>>0)+(us>>>0),kn$2=(ss,as,us,cs)=>as+us+cs+(ss/2**32|0)|0,Rn$2=(ss,as,us,cs)=>(ss>>>0)+(as>>>0)+(us>>>0)+(cs>>>0),jn$2=(ss,as,us,cs,$a)=>as+us+cs+$a+(ss/2**32|0)|0,Zn$2=(ss,as,us,cs,$a)=>(ss>>>0)+(as>>>0)+(us>>>0)+(cs>>>0)+($a>>>0),Gn$2=(ss,as,us,cs,$a,na)=>as+us+cs+$a+na+(ss/2**32|0)|0,x$1={fromBig:le$2,split:mn$2,toBig:_n$2,shrSH:Sn$1,shrSL:vn$1,rotrSH:In$1,rotrSL:Un$1,rotrBH:Tn$2,rotrBL:Fn$2,rotr32H:Nn$1,rotr32L:Ln$1,rotlSH:On$1,rotlSL:Hn$1,rotlBH:zn$2,rotlBL:Mn$2,add:qn$1,add3L:$n$2,add3H:kn$2,add4L:Rn$2,add4H:jn$2,add5H:Gn$2,add5L:Zn$2},[Vn$2,Yn$2]=x$1.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(ss=>BigInt(ss))),P$1=new Uint32Array(80),Q$2=new Uint32Array(80);let Jn$2=class extends An$1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:as,Al:us,Bh:cs,Bl:$a,Ch:na,Cl:tu,Dh:iu,Dl:su,Eh:au,El:ou,Fh:fu,Fl:pu,Gh:vu,Gl:gu,Hh:bu,Hl:xu}=this;return[as,us,cs,$a,na,tu,iu,su,au,ou,fu,pu,vu,gu,bu,xu]}set(as,us,cs,$a,na,tu,iu,su,au,ou,fu,pu,vu,gu,bu,xu){this.Ah=as|0,this.Al=us|0,this.Bh=cs|0,this.Bl=$a|0,this.Ch=na|0,this.Cl=tu|0,this.Dh=iu|0,this.Dl=su|0,this.Eh=au|0,this.El=ou|0,this.Fh=fu|0,this.Fl=pu|0,this.Gh=vu|0,this.Gl=gu|0,this.Hh=bu|0,this.Hl=xu|0}process(as,us){for(let _u=0;_u<16;_u++,us+=4)P$1[_u]=as.getUint32(us),Q$2[_u]=as.getUint32(us+=4);for(let _u=16;_u<80;_u++){const Mu=P$1[_u-15]|0,Au=Q$2[_u-15]|0,Pu=x$1.rotrSH(Mu,Au,1)^x$1.rotrSH(Mu,Au,8)^x$1.shrSH(Mu,Au,7),Su=x$1.rotrSL(Mu,Au,1)^x$1.rotrSL(Mu,Au,8)^x$1.shrSL(Mu,Au,7),Bu=P$1[_u-2]|0,Ou=Q$2[_u-2]|0,Vu=x$1.rotrSH(Bu,Ou,19)^x$1.rotrBH(Bu,Ou,61)^x$1.shrSH(Bu,Ou,6),yu=x$1.rotrSL(Bu,Ou,19)^x$1.rotrBL(Bu,Ou,61)^x$1.shrSL(Bu,Ou,6),_a=x$1.add4L(Su,yu,Q$2[_u-7],Q$2[_u-16]),ru=x$1.add4H(_a,Pu,Vu,P$1[_u-7],P$1[_u-16]);P$1[_u]=ru|0,Q$2[_u]=_a|0}let{Ah:cs,Al:$a,Bh:na,Bl:tu,Ch:iu,Cl:su,Dh:au,Dl:ou,Eh:fu,El:pu,Fh:vu,Fl:gu,Gh:bu,Gl:xu,Hh:$u,Hl:wu}=this;for(let _u=0;_u<80;_u++){const Mu=x$1.rotrSH(fu,pu,14)^x$1.rotrSH(fu,pu,18)^x$1.rotrBH(fu,pu,41),Au=x$1.rotrSL(fu,pu,14)^x$1.rotrSL(fu,pu,18)^x$1.rotrBL(fu,pu,41),Pu=fu&vu^~fu&bu,Su=pu&gu^~pu&xu,Bu=x$1.add5L(wu,Au,Su,Yn$2[_u],Q$2[_u]),Ou=x$1.add5H(Bu,$u,Mu,Pu,Vn$2[_u],P$1[_u]),Vu=Bu|0,yu=x$1.rotrSH(cs,$a,28)^x$1.rotrBH(cs,$a,34)^x$1.rotrBH(cs,$a,39),_a=x$1.rotrSL(cs,$a,28)^x$1.rotrBL(cs,$a,34)^x$1.rotrBL(cs,$a,39),ru=cs&na^cs&iu^na&iu,nu=$a&tu^$a&su^tu&su;$u=bu|0,wu=xu|0,bu=vu|0,xu=gu|0,vu=fu|0,gu=pu|0,{h:fu,l:pu}=x$1.add(au|0,ou|0,Ou|0,Vu|0),au=iu|0,ou=su|0,iu=na|0,su=tu|0,na=cs|0,tu=$a|0;const uu=x$1.add3L(Vu,_a,nu);cs=x$1.add3H(uu,Ou,yu,ru),$a=uu|0}({h:cs,l:$a}=x$1.add(this.Ah|0,this.Al|0,cs|0,$a|0)),{h:na,l:tu}=x$1.add(this.Bh|0,this.Bl|0,na|0,tu|0),{h:iu,l:su}=x$1.add(this.Ch|0,this.Cl|0,iu|0,su|0),{h:au,l:ou}=x$1.add(this.Dh|0,this.Dl|0,au|0,ou|0),{h:fu,l:pu}=x$1.add(this.Eh|0,this.El|0,fu|0,pu|0),{h:vu,l:gu}=x$1.add(this.Fh|0,this.Fl|0,vu|0,gu|0),{h:bu,l:xu}=x$1.add(this.Gh|0,this.Gl|0,bu|0,xu|0),{h:$u,l:wu}=x$1.add(this.Hh|0,this.Hl|0,$u|0,wu|0),this.set(cs,$a,na,tu,iu,su,au,ou,fu,pu,vu,gu,bu,xu,$u,wu)}roundClean(){P$1.fill(0),Q$2.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Kn$2=Bn$1(()=>new Jn$2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt=BigInt(0),be$2=BigInt(1),Wn$2=BigInt(2);function It$2(ss){return ss instanceof Uint8Array||ArrayBuffer.isView(ss)&&ss.constructor.name==="Uint8Array"}function Ut$1(ss){if(!It$2(ss))throw new Error("Uint8Array expected")}function Tt$2(ss,as){if(typeof as!="boolean")throw new Error(ss+" boolean expected, got "+as)}const Xn$2=Array.from({length:256},(ss,as)=>as.toString(16).padStart(2,"0"));function Ft$1(ss){Ut$1(ss);let as="";for(let us=0;us<ss.length;us++)as+=Xn$2[ss[us]];return as}function pe$2(ss){if(typeof ss!="string")throw new Error("hex string expected, got "+typeof ss);return ss===""?vt:BigInt("0x"+ss)}const K$2={_0:48,_9:57,A:65,F:70,a:97,f:102};function we$2(ss){if(ss>=K$2._0&&ss<=K$2._9)return ss-K$2._0;if(ss>=K$2.A&&ss<=K$2.F)return ss-(K$2.A-10);if(ss>=K$2.a&&ss<=K$2.f)return ss-(K$2.a-10)}function Ee$3(ss){if(typeof ss!="string")throw new Error("hex string expected, got "+typeof ss);const as=ss.length,us=as/2;if(as%2)throw new Error("hex string expected, got unpadded hex of length "+as);const cs=new Uint8Array(us);for(let $a=0,na=0;$a<us;$a++,na+=2){const tu=we$2(ss.charCodeAt(na)),iu=we$2(ss.charCodeAt(na+1));if(tu===void 0||iu===void 0){const su=ss[na]+ss[na+1];throw new Error('hex string expected, got non-hex character "'+su+'" at index '+na)}cs[$a]=tu*16+iu}return cs}function Pn$2(ss){return pe$2(Ft$1(ss))}function Et$3(ss){return Ut$1(ss),pe$2(Ft$1(Uint8Array.from(ss).reverse()))}function ge$2(ss,as){return Ee$3(ss.toString(16).padStart(as*2,"0"))}function Nt$2(ss,as){return ge$2(ss,as).reverse()}function W$2(ss,as,us){let cs;if(typeof as=="string")try{cs=Ee$3(as)}catch(na){throw new Error(ss+" must be hex string or Uint8Array, cause: "+na)}else if(It$2(as))cs=Uint8Array.from(as);else throw new Error(ss+" must be hex string or Uint8Array");const $a=cs.length;if(typeof us=="number"&&$a!==us)throw new Error(ss+" of length "+us+" expected, got "+$a);return cs}function ye$2(...ss){let as=0;for(let cs=0;cs<ss.length;cs++){const $a=ss[cs];Ut$1($a),as+=$a.length}const us=new Uint8Array(as);for(let cs=0,$a=0;cs<ss.length;cs++){const na=ss[cs];us.set(na,$a),$a+=na.length}return us}const Lt$2=ss=>typeof ss=="bigint"&&vt<=ss;function Qn$2(ss,as,us){return Lt$2(ss)&&Lt$2(as)&&Lt$2(us)&&as<=ss&&ss<us}function ft$2(ss,as,us,cs){if(!Qn$2(as,us,cs))throw new Error("expected valid "+ss+": "+us+" <= n < "+cs+", got "+as)}function tr$2(ss){let as;for(as=0;ss>vt;ss>>=be$2,as+=1);return as}const er$2=ss=>(Wn$2<<BigInt(ss-1))-be$2,nr$2={bigint:ss=>typeof ss=="bigint",function:ss=>typeof ss=="function",boolean:ss=>typeof ss=="boolean",string:ss=>typeof ss=="string",stringOrUint8Array:ss=>typeof ss=="string"||It$2(ss),isSafeInteger:ss=>Number.isSafeInteger(ss),array:ss=>Array.isArray(ss),field:(ss,as)=>as.Fp.isValid(ss),hash:ss=>typeof ss=="function"&&Number.isSafeInteger(ss.outputLen)};function Ot$2(ss,as,us={}){const cs=($a,na,tu)=>{const iu=nr$2[na];if(typeof iu!="function")throw new Error("invalid validator function");const su=ss[$a];if(!(tu&&su===void 0)&&!iu(su,ss))throw new Error("param "+String($a)+" is invalid. Expected "+na+", got "+su)};for(const[$a,na]of Object.entries(as))cs($a,na,!1);for(const[$a,na]of Object.entries(us))cs($a,na,!0);return ss}function xe$1(ss){const as=new WeakMap;return(us,...cs)=>{const $a=as.get(us);if($a!==void 0)return $a;const na=ss(us,...cs);return as.set(us,na),na}}const M$1=BigInt(0),N$2=BigInt(1),nt$1=BigInt(2),rr$2=BigInt(3),Ht$2=BigInt(4),Be$1=BigInt(5),Ce$1=BigInt(8);function H$1(ss,as){const us=ss%as;return us>=M$1?us:as+us}function or$2(ss,as,us){if(as<M$1)throw new Error("invalid exponent, negatives unsupported");if(us<=M$1)throw new Error("invalid modulus");if(us===N$2)return M$1;let cs=N$2;for(;as>M$1;)as&N$2&&(cs=cs*ss%us),ss=ss*ss%us,as>>=N$2;return cs}function J$2(ss,as,us){let cs=ss;for(;as-- >M$1;)cs*=cs,cs%=us;return cs}function Ae(ss,as){if(ss===M$1)throw new Error("invert: expected non-zero number");if(as<=M$1)throw new Error("invert: expected positive modulus, got "+as);let us=H$1(ss,as),cs=as,$a=M$1,na=N$2;for(;us!==M$1;){const tu=cs/us,iu=cs%us,su=$a-na*tu;cs=us,us=iu,$a=na,na=su}if(cs!==N$2)throw new Error("invert: does not exist");return H$1($a,as)}function sr$2(ss){const as=(ss-N$2)/nt$1;let us,cs,$a;for(us=ss-N$2,cs=0;us%nt$1===M$1;us/=nt$1,cs++);for($a=nt$1;$a<ss&&or$2($a,as,ss)!==ss-N$2;$a++)if($a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(cs===1){const tu=(ss+N$2)/Ht$2;return function(iu,su){const au=iu.pow(su,tu);if(!iu.eql(iu.sqr(au),su))throw new Error("Cannot find square root");return au}}const na=(us+N$2)/nt$1;return function(tu,iu){if(tu.pow(iu,as)===tu.neg(tu.ONE))throw new Error("Cannot find square root");let su=cs,au=tu.pow(tu.mul(tu.ONE,$a),us),ou=tu.pow(iu,na),fu=tu.pow(iu,us);for(;!tu.eql(fu,tu.ONE);){if(tu.eql(fu,tu.ZERO))return tu.ZERO;let pu=1;for(let gu=tu.sqr(fu);pu<su&&!tu.eql(gu,tu.ONE);pu++)gu=tu.sqr(gu);const vu=tu.pow(au,N$2<<BigInt(su-pu-1));au=tu.sqr(vu),ou=tu.mul(ou,vu),fu=tu.mul(fu,au),su=pu}return ou}}function ir$2(ss){if(ss%Ht$2===rr$2){const as=(ss+N$2)/Ht$2;return function(us,cs){const $a=us.pow(cs,as);if(!us.eql(us.sqr($a),cs))throw new Error("Cannot find square root");return $a}}if(ss%Ce$1===Be$1){const as=(ss-Be$1)/Ce$1;return function(us,cs){const $a=us.mul(cs,nt$1),na=us.pow($a,as),tu=us.mul(cs,na),iu=us.mul(us.mul(tu,nt$1),na),su=us.mul(tu,us.sub(iu,us.ONE));if(!us.eql(us.sqr(su),cs))throw new Error("Cannot find square root");return su}}return sr$2(ss)}const ur$2=(ss,as)=>(H$1(ss,as)&N$2)===N$2,cr$2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ar$2(ss){const as={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},us=cr$2.reduce((cs,$a)=>(cs[$a]="function",cs),as);return Ot$2(ss,us)}function fr$2(ss,as,us){if(us<M$1)throw new Error("invalid exponent, negatives unsupported");if(us===M$1)return ss.ONE;if(us===N$2)return as;let cs=ss.ONE,$a=as;for(;us>M$1;)us&N$2&&(cs=ss.mul(cs,$a)),$a=ss.sqr($a),us>>=N$2;return cs}function Dr$2(ss,as){const us=new Array(as.length),cs=as.reduce((na,tu,iu)=>ss.is0(tu)?na:(us[iu]=na,ss.mul(na,tu)),ss.ONE),$a=ss.inv(cs);return as.reduceRight((na,tu,iu)=>ss.is0(tu)?na:(us[iu]=ss.mul(na,us[iu]),ss.mul(na,tu)),$a),us}function me$2(ss,as){const us=as!==void 0?as:ss.toString(2).length,cs=Math.ceil(us/8);return{nBitLength:us,nByteLength:cs}}function _e$3(ss,as,us=!1,cs={}){if(ss<=M$1)throw new Error("invalid field: expected ORDER > 0, got "+ss);const{nBitLength:$a,nByteLength:na}=me$2(ss,as);if(na>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let tu;const iu=Object.freeze({ORDER:ss,isLE:us,BITS:$a,BYTES:na,MASK:er$2($a),ZERO:M$1,ONE:N$2,create:su=>H$1(su,ss),isValid:su=>{if(typeof su!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof su);return M$1<=su&&su<ss},is0:su=>su===M$1,isOdd:su=>(su&N$2)===N$2,neg:su=>H$1(-su,ss),eql:(su,au)=>su===au,sqr:su=>H$1(su*su,ss),add:(su,au)=>H$1(su+au,ss),sub:(su,au)=>H$1(su-au,ss),mul:(su,au)=>H$1(su*au,ss),pow:(su,au)=>fr$2(iu,su,au),div:(su,au)=>H$1(su*Ae(au,ss),ss),sqrN:su=>su*su,addN:(su,au)=>su+au,subN:(su,au)=>su-au,mulN:(su,au)=>su*au,inv:su=>Ae(su,ss),sqrt:cs.sqrt||(su=>(tu||(tu=ir$2(ss)),tu(iu,su))),invertBatch:su=>Dr$2(iu,su),cmov:(su,au,ou)=>ou?au:su,toBytes:su=>us?Nt$2(su,na):ge$2(su,na),fromBytes:su=>{if(su.length!==na)throw new Error("Field.fromBytes: expected "+na+" bytes, got "+su.length);return us?Et$3(su):Pn$2(su)}});return Object.freeze(iu)}const Se$1=BigInt(0),gt$2=BigInt(1);function zt$1(ss,as){const us=as.negate();return ss?us:as}function ve$1(ss,as){if(!Number.isSafeInteger(ss)||ss<=0||ss>as)throw new Error("invalid window size, expected [1.."+as+"], got W="+ss)}function Mt$2(ss,as){ve$1(ss,as);const us=Math.ceil(as/ss)+1,cs=2**(ss-1);return{windows:us,windowSize:cs}}function dr$2(ss,as){if(!Array.isArray(ss))throw new Error("array expected");ss.forEach((us,cs)=>{if(!(us instanceof as))throw new Error("invalid point at index "+cs)})}function hr$2(ss,as){if(!Array.isArray(ss))throw new Error("array of scalars expected");ss.forEach((us,cs)=>{if(!as.isValid(us))throw new Error("invalid scalar at index "+cs)})}const qt$2=new WeakMap,Ie$2=new WeakMap;function $t$2(ss){return Ie$2.get(ss)||1}function lr$2(ss,as){return{constTimeNegate:zt$1,hasPrecomputes(us){return $t$2(us)!==1},unsafeLadder(us,cs,$a=ss.ZERO){let na=us;for(;cs>Se$1;)cs&gt$2&&($a=$a.add(na)),na=na.double(),cs>>=gt$2;return $a},precomputeWindow(us,cs){const{windows:$a,windowSize:na}=Mt$2(cs,as),tu=[];let iu=us,su=iu;for(let au=0;au<$a;au++){su=iu,tu.push(su);for(let ou=1;ou<na;ou++)su=su.add(iu),tu.push(su);iu=su.double()}return tu},wNAF(us,cs,$a){const{windows:na,windowSize:tu}=Mt$2(us,as);let iu=ss.ZERO,su=ss.BASE;const au=BigInt(2**us-1),ou=2**us,fu=BigInt(us);for(let pu=0;pu<na;pu++){const vu=pu*tu;let gu=Number($a&au);$a>>=fu,gu>tu&&(gu-=ou,$a+=gt$2);const bu=vu,xu=vu+Math.abs(gu)-1,$u=pu%2!==0,wu=gu<0;gu===0?su=su.add(zt$1($u,cs[bu])):iu=iu.add(zt$1(wu,cs[xu]))}return{p:iu,f:su}},wNAFUnsafe(us,cs,$a,na=ss.ZERO){const{windows:tu,windowSize:iu}=Mt$2(us,as),su=BigInt(2**us-1),au=2**us,ou=BigInt(us);for(let fu=0;fu<tu;fu++){const pu=fu*iu;if($a===Se$1)break;let vu=Number($a&su);if($a>>=ou,vu>iu&&(vu-=au,$a+=gt$2),vu===0)continue;let gu=cs[pu+Math.abs(vu)-1];vu<0&&(gu=gu.negate()),na=na.add(gu)}return na},getPrecomputes(us,cs,$a){let na=qt$2.get(cs);return na||(na=this.precomputeWindow(cs,us),us!==1&&qt$2.set(cs,$a(na))),na},wNAFCached(us,cs,$a){const na=$t$2(us);return this.wNAF(na,this.getPrecomputes(na,us,$a),cs)},wNAFCachedUnsafe(us,cs,$a,na){const tu=$t$2(us);return tu===1?this.unsafeLadder(us,cs,na):this.wNAFUnsafe(tu,this.getPrecomputes(tu,us,$a),cs,na)},setWindowSize(us,cs){ve$1(cs,as),Ie$2.set(us,cs),qt$2.delete(us)}}}function br$2(ss,as,us,cs){if(dr$2(us,ss),hr$2(cs,as),us.length!==cs.length)throw new Error("arrays of points and scalars must have equal length");const $a=ss.ZERO,na=tr$2(BigInt(us.length)),tu=na>12?na-3:na>4?na-2:na?2:1,iu=(1<<tu)-1,su=new Array(iu+1).fill($a),au=Math.floor((as.BITS-1)/tu)*tu;let ou=$a;for(let fu=au;fu>=0;fu-=tu){su.fill($a);for(let vu=0;vu<cs.length;vu++){const gu=cs[vu],bu=Number(gu>>BigInt(fu)&BigInt(iu));su[bu]=su[bu].add(us[vu])}let pu=$a;for(let vu=su.length-1,gu=$a;vu>0;vu--)gu=gu.add(su[vu]),pu=pu.add(gu);if(ou=ou.add(pu),fu!==0)for(let vu=0;vu<tu;vu++)ou=ou.double()}return ou}function pr$1(ss){return ar$2(ss.Fp),Ot$2(ss,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...me$2(ss.n,ss.nBitLength),...ss,p:ss.Fp.ORDER})}const G$2=BigInt(0),j$1=BigInt(1),yt$2=BigInt(2),wr$2=BigInt(8),Er$1={zip215:!0};function gr$1(ss){const as=pr$1(ss);return Ot$2(ss,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...as})}function yr$1(ss){const as=gr$1(ss),{Fp:us,n:cs,prehash:$a,hash:na,randomBytes:tu,nByteLength:iu,h:su}=as,au=yt$2<<BigInt(iu*8)-j$1,ou=us.create,fu=_e$3(as.n,as.nBitLength),pu=as.uvRatio||((uu,lu)=>{try{return{isValid:!0,value:us.sqrt(uu*us.inv(lu))}}catch{return{isValid:!1,value:G$2}}}),vu=as.adjustScalarBytes||(uu=>uu),gu=as.domain||((uu,lu,du)=>{if(Tt$2("phflag",du),lu.length||du)throw new Error("Contexts/pre-hash are not supported");return uu});function bu(uu,lu){ft$2("coordinate "+uu,lu,G$2,au)}function xu(uu){if(!(uu instanceof _u))throw new Error("ExtendedPoint expected")}const $u=xe$1((uu,lu)=>{const{ex:du,ey:mu,ez:cu}=uu,eu=uu.is0();lu==null&&(lu=eu?wr$2:us.inv(cu));const hu=ou(du*lu),Eu=ou(mu*lu),Ru=ou(cu*lu);if(eu)return{x:G$2,y:j$1};if(Ru!==j$1)throw new Error("invZ was invalid");return{x:hu,y:Eu}}),wu=xe$1(uu=>{const{a:lu,d:du}=as;if(uu.is0())throw new Error("bad point: ZERO");const{ex:mu,ey:cu,ez:eu,et:hu}=uu,Eu=ou(mu*mu),Ru=ou(cu*cu),Tu=ou(eu*eu),qu=ou(Tu*Tu),Du=ou(Eu*lu),Iu=ou(Tu*ou(Du+Ru)),Lu=ou(qu+ou(du*ou(Eu*Ru)));if(Iu!==Lu)throw new Error("bad point: equation left != right (1)");const Uu=ou(mu*cu),Hu=ou(eu*hu);if(Uu!==Hu)throw new Error("bad point: equation left != right (2)");return!0});class _u{constructor(lu,du,mu,cu){this.ex=lu,this.ey=du,this.ez=mu,this.et=cu,bu("x",lu),bu("y",du),bu("z",mu),bu("t",cu),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(lu){if(lu instanceof _u)throw new Error("extended point not allowed");const{x:du,y:mu}=lu||{};return bu("x",du),bu("y",mu),new _u(du,mu,j$1,ou(du*mu))}static normalizeZ(lu){const du=us.invertBatch(lu.map(mu=>mu.ez));return lu.map((mu,cu)=>mu.toAffine(du[cu])).map(_u.fromAffine)}static msm(lu,du){return br$2(_u,fu,lu,du)}_setWindowSize(lu){Pu.setWindowSize(this,lu)}assertValidity(){wu(this)}equals(lu){xu(lu);const{ex:du,ey:mu,ez:cu}=this,{ex:eu,ey:hu,ez:Eu}=lu,Ru=ou(du*Eu),Tu=ou(eu*cu),qu=ou(mu*Eu),Du=ou(hu*cu);return Ru===Tu&&qu===Du}is0(){return this.equals(_u.ZERO)}negate(){return new _u(ou(-this.ex),this.ey,this.ez,ou(-this.et))}double(){const{a:lu}=as,{ex:du,ey:mu,ez:cu}=this,eu=ou(du*du),hu=ou(mu*mu),Eu=ou(yt$2*ou(cu*cu)),Ru=ou(lu*eu),Tu=du+mu,qu=ou(ou(Tu*Tu)-eu-hu),Du=Ru+hu,Iu=Du-Eu,Lu=Ru-hu,Uu=ou(qu*Iu),Hu=ou(Du*Lu),zu=ou(qu*Lu),ju=ou(Iu*Du);return new _u(Uu,Hu,ju,zu)}add(lu){xu(lu);const{a:du,d:mu}=as,{ex:cu,ey:eu,ez:hu,et:Eu}=this,{ex:Ru,ey:Tu,ez:qu,et:Du}=lu;if(du===BigInt(-1)){const Qu=ou((eu-cu)*(Tu+Ru)),Gl=ou((eu+cu)*(Tu-Ru)),yl=ou(Gl-Qu);if(yl===G$2)return this.double();const Sl=ou(hu*yt$2*Du),Ql=ou(Eu*yt$2*qu),Xu=Ql+Sl,$l=Gl+Qu,Zl=Ql-Sl,wl=ou(Xu*yl),Ml=ou($l*Zl),Xl=ou(Xu*Zl),Nu=ou(yl*$l);return new _u(wl,Ml,Nu,Xl)}const Iu=ou(cu*Ru),Lu=ou(eu*Tu),Uu=ou(Eu*mu*Du),Hu=ou(hu*qu),zu=ou((cu+eu)*(Ru+Tu)-Iu-Lu),ju=Hu-Uu,Wu=Hu+Uu,Dl=ou(Lu-du*Iu),Zu=ou(zu*ju),Yu=ou(Wu*Dl),Vl=ou(zu*Dl),_l=ou(ju*Wu);return new _u(Zu,Yu,_l,Vl)}subtract(lu){return this.add(lu.negate())}wNAF(lu){return Pu.wNAFCached(this,lu,_u.normalizeZ)}multiply(lu){const du=lu;ft$2("scalar",du,j$1,cs);const{p:mu,f:cu}=this.wNAF(du);return _u.normalizeZ([mu,cu])[0]}multiplyUnsafe(lu,du=_u.ZERO){const mu=lu;return ft$2("scalar",mu,G$2,cs),mu===G$2?Au:this.is0()||mu===j$1?this:Pu.wNAFCachedUnsafe(this,mu,_u.normalizeZ,du)}isSmallOrder(){return this.multiplyUnsafe(su).is0()}isTorsionFree(){return Pu.unsafeLadder(this,cs).is0()}toAffine(lu){return $u(this,lu)}clearCofactor(){const{h:lu}=as;return lu===j$1?this:this.multiplyUnsafe(lu)}static fromHex(lu,du=!1){const{d:mu,a:cu}=as,eu=us.BYTES;lu=W$2("pointHex",lu,eu),Tt$2("zip215",du);const hu=lu.slice(),Eu=lu[eu-1];hu[eu-1]=Eu&-129;const Ru=Et$3(hu),Tu=du?au:us.ORDER;ft$2("pointHex.y",Ru,G$2,Tu);const qu=ou(Ru*Ru),Du=ou(qu-j$1),Iu=ou(mu*qu-cu);let{isValid:Lu,value:Uu}=pu(Du,Iu);if(!Lu)throw new Error("Point.fromHex: invalid y coordinate");const Hu=(Uu&j$1)===j$1,zu=(Eu&128)!==0;if(!du&&Uu===G$2&&zu)throw new Error("Point.fromHex: x=0 and x_0=1");return zu!==Hu&&(Uu=ou(-Uu)),_u.fromAffine({x:Uu,y:Ru})}static fromPrivateKey(lu){return Ou(lu).point}toRawBytes(){const{x:lu,y:du}=this.toAffine(),mu=Nt$2(du,us.BYTES);return mu[mu.length-1]|=lu&j$1?128:0,mu}toHex(){return Ft$1(this.toRawBytes())}}_u.BASE=new _u(as.Gx,as.Gy,j$1,ou(as.Gx*as.Gy)),_u.ZERO=new _u(G$2,j$1,j$1,G$2);const{BASE:Mu,ZERO:Au}=_u,Pu=lr$2(_u,iu*8);function Su(uu){return H$1(uu,cs)}function Bu(uu){return Su(Et$3(uu))}function Ou(uu){const lu=us.BYTES;uu=W$2("private key",uu,lu);const du=W$2("hashed private key",na(uu),2*lu),mu=vu(du.slice(0,lu)),cu=du.slice(lu,2*lu),eu=Bu(mu),hu=Mu.multiply(eu),Eu=hu.toRawBytes();return{head:mu,prefix:cu,scalar:eu,point:hu,pointBytes:Eu}}function Vu(uu){return Ou(uu).pointBytes}function yu(uu=new Uint8Array,...lu){const du=ye$2(...lu);return Bu(na(gu(du,W$2("context",uu),!!$a)))}function _a(uu,lu,du={}){uu=W$2("message",uu),$a&&(uu=$a(uu));const{prefix:mu,scalar:cu,pointBytes:eu}=Ou(lu),hu=yu(du.context,mu,uu),Eu=Mu.multiply(hu).toRawBytes(),Ru=yu(du.context,Eu,eu,uu),Tu=Su(hu+Ru*cu);ft$2("signature.s",Tu,G$2,cs);const qu=ye$2(Eu,Nt$2(Tu,us.BYTES));return W$2("result",qu,us.BYTES*2)}const ru=Er$1;function nu(uu,lu,du,mu=ru){const{context:cu,zip215:eu}=mu,hu=us.BYTES;uu=W$2("signature",uu,2*hu),lu=W$2("message",lu),du=W$2("publicKey",du,hu),eu!==void 0&&Tt$2("zip215",eu),$a&&(lu=$a(lu));const Eu=Et$3(uu.slice(hu,2*hu));let Ru,Tu,qu;try{Ru=_u.fromHex(du,eu),Tu=_u.fromHex(uu.slice(0,hu),eu),qu=Mu.multiplyUnsafe(Eu)}catch{return!1}if(!eu&&Ru.isSmallOrder())return!1;const Du=yu(cu,Tu.toRawBytes(),Ru.toRawBytes(),lu);return Tu.add(Ru.multiplyUnsafe(Du)).subtract(qu).clearCofactor().equals(_u.ZERO)}return Mu._setWindowSize(8),{CURVE:as,getPublicKey:Vu,sign:_a,verify:nu,ExtendedPoint:_u,utils:{getExtendedPublicKey:Ou,randomPrivateKey:()=>tu(us.BYTES),precompute(uu=8,lu=_u.BASE){return lu._setWindowSize(uu),lu.multiply(BigInt(3)),lu}}}}BigInt(0),BigInt(1);const kt$2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ue$2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xr$1=BigInt(1),Te$1=BigInt(2);BigInt(3);const Br$2=BigInt(5),Cr$2=BigInt(8);function Ar$2(ss){const as=BigInt(10),us=BigInt(20),cs=BigInt(40),$a=BigInt(80),na=kt$2,tu=ss*ss%na*ss%na,iu=J$2(tu,Te$1,na)*tu%na,su=J$2(iu,xr$1,na)*ss%na,au=J$2(su,Br$2,na)*su%na,ou=J$2(au,as,na)*au%na,fu=J$2(ou,us,na)*ou%na,pu=J$2(fu,cs,na)*fu%na,vu=J$2(pu,$a,na)*pu%na,gu=J$2(vu,$a,na)*pu%na,bu=J$2(gu,as,na)*au%na;return{pow_p_5_8:J$2(bu,Te$1,na)*ss%na,b2:tu}}function mr$2(ss){return ss[0]&=248,ss[31]&=127,ss[31]|=64,ss}function _r$2(ss,as){const us=kt$2,cs=H$1(as*as*as,us),$a=H$1(cs*cs*as,us),na=Ar$2(ss*$a).pow_p_5_8;let tu=H$1(ss*cs*na,us);const iu=H$1(as*tu*tu,us),su=tu,au=H$1(tu*Ue$2,us),ou=iu===ss,fu=iu===H$1(-ss,us),pu=iu===H$1(-ss*Ue$2,us);return ou&&(tu=su),(fu||pu)&&(tu=au),ur$2(tu,us)&&(tu=H$1(-tu,us)),{isValid:ou||fu,value:tu}}const Sr$2=_e$3(kt$2,void 0,!0),vr$2={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sr$2,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Cr$2,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kn$2,randomBytes:he$2,adjustScalarBytes:mr$2,uvRatio:_r$2},Rt$2=yr$1(vr$2),jt$2="EdDSA",Zt$1="JWT",ut$2=".",Dt$1="base64url",Gt$2="utf8",xt$2="utf8",Vt$2=":",Yt$2="did",Jt$2="key",dt$2="base58btc",Kt$2="z",Wt$2="K36",Ne=32;function Xt$2(ss){return globalThis.Buffer!=null?new Uint8Array(ss.buffer,ss.byteOffset,ss.byteLength):ss}function Le$3(ss=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt$2(globalThis.Buffer.allocUnsafe(ss)):new Uint8Array(ss)}function Oe(ss,as){as||(as=ss.reduce(($a,na)=>$a+na.length,0));const us=Le$3(as);let cs=0;for(const $a of ss)us.set($a,cs),cs+=$a.length;return Xt$2(us)}function Ir$2(ss,as){if(ss.length>=255)throw new TypeError("Alphabet too long");for(var us=new Uint8Array(256),cs=0;cs<us.length;cs++)us[cs]=255;for(var $a=0;$a<ss.length;$a++){var na=ss.charAt($a),tu=na.charCodeAt(0);if(us[tu]!==255)throw new TypeError(na+" is ambiguous");us[tu]=$a}var iu=ss.length,su=ss.charAt(0),au=Math.log(iu)/Math.log(256),ou=Math.log(256)/Math.log(iu);function fu(gu){if(gu instanceof Uint8Array||(ArrayBuffer.isView(gu)?gu=new Uint8Array(gu.buffer,gu.byteOffset,gu.byteLength):Array.isArray(gu)&&(gu=Uint8Array.from(gu))),!(gu instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(gu.length===0)return"";for(var bu=0,xu=0,$u=0,wu=gu.length;$u!==wu&&gu[$u]===0;)$u++,bu++;for(var _u=(wu-$u)*ou+1>>>0,Mu=new Uint8Array(_u);$u!==wu;){for(var Au=gu[$u],Pu=0,Su=_u-1;(Au!==0||Pu<xu)&&Su!==-1;Su--,Pu++)Au+=256*Mu[Su]>>>0,Mu[Su]=Au%iu>>>0,Au=Au/iu>>>0;if(Au!==0)throw new Error("Non-zero carry");xu=Pu,$u++}for(var Bu=_u-xu;Bu!==_u&&Mu[Bu]===0;)Bu++;for(var Ou=su.repeat(bu);Bu<_u;++Bu)Ou+=ss.charAt(Mu[Bu]);return Ou}function pu(gu){if(typeof gu!="string")throw new TypeError("Expected String");if(gu.length===0)return new Uint8Array;var bu=0;if(gu[bu]!==" "){for(var xu=0,$u=0;gu[bu]===su;)xu++,bu++;for(var wu=(gu.length-bu)*au+1>>>0,_u=new Uint8Array(wu);gu[bu];){var Mu=us[gu.charCodeAt(bu)];if(Mu===255)return;for(var Au=0,Pu=wu-1;(Mu!==0||Au<$u)&&Pu!==-1;Pu--,Au++)Mu+=iu*_u[Pu]>>>0,_u[Pu]=Mu%256>>>0,Mu=Mu/256>>>0;if(Mu!==0)throw new Error("Non-zero carry");$u=Au,bu++}if(gu[bu]!==" "){for(var Su=wu-$u;Su!==wu&&_u[Su]===0;)Su++;for(var Bu=new Uint8Array(xu+(wu-Su)),Ou=xu;Su!==wu;)Bu[Ou++]=_u[Su++];return Bu}}}function vu(gu){var bu=pu(gu);if(bu)return bu;throw new Error(`Non-${as} character`)}return{encode:fu,decodeUnsafe:pu,decode:vu}}var Ur$2=Ir$2,Tr$2=Ur$2;const He$2=ss=>{if(ss instanceof Uint8Array&&ss.constructor.name==="Uint8Array")return ss;if(ss instanceof ArrayBuffer)return new Uint8Array(ss);if(ArrayBuffer.isView(ss))return new Uint8Array(ss.buffer,ss.byteOffset,ss.byteLength);throw new Error("Unknown type, must be binary type")},Fr$2=ss=>new TextEncoder().encode(ss),Nr$2=ss=>new TextDecoder().decode(ss);let Lr$2=class{constructor(as,us,cs){this.name=as,this.prefix=us,this.baseEncode=cs}encode(as){if(as instanceof Uint8Array)return`${this.prefix}${this.baseEncode(as)}`;throw Error("Unknown type, must be binary type")}},Or$2=class{constructor(as,us,cs){if(this.name=as,this.prefix=us,us.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=us.codePointAt(0),this.baseDecode=cs}decode(as){if(typeof as=="string"){if(as.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(as)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(as.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(as){return ze$2(this,as)}},Hr$2=class{constructor(as){this.decoders=as}or(as){return ze$2(this,as)}decode(as){const us=as[0],cs=this.decoders[us];if(cs)return cs.decode(as);throw RangeError(`Unable to decode multibase string ${JSON.stringify(as)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ze$2=(ss,as)=>new Hr$2({...ss.decoders||{[ss.prefix]:ss},...as.decoders||{[as.prefix]:as}});let zr$2=class{constructor(as,us,cs,$a){this.name=as,this.prefix=us,this.baseEncode=cs,this.baseDecode=$a,this.encoder=new Lr$2(as,us,cs),this.decoder=new Or$2(as,us,$a)}encode(as){return this.encoder.encode(as)}decode(as){return this.decoder.decode(as)}};const Bt$2=({name:ss,prefix:as,encode:us,decode:cs})=>new zr$2(ss,as,us,cs),ht$2=({prefix:ss,name:as,alphabet:us})=>{const{encode:cs,decode:$a}=Tr$2(us,as);return Bt$2({prefix:ss,name:as,encode:cs,decode:na=>He$2($a(na))})},Mr$2=(ss,as,us,cs)=>{const $a={};for(let ou=0;ou<as.length;++ou)$a[as[ou]]=ou;let na=ss.length;for(;ss[na-1]==="=";)--na;const tu=new Uint8Array(na*us/8|0);let iu=0,su=0,au=0;for(let ou=0;ou<na;++ou){const fu=$a[ss[ou]];if(fu===void 0)throw new SyntaxError(`Non-${cs} character`);su=su<<us|fu,iu+=us,iu>=8&&(iu-=8,tu[au++]=255&su>>iu)}if(iu>=us||255&su<<8-iu)throw new SyntaxError("Unexpected end of data");return tu},qr$2=(ss,as,us)=>{const cs=as[as.length-1]==="=",$a=(1<<us)-1;let na="",tu=0,iu=0;for(let su=0;su<ss.length;++su)for(iu=iu<<8|ss[su],tu+=8;tu>us;)tu-=us,na+=as[$a&iu>>tu];if(tu&&(na+=as[$a&iu<<us-tu]),cs)for(;na.length*us&7;)na+="=";return na},k$2=({name:ss,prefix:as,bitsPerChar:us,alphabet:cs})=>Bt$2({prefix:as,name:ss,encode($a){return qr$2($a,cs,us)},decode($a){return Mr$2($a,cs,us,ss)}}),$r$2=Bt$2({prefix:"\0",name:"identity",encode:ss=>Nr$2(ss),decode:ss=>Fr$2(ss)});var kr$2=Object.freeze({__proto__:null,identity:$r$2});const Rr$2=k$2({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jr$2=Object.freeze({__proto__:null,base2:Rr$2});const Zr$2=k$2({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gr$2=Object.freeze({__proto__:null,base8:Zr$2});const Vr$2=ht$2({prefix:"9",name:"base10",alphabet:"0123456789"});var Yr$2=Object.freeze({__proto__:null,base10:Vr$2});const Jr$2=k$2({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kr$2=k$2({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wr$2=Object.freeze({__proto__:null,base16:Jr$2,base16upper:Kr$2});const Xr$2=k$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pr$2=k$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qr$1=k$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),to$2=k$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eo$2=k$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),no$2=k$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ro$2=k$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oo$2=k$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),so$2=k$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var io$2=Object.freeze({__proto__:null,base32:Xr$2,base32upper:Pr$2,base32pad:Qr$1,base32padupper:to$2,base32hex:eo$2,base32hexupper:no$2,base32hexpad:ro$2,base32hexpadupper:oo$2,base32z:so$2});const uo$2=ht$2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),co$2=ht$2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ao$2=Object.freeze({__proto__:null,base36:uo$2,base36upper:co$2});const fo$1=ht$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Do$1=ht$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ho$2=Object.freeze({__proto__:null,base58btc:fo$1,base58flickr:Do$1});const lo$1=k$2({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bo$2=k$2({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),po$2=k$2({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wo$2=k$2({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Eo$2=Object.freeze({__proto__:null,base64:lo$1,base64pad:bo$2,base64url:po$2,base64urlpad:wo$2});const Me$3=Array.from(""),go$2=Me$3.reduce((ss,as,us)=>(ss[us]=as,ss),[]),yo$1=Me$3.reduce((ss,as,us)=>(ss[as.codePointAt(0)]=us,ss),[]);function xo$2(ss){return ss.reduce((as,us)=>(as+=go$2[us],as),"")}function Bo$2(ss){const as=[];for(const us of ss){const cs=yo$1[us.codePointAt(0)];if(cs===void 0)throw new Error(`Non-base256emoji character: ${us}`);as.push(cs)}return new Uint8Array(as)}const Co$1=Bt$2({prefix:"",name:"base256emoji",encode:xo$2,decode:Bo$2});var Ao$2=Object.freeze({__proto__:null,base256emoji:Co$1}),mo$2=$e$1,qe$2=128,So$2=-128,vo$2=Math.pow(2,31);function $e$1(ss,as,us){as=as||[],us=us||0;for(var cs=us;ss>=vo$2;)as[us++]=ss&255|qe$2,ss/=128;for(;ss&So$2;)as[us++]=ss&255|qe$2,ss>>>=7;return as[us]=ss|0,$e$1.bytes=us-cs+1,as}var Io$2=Pt$2,Uo$2=128,ke$3=127;function Pt$2(ss,cs){var us=0,cs=cs||0,$a=0,na=cs,tu,iu=ss.length;do{if(na>=iu)throw Pt$2.bytes=0,new RangeError("Could not decode varint");tu=ss[na++],us+=$a<28?(tu&ke$3)<<$a:(tu&ke$3)*Math.pow(2,$a),$a+=7}while(tu>=Uo$2);return Pt$2.bytes=na-cs,us}var To$2=Math.pow(2,7),Fo$1=Math.pow(2,14),No$2=Math.pow(2,21),Lo$2=Math.pow(2,28),Oo$2=Math.pow(2,35),Ho$1=Math.pow(2,42),zo$1=Math.pow(2,49),Mo$1=Math.pow(2,56),qo$1=Math.pow(2,63),$o$2=function(ss){return ss<To$2?1:ss<Fo$1?2:ss<No$2?3:ss<Lo$2?4:ss<Oo$2?5:ss<Ho$1?6:ss<zo$1?7:ss<Mo$1?8:ss<qo$1?9:10},ko$1={encode:mo$2,decode:Io$2,encodingLength:$o$2},Re$1=ko$1;const je$2=(ss,as,us=0)=>(Re$1.encode(ss,as,us),as),Ze$2=ss=>Re$1.encodingLength(ss),Qt$2=(ss,as)=>{const us=as.byteLength,cs=Ze$2(ss),$a=cs+Ze$2(us),na=new Uint8Array($a+us);return je$2(ss,na,0),je$2(us,na,cs),na.set(as,$a),new Ro$2(ss,us,as,na)};let Ro$2=class{constructor(as,us,cs,$a){this.code=as,this.size=us,this.digest=cs,this.bytes=$a}};const Ge$3=({name:ss,code:as,encode:us})=>new jo$1(ss,as,us);let jo$1=class{constructor(as,us,cs){this.name=as,this.code=us,this.encode=cs}digest(as){if(as instanceof Uint8Array){const us=this.encode(as);return us instanceof Uint8Array?Qt$2(this.code,us):us.then(cs=>Qt$2(this.code,cs))}else throw Error("Unknown type, must be binary type")}};const Ve$2=ss=>async as=>new Uint8Array(await crypto.subtle.digest(ss,as)),Zo$1=Ge$3({name:"sha2-256",code:18,encode:Ve$2("SHA-256")}),Go$2=Ge$3({name:"sha2-512",code:19,encode:Ve$2("SHA-512")});var Vo$2=Object.freeze({__proto__:null,sha256:Zo$1,sha512:Go$2});const Ye$2=0,Yo$2="identity",Je$2=He$2,Jo$2=ss=>Qt$2(Ye$2,Je$2(ss)),Ko$1={code:Ye$2,name:Yo$2,encode:Je$2,digest:Jo$2};var Wo$2=Object.freeze({__proto__:null,identity:Ko$1});new TextEncoder,new TextDecoder;const Ke$3={...kr$2,...jr$2,...Gr$2,...Yr$2,...Wr$2,...io$2,...ao$2,...ho$2,...Eo$2,...Ao$2};({...Vo$2,...Wo$2});function We$2(ss,as,us,cs){return{name:ss,prefix:as,encoder:{name:ss,prefix:as,encode:us},decoder:{decode:cs}}}const Xe$2=We$2("utf8","u",ss=>"u"+new TextDecoder("utf8").decode(ss),ss=>new TextEncoder().encode(ss.substring(1))),te$2=We$2("ascii","a",ss=>{let as="a";for(let us=0;us<ss.length;us++)as+=String.fromCharCode(ss[us]);return as},ss=>{ss=ss.substring(1);const as=Le$3(ss.length);for(let us=0;us<ss.length;us++)as[us]=ss.charCodeAt(us);return as}),Pe$1={utf8:Xe$2,"utf-8":Xe$2,hex:Ke$3.base16,latin1:te$2,ascii:te$2,binary:te$2,...Ke$3};function ct$1(ss,as="utf8"){const us=Pe$1[as];if(!us)throw new Error(`Unsupported encoding "${as}"`);return(as==="utf8"||as==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(ss.buffer,ss.byteOffset,ss.byteLength).toString("utf8"):us.encoder.encode(ss).substring(1)}function rt(ss,as="utf8"){const us=Pe$1[as];if(!us)throw new Error(`Unsupported encoding "${as}"`);return(as==="utf8"||as==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt$2(globalThis.Buffer.from(ss,"utf-8")):us.decoder.decode(`${us.prefix}${ss}`)}function lt$1(ss){return safeJsonParse(ct$1(rt(ss,Dt$1),Gt$2))}function bt$1(ss){return ct$1(rt(safeJsonStringify(ss),Gt$2),Dt$1)}function Qe$2(ss){const as=rt(Wt$2,dt$2),us=Kt$2+ct$1(Oe([as,ss]),dt$2);return[Yt$2,Jt$2,us].join(Vt$2)}function en$2(ss){return ct$1(ss,Dt$1)}function nn$2(ss){return rt(ss,Dt$1)}function rn$2(ss){return rt([bt$1(ss.header),bt$1(ss.payload)].join(ut$2),xt$2)}function on$2(ss){return[bt$1(ss.header),bt$1(ss.payload),en$2(ss.signature)].join(ut$2)}function sn$2(ss){const as=ss.split(ut$2),us=lt$1(as[0]),cs=lt$1(as[1]),$a=nn$2(as[2]),na=rt(as.slice(0,2).join(ut$2),xt$2);return{header:us,payload:cs,signature:$a,data:na}}function Po$1(ss=he$2(Ne)){const as=Rt$2.getPublicKey(ss);return{secretKey:Oe([ss,as]),publicKey:as}}async function Qo(ss,as,us,cs,$a=cjs$3.fromMiliseconds(Date.now())){const na={alg:jt$2,typ:Zt$1},tu=Qe$2(cs.publicKey),iu=$a+us,su={iss:tu,sub:ss,aud:as,iat:$a,exp:iu},au=rn$2({header:na,payload:su}),ou=Rt$2.sign(au,cs.secretKey.slice(0,32));return on$2({header:na,payload:su,signature:ou})}function isHex(ss,{strict:as=!0}={}){return!ss||typeof ss!="string"?!1:as?/^0x[0-9a-fA-F]*$/.test(ss):ss.startsWith("0x")}function size(ss){return isHex(ss,{strict:!1})?Math.ceil((ss.length-2)/2):ss.length}const version="2.23.2";let errorConfig={getDocsUrl:({docsBaseUrl:ss,docsPath:as="",docsSlug:us})=>as?`${ss??"https://viem.sh"}${as}${us?`#${us}`:""}`:void 0,version:`viem@${version}`};class BaseError extends Error{constructor(as,us={}){var iu;const cs=(()=>{var su;return us.cause instanceof BaseError?us.cause.details:(su=us.cause)!=null&&su.message?us.cause.message:us.details})(),$a=us.cause instanceof BaseError&&us.cause.docsPath||us.docsPath,na=(iu=errorConfig.getDocsUrl)==null?void 0:iu.call(errorConfig,{...us,docsPath:$a}),tu=[as||"An error occurred.","",...us.metaMessages?[...us.metaMessages,""]:[],...na?[`Docs: ${na}`]:[],...cs?[`Details: ${cs}`]:[],...errorConfig.version?[`Version: ${errorConfig.version}`]:[]].join(`
`);super(tu,us.cause?{cause:us.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=cs,this.docsPath=$a,this.metaMessages=us.metaMessages,this.name=us.name??this.name,this.shortMessage=as,this.version=version}walk(as){return walk(this,as)}}function walk(ss,as){return as!=null&&as(ss)?ss:ss&&typeof ss=="object"&&"cause"in ss&&ss.cause!==void 0?walk(ss.cause,as):as?null:ss}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:as,targetSize:us,type:cs}){super(`${cs.charAt(0).toUpperCase()}${cs.slice(1).toLowerCase()} size (${as}) exceeds padding size (${us}).`,{name:"SizeExceedsPaddingSizeError"})}}function pad(ss,{dir:as,size:us=32}={}){return typeof ss=="string"?padHex(ss,{dir:as,size:us}):padBytes(ss,{dir:as,size:us})}function padHex(ss,{dir:as,size:us=32}={}){if(us===null)return ss;const cs=ss.replace("0x","");if(cs.length>us*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(cs.length/2),targetSize:us,type:"hex"});return`0x${cs[as==="right"?"padEnd":"padStart"](us*2,"0")}`}function padBytes(ss,{dir:as,size:us=32}={}){if(us===null)return ss;if(ss.length>us)throw new SizeExceedsPaddingSizeError({size:ss.length,targetSize:us,type:"bytes"});const cs=new Uint8Array(us);for(let $a=0;$a<us;$a++){const na=as==="right";cs[na?$a:us-$a-1]=ss[na?$a:ss.length-$a-1]}return cs}class IntegerOutOfRangeError extends BaseError{constructor({max:as,min:us,signed:cs,size:$a,value:na}){super(`Number "${na}" is not in safe ${$a?`${$a*8}-bit ${cs?"signed":"unsigned"} `:""}integer range ${as?`(${us} to ${as})`:`(above ${us})`}`,{name:"IntegerOutOfRangeError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:as,maxSize:us}){super(`Size cannot exceed ${us} bytes. Given size: ${as} bytes.`,{name:"SizeOverflowError"})}}function assertSize(ss,{size:as}){if(size(ss)>as)throw new SizeOverflowError({givenSize:size(ss),maxSize:as})}function hexToBigInt(ss,as={}){const{signed:us}=as;as.size&&assertSize(ss,{size:as.size});const cs=BigInt(ss);if(!us)return cs;const $a=(ss.length-2)/2,na=(1n<<BigInt($a)*8n-1n)-1n;return cs<=na?cs:cs-BigInt(`0x${"f".padStart($a*2,"f")}`)-1n}function hexToNumber(ss,as={}){return Number(hexToBigInt(ss,as))}const hexes=Array.from({length:256},(ss,as)=>as.toString(16).padStart(2,"0"));function toHex(ss,as={}){return typeof ss=="number"||typeof ss=="bigint"?numberToHex(ss,as):typeof ss=="string"?stringToHex(ss,as):typeof ss=="boolean"?boolToHex(ss,as):bytesToHex(ss,as)}function boolToHex(ss,as={}){const us=`0x${Number(ss)}`;return typeof as.size=="number"?(assertSize(us,{size:as.size}),pad(us,{size:as.size})):us}function bytesToHex(ss,as={}){let us="";for(let $a=0;$a<ss.length;$a++)us+=hexes[ss[$a]];const cs=`0x${us}`;return typeof as.size=="number"?(assertSize(cs,{size:as.size}),pad(cs,{dir:"right",size:as.size})):cs}function numberToHex(ss,as={}){const{signed:us,size:cs}=as,$a=BigInt(ss);let na;cs?us?na=(1n<<BigInt(cs)*8n-1n)-1n:na=2n**(BigInt(cs)*8n)-1n:typeof ss=="number"&&(na=BigInt(Number.MAX_SAFE_INTEGER));const tu=typeof na=="bigint"&&us?-na-1n:0;if(na&&$a>na||$a<tu){const su=typeof ss=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:na?`${na}${su}`:void 0,min:`${tu}${su}`,signed:us,size:cs,value:`${ss}${su}`})}const iu=`0x${(us&&$a<0?(1n<<BigInt(cs*8))+BigInt($a):$a).toString(16)}`;return cs?pad(iu,{size:cs}):iu}const encoder$1=new TextEncoder;function stringToHex(ss,as={}){const us=encoder$1.encode(ss);return bytesToHex(us,as)}const encoder=new TextEncoder;function toBytes$1(ss,as={}){return typeof ss=="number"||typeof ss=="bigint"?numberToBytes(ss,as):typeof ss=="boolean"?boolToBytes(ss,as):isHex(ss)?hexToBytes(ss,as):stringToBytes(ss,as)}function boolToBytes(ss,as={}){const us=new Uint8Array(1);return us[0]=Number(ss),typeof as.size=="number"?(assertSize(us,{size:as.size}),pad(us,{size:as.size})):us}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(ss){if(ss>=charCodeMap.zero&&ss<=charCodeMap.nine)return ss-charCodeMap.zero;if(ss>=charCodeMap.A&&ss<=charCodeMap.F)return ss-(charCodeMap.A-10);if(ss>=charCodeMap.a&&ss<=charCodeMap.f)return ss-(charCodeMap.a-10)}function hexToBytes(ss,as={}){let us=ss;as.size&&(assertSize(us,{size:as.size}),us=pad(us,{dir:"right",size:as.size}));let cs=us.slice(2);cs.length%2&&(cs=`0${cs}`);const $a=cs.length/2,na=new Uint8Array($a);for(let tu=0,iu=0;tu<$a;tu++){const su=charCodeToBase16(cs.charCodeAt(iu++)),au=charCodeToBase16(cs.charCodeAt(iu++));if(su===void 0||au===void 0)throw new BaseError(`Invalid byte sequence ("${cs[iu-2]}${cs[iu-1]}" in "${cs}").`);na[tu]=su*16+au}return na}function numberToBytes(ss,as){const us=numberToHex(ss,as);return hexToBytes(us)}function stringToBytes(ss,as={}){const us=encoder.encode(ss);return typeof as.size=="number"?(assertSize(us,{size:as.size}),pad(us,{dir:"right",size:as.size})):us}function anumber(ss){if(!Number.isSafeInteger(ss)||ss<0)throw new Error("positive integer expected, got "+ss)}function isBytes(ss){return ss instanceof Uint8Array||ArrayBuffer.isView(ss)&&ss.constructor.name==="Uint8Array"}function abytes(ss,...as){if(!isBytes(ss))throw new Error("Uint8Array expected");if(as.length>0&&!as.includes(ss.length))throw new Error("Uint8Array expected of length "+as+", got length="+ss.length)}function ahash(ss){if(typeof ss!="function"||typeof ss.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber(ss.outputLen),anumber(ss.blockLen)}function aexists(ss,as=!0){if(ss.destroyed)throw new Error("Hash instance has been destroyed");if(as&&ss.finished)throw new Error("Hash#digest() has already been called")}function aoutput(ss,as){abytes(ss);const us=as.outputLen;if(ss.length<us)throw new Error("digestInto() expects output buffer of length at least "+us)}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(ss,as=!1){return as?{h:Number(ss&U32_MASK64),l:Number(ss>>_32n&U32_MASK64)}:{h:Number(ss>>_32n&U32_MASK64)|0,l:Number(ss&U32_MASK64)|0}}function split(ss,as=!1){let us=new Uint32Array(ss.length),cs=new Uint32Array(ss.length);for(let $a=0;$a<ss.length;$a++){const{h:na,l:tu}=fromBig(ss[$a],as);[us[$a],cs[$a]]=[na,tu]}return[us,cs]}const rotlSH=(ss,as,us)=>ss<<us|as>>>32-us,rotlSL=(ss,as,us)=>as<<us|ss>>>32-us,rotlBH=(ss,as,us)=>as<<us-32|ss>>>64-us,rotlBL=(ss,as,us)=>ss<<us-32|as>>>64-us,crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function u32(ss){return new Uint32Array(ss.buffer,ss.byteOffset,Math.floor(ss.byteLength/4))}function createView(ss){return new DataView(ss.buffer,ss.byteOffset,ss.byteLength)}function rotr(ss,as){return ss<<32-as|ss>>>as}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(ss){return ss<<24&4278190080|ss<<8&16711680|ss>>>8&65280|ss>>>24&255}function byteSwap32(ss){for(let as=0;as<ss.length;as++)ss[as]=byteSwap(ss[as])}function utf8ToBytes(ss){if(typeof ss!="string")throw new Error("utf8ToBytes expected string, got "+typeof ss);return new Uint8Array(new TextEncoder().encode(ss))}function toBytes(ss){return typeof ss=="string"&&(ss=utf8ToBytes(ss)),abytes(ss),ss}function concatBytes(...ss){let as=0;for(let cs=0;cs<ss.length;cs++){const $a=ss[cs];abytes($a),as+=$a.length}const us=new Uint8Array(as);for(let cs=0,$a=0;cs<ss.length;cs++){const na=ss[cs];us.set(na,$a),$a+=na.length}return us}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(ss){const as=cs=>ss().update(toBytes(cs)).digest(),us=ss();return as.outputLen=us.outputLen,as.blockLen=us.blockLen,as.create=()=>ss(),as}function randomBytes(ss=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(ss));if(crypto$2&&typeof crypto$2.randomBytes=="function")return crypto$2.randomBytes(ss);throw new Error("crypto.getRandomValues must be defined")}const SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let ss=0,as=_1n,us=1,cs=0;ss<24;ss++){[us,cs]=[cs,(2*us+3*cs)%5],SHA3_PI.push(2*(5*cs+us)),SHA3_ROTL.push((ss+1)*(ss+2)/2%64);let $a=_0n;for(let na=0;na<7;na++)as=(as<<_1n^(as>>_7n)*_0x71n)%_256n,as&_2n&&($a^=_1n<<(_1n<<BigInt(na))-_1n);_SHA3_IOTA.push($a)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(ss,as,us)=>us>32?rotlBH(ss,as,us):rotlSH(ss,as,us),rotlL=(ss,as,us)=>us>32?rotlBL(ss,as,us):rotlSL(ss,as,us);function keccakP(ss,as=24){const us=new Uint32Array(10);for(let cs=24-as;cs<24;cs++){for(let tu=0;tu<10;tu++)us[tu]=ss[tu]^ss[tu+10]^ss[tu+20]^ss[tu+30]^ss[tu+40];for(let tu=0;tu<10;tu+=2){const iu=(tu+8)%10,su=(tu+2)%10,au=us[su],ou=us[su+1],fu=rotlH(au,ou,1)^us[iu],pu=rotlL(au,ou,1)^us[iu+1];for(let vu=0;vu<50;vu+=10)ss[tu+vu]^=fu,ss[tu+vu+1]^=pu}let $a=ss[2],na=ss[3];for(let tu=0;tu<24;tu++){const iu=SHA3_ROTL[tu],su=rotlH($a,na,iu),au=rotlL($a,na,iu),ou=SHA3_PI[tu];$a=ss[ou],na=ss[ou+1],ss[ou]=su,ss[ou+1]=au}for(let tu=0;tu<50;tu+=10){for(let iu=0;iu<10;iu++)us[iu]=ss[tu+iu];for(let iu=0;iu<10;iu++)ss[tu+iu]^=~us[(iu+2)%10]&us[(iu+4)%10]}ss[0]^=SHA3_IOTA_H[cs],ss[1]^=SHA3_IOTA_L[cs]}us.fill(0)}class Keccak extends Hash{constructor(as,us,cs,$a=!1,na=24){if(super(),this.blockLen=as,this.suffix=us,this.outputLen=cs,this.enableXOF=$a,this.rounds=na,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,anumber(cs),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){isLE||byteSwap32(this.state32),keccakP(this.state32,this.rounds),isLE||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(as){aexists(this);const{blockLen:us,state:cs}=this;as=toBytes(as);const $a=as.length;for(let na=0;na<$a;){const tu=Math.min(us-this.pos,$a-na);for(let iu=0;iu<tu;iu++)cs[this.pos++]^=as[na++];this.pos===us&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:as,suffix:us,pos:cs,blockLen:$a}=this;as[cs]^=us,us&128&&cs===$a-1&&this.keccak(),as[$a-1]^=128,this.keccak()}writeInto(as){aexists(this,!1),abytes(as),this.finish();const us=this.state,{blockLen:cs}=this;for(let $a=0,na=as.length;$a<na;){this.posOut>=cs&&this.keccak();const tu=Math.min(cs-this.posOut,na-$a);as.set(us.subarray(this.posOut,this.posOut+tu),$a),this.posOut+=tu,$a+=tu}return as}xofInto(as){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(as)}xof(as){return anumber(as),this.xofInto(new Uint8Array(as))}digestInto(as){if(aoutput(as,this),this.finished)throw new Error("digest() was already called");return this.writeInto(as),this.destroy(),as}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(as){const{blockLen:us,suffix:cs,outputLen:$a,rounds:na,enableXOF:tu}=this;return as||(as=new Keccak(us,cs,$a,tu,na)),as.state32.set(this.state32),as.pos=this.pos,as.posOut=this.posOut,as.finished=this.finished,as.rounds=na,as.suffix=cs,as.outputLen=$a,as.enableXOF=tu,as.destroyed=this.destroyed,as}}const gen=(ss,as,us)=>wrapConstructor(()=>new Keccak(as,ss,us)),keccak_256=gen(1,136,256/8);function keccak256(ss,as){const us=as||"hex",cs=keccak_256(isHex(ss,{strict:!1})?toBytes$1(ss):ss);return us==="bytes"?cs:toHex(cs)}class LruMap extends Map{constructor(as){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=as}get(as){const us=super.get(as);return super.has(as)&&us!==void 0&&(this.delete(as),super.set(as,us)),us}set(as,us){if(super.set(as,us),this.maxSize&&this.size>this.maxSize){const cs=this.keys().next().value;cs&&this.delete(cs)}return this}}const checksumAddressCache=new LruMap(8192);function checksumAddress(ss,as){if(checksumAddressCache.has(`${ss}.${as}`))return checksumAddressCache.get(`${ss}.${as}`);const us=ss.substring(2).toLowerCase(),cs=keccak256(stringToBytes(us),"bytes"),$a=us.split("");for(let tu=0;tu<40;tu+=2)cs[tu>>1]>>4>=8&&$a[tu]&&($a[tu]=$a[tu].toUpperCase()),(cs[tu>>1]&15)>=8&&$a[tu+1]&&($a[tu+1]=$a[tu+1].toUpperCase());const na=`0x${$a.join("")}`;return checksumAddressCache.set(`${ss}.${as}`,na),na}function publicKeyToAddress(ss){const as=keccak256(`0x${ss.substring(4)}`).substring(26);return checksumAddress(`0x${as}`)}async function recoverPublicKey({hash:ss,signature:as}){const us=isHex(ss)?ss:toHex(ss),{secp256k1:cs}=await __vitePreload(async()=>{const{secp256k1:tu}=await import("./secp256k1-CvQpMifh.js");return{secp256k1:tu}},[]);return`0x${(()=>{if(typeof as=="object"&&"r"in as&&"s"in as){const{r:au,s:ou,v:fu,yParity:pu}=as,vu=Number(pu??fu),gu=toRecoveryBit(vu);return new cs.Signature(hexToBigInt(au),hexToBigInt(ou)).addRecoveryBit(gu)}const tu=isHex(as)?as:toHex(as),iu=hexToNumber(`0x${tu.slice(130)}`),su=toRecoveryBit(iu);return cs.Signature.fromCompact(tu.substring(2,130)).addRecoveryBit(su)})().recoverPublicKey(us.substring(2)).toHex(!1)}`}function toRecoveryBit(ss){if(ss===0||ss===1)return ss;if(ss===27)return 0;if(ss===28)return 1;throw new Error("Invalid yParityOrV value")}async function recoverAddress({hash:ss,signature:as}){return publicKeyToAddress(await recoverPublicKey({hash:ss,signature:as}))}function base(ss){if(ss.length>=255)throw new TypeError("Alphabet too long");const as=new Uint8Array(256);for(let au=0;au<as.length;au++)as[au]=255;for(let au=0;au<ss.length;au++){const ou=ss.charAt(au),fu=ou.charCodeAt(0);if(as[fu]!==255)throw new TypeError(ou+" is ambiguous");as[fu]=au}const us=ss.length,cs=ss.charAt(0),$a=Math.log(us)/Math.log(256),na=Math.log(256)/Math.log(us);function tu(au){if(au instanceof Uint8Array||(ArrayBuffer.isView(au)?au=new Uint8Array(au.buffer,au.byteOffset,au.byteLength):Array.isArray(au)&&(au=Uint8Array.from(au))),!(au instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(au.length===0)return"";let ou=0,fu=0,pu=0;const vu=au.length;for(;pu!==vu&&au[pu]===0;)pu++,ou++;const gu=(vu-pu)*na+1>>>0,bu=new Uint8Array(gu);for(;pu!==vu;){let wu=au[pu],_u=0;for(let Mu=gu-1;(wu!==0||_u<fu)&&Mu!==-1;Mu--,_u++)wu+=256*bu[Mu]>>>0,bu[Mu]=wu%us>>>0,wu=wu/us>>>0;if(wu!==0)throw new Error("Non-zero carry");fu=_u,pu++}let xu=gu-fu;for(;xu!==gu&&bu[xu]===0;)xu++;let $u=cs.repeat(ou);for(;xu<gu;++xu)$u+=ss.charAt(bu[xu]);return $u}function iu(au){if(typeof au!="string")throw new TypeError("Expected String");if(au.length===0)return new Uint8Array;let ou=0,fu=0,pu=0;for(;au[ou]===cs;)fu++,ou++;const vu=(au.length-ou)*$a+1>>>0,gu=new Uint8Array(vu);for(;ou<au.length;){const wu=au.charCodeAt(ou);if(wu>255)return;let _u=as[wu];if(_u===255)return;let Mu=0;for(let Au=vu-1;(_u!==0||Mu<pu)&&Au!==-1;Au--,Mu++)_u+=us*gu[Au]>>>0,gu[Au]=_u%256>>>0,_u=_u/256>>>0;if(_u!==0)throw new Error("Non-zero carry");pu=Mu,ou++}let bu=vu-pu;for(;bu!==vu&&gu[bu]===0;)bu++;const xu=new Uint8Array(fu+(vu-bu));let $u=fu;for(;bu!==vu;)xu[$u++]=gu[bu++];return xu}function su(au){const ou=iu(au);if(ou)return ou;throw new Error("Non-base"+us+" character")}return{encode:tu,decodeUnsafe:iu,decode:su}}var ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Vo$1=base(ALPHABET);var define_process_env_default$1={};const se$2=":";function Ie$1(ss){const[as,us]=ss.split(se$2);return{namespace:as,reference:us}}function ce$1(ss,as){return ss.includes(":")?[ss]:as.chains||[]}var Zo=Object.defineProperty,Yo$1=Object.defineProperties,Go$1=Object.getOwnPropertyDescriptors,Tn$1=Object.getOwnPropertySymbols,Wo$1=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Rn$1=(ss,as,us)=>as in ss?Zo(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,_n$1=(ss,as)=>{for(var us in as||(as={}))Wo$1.call(as,us)&&Rn$1(ss,us,as[us]);if(Tn$1)for(var us of Tn$1(as))Xo.call(as,us)&&Rn$1(ss,us,as[us]);return ss},Jo$1=(ss,as)=>Yo$1(ss,Go$1(as));const $n$1="ReactNative",Y$2={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},jn$1="js";function Re(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function pt$1(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===$n$1}function ei$1(){return pt$1()&&typeof global$1<"u"&&typeof(global$1==null?void 0:global$1.Platform)<"u"&&(global$1==null?void 0:global$1.Platform.OS)==="android"}function ni$1(){return pt$1()&&typeof global$1<"u"&&typeof(global$1==null?void 0:global$1.Platform)<"u"&&(global$1==null?void 0:global$1.Platform.OS)==="ios"}function Yt$1(){return!Re()&&!!getNavigator_1()&&!!getDocument_1()}function xt$1(){return pt$1()?Y$2.reactNative:Re()?Y$2.node:Yt$1()?Y$2.browser:Y$2.unknown}function ri$1(){var ss;try{return pt$1()&&typeof global$1<"u"&&typeof(global$1==null?void 0:global$1.Application)<"u"?(ss=global$1.Application)==null?void 0:ss.applicationId:void 0}catch{return}}function Cn$1(ss,as){const us=new URLSearchParams(ss);for(const cs of Object.keys(as).sort())if(as.hasOwnProperty(cs)){const $a=as[cs];$a!==void 0&&us.set(cs,$a)}return us.toString()}function oi$1(ss){var as,us;const cs=Pn$1();try{return ss!=null&&ss.url&&cs.url&&ss.url!==cs.url&&(console.warn(`The configured WalletConnect 'metadata.url':${ss.url} differs from the actual page url:${cs.url}. This is probably unintended and can lead to issues.`),ss.url=cs.url),(as=ss==null?void 0:ss.icons)!=null&&as.length&&ss.icons.length>0&&(ss.icons=ss.icons.filter($a=>$a!=="")),Jo$1(_n$1(_n$1({},cs),ss),{url:(ss==null?void 0:ss.url)||cs.url,name:(ss==null?void 0:ss.name)||cs.name,description:(ss==null?void 0:ss.description)||cs.description,icons:(us=ss==null?void 0:ss.icons)!=null&&us.length&&ss.icons.length>0?ss.icons:cs.icons})}catch($a){return console.warn("Error populating app metadata",$a),ss||cs}}function Pn$1(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function kn$1(){if(xt$1()===Y$2.reactNative&&typeof global$1<"u"&&typeof(global$1==null?void 0:global$1.Platform)<"u"){const{OS:us,Version:cs}=global$1.Platform;return[us,cs].join("-")}const ss=detect();if(ss===null)return"unknown";const as=ss.os?ss.os.replace(" ","").toLowerCase():"unknown";return ss.type==="browser"?[as,ss.name,ss.version].join("-"):[as,ss.version].join("-")}function Vn$1(){var ss;const as=xt$1();return as===Y$2.browser?[as,((ss=getLocation_1())==null?void 0:ss.host)||"unknown"].join(":"):as}function Mn$1(ss,as,us){const cs=kn$1(),$a=Vn$1();return[[ss,as].join("-"),[jn$1,us].join("-"),cs,$a].join("/")}function si$1({protocol:ss,version:as,relayUrl:us,sdkVersion:cs,auth:$a,projectId:na,useOnCloseEvent:tu,bundleId:iu,packageName:su}){const au=us.split("?"),ou=Mn$1(ss,as,cs),fu={auth:$a,ua:ou,projectId:na,useOnCloseEvent:tu,packageName:su||void 0,bundleId:iu||void 0},pu=Cn$1(au[1]||"",fu);return au[0]+"?"+pu}function gt$1(ss,as){return ss.filter(us=>as.includes(us)).length===ss.length}function fi$1(ss){return Object.fromEntries(ss.entries())}function li$1(ss){return new Map(Object.entries(ss))}function gi$1(ss=cjs$3.FIVE_MINUTES,as){const us=cjs$3.toMiliseconds(ss||cjs$3.FIVE_MINUTES);let cs,$a,na,tu;return{resolve:iu=>{na&&cs&&(clearTimeout(na),cs(iu),tu=Promise.resolve(iu))},reject:iu=>{na&&$a&&(clearTimeout(na),$a(iu))},done:()=>new Promise((iu,su)=>{if(tu)return iu(tu);na=setTimeout(()=>{const au=new Error(as);tu=Promise.reject(au),su(au)},us),cs=iu,$a=su})}}function yi$1(ss,as,us){return new Promise(async(cs,$a)=>{const na=setTimeout(()=>$a(new Error(us)),as);try{const tu=await ss;cs(tu)}catch(tu){$a(tu)}clearTimeout(na)})}function _e$2(ss,as){if(typeof as=="string"&&as.startsWith(`${ss}:`))return as;if(ss.toLowerCase()==="topic"){if(typeof as!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${as}`}else if(ss.toLowerCase()==="id"){if(typeof as!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${as}`}throw new Error(`Unknown expirer target type: ${ss}`)}function mi$1(ss){return _e$2("topic",ss)}function wi$1(ss){return _e$2("id",ss)}function bi$1(ss){const[as,us]=ss.split(":"),cs={id:void 0,topic:void 0};if(as==="topic"&&typeof us=="string")cs.topic=us;else if(as==="id"&&Number.isInteger(Number(us)))cs.id=Number(us);else throw new Error(`Invalid target, expected id:number or topic:string, got ${as}:${us}`);return cs}function Ei$1(ss,as){return cjs$3.fromMiliseconds(Date.now()+cjs$3.toMiliseconds(ss))}function vi$1(ss){return Date.now()>=cjs$3.toMiliseconds(ss)}function xi$1(ss,as){return`${ss}${as?`:${as}`:""}`}function at(ss=[],as=[]){return[...new Set([...ss,...as])]}async function Si$1({id:ss,topic:as,wcDeepLink:us}){var cs;try{if(!us)return;const $a=typeof us=="string"?JSON.parse(us):us,na=$a==null?void 0:$a.href;if(typeof na!="string")return;const tu=Kn$1(na,ss,as),iu=xt$1();if(iu===Y$2.browser){if(!((cs=getDocument_1())!=null&&cs.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Fn$1(tu)}else iu===Y$2.reactNative&&typeof(global$1==null?void 0:global$1.Linking)<"u"&&await global$1.Linking.openURL(tu)}catch($a){console.error($a)}}function Kn$1(ss,as,us){const cs=`requestId=${as}&sessionTopic=${us}`;ss.endsWith("/")&&(ss=ss.slice(0,-1));let $a=`${ss}`;if(ss.startsWith("https://t.me")){const na=ss.includes("?")?"&startapp=":"?startapp=";$a=`${$a}${na}${Yn$1(cs,!0)}`}else $a=`${$a}/wc?${cs}`;return $a}function Fn$1(ss){let as="_self";Zn$1()?as="_top":(zn$1()||ss.startsWith("https://")||ss.startsWith("http://"))&&(as="_blank"),window.open(ss,as,"noreferrer noopener")}async function Oi$1(ss,as){let us="";try{if(Yt$1()&&(us=localStorage.getItem(as),us))return us;us=await ss.getItem(as)}catch(cs){console.error(cs)}return us}function Ai$1(ss,as){if(!ss.includes(as))return null;const us=ss.split(/([&,?,=])/),cs=us.indexOf(as);return us[cs+2]}function Bi$1(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,ss=>{const as=Math.random()*16|0;return(ss==="x"?as:as&3|8).toString(16)})}function Ii$1(){return typeof process$1<"u"&&define_process_env_default$1.IS_VITEST==="true"}function zn$1(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Zn$1(){try{return window.self!==window.top}catch{return!1}}function Yn$1(ss,as=!1){const us=Buffer$7.from(ss).toString("base64");return as?us.replace(/[=]/g,""):us}function Le$2(ss){return Buffer$7.from(ss,"base64").toString("utf-8")}function Ni$1(ss){return new Promise(as=>setTimeout(as,ss))}function Gt$1(ss){if(!Number.isSafeInteger(ss)||ss<0)throw new Error("positive integer expected, got "+ss)}function Ui$1(ss){return ss instanceof Uint8Array||ArrayBuffer.isView(ss)&&ss.constructor.name==="Uint8Array"}function Wt$1(ss,...as){if(!Ui$1(ss))throw new Error("Uint8Array expected");if(as.length>0&&!as.includes(ss.length))throw new Error("Uint8Array expected of length "+as+", got length="+ss.length)}function je$1(ss){if(typeof ss!="function"||typeof ss.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gt$1(ss.outputLen),Gt$1(ss.blockLen)}function Tt$1(ss,as=!0){if(ss.destroyed)throw new Error("Hash instance has been destroyed");if(as&&ss.finished)throw new Error("Hash#digest() has already been called")}function Gn$1(ss,as){Wt$1(ss);const us=as.outputLen;if(ss.length<us)throw new Error("digestInto() expects output buffer of length at least "+us)}const ue$1=BigInt(2**32-1),Wn$1=BigInt(32);function Ti$1(ss,as=!1){return as?{h:Number(ss&ue$1),l:Number(ss>>Wn$1&ue$1)}:{h:Number(ss>>Wn$1&ue$1)|0,l:Number(ss&ue$1)|0}}function Ri$1(ss,as=!1){let us=new Uint32Array(ss.length),cs=new Uint32Array(ss.length);for(let $a=0;$a<ss.length;$a++){const{h:na,l:tu}=Ti$1(ss[$a],as);[us[$a],cs[$a]]=[na,tu]}return[us,cs]}const _i$1=(ss,as,us)=>ss<<us|as>>>32-us,$i$1=(ss,as,us)=>as<<us|ss>>>32-us,Li$1=(ss,as,us)=>as<<us-32|ss>>>64-us,ji$1=(ss,as,us)=>ss<<us-32|as>>>64-us,Rt$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ci$1(ss){return new Uint32Array(ss.buffer,ss.byteOffset,Math.floor(ss.byteLength/4))}function Ce(ss){return new DataView(ss.buffer,ss.byteOffset,ss.byteLength)}function st(ss,as){return ss<<32-as|ss>>>as}const Xn$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Pi$1(ss){return ss<<24&4278190080|ss<<8&16711680|ss>>>8&65280|ss>>>24&255}function Jn$1(ss){for(let as=0;as<ss.length;as++)ss[as]=Pi$1(ss[as])}function ki$1(ss){if(typeof ss!="string")throw new Error("utf8ToBytes expected string, got "+typeof ss);return new Uint8Array(new TextEncoder().encode(ss))}function _t$1(ss){return typeof ss=="string"&&(ss=ki$1(ss)),Wt$1(ss),ss}function Vi$1(...ss){let as=0;for(let cs=0;cs<ss.length;cs++){const $a=ss[cs];Wt$1($a),as+=$a.length}const us=new Uint8Array(as);for(let cs=0,$a=0;cs<ss.length;cs++){const na=ss[cs];us.set(na,$a),$a+=na.length}return us}class Pe{clone(){return this._cloneInto()}}function Qn$1(ss){const as=cs=>ss().update(_t$1(cs)).digest(),us=ss();return as.outputLen=us.outputLen,as.blockLen=us.blockLen,as.create=()=>ss(),as}function $t$1(ss=32){if(Rt$1&&typeof Rt$1.getRandomValues=="function")return Rt$1.getRandomValues(new Uint8Array(ss));if(Rt$1&&typeof Rt$1.randomBytes=="function")return Rt$1.randomBytes(ss);throw new Error("crypto.getRandomValues must be defined")}const tr$1=[],er$1=[],nr$1=[],Mi$1=BigInt(0),Xt$1=BigInt(1),Di$1=BigInt(2),Hi=BigInt(7),qi$1=BigInt(256),Ki$1=BigInt(113);for(let ss=0,as=Xt$1,us=1,cs=0;ss<24;ss++){[us,cs]=[cs,(2*us+3*cs)%5],tr$1.push(2*(5*cs+us)),er$1.push((ss+1)*(ss+2)/2%64);let $a=Mi$1;for(let na=0;na<7;na++)as=(as<<Xt$1^(as>>Hi)*Ki$1)%qi$1,as&Di$1&&($a^=Xt$1<<(Xt$1<<BigInt(na))-Xt$1);nr$1.push($a)}const[Fi$1,zi$1]=Ri$1(nr$1,!0),rr$1=(ss,as,us)=>us>32?Li$1(ss,as,us):_i$1(ss,as,us),or$1=(ss,as,us)=>us>32?ji$1(ss,as,us):$i$1(ss,as,us);function Zi(ss,as=24){const us=new Uint32Array(10);for(let cs=24-as;cs<24;cs++){for(let tu=0;tu<10;tu++)us[tu]=ss[tu]^ss[tu+10]^ss[tu+20]^ss[tu+30]^ss[tu+40];for(let tu=0;tu<10;tu+=2){const iu=(tu+8)%10,su=(tu+2)%10,au=us[su],ou=us[su+1],fu=rr$1(au,ou,1)^us[iu],pu=or$1(au,ou,1)^us[iu+1];for(let vu=0;vu<50;vu+=10)ss[tu+vu]^=fu,ss[tu+vu+1]^=pu}let $a=ss[2],na=ss[3];for(let tu=0;tu<24;tu++){const iu=er$1[tu],su=rr$1($a,na,iu),au=or$1($a,na,iu),ou=tr$1[tu];$a=ss[ou],na=ss[ou+1],ss[ou]=su,ss[ou+1]=au}for(let tu=0;tu<50;tu+=10){for(let iu=0;iu<10;iu++)us[iu]=ss[tu+iu];for(let iu=0;iu<10;iu++)ss[tu+iu]^=~us[(iu+2)%10]&us[(iu+4)%10]}ss[0]^=Fi$1[cs],ss[1]^=zi$1[cs]}us.fill(0)}let En$1=class wp extends Pe{constructor(as,us,cs,$a=!1,na=24){if(super(),this.blockLen=as,this.suffix=us,this.outputLen=cs,this.enableXOF=$a,this.rounds=na,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gt$1(cs),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ci$1(this.state)}keccak(){Xn$1||Jn$1(this.state32),Zi(this.state32,this.rounds),Xn$1||Jn$1(this.state32),this.posOut=0,this.pos=0}update(as){Tt$1(this);const{blockLen:us,state:cs}=this;as=_t$1(as);const $a=as.length;for(let na=0;na<$a;){const tu=Math.min(us-this.pos,$a-na);for(let iu=0;iu<tu;iu++)cs[this.pos++]^=as[na++];this.pos===us&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:as,suffix:us,pos:cs,blockLen:$a}=this;as[cs]^=us,us&128&&cs===$a-1&&this.keccak(),as[$a-1]^=128,this.keccak()}writeInto(as){Tt$1(this,!1),Wt$1(as),this.finish();const us=this.state,{blockLen:cs}=this;for(let $a=0,na=as.length;$a<na;){this.posOut>=cs&&this.keccak();const tu=Math.min(cs-this.posOut,na-$a);as.set(us.subarray(this.posOut,this.posOut+tu),$a),this.posOut+=tu,$a+=tu}return as}xofInto(as){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(as)}xof(as){return Gt$1(as),this.xofInto(new Uint8Array(as))}digestInto(as){if(Gn$1(as,this),this.finished)throw new Error("digest() was already called");return this.writeInto(as),this.destroy(),as}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(as){const{blockLen:us,suffix:cs,outputLen:$a,rounds:na,enableXOF:tu}=this;return as||(as=new wp(us,cs,$a,tu,na)),as.state32.set(this.state32),as.pos=this.pos,as.posOut=this.posOut,as.finished=this.finished,as.rounds=na,as.suffix=cs,as.outputLen=$a,as.enableXOF=tu,as.destroyed=this.destroyed,as}};const Yi=(ss,as,us)=>Qn$1(()=>new En$1(as,ss,us)),Gi=Yi(1,136,256/8),Wi="https://rpc.walletconnect.org/v1";function ke$2(ss){const as=`Ethereum Signed Message:
${ss.length}`,us=new TextEncoder().encode(as+ss);return"0x"+Buffer$7.from(Gi(us)).toString("hex")}async function ir$1(ss,as,us,cs,$a,na){switch(us.t){case"eip191":return await sr$1(ss,as,us.s);case"eip1271":return await cr$1(ss,as,us.s,cs,$a,na);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${us.t}`)}}async function sr$1(ss,as,us){return(await recoverAddress({hash:ke$2(as),signature:us})).toLowerCase()===ss.toLowerCase()}async function cr$1(ss,as,us,cs,$a,na){const tu=Ie$1(cs);if(!tu.namespace||!tu.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${cs}`);try{const iu="0x1626ba7e",su="0000000000000000000000000000000000000000000000000000000000000040",au="0000000000000000000000000000000000000000000000000000000000000041",ou=us.substring(2),fu=ke$2(as).substring(2),pu=iu+fu+su+au+ou,vu=await fetch(`${na||Wi}/?chainId=${cs}&projectId=${$a}`,{method:"POST",body:JSON.stringify({id:Xi(),jsonrpc:"2.0",method:"eth_call",params:[{to:ss,data:pu},"latest"]})}),{result:gu}=await vu.json();return gu?gu.slice(0,iu.length).toLowerCase()===iu.toLowerCase():!1}catch(iu){return console.error("isValidEip1271Signature: ",iu),!1}}function Xi(){return Date.now()+Math.floor(Math.random()*1e3)}function Ji(ss){const as=atob(ss),us=new Uint8Array(as.length);for(let tu=0;tu<as.length;tu++)us[tu]=as.charCodeAt(tu);const cs=us[0];if(cs===0)throw new Error("No signatures found");const $a=1+cs*64;if(us.length<$a)throw new Error("Transaction data too short for claimed signature count");if(us.length<100)throw new Error("Transaction too short");const na=Buffer$7.from(ss,"base64").slice(1,65);return Vo$1.encode(na)}var Qi=Object.defineProperty,ts=Object.defineProperties,es=Object.getOwnPropertyDescriptors,ar$1=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,ur$1=(ss,as,us)=>as in ss?Qi(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,Ve$1=(ss,as)=>{for(var us in as||(as={}))ns.call(as,us)&&ur$1(ss,us,as[us]);if(ar$1)for(var us of ar$1(as))rs.call(as,us)&&ur$1(ss,us,as[us]);return ss},fr$1=(ss,as)=>ts(ss,es(as));const os="did:pkh:",fe=ss=>ss==null?void 0:ss.split(":"),lr$1=ss=>{const as=ss&&fe(ss);if(as)return ss.includes(os)?as[3]:as[1]},dr$1=ss=>{const as=ss&&fe(ss);if(as)return as[2]+":"+as[3]},Me$2=ss=>{const as=ss&&fe(ss);if(as)return as.pop()};async function is(ss){const{cacao:as,projectId:us}=ss,{s:cs,p:$a}=as,na=hr$1($a,$a.iss),tu=Me$2($a.iss);return await ir$1(tu,na,cs,dr$1($a.iss),us)}const hr$1=(ss,as)=>{const us=`${ss.domain} wants you to sign in with your Ethereum account:`,cs=Me$2(as);if(!ss.aud&&!ss.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let $a=ss.statement||void 0;const na=`URI: ${ss.aud||ss.uri}`,tu=`Version: ${ss.version}`,iu=`Chain ID: ${lr$1(as)}`,su=`Nonce: ${ss.nonce}`,au=`Issued At: ${ss.iat}`,ou=ss.exp?`Expiration Time: ${ss.exp}`:void 0,fu=ss.nbf?`Not Before: ${ss.nbf}`:void 0,pu=ss.requestId?`Request ID: ${ss.requestId}`:void 0,vu=ss.resources?`Resources:${ss.resources.map(bu=>`
- ${bu}`).join("")}`:void 0,gu=de$1(ss.resources);if(gu){const bu=yt$1(gu);$a=qe$1($a,bu)}return[us,cs,"",$a,"",na,tu,iu,su,au,ou,fu,pu,vu].filter(bu=>bu!=null).join(`
`)};function mr$1(ss){return Buffer$7.from(JSON.stringify(ss)).toString("base64")}function wr$1(ss){return JSON.parse(Buffer$7.from(ss,"base64").toString("utf-8"))}function ct(ss){if(!ss)throw new Error("No recap provided, value is undefined");if(!ss.att)throw new Error("No `att` property found");const as=Object.keys(ss.att);if(!(as!=null&&as.length))throw new Error("No resources found in `att` property");as.forEach(us=>{const cs=ss.att[us];if(Array.isArray(cs))throw new Error(`Resource must be an object: ${us}`);if(typeof cs!="object")throw new Error(`Resource must be an object: ${us}`);if(!Object.keys(cs).length)throw new Error(`Resource object is empty: ${us}`);Object.keys(cs).forEach($a=>{const na=cs[$a];if(!Array.isArray(na))throw new Error(`Ability limits ${$a} must be an array of objects, found: ${na}`);if(!na.length)throw new Error(`Value of ${$a} is empty array, must be an array with objects`);na.forEach(tu=>{if(typeof tu!="object")throw new Error(`Ability limits (${$a}) must be an array of objects, found: ${tu}`)})})})}function br$1(ss,as,us,cs={}){return us==null||us.sort(($a,na)=>$a.localeCompare(na)),{att:{[ss]:De$1(as,us,cs)}}}function De$1(ss,as,us={}){as=as==null?void 0:as.sort(($a,na)=>$a.localeCompare(na));const cs=as.map($a=>({[`${ss}/${$a}`]:[us]}));return Object.assign({},...cs)}function le$1(ss){return ct(ss),`urn:recap:${mr$1(ss).replace(/=/g,"")}`}function yt$1(ss){const as=wr$1(ss.replace("urn:recap:",""));return ct(as),as}function fs(ss,as,us){const cs=br$1(ss,as,us);return le$1(cs)}function He$1(ss){return ss&&ss.includes("urn:recap:")}function ls(ss,as){const us=yt$1(ss),cs=yt$1(as),$a=vr$1(us,cs);return le$1($a)}function vr$1(ss,as){ct(ss),ct(as);const us=Object.keys(ss.att).concat(Object.keys(as.att)).sort(($a,na)=>$a.localeCompare(na)),cs={att:{}};return us.forEach($a=>{var na,tu;Object.keys(((na=ss.att)==null?void 0:na[$a])||{}).concat(Object.keys(((tu=as.att)==null?void 0:tu[$a])||{})).sort((iu,su)=>iu.localeCompare(su)).forEach(iu=>{var su,au;cs.att[$a]=fr$1(Ve$1({},cs.att[$a]),{[iu]:((su=ss.att[$a])==null?void 0:su[iu])||((au=as.att[$a])==null?void 0:au[iu])})})}),cs}function qe$1(ss="",as){ct(as);const us="I further authorize the stated URI to perform the following actions on my behalf: ";if(ss.includes(us))return ss;const cs=[];let $a=0;Object.keys(as.att).forEach(iu=>{const su=Object.keys(as.att[iu]).map(fu=>({ability:fu.split("/")[0],action:fu.split("/")[1]}));su.sort((fu,pu)=>fu.action.localeCompare(pu.action));const au={};su.forEach(fu=>{au[fu.ability]||(au[fu.ability]=[]),au[fu.ability].push(fu.action)});const ou=Object.keys(au).map(fu=>($a++,`(${$a}) '${fu}': '${au[fu].join("', '")}' for '${iu}'.`));cs.push(ou.join(", ").replace(".,","."))});const na=cs.join(" "),tu=`${us}${na}`;return`${ss?ss+" ":""}${tu}`}function ds(ss){var as;const us=yt$1(ss);ct(us);const cs=(as=us.att)==null?void 0:as.eip155;return cs?Object.keys(cs).map($a=>$a.split("/")[1]):[]}function hs(ss){const as=yt$1(ss);ct(as);const us=[];return Object.values(as.att).forEach(cs=>{Object.values(cs).forEach($a=>{var na;(na=$a==null?void 0:$a[0])!=null&&na.chains&&us.push($a[0].chains)})}),[...new Set(us.flat())]}function de$1(ss){if(!ss)return;const as=ss==null?void 0:ss[ss.length-1];return He$1(as)?as:void 0}function Ke$2(ss){if(!Number.isSafeInteger(ss)||ss<0)throw new Error("positive integer expected, got "+ss)}function Sr$1(ss){return ss instanceof Uint8Array||ArrayBuffer.isView(ss)&&ss.constructor.name==="Uint8Array"}function tt(ss,...as){if(!Sr$1(ss))throw new Error("Uint8Array expected");if(as.length>0&&!as.includes(ss.length))throw new Error("Uint8Array expected of length "+as+", got length="+ss.length)}function Or$1(ss,as=!0){if(ss.destroyed)throw new Error("Hash instance has been destroyed");if(as&&ss.finished)throw new Error("Hash#digest() has already been called")}function ps(ss,as){tt(ss);const us=as.outputLen;if(ss.length<us)throw new Error("digestInto() expects output buffer of length at least "+us)}function Ar$1(ss){if(typeof ss!="boolean")throw new Error(`boolean expected, not ${ss}`)}const mt$1=ss=>new Uint32Array(ss.buffer,ss.byteOffset,Math.floor(ss.byteLength/4)),gs=ss=>new DataView(ss.buffer,ss.byteOffset,ss.byteLength),ys=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ys)throw new Error("Non little-endian hardware is not supported");function ms(ss){if(typeof ss!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(ss))}function Fe$1(ss){if(typeof ss=="string")ss=ms(ss);else if(Sr$1(ss))ss=ze$1(ss);else throw new Error("Uint8Array expected, got "+typeof ss);return ss}function ws(ss,as){if(as==null||typeof as!="object")throw new Error("options must be defined");return Object.assign(ss,as)}function bs$1(ss,as){if(ss.length!==as.length)return!1;let us=0;for(let cs=0;cs<ss.length;cs++)us|=ss[cs]^as[cs];return us===0}const Es=(ss,as)=>{function us(cs,...$a){if(tt(cs),ss.nonceLength!==void 0){const au=$a[0];if(!au)throw new Error("nonce / iv required");ss.varSizeNonce?tt(au):tt(au,ss.nonceLength)}const na=ss.tagLength;na&&$a[1]!==void 0&&tt($a[1]);const tu=as(cs,...$a),iu=(au,ou)=>{if(ou!==void 0){if(au!==2)throw new Error("cipher output not supported");tt(ou)}};let su=!1;return{encrypt(au,ou){if(su)throw new Error("cannot encrypt() twice with same key + nonce");return su=!0,tt(au),iu(tu.encrypt.length,ou),tu.encrypt(au,ou)},decrypt(au,ou){if(tt(au),na&&au.length<na)throw new Error("invalid ciphertext length: smaller than tagLength="+na);return iu(tu.decrypt.length,ou),tu.decrypt(au,ou)}}}return Object.assign(us,ss),us};function Br$1(ss,as,us=!0){if(as===void 0)return new Uint8Array(ss);if(as.length!==ss)throw new Error("invalid output length, expected "+ss+", got: "+as.length);if(us&&!vs$1(as))throw new Error("invalid output, must be aligned");return as}function Ir$1(ss,as,us,cs){if(typeof ss.setBigUint64=="function")return ss.setBigUint64(as,us,cs);const $a=BigInt(32),na=BigInt(4294967295),tu=Number(us>>$a&na),iu=Number(us&na);ss.setUint32(as+4,tu,cs),ss.setUint32(as+0,iu,cs)}function vs$1(ss){return ss.byteOffset%4===0}function ze$1(ss){return Uint8Array.from(ss)}function Lt$1(...ss){for(let as=0;as<ss.length;as++)ss[as].fill(0)}const Nr$1=ss=>Uint8Array.from(ss.split("").map(as=>as.charCodeAt(0))),xs$1=Nr$1("expand 16-byte k"),Ss=Nr$1("expand 32-byte k"),Os$1=mt$1(xs$1),As$1=mt$1(Ss);function V$2(ss,as){return ss<<as|ss>>>32-as}function Ze$1(ss){return ss.byteOffset%4===0}const he$1=64,Bs=16,Ur$1=2**32-1,Tr$1=new Uint32Array;function Is$1(ss,as,us,cs,$a,na,tu,iu){const su=$a.length,au=new Uint8Array(he$1),ou=mt$1(au),fu=Ze$1($a)&&Ze$1(na),pu=fu?mt$1($a):Tr$1,vu=fu?mt$1(na):Tr$1;for(let gu=0;gu<su;tu++){if(ss(as,us,cs,ou,tu,iu),tu>=Ur$1)throw new Error("arx: counter overflow");const bu=Math.min(he$1,su-gu);if(fu&&bu===he$1){const xu=gu/4;if(gu%4!==0)throw new Error("arx: invalid block position");for(let $u=0,wu;$u<Bs;$u++)wu=xu+$u,vu[wu]=pu[wu]^ou[$u];gu+=he$1;continue}for(let xu=0,$u;xu<bu;xu++)$u=gu+xu,na[$u]=$a[$u]^au[xu];gu+=bu}}function Ns$1(ss,as){const{allowShortKeys:us,extendNonceFn:cs,counterLength:$a,counterRight:na,rounds:tu}=ws({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},as);if(typeof ss!="function")throw new Error("core must be a function");return Ke$2($a),Ke$2(tu),Ar$1(na),Ar$1(us),(iu,su,au,ou,fu=0)=>{tt(iu),tt(su),tt(au);const pu=au.length;if(ou===void 0&&(ou=new Uint8Array(pu)),tt(ou),Ke$2(fu),fu<0||fu>=Ur$1)throw new Error("arx: counter overflow");if(ou.length<pu)throw new Error(`arx: output (${ou.length}) is shorter than data (${pu})`);const vu=[];let gu=iu.length,bu,xu;if(gu===32)vu.push(bu=ze$1(iu)),xu=As$1;else if(gu===16&&us)bu=new Uint8Array(32),bu.set(iu),bu.set(iu,16),xu=Os$1,vu.push(bu);else throw new Error(`arx: invalid 32-byte key, got length=${gu}`);Ze$1(su)||vu.push(su=ze$1(su));const $u=mt$1(bu);if(cs){if(su.length!==24)throw new Error("arx: extended nonce must be 24 bytes");cs(xu,$u,mt$1(su.subarray(0,16)),$u),su=su.subarray(16)}const wu=16-$a;if(wu!==su.length)throw new Error(`arx: nonce must be ${wu} or 16 bytes`);if(wu!==12){const Mu=new Uint8Array(12);Mu.set(su,na?0:12-su.length),su=Mu,vu.push(su)}const _u=mt$1(su);return Is$1(ss,xu,$u,_u,au,ou,fu,tu),Lt$1(...vu),ou}}const F$2=(ss,as)=>ss[as++]&255|(ss[as++]&255)<<8;class Us{constructor(as){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,as=Fe$1(as),tt(as,32);const us=F$2(as,0),cs=F$2(as,2),$a=F$2(as,4),na=F$2(as,6),tu=F$2(as,8),iu=F$2(as,10),su=F$2(as,12),au=F$2(as,14);this.r[0]=us&8191,this.r[1]=(us>>>13|cs<<3)&8191,this.r[2]=(cs>>>10|$a<<6)&7939,this.r[3]=($a>>>7|na<<9)&8191,this.r[4]=(na>>>4|tu<<12)&255,this.r[5]=tu>>>1&8190,this.r[6]=(tu>>>14|iu<<2)&8191,this.r[7]=(iu>>>11|su<<5)&8065,this.r[8]=(su>>>8|au<<8)&8191,this.r[9]=au>>>5&127;for(let ou=0;ou<8;ou++)this.pad[ou]=F$2(as,16+2*ou)}process(as,us,cs=!1){const $a=cs?0:2048,{h:na,r:tu}=this,iu=tu[0],su=tu[1],au=tu[2],ou=tu[3],fu=tu[4],pu=tu[5],vu=tu[6],gu=tu[7],bu=tu[8],xu=tu[9],$u=F$2(as,us+0),wu=F$2(as,us+2),_u=F$2(as,us+4),Mu=F$2(as,us+6),Au=F$2(as,us+8),Pu=F$2(as,us+10),Su=F$2(as,us+12),Bu=F$2(as,us+14);let Ou=na[0]+($u&8191),Vu=na[1]+(($u>>>13|wu<<3)&8191),yu=na[2]+((wu>>>10|_u<<6)&8191),_a=na[3]+((_u>>>7|Mu<<9)&8191),ru=na[4]+((Mu>>>4|Au<<12)&8191),nu=na[5]+(Au>>>1&8191),uu=na[6]+((Au>>>14|Pu<<2)&8191),lu=na[7]+((Pu>>>11|Su<<5)&8191),du=na[8]+((Su>>>8|Bu<<8)&8191),mu=na[9]+(Bu>>>5|$a),cu=0,eu=cu+Ou*iu+Vu*(5*xu)+yu*(5*bu)+_a*(5*gu)+ru*(5*vu);cu=eu>>>13,eu&=8191,eu+=nu*(5*pu)+uu*(5*fu)+lu*(5*ou)+du*(5*au)+mu*(5*su),cu+=eu>>>13,eu&=8191;let hu=cu+Ou*su+Vu*iu+yu*(5*xu)+_a*(5*bu)+ru*(5*gu);cu=hu>>>13,hu&=8191,hu+=nu*(5*vu)+uu*(5*pu)+lu*(5*fu)+du*(5*ou)+mu*(5*au),cu+=hu>>>13,hu&=8191;let Eu=cu+Ou*au+Vu*su+yu*iu+_a*(5*xu)+ru*(5*bu);cu=Eu>>>13,Eu&=8191,Eu+=nu*(5*gu)+uu*(5*vu)+lu*(5*pu)+du*(5*fu)+mu*(5*ou),cu+=Eu>>>13,Eu&=8191;let Ru=cu+Ou*ou+Vu*au+yu*su+_a*iu+ru*(5*xu);cu=Ru>>>13,Ru&=8191,Ru+=nu*(5*bu)+uu*(5*gu)+lu*(5*vu)+du*(5*pu)+mu*(5*fu),cu+=Ru>>>13,Ru&=8191;let Tu=cu+Ou*fu+Vu*ou+yu*au+_a*su+ru*iu;cu=Tu>>>13,Tu&=8191,Tu+=nu*(5*xu)+uu*(5*bu)+lu*(5*gu)+du*(5*vu)+mu*(5*pu),cu+=Tu>>>13,Tu&=8191;let qu=cu+Ou*pu+Vu*fu+yu*ou+_a*au+ru*su;cu=qu>>>13,qu&=8191,qu+=nu*iu+uu*(5*xu)+lu*(5*bu)+du*(5*gu)+mu*(5*vu),cu+=qu>>>13,qu&=8191;let Du=cu+Ou*vu+Vu*pu+yu*fu+_a*ou+ru*au;cu=Du>>>13,Du&=8191,Du+=nu*su+uu*iu+lu*(5*xu)+du*(5*bu)+mu*(5*gu),cu+=Du>>>13,Du&=8191;let Iu=cu+Ou*gu+Vu*vu+yu*pu+_a*fu+ru*ou;cu=Iu>>>13,Iu&=8191,Iu+=nu*au+uu*su+lu*iu+du*(5*xu)+mu*(5*bu),cu+=Iu>>>13,Iu&=8191;let Lu=cu+Ou*bu+Vu*gu+yu*vu+_a*pu+ru*fu;cu=Lu>>>13,Lu&=8191,Lu+=nu*ou+uu*au+lu*su+du*iu+mu*(5*xu),cu+=Lu>>>13,Lu&=8191;let Uu=cu+Ou*xu+Vu*bu+yu*gu+_a*vu+ru*pu;cu=Uu>>>13,Uu&=8191,Uu+=nu*fu+uu*ou+lu*au+du*su+mu*iu,cu+=Uu>>>13,Uu&=8191,cu=(cu<<2)+cu|0,cu=cu+eu|0,eu=cu&8191,cu=cu>>>13,hu+=cu,na[0]=eu,na[1]=hu,na[2]=Eu,na[3]=Ru,na[4]=Tu,na[5]=qu,na[6]=Du,na[7]=Iu,na[8]=Lu,na[9]=Uu}finalize(){const{h:as,pad:us}=this,cs=new Uint16Array(10);let $a=as[1]>>>13;as[1]&=8191;for(let iu=2;iu<10;iu++)as[iu]+=$a,$a=as[iu]>>>13,as[iu]&=8191;as[0]+=$a*5,$a=as[0]>>>13,as[0]&=8191,as[1]+=$a,$a=as[1]>>>13,as[1]&=8191,as[2]+=$a,cs[0]=as[0]+5,$a=cs[0]>>>13,cs[0]&=8191;for(let iu=1;iu<10;iu++)cs[iu]=as[iu]+$a,$a=cs[iu]>>>13,cs[iu]&=8191;cs[9]-=8192;let na=($a^1)-1;for(let iu=0;iu<10;iu++)cs[iu]&=na;na=~na;for(let iu=0;iu<10;iu++)as[iu]=as[iu]&na|cs[iu];as[0]=(as[0]|as[1]<<13)&65535,as[1]=(as[1]>>>3|as[2]<<10)&65535,as[2]=(as[2]>>>6|as[3]<<7)&65535,as[3]=(as[3]>>>9|as[4]<<4)&65535,as[4]=(as[4]>>>12|as[5]<<1|as[6]<<14)&65535,as[5]=(as[6]>>>2|as[7]<<11)&65535,as[6]=(as[7]>>>5|as[8]<<8)&65535,as[7]=(as[8]>>>8|as[9]<<5)&65535;let tu=as[0]+us[0];as[0]=tu&65535;for(let iu=1;iu<8;iu++)tu=(as[iu]+us[iu]|0)+(tu>>>16)|0,as[iu]=tu&65535;Lt$1(cs)}update(as){Or$1(this);const{buffer:us,blockLen:cs}=this;as=Fe$1(as);const $a=as.length;for(let na=0;na<$a;){const tu=Math.min(cs-this.pos,$a-na);if(tu===cs){for(;cs<=$a-na;na+=cs)this.process(as,na);continue}us.set(as.subarray(na,na+tu),this.pos),this.pos+=tu,na+=tu,this.pos===cs&&(this.process(us,0,!1),this.pos=0)}return this}destroy(){Lt$1(this.h,this.r,this.buffer,this.pad)}digestInto(as){Or$1(this),ps(as,this),this.finished=!0;const{buffer:us,h:cs}=this;let{pos:$a}=this;if($a){for(us[$a++]=1;$a<16;$a++)us[$a]=0;this.process(us,0,!0)}this.finalize();let na=0;for(let tu=0;tu<8;tu++)as[na++]=cs[tu]>>>0,as[na++]=cs[tu]>>>8;return as}digest(){const{buffer:as,outputLen:us}=this;this.digestInto(as);const cs=as.slice(0,us);return this.destroy(),cs}}function Ts$1(ss){const as=(cs,$a)=>ss($a).update(Fe$1(cs)).digest(),us=ss(new Uint8Array(32));return as.outputLen=us.outputLen,as.blockLen=us.blockLen,as.create=cs=>ss(cs),as}const Rs$1=Ts$1(ss=>new Us(ss));function _s(ss,as,us,cs,$a,na=20){let tu=ss[0],iu=ss[1],su=ss[2],au=ss[3],ou=as[0],fu=as[1],pu=as[2],vu=as[3],gu=as[4],bu=as[5],xu=as[6],$u=as[7],wu=$a,_u=us[0],Mu=us[1],Au=us[2],Pu=tu,Su=iu,Bu=su,Ou=au,Vu=ou,yu=fu,_a=pu,ru=vu,nu=gu,uu=bu,lu=xu,du=$u,mu=wu,cu=_u,eu=Mu,hu=Au;for(let Ru=0;Ru<na;Ru+=2)Pu=Pu+Vu|0,mu=V$2(mu^Pu,16),nu=nu+mu|0,Vu=V$2(Vu^nu,12),Pu=Pu+Vu|0,mu=V$2(mu^Pu,8),nu=nu+mu|0,Vu=V$2(Vu^nu,7),Su=Su+yu|0,cu=V$2(cu^Su,16),uu=uu+cu|0,yu=V$2(yu^uu,12),Su=Su+yu|0,cu=V$2(cu^Su,8),uu=uu+cu|0,yu=V$2(yu^uu,7),Bu=Bu+_a|0,eu=V$2(eu^Bu,16),lu=lu+eu|0,_a=V$2(_a^lu,12),Bu=Bu+_a|0,eu=V$2(eu^Bu,8),lu=lu+eu|0,_a=V$2(_a^lu,7),Ou=Ou+ru|0,hu=V$2(hu^Ou,16),du=du+hu|0,ru=V$2(ru^du,12),Ou=Ou+ru|0,hu=V$2(hu^Ou,8),du=du+hu|0,ru=V$2(ru^du,7),Pu=Pu+yu|0,hu=V$2(hu^Pu,16),lu=lu+hu|0,yu=V$2(yu^lu,12),Pu=Pu+yu|0,hu=V$2(hu^Pu,8),lu=lu+hu|0,yu=V$2(yu^lu,7),Su=Su+_a|0,mu=V$2(mu^Su,16),du=du+mu|0,_a=V$2(_a^du,12),Su=Su+_a|0,mu=V$2(mu^Su,8),du=du+mu|0,_a=V$2(_a^du,7),Bu=Bu+ru|0,cu=V$2(cu^Bu,16),nu=nu+cu|0,ru=V$2(ru^nu,12),Bu=Bu+ru|0,cu=V$2(cu^Bu,8),nu=nu+cu|0,ru=V$2(ru^nu,7),Ou=Ou+Vu|0,eu=V$2(eu^Ou,16),uu=uu+eu|0,Vu=V$2(Vu^uu,12),Ou=Ou+Vu|0,eu=V$2(eu^Ou,8),uu=uu+eu|0,Vu=V$2(Vu^uu,7);let Eu=0;cs[Eu++]=tu+Pu|0,cs[Eu++]=iu+Su|0,cs[Eu++]=su+Bu|0,cs[Eu++]=au+Ou|0,cs[Eu++]=ou+Vu|0,cs[Eu++]=fu+yu|0,cs[Eu++]=pu+_a|0,cs[Eu++]=vu+ru|0,cs[Eu++]=gu+nu|0,cs[Eu++]=bu+uu|0,cs[Eu++]=xu+lu|0,cs[Eu++]=$u+du|0,cs[Eu++]=wu+mu|0,cs[Eu++]=_u+cu|0,cs[Eu++]=Mu+eu|0,cs[Eu++]=Au+hu|0}const $s$1=Ns$1(_s,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ls$1=new Uint8Array(16),Rr$1=(ss,as)=>{ss.update(as);const us=as.length%16;us&&ss.update(Ls$1.subarray(us))},js=new Uint8Array(32);function _r$1(ss,as,us,cs,$a){const na=ss(as,us,js),tu=Rs$1.create(na);$a&&Rr$1(tu,$a),Rr$1(tu,cs);const iu=new Uint8Array(16),su=gs(iu);Ir$1(su,0,BigInt($a?$a.length:0),!0),Ir$1(su,8,BigInt(cs.length),!0),tu.update(iu);const au=tu.digest();return Lt$1(na,iu),au}const Cs$1=ss=>(as,us,cs)=>({encrypt($a,na){const tu=$a.length;na=Br$1(tu+16,na,!1),na.set($a);const iu=na.subarray(0,-16);ss(as,us,iu,iu,1);const su=_r$1(ss,as,us,iu,cs);return na.set(su,tu),Lt$1(su),na},decrypt($a,na){na=Br$1($a.length-16,na,!1);const tu=$a.subarray(0,-16),iu=$a.subarray(-16),su=_r$1(ss,as,us,tu,cs);if(!bs$1(iu,su))throw new Error("invalid tag");return na.set($a.subarray(0,-16)),ss(as,us,na,na,1),Lt$1(su),na}}),$r$1=Es({blockSize:64,nonceLength:12,tagLength:16},Cs$1($s$1));let Lr$1=class extends Pe{constructor(as,us){super(),this.finished=!1,this.destroyed=!1,je$1(as);const cs=_t$1(us);if(this.iHash=as.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const $a=this.blockLen,na=new Uint8Array($a);na.set(cs.length>$a?as.create().update(cs).digest():cs);for(let tu=0;tu<na.length;tu++)na[tu]^=54;this.iHash.update(na),this.oHash=as.create();for(let tu=0;tu<na.length;tu++)na[tu]^=106;this.oHash.update(na),na.fill(0)}update(as){return Tt$1(this),this.iHash.update(as),this}digestInto(as){Tt$1(this),Wt$1(as,this.outputLen),this.finished=!0,this.iHash.digestInto(as),this.oHash.update(as),this.oHash.digestInto(as),this.destroy()}digest(){const as=new Uint8Array(this.oHash.outputLen);return this.digestInto(as),as}_cloneInto(as){as||(as=Object.create(Object.getPrototypeOf(this),{}));const{oHash:us,iHash:cs,finished:$a,destroyed:na,blockLen:tu,outputLen:iu}=this;return as=as,as.finished=$a,as.destroyed=na,as.blockLen=tu,as.outputLen=iu,as.oHash=us._cloneInto(as.oHash),as.iHash=cs._cloneInto(as.iHash),as}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const pe$1=(ss,as,us)=>new Lr$1(ss,as).update(us).digest();pe$1.create=(ss,as)=>new Lr$1(ss,as);function Ps$1(ss,as,us){return je$1(ss),us===void 0&&(us=new Uint8Array(ss.outputLen)),pe$1(ss,_t$1(us),_t$1(as))}const Ye$1=new Uint8Array([0]),jr$1=new Uint8Array;function ks$1(ss,as,us,cs=32){if(je$1(ss),Gt$1(cs),cs>255*ss.outputLen)throw new Error("Length should be <= 255*HashLen");const $a=Math.ceil(cs/ss.outputLen);us===void 0&&(us=jr$1);const na=new Uint8Array($a*ss.outputLen),tu=pe$1.create(ss,as),iu=tu._cloneInto(),su=new Uint8Array(tu.outputLen);for(let au=0;au<$a;au++)Ye$1[0]=au+1,iu.update(au===0?jr$1:su).update(us).update(Ye$1).digestInto(su),na.set(su,ss.outputLen*au),tu._cloneInto(iu);return tu.destroy(),iu.destroy(),su.fill(0),Ye$1.fill(0),na.slice(0,cs)}const Vs$1=(ss,as,us,cs,$a)=>ks$1(ss,Ps$1(ss,as,us),cs,$a);function Ms$1(ss,as,us,cs){if(typeof ss.setBigUint64=="function")return ss.setBigUint64(as,us,cs);const $a=BigInt(32),na=BigInt(4294967295),tu=Number(us>>$a&na),iu=Number(us&na),su=cs?4:0,au=cs?0:4;ss.setUint32(as+su,tu,cs),ss.setUint32(as+au,iu,cs)}function Ds$1(ss,as,us){return ss&as^~ss&us}function Hs(ss,as,us){return ss&as^ss&us^as&us}let qs$1=class extends Pe{constructor(as,us,cs,$a){super(),this.blockLen=as,this.outputLen=us,this.padOffset=cs,this.isLE=$a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(as),this.view=Ce(this.buffer)}update(as){Tt$1(this);const{view:us,buffer:cs,blockLen:$a}=this;as=_t$1(as);const na=as.length;for(let tu=0;tu<na;){const iu=Math.min($a-this.pos,na-tu);if(iu===$a){const su=Ce(as);for(;$a<=na-tu;tu+=$a)this.process(su,tu);continue}cs.set(as.subarray(tu,tu+iu),this.pos),this.pos+=iu,tu+=iu,this.pos===$a&&(this.process(us,0),this.pos=0)}return this.length+=as.length,this.roundClean(),this}digestInto(as){Tt$1(this),Gn$1(as,this),this.finished=!0;const{buffer:us,view:cs,blockLen:$a,isLE:na}=this;let{pos:tu}=this;us[tu++]=128,this.buffer.subarray(tu).fill(0),this.padOffset>$a-tu&&(this.process(cs,0),tu=0);for(let fu=tu;fu<$a;fu++)us[fu]=0;Ms$1(cs,$a-8,BigInt(this.length*8),na),this.process(cs,0);const iu=Ce(as),su=this.outputLen;if(su%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const au=su/4,ou=this.get();if(au>ou.length)throw new Error("_sha2: outputLen bigger than state");for(let fu=0;fu<au;fu++)iu.setUint32(4*fu,ou[fu],na)}digest(){const{buffer:as,outputLen:us}=this;this.digestInto(as);const cs=as.slice(0,us);return this.destroy(),cs}_cloneInto(as){as||(as=new this.constructor),as.set(...this.get());const{blockLen:us,buffer:cs,length:$a,finished:na,destroyed:tu,pos:iu}=this;return as.length=$a,as.pos=iu,as.finished=na,as.destroyed=tu,$a%us&&as.buffer.set(cs),as}};const Ks=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wt$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bt=new Uint32Array(64);class Fs extends qs$1{constructor(){super(64,32,8,!1),this.A=wt$1[0]|0,this.B=wt$1[1]|0,this.C=wt$1[2]|0,this.D=wt$1[3]|0,this.E=wt$1[4]|0,this.F=wt$1[5]|0,this.G=wt$1[6]|0,this.H=wt$1[7]|0}get(){const{A:as,B:us,C:cs,D:$a,E:na,F:tu,G:iu,H:su}=this;return[as,us,cs,$a,na,tu,iu,su]}set(as,us,cs,$a,na,tu,iu,su){this.A=as|0,this.B=us|0,this.C=cs|0,this.D=$a|0,this.E=na|0,this.F=tu|0,this.G=iu|0,this.H=su|0}process(as,us){for(let fu=0;fu<16;fu++,us+=4)bt[fu]=as.getUint32(us,!1);for(let fu=16;fu<64;fu++){const pu=bt[fu-15],vu=bt[fu-2],gu=st(pu,7)^st(pu,18)^pu>>>3,bu=st(vu,17)^st(vu,19)^vu>>>10;bt[fu]=bu+bt[fu-7]+gu+bt[fu-16]|0}let{A:cs,B:$a,C:na,D:tu,E:iu,F:su,G:au,H:ou}=this;for(let fu=0;fu<64;fu++){const pu=st(iu,6)^st(iu,11)^st(iu,25),vu=ou+pu+Ds$1(iu,su,au)+Ks[fu]+bt[fu]|0,gu=(st(cs,2)^st(cs,13)^st(cs,22))+Hs(cs,$a,na)|0;ou=au,au=su,su=iu,iu=tu+vu|0,tu=na,na=$a,$a=cs,cs=vu+gu|0}cs=cs+this.A|0,$a=$a+this.B|0,na=na+this.C|0,tu=tu+this.D|0,iu=iu+this.E|0,su=su+this.F|0,au=au+this.G|0,ou=ou+this.H|0,this.set(cs,$a,na,tu,iu,su,au,ou)}roundClean(){bt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Jt$1=Qn$1(()=>new Fs);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ge$1=BigInt(0),ye$1=BigInt(1),zs=BigInt(2);function St$2(ss){return ss instanceof Uint8Array||ArrayBuffer.isView(ss)&&ss.constructor.name==="Uint8Array"}function Qt$1(ss){if(!St$2(ss))throw new Error("Uint8Array expected")}function jt$1(ss,as){if(typeof as!="boolean")throw new Error(ss+" boolean expected, got "+as)}const Zs=Array.from({length:256},(ss,as)=>as.toString(16).padStart(2,"0"));function Ct$1(ss){Qt$1(ss);let as="";for(let us=0;us<ss.length;us++)as+=Zs[ss[us]];return as}function Pt$1(ss){const as=ss.toString(16);return as.length&1?"0"+as:as}function Ge$2(ss){if(typeof ss!="string")throw new Error("hex string expected, got "+typeof ss);return ss===""?ge$1:BigInt("0x"+ss)}const ut$1={_0:48,_9:57,A:65,F:70,a:97,f:102};function Cr$1(ss){if(ss>=ut$1._0&&ss<=ut$1._9)return ss-ut$1._0;if(ss>=ut$1.A&&ss<=ut$1.F)return ss-(ut$1.A-10);if(ss>=ut$1.a&&ss<=ut$1.f)return ss-(ut$1.a-10)}function kt$1(ss){if(typeof ss!="string")throw new Error("hex string expected, got "+typeof ss);const as=ss.length,us=as/2;if(as%2)throw new Error("hex string expected, got unpadded hex of length "+as);const cs=new Uint8Array(us);for(let $a=0,na=0;$a<us;$a++,na+=2){const tu=Cr$1(ss.charCodeAt(na)),iu=Cr$1(ss.charCodeAt(na+1));if(tu===void 0||iu===void 0){const su=ss[na]+ss[na+1];throw new Error('hex string expected, got non-hex character "'+su+'" at index '+na)}cs[$a]=tu*16+iu}return cs}function Ot$1(ss){return Ge$2(Ct$1(ss))}function te$1(ss){return Qt$1(ss),Ge$2(Ct$1(Uint8Array.from(ss).reverse()))}function Vt$1(ss,as){return kt$1(ss.toString(16).padStart(as*2,"0"))}function me$1(ss,as){return Vt$1(ss,as).reverse()}function Ys(ss){return kt$1(Pt$1(ss))}function et(ss,as,us){let cs;if(typeof as=="string")try{cs=kt$1(as)}catch(na){throw new Error(ss+" must be hex string or Uint8Array, cause: "+na)}else if(St$2(as))cs=Uint8Array.from(as);else throw new Error(ss+" must be hex string or Uint8Array");const $a=cs.length;if(typeof us=="number"&&$a!==us)throw new Error(ss+" of length "+us+" expected, got "+$a);return cs}function ee$1(...ss){let as=0;for(let cs=0;cs<ss.length;cs++){const $a=ss[cs];Qt$1($a),as+=$a.length}const us=new Uint8Array(as);for(let cs=0,$a=0;cs<ss.length;cs++){const na=ss[cs];us.set(na,$a),$a+=na.length}return us}function Gs(ss,as){if(ss.length!==as.length)return!1;let us=0;for(let cs=0;cs<ss.length;cs++)us|=ss[cs]^as[cs];return us===0}function Ws(ss){if(typeof ss!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(ss))}const We$1=ss=>typeof ss=="bigint"&&ge$1<=ss;function we$1(ss,as,us){return We$1(ss)&&We$1(as)&&We$1(us)&&as<=ss&&ss<us}function ft$1(ss,as,us,cs){if(!we$1(as,us,cs))throw new Error("expected valid "+ss+": "+us+" <= n < "+cs+", got "+as)}function Pr$1(ss){let as;for(as=0;ss>ge$1;ss>>=ye$1,as+=1);return as}function Xs$1(ss,as){return ss>>BigInt(as)&ye$1}function Js(ss,as,us){return ss|(us?ye$1:ge$1)<<BigInt(as)}const Xe$1=ss=>(zs<<BigInt(ss-1))-ye$1,Je$1=ss=>new Uint8Array(ss),kr$1=ss=>Uint8Array.from(ss);function Vr$1(ss,as,us){if(typeof ss!="number"||ss<2)throw new Error("hashLen must be a number");if(typeof as!="number"||as<2)throw new Error("qByteLen must be a number");if(typeof us!="function")throw new Error("hmacFn must be a function");let cs=Je$1(ss),$a=Je$1(ss),na=0;const tu=()=>{cs.fill(1),$a.fill(0),na=0},iu=(...ou)=>us($a,cs,...ou),su=(ou=Je$1())=>{$a=iu(kr$1([0]),ou),cs=iu(),ou.length!==0&&($a=iu(kr$1([1]),ou),cs=iu())},au=()=>{if(na++>=1e3)throw new Error("drbg: tried 1000 values");let ou=0;const fu=[];for(;ou<as;){cs=iu();const pu=cs.slice();fu.push(pu),ou+=cs.length}return ee$1(...fu)};return(ou,fu)=>{tu(),su(ou);let pu;for(;!(pu=fu(au()));)su();return tu(),pu}}const Qs$1={bigint:ss=>typeof ss=="bigint",function:ss=>typeof ss=="function",boolean:ss=>typeof ss=="boolean",string:ss=>typeof ss=="string",stringOrUint8Array:ss=>typeof ss=="string"||St$2(ss),isSafeInteger:ss=>Number.isSafeInteger(ss),array:ss=>Array.isArray(ss),field:(ss,as)=>as.Fp.isValid(ss),hash:ss=>typeof ss=="function"&&Number.isSafeInteger(ss.outputLen)};function Mt$1(ss,as,us={}){const cs=($a,na,tu)=>{const iu=Qs$1[na];if(typeof iu!="function")throw new Error("invalid validator function");const su=ss[$a];if(!(tu&&su===void 0)&&!iu(su,ss))throw new Error("param "+String($a)+" is invalid. Expected "+na+", got "+su)};for(const[$a,na]of Object.entries(as))cs($a,na,!1);for(const[$a,na]of Object.entries(us))cs($a,na,!0);return ss}const tc=()=>{throw new Error("not implemented")};function Qe$1(ss){const as=new WeakMap;return(us,...cs)=>{const $a=as.get(us);if($a!==void 0)return $a;const na=ss(us,...cs);return as.set(us,na),na}}var ec=Object.freeze({__proto__:null,isBytes:St$2,abytes:Qt$1,abool:jt$1,bytesToHex:Ct$1,numberToHexUnpadded:Pt$1,hexToNumber:Ge$2,hexToBytes:kt$1,bytesToNumberBE:Ot$1,bytesToNumberLE:te$1,numberToBytesBE:Vt$1,numberToBytesLE:me$1,numberToVarBytesBE:Ys,ensureBytes:et,concatBytes:ee$1,equalBytes:Gs,utf8ToBytes:Ws,inRange:we$1,aInRange:ft$1,bitLen:Pr$1,bitGet:Xs$1,bitSet:Js,bitMask:Xe$1,createHmacDrbg:Vr$1,validateObject:Mt$1,notImplemented:tc,memoized:Qe$1});const q=BigInt(0),H=BigInt(1),At$1=BigInt(2),nc=BigInt(3),tn$1=BigInt(4),Mr$1=BigInt(5),Dr$1=BigInt(8);function X(ss,as){const us=ss%as;return us>=q?us:as+us}function Hr$1(ss,as,us){if(as<q)throw new Error("invalid exponent, negatives unsupported");if(us<=q)throw new Error("invalid modulus");if(us===H)return q;let cs=H;for(;as>q;)as&H&&(cs=cs*ss%us),ss=ss*ss%us,as>>=H;return cs}function ot(ss,as,us){let cs=ss;for(;as-- >q;)cs*=cs,cs%=us;return cs}function en$1(ss,as){if(ss===q)throw new Error("invert: expected non-zero number");if(as<=q)throw new Error("invert: expected positive modulus, got "+as);let us=X(ss,as),cs=as,$a=q,na=H;for(;us!==q;){const tu=cs/us,iu=cs%us,su=$a-na*tu;cs=us,us=iu,$a=na,na=su}if(cs!==H)throw new Error("invert: does not exist");return X($a,as)}function rc(ss){const as=(ss-H)/At$1;let us,cs,$a;for(us=ss-H,cs=0;us%At$1===q;us/=At$1,cs++);for($a=At$1;$a<ss&&Hr$1($a,as,ss)!==ss-H;$a++)if($a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(cs===1){const tu=(ss+H)/tn$1;return function(iu,su){const au=iu.pow(su,tu);if(!iu.eql(iu.sqr(au),su))throw new Error("Cannot find square root");return au}}const na=(us+H)/At$1;return function(tu,iu){if(tu.pow(iu,as)===tu.neg(tu.ONE))throw new Error("Cannot find square root");let su=cs,au=tu.pow(tu.mul(tu.ONE,$a),us),ou=tu.pow(iu,na),fu=tu.pow(iu,us);for(;!tu.eql(fu,tu.ONE);){if(tu.eql(fu,tu.ZERO))return tu.ZERO;let pu=1;for(let gu=tu.sqr(fu);pu<su&&!tu.eql(gu,tu.ONE);pu++)gu=tu.sqr(gu);const vu=tu.pow(au,H<<BigInt(su-pu-1));au=tu.sqr(vu),ou=tu.mul(ou,vu),fu=tu.mul(fu,au),su=pu}return ou}}function oc(ss){if(ss%tn$1===nc){const as=(ss+H)/tn$1;return function(us,cs){const $a=us.pow(cs,as);if(!us.eql(us.sqr($a),cs))throw new Error("Cannot find square root");return $a}}if(ss%Dr$1===Mr$1){const as=(ss-Mr$1)/Dr$1;return function(us,cs){const $a=us.mul(cs,At$1),na=us.pow($a,as),tu=us.mul(cs,na),iu=us.mul(us.mul(tu,At$1),na),su=us.mul(tu,us.sub(iu,us.ONE));if(!us.eql(us.sqr(su),cs))throw new Error("Cannot find square root");return su}}return rc(ss)}const ic=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sc(ss){const as={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},us=ic.reduce((cs,$a)=>(cs[$a]="function",cs),as);return Mt$1(ss,us)}function cc(ss,as,us){if(us<q)throw new Error("invalid exponent, negatives unsupported");if(us===q)return ss.ONE;if(us===H)return as;let cs=ss.ONE,$a=as;for(;us>q;)us&H&&(cs=ss.mul(cs,$a)),$a=ss.sqr($a),us>>=H;return cs}function ac(ss,as){const us=new Array(as.length),cs=as.reduce((na,tu,iu)=>ss.is0(tu)?na:(us[iu]=na,ss.mul(na,tu)),ss.ONE),$a=ss.inv(cs);return as.reduceRight((na,tu,iu)=>ss.is0(tu)?na:(us[iu]=ss.mul(na,us[iu]),ss.mul(na,tu)),$a),us}function qr$1(ss,as){const us=as!==void 0?as:ss.toString(2).length,cs=Math.ceil(us/8);return{nBitLength:us,nByteLength:cs}}function Kr$1(ss,as,us=!1,cs={}){if(ss<=q)throw new Error("invalid field: expected ORDER > 0, got "+ss);const{nBitLength:$a,nByteLength:na}=qr$1(ss,as);if(na>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let tu;const iu=Object.freeze({ORDER:ss,isLE:us,BITS:$a,BYTES:na,MASK:Xe$1($a),ZERO:q,ONE:H,create:su=>X(su,ss),isValid:su=>{if(typeof su!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof su);return q<=su&&su<ss},is0:su=>su===q,isOdd:su=>(su&H)===H,neg:su=>X(-su,ss),eql:(su,au)=>su===au,sqr:su=>X(su*su,ss),add:(su,au)=>X(su+au,ss),sub:(su,au)=>X(su-au,ss),mul:(su,au)=>X(su*au,ss),pow:(su,au)=>cc(iu,su,au),div:(su,au)=>X(su*en$1(au,ss),ss),sqrN:su=>su*su,addN:(su,au)=>su+au,subN:(su,au)=>su-au,mulN:(su,au)=>su*au,inv:su=>en$1(su,ss),sqrt:cs.sqrt||(su=>(tu||(tu=oc(ss)),tu(iu,su))),invertBatch:su=>ac(iu,su),cmov:(su,au,ou)=>ou?au:su,toBytes:su=>us?me$1(su,na):Vt$1(su,na),fromBytes:su=>{if(su.length!==na)throw new Error("Field.fromBytes: expected "+na+" bytes, got "+su.length);return us?te$1(su):Ot$1(su)}});return Object.freeze(iu)}function Fr$1(ss){if(typeof ss!="bigint")throw new Error("field order must be bigint");const as=ss.toString(2).length;return Math.ceil(as/8)}function zr$1(ss){const as=Fr$1(ss);return as+Math.ceil(as/2)}function uc(ss,as,us=!1){const cs=ss.length,$a=Fr$1(as),na=zr$1(as);if(cs<16||cs<na||cs>1024)throw new Error("expected "+na+"-1024 bytes of input, got "+cs);const tu=us?te$1(ss):Ot$1(ss),iu=X(tu,as-H)+H;return us?me$1(iu,$a):Vt$1(iu,$a)}const Zr$1=BigInt(0),be$1=BigInt(1);function nn$1(ss,as){const us=as.negate();return ss?us:as}function Yr$1(ss,as){if(!Number.isSafeInteger(ss)||ss<=0||ss>as)throw new Error("invalid window size, expected [1.."+as+"], got W="+ss)}function rn$1(ss,as){Yr$1(ss,as);const us=Math.ceil(as/ss)+1,cs=2**(ss-1);return{windows:us,windowSize:cs}}function fc(ss,as){if(!Array.isArray(ss))throw new Error("array expected");ss.forEach((us,cs)=>{if(!(us instanceof as))throw new Error("invalid point at index "+cs)})}function lc(ss,as){if(!Array.isArray(ss))throw new Error("array of scalars expected");ss.forEach((us,cs)=>{if(!as.isValid(us))throw new Error("invalid scalar at index "+cs)})}const on$1=new WeakMap,Gr$1=new WeakMap;function sn$1(ss){return Gr$1.get(ss)||1}function dc(ss,as){return{constTimeNegate:nn$1,hasPrecomputes(us){return sn$1(us)!==1},unsafeLadder(us,cs,$a=ss.ZERO){let na=us;for(;cs>Zr$1;)cs&be$1&&($a=$a.add(na)),na=na.double(),cs>>=be$1;return $a},precomputeWindow(us,cs){const{windows:$a,windowSize:na}=rn$1(cs,as),tu=[];let iu=us,su=iu;for(let au=0;au<$a;au++){su=iu,tu.push(su);for(let ou=1;ou<na;ou++)su=su.add(iu),tu.push(su);iu=su.double()}return tu},wNAF(us,cs,$a){const{windows:na,windowSize:tu}=rn$1(us,as);let iu=ss.ZERO,su=ss.BASE;const au=BigInt(2**us-1),ou=2**us,fu=BigInt(us);for(let pu=0;pu<na;pu++){const vu=pu*tu;let gu=Number($a&au);$a>>=fu,gu>tu&&(gu-=ou,$a+=be$1);const bu=vu,xu=vu+Math.abs(gu)-1,$u=pu%2!==0,wu=gu<0;gu===0?su=su.add(nn$1($u,cs[bu])):iu=iu.add(nn$1(wu,cs[xu]))}return{p:iu,f:su}},wNAFUnsafe(us,cs,$a,na=ss.ZERO){const{windows:tu,windowSize:iu}=rn$1(us,as),su=BigInt(2**us-1),au=2**us,ou=BigInt(us);for(let fu=0;fu<tu;fu++){const pu=fu*iu;if($a===Zr$1)break;let vu=Number($a&su);if($a>>=ou,vu>iu&&(vu-=au,$a+=be$1),vu===0)continue;let gu=cs[pu+Math.abs(vu)-1];vu<0&&(gu=gu.negate()),na=na.add(gu)}return na},getPrecomputes(us,cs,$a){let na=on$1.get(cs);return na||(na=this.precomputeWindow(cs,us),us!==1&&on$1.set(cs,$a(na))),na},wNAFCached(us,cs,$a){const na=sn$1(us);return this.wNAF(na,this.getPrecomputes(na,us,$a),cs)},wNAFCachedUnsafe(us,cs,$a,na){const tu=sn$1(us);return tu===1?this.unsafeLadder(us,cs,na):this.wNAFUnsafe(tu,this.getPrecomputes(tu,us,$a),cs,na)},setWindowSize(us,cs){Yr$1(cs,as),Gr$1.set(us,cs),on$1.delete(us)}}}function hc(ss,as,us,cs){if(fc(us,ss),lc(cs,as),us.length!==cs.length)throw new Error("arrays of points and scalars must have equal length");const $a=ss.ZERO,na=Pr$1(BigInt(us.length)),tu=na>12?na-3:na>4?na-2:na?2:1,iu=(1<<tu)-1,su=new Array(iu+1).fill($a),au=Math.floor((as.BITS-1)/tu)*tu;let ou=$a;for(let fu=au;fu>=0;fu-=tu){su.fill($a);for(let vu=0;vu<cs.length;vu++){const gu=cs[vu],bu=Number(gu>>BigInt(fu)&BigInt(iu));su[bu]=su[bu].add(us[vu])}let pu=$a;for(let vu=su.length-1,gu=$a;vu>0;vu--)gu=gu.add(su[vu]),pu=pu.add(gu);if(ou=ou.add(pu),fu!==0)for(let vu=0;vu<tu;vu++)ou=ou.double()}return ou}function Wr$1(ss){return sc(ss.Fp),Mt$1(ss,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...qr$1(ss.n,ss.nBitLength),...ss,p:ss.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Dt=BigInt(0),cn$1=BigInt(1);function pc(ss){return Mt$1(ss,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...ss})}function gc(ss){const as=pc(ss),{P:us}=as,cs=wu=>X(wu,us),$a=as.montgomeryBits,na=Math.ceil($a/8),tu=as.nByteLength,iu=as.adjustScalarBytes||(wu=>wu),su=as.powPminus2||(wu=>Hr$1(wu,us-BigInt(2),us));function au(wu,_u,Mu){const Au=cs(wu*(_u-Mu));return _u=cs(_u-Au),Mu=cs(Mu+Au),[_u,Mu]}const ou=(as.a-BigInt(2))/BigInt(4);function fu(wu,_u){ft$1("u",wu,Dt,us),ft$1("scalar",_u,Dt,us);const Mu=_u,Au=wu;let Pu=cn$1,Su=Dt,Bu=wu,Ou=cn$1,Vu=Dt,yu;for(let ru=BigInt($a-1);ru>=Dt;ru--){const nu=Mu>>ru&cn$1;Vu^=nu,yu=au(Vu,Pu,Bu),Pu=yu[0],Bu=yu[1],yu=au(Vu,Su,Ou),Su=yu[0],Ou=yu[1],Vu=nu;const uu=Pu+Su,lu=cs(uu*uu),du=Pu-Su,mu=cs(du*du),cu=lu-mu,eu=Bu+Ou,hu=Bu-Ou,Eu=cs(hu*uu),Ru=cs(eu*du),Tu=Eu+Ru,qu=Eu-Ru;Bu=cs(Tu*Tu),Ou=cs(Au*cs(qu*qu)),Pu=cs(lu*mu),Su=cs(cu*(lu+cs(ou*cu)))}yu=au(Vu,Pu,Bu),Pu=yu[0],Bu=yu[1],yu=au(Vu,Su,Ou),Su=yu[0],Ou=yu[1];const _a=su(Su);return cs(Pu*_a)}function pu(wu){return me$1(cs(wu),na)}function vu(wu){const _u=et("u coordinate",wu,na);return tu===32&&(_u[31]&=127),te$1(_u)}function gu(wu){const _u=et("scalar",wu),Mu=_u.length;if(Mu!==na&&Mu!==tu){let Au=""+na+" or "+tu;throw new Error("invalid scalar, expected "+Au+" bytes, got "+Mu)}return te$1(iu(_u))}function bu(wu,_u){const Mu=vu(_u),Au=gu(wu),Pu=fu(Mu,Au);if(Pu===Dt)throw new Error("invalid private or public key received");return pu(Pu)}const xu=pu(as.Gu);function $u(wu){return bu(wu,xu)}return{scalarMult:bu,scalarMultBase:$u,getSharedSecret:(wu,_u)=>bu(wu,_u),getPublicKey:wu=>$u(wu),utils:{randomPrivateKey:()=>as.randomBytes(as.nByteLength)},GuBytes:xu}}const an$1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const yc=BigInt(1),Xr$1=BigInt(2),mc=BigInt(3),wc=BigInt(5);BigInt(8);function bc(ss){const as=BigInt(10),us=BigInt(20),cs=BigInt(40),$a=BigInt(80),na=an$1,tu=ss*ss%na*ss%na,iu=ot(tu,Xr$1,na)*tu%na,su=ot(iu,yc,na)*ss%na,au=ot(su,wc,na)*su%na,ou=ot(au,as,na)*au%na,fu=ot(ou,us,na)*ou%na,pu=ot(fu,cs,na)*fu%na,vu=ot(pu,$a,na)*pu%na,gu=ot(vu,$a,na)*pu%na,bu=ot(gu,as,na)*au%na;return{pow_p_5_8:ot(bu,Xr$1,na)*ss%na,b2:tu}}function Ec(ss){return ss[0]&=248,ss[31]&=127,ss[31]|=64,ss}const un$1=gc({P:an$1,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:ss=>{const as=an$1,{pow_p_5_8:us,b2:cs}=bc(ss);return X(ot(us,mc,as)*cs,as)},adjustScalarBytes:Ec,randomBytes:$t$1});function Jr$1(ss){ss.lowS!==void 0&&jt$1("lowS",ss.lowS),ss.prehash!==void 0&&jt$1("prehash",ss.prehash)}function vc(ss){const as=Wr$1(ss);Mt$1(as,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:us,Fp:cs,a:$a}=as;if(us){if(!cs.eql($a,cs.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof us!="object"||typeof us.beta!="bigint"||typeof us.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...as})}const{bytesToNumberBE:xc,hexToBytes:Sc}=ec;class Oc extends Error{constructor(as=""){super(as)}}const lt={Err:Oc,_tlv:{encode:(ss,as)=>{const{Err:us}=lt;if(ss<0||ss>256)throw new us("tlv.encode: wrong tag");if(as.length&1)throw new us("tlv.encode: unpadded data");const cs=as.length/2,$a=Pt$1(cs);if($a.length/2&128)throw new us("tlv.encode: long form length too big");const na=cs>127?Pt$1($a.length/2|128):"";return Pt$1(ss)+na+$a+as},decode(ss,as){const{Err:us}=lt;let cs=0;if(ss<0||ss>256)throw new us("tlv.encode: wrong tag");if(as.length<2||as[cs++]!==ss)throw new us("tlv.decode: wrong tlv");const $a=as[cs++],na=!!($a&128);let tu=0;if(!na)tu=$a;else{const su=$a&127;if(!su)throw new us("tlv.decode(long): indefinite length not supported");if(su>4)throw new us("tlv.decode(long): byte length is too big");const au=as.subarray(cs,cs+su);if(au.length!==su)throw new us("tlv.decode: length bytes not complete");if(au[0]===0)throw new us("tlv.decode(long): zero leftmost byte");for(const ou of au)tu=tu<<8|ou;if(cs+=su,tu<128)throw new us("tlv.decode(long): not minimal encoding")}const iu=as.subarray(cs,cs+tu);if(iu.length!==tu)throw new us("tlv.decode: wrong value length");return{v:iu,l:as.subarray(cs+tu)}}},_int:{encode(ss){const{Err:as}=lt;if(ss<dt$1)throw new as("integer: negative integers are not allowed");let us=Pt$1(ss);if(Number.parseInt(us[0],16)&8&&(us="00"+us),us.length&1)throw new as("unexpected DER parsing assertion: unpadded hex");return us},decode(ss){const{Err:as}=lt;if(ss[0]&128)throw new as("invalid signature integer: negative");if(ss[0]===0&&!(ss[1]&128))throw new as("invalid signature integer: unnecessary leading zero");return xc(ss)}},toSig(ss){const{Err:as,_int:us,_tlv:cs}=lt,$a=typeof ss=="string"?Sc(ss):ss;Qt$1($a);const{v:na,l:tu}=cs.decode(48,$a);if(tu.length)throw new as("invalid signature: left bytes after parsing");const{v:iu,l:su}=cs.decode(2,na),{v:au,l:ou}=cs.decode(2,su);if(ou.length)throw new as("invalid signature: left bytes after parsing");return{r:us.decode(iu),s:us.decode(au)}},hexFromSig(ss){const{_tlv:as,_int:us}=lt,cs=as.encode(2,us.encode(ss.r)),$a=as.encode(2,us.encode(ss.s)),na=cs+$a;return as.encode(48,na)}},dt$1=BigInt(0),K$1=BigInt(1);BigInt(2);const Qr=BigInt(3);BigInt(4);function Ac(ss){const as=vc(ss),{Fp:us}=as,cs=Kr$1(as.n,as.nBitLength),$a=as.toBytes||((bu,xu,$u)=>{const wu=xu.toAffine();return ee$1(Uint8Array.from([4]),us.toBytes(wu.x),us.toBytes(wu.y))}),na=as.fromBytes||(bu=>{const xu=bu.subarray(1),$u=us.fromBytes(xu.subarray(0,us.BYTES)),wu=us.fromBytes(xu.subarray(us.BYTES,2*us.BYTES));return{x:$u,y:wu}});function tu(bu){const{a:xu,b:$u}=as,wu=us.sqr(bu),_u=us.mul(wu,bu);return us.add(us.add(_u,us.mul(bu,xu)),$u)}if(!us.eql(us.sqr(as.Gy),tu(as.Gx)))throw new Error("bad generator point: equation left != right");function iu(bu){return we$1(bu,K$1,as.n)}function su(bu){const{allowedPrivateKeyLengths:xu,nByteLength:$u,wrapPrivateKey:wu,n:_u}=as;if(xu&&typeof bu!="bigint"){if(St$2(bu)&&(bu=Ct$1(bu)),typeof bu!="string"||!xu.includes(bu.length))throw new Error("invalid private key");bu=bu.padStart($u*2,"0")}let Mu;try{Mu=typeof bu=="bigint"?bu:Ot$1(et("private key",bu,$u))}catch{throw new Error("invalid private key, expected hex or "+$u+" bytes, got "+typeof bu)}return wu&&(Mu=X(Mu,_u)),ft$1("private key",Mu,K$1,_u),Mu}function au(bu){if(!(bu instanceof pu))throw new Error("ProjectivePoint expected")}const ou=Qe$1((bu,xu)=>{const{px:$u,py:wu,pz:_u}=bu;if(us.eql(_u,us.ONE))return{x:$u,y:wu};const Mu=bu.is0();xu==null&&(xu=Mu?us.ONE:us.inv(_u));const Au=us.mul($u,xu),Pu=us.mul(wu,xu),Su=us.mul(_u,xu);if(Mu)return{x:us.ZERO,y:us.ZERO};if(!us.eql(Su,us.ONE))throw new Error("invZ was invalid");return{x:Au,y:Pu}}),fu=Qe$1(bu=>{if(bu.is0()){if(as.allowInfinityPoint&&!us.is0(bu.py))return;throw new Error("bad point: ZERO")}const{x:xu,y:$u}=bu.toAffine();if(!us.isValid(xu)||!us.isValid($u))throw new Error("bad point: x or y not FE");const wu=us.sqr($u),_u=tu(xu);if(!us.eql(wu,_u))throw new Error("bad point: equation left != right");if(!bu.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class pu{constructor(xu,$u,wu){if(this.px=xu,this.py=$u,this.pz=wu,xu==null||!us.isValid(xu))throw new Error("x required");if($u==null||!us.isValid($u))throw new Error("y required");if(wu==null||!us.isValid(wu))throw new Error("z required");Object.freeze(this)}static fromAffine(xu){const{x:$u,y:wu}=xu||{};if(!xu||!us.isValid($u)||!us.isValid(wu))throw new Error("invalid affine point");if(xu instanceof pu)throw new Error("projective point not allowed");const _u=Mu=>us.eql(Mu,us.ZERO);return _u($u)&&_u(wu)?pu.ZERO:new pu($u,wu,us.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(xu){const $u=us.invertBatch(xu.map(wu=>wu.pz));return xu.map((wu,_u)=>wu.toAffine($u[_u])).map(pu.fromAffine)}static fromHex(xu){const $u=pu.fromAffine(na(et("pointHex",xu)));return $u.assertValidity(),$u}static fromPrivateKey(xu){return pu.BASE.multiply(su(xu))}static msm(xu,$u){return hc(pu,cs,xu,$u)}_setWindowSize(xu){gu.setWindowSize(this,xu)}assertValidity(){fu(this)}hasEvenY(){const{y:xu}=this.toAffine();if(us.isOdd)return!us.isOdd(xu);throw new Error("Field doesn't support isOdd")}equals(xu){au(xu);const{px:$u,py:wu,pz:_u}=this,{px:Mu,py:Au,pz:Pu}=xu,Su=us.eql(us.mul($u,Pu),us.mul(Mu,_u)),Bu=us.eql(us.mul(wu,Pu),us.mul(Au,_u));return Su&&Bu}negate(){return new pu(this.px,us.neg(this.py),this.pz)}double(){const{a:xu,b:$u}=as,wu=us.mul($u,Qr),{px:_u,py:Mu,pz:Au}=this;let Pu=us.ZERO,Su=us.ZERO,Bu=us.ZERO,Ou=us.mul(_u,_u),Vu=us.mul(Mu,Mu),yu=us.mul(Au,Au),_a=us.mul(_u,Mu);return _a=us.add(_a,_a),Bu=us.mul(_u,Au),Bu=us.add(Bu,Bu),Pu=us.mul(xu,Bu),Su=us.mul(wu,yu),Su=us.add(Pu,Su),Pu=us.sub(Vu,Su),Su=us.add(Vu,Su),Su=us.mul(Pu,Su),Pu=us.mul(_a,Pu),Bu=us.mul(wu,Bu),yu=us.mul(xu,yu),_a=us.sub(Ou,yu),_a=us.mul(xu,_a),_a=us.add(_a,Bu),Bu=us.add(Ou,Ou),Ou=us.add(Bu,Ou),Ou=us.add(Ou,yu),Ou=us.mul(Ou,_a),Su=us.add(Su,Ou),yu=us.mul(Mu,Au),yu=us.add(yu,yu),Ou=us.mul(yu,_a),Pu=us.sub(Pu,Ou),Bu=us.mul(yu,Vu),Bu=us.add(Bu,Bu),Bu=us.add(Bu,Bu),new pu(Pu,Su,Bu)}add(xu){au(xu);const{px:$u,py:wu,pz:_u}=this,{px:Mu,py:Au,pz:Pu}=xu;let Su=us.ZERO,Bu=us.ZERO,Ou=us.ZERO;const Vu=as.a,yu=us.mul(as.b,Qr);let _a=us.mul($u,Mu),ru=us.mul(wu,Au),nu=us.mul(_u,Pu),uu=us.add($u,wu),lu=us.add(Mu,Au);uu=us.mul(uu,lu),lu=us.add(_a,ru),uu=us.sub(uu,lu),lu=us.add($u,_u);let du=us.add(Mu,Pu);return lu=us.mul(lu,du),du=us.add(_a,nu),lu=us.sub(lu,du),du=us.add(wu,_u),Su=us.add(Au,Pu),du=us.mul(du,Su),Su=us.add(ru,nu),du=us.sub(du,Su),Ou=us.mul(Vu,lu),Su=us.mul(yu,nu),Ou=us.add(Su,Ou),Su=us.sub(ru,Ou),Ou=us.add(ru,Ou),Bu=us.mul(Su,Ou),ru=us.add(_a,_a),ru=us.add(ru,_a),nu=us.mul(Vu,nu),lu=us.mul(yu,lu),ru=us.add(ru,nu),nu=us.sub(_a,nu),nu=us.mul(Vu,nu),lu=us.add(lu,nu),_a=us.mul(ru,lu),Bu=us.add(Bu,_a),_a=us.mul(du,lu),Su=us.mul(uu,Su),Su=us.sub(Su,_a),_a=us.mul(uu,ru),Ou=us.mul(du,Ou),Ou=us.add(Ou,_a),new pu(Su,Bu,Ou)}subtract(xu){return this.add(xu.negate())}is0(){return this.equals(pu.ZERO)}wNAF(xu){return gu.wNAFCached(this,xu,pu.normalizeZ)}multiplyUnsafe(xu){const{endo:$u,n:wu}=as;ft$1("scalar",xu,dt$1,wu);const _u=pu.ZERO;if(xu===dt$1)return _u;if(this.is0()||xu===K$1)return this;if(!$u||gu.hasPrecomputes(this))return gu.wNAFCachedUnsafe(this,xu,pu.normalizeZ);let{k1neg:Mu,k1:Au,k2neg:Pu,k2:Su}=$u.splitScalar(xu),Bu=_u,Ou=_u,Vu=this;for(;Au>dt$1||Su>dt$1;)Au&K$1&&(Bu=Bu.add(Vu)),Su&K$1&&(Ou=Ou.add(Vu)),Vu=Vu.double(),Au>>=K$1,Su>>=K$1;return Mu&&(Bu=Bu.negate()),Pu&&(Ou=Ou.negate()),Ou=new pu(us.mul(Ou.px,$u.beta),Ou.py,Ou.pz),Bu.add(Ou)}multiply(xu){const{endo:$u,n:wu}=as;ft$1("scalar",xu,K$1,wu);let _u,Mu;if($u){const{k1neg:Au,k1:Pu,k2neg:Su,k2:Bu}=$u.splitScalar(xu);let{p:Ou,f:Vu}=this.wNAF(Pu),{p:yu,f:_a}=this.wNAF(Bu);Ou=gu.constTimeNegate(Au,Ou),yu=gu.constTimeNegate(Su,yu),yu=new pu(us.mul(yu.px,$u.beta),yu.py,yu.pz),_u=Ou.add(yu),Mu=Vu.add(_a)}else{const{p:Au,f:Pu}=this.wNAF(xu);_u=Au,Mu=Pu}return pu.normalizeZ([_u,Mu])[0]}multiplyAndAddUnsafe(xu,$u,wu){const _u=pu.BASE,Mu=(Pu,Su)=>Su===dt$1||Su===K$1||!Pu.equals(_u)?Pu.multiplyUnsafe(Su):Pu.multiply(Su),Au=Mu(this,$u).add(Mu(xu,wu));return Au.is0()?void 0:Au}toAffine(xu){return ou(this,xu)}isTorsionFree(){const{h:xu,isTorsionFree:$u}=as;if(xu===K$1)return!0;if($u)return $u(pu,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:xu,clearCofactor:$u}=as;return xu===K$1?this:$u?$u(pu,this):this.multiplyUnsafe(as.h)}toRawBytes(xu=!0){return jt$1("isCompressed",xu),this.assertValidity(),$a(pu,this,xu)}toHex(xu=!0){return jt$1("isCompressed",xu),Ct$1(this.toRawBytes(xu))}}pu.BASE=new pu(as.Gx,as.Gy,us.ONE),pu.ZERO=new pu(us.ZERO,us.ONE,us.ZERO);const vu=as.nBitLength,gu=dc(pu,as.endo?Math.ceil(vu/2):vu);return{CURVE:as,ProjectivePoint:pu,normPrivateKeyToScalar:su,weierstrassEquation:tu,isWithinCurveOrder:iu}}function Bc(ss){const as=Wr$1(ss);return Mt$1(as,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...as})}function Ic(ss){const as=Bc(ss),{Fp:us,n:cs}=as,$a=us.BYTES+1,na=2*us.BYTES+1;function tu(nu){return X(nu,cs)}function iu(nu){return en$1(nu,cs)}const{ProjectivePoint:su,normPrivateKeyToScalar:au,weierstrassEquation:ou,isWithinCurveOrder:fu}=Ac({...as,toBytes(nu,uu,lu){const du=uu.toAffine(),mu=us.toBytes(du.x),cu=ee$1;return jt$1("isCompressed",lu),lu?cu(Uint8Array.from([uu.hasEvenY()?2:3]),mu):cu(Uint8Array.from([4]),mu,us.toBytes(du.y))},fromBytes(nu){const uu=nu.length,lu=nu[0],du=nu.subarray(1);if(uu===$a&&(lu===2||lu===3)){const mu=Ot$1(du);if(!we$1(mu,K$1,us.ORDER))throw new Error("Point is not on curve");const cu=ou(mu);let eu;try{eu=us.sqrt(cu)}catch(Eu){const Ru=Eu instanceof Error?": "+Eu.message:"";throw new Error("Point is not on curve"+Ru)}const hu=(eu&K$1)===K$1;return(lu&1)===1!==hu&&(eu=us.neg(eu)),{x:mu,y:eu}}else if(uu===na&&lu===4){const mu=us.fromBytes(du.subarray(0,us.BYTES)),cu=us.fromBytes(du.subarray(us.BYTES,2*us.BYTES));return{x:mu,y:cu}}else{const mu=$a,cu=na;throw new Error("invalid Point, expected length of "+mu+", or uncompressed "+cu+", got "+uu)}}}),pu=nu=>Ct$1(Vt$1(nu,as.nByteLength));function vu(nu){const uu=cs>>K$1;return nu>uu}function gu(nu){return vu(nu)?tu(-nu):nu}const bu=(nu,uu,lu)=>Ot$1(nu.slice(uu,lu));class xu{constructor(uu,lu,du){this.r=uu,this.s=lu,this.recovery=du,this.assertValidity()}static fromCompact(uu){const lu=as.nByteLength;return uu=et("compactSignature",uu,lu*2),new xu(bu(uu,0,lu),bu(uu,lu,2*lu))}static fromDER(uu){const{r:lu,s:du}=lt.toSig(et("DER",uu));return new xu(lu,du)}assertValidity(){ft$1("r",this.r,K$1,cs),ft$1("s",this.s,K$1,cs)}addRecoveryBit(uu){return new xu(this.r,this.s,uu)}recoverPublicKey(uu){const{r:lu,s:du,recovery:mu}=this,cu=Pu(et("msgHash",uu));if(mu==null||![0,1,2,3].includes(mu))throw new Error("recovery id invalid");const eu=mu===2||mu===3?lu+as.n:lu;if(eu>=us.ORDER)throw new Error("recovery id 2 or 3 invalid");const hu=mu&1?"03":"02",Eu=su.fromHex(hu+pu(eu)),Ru=iu(eu),Tu=tu(-cu*Ru),qu=tu(du*Ru),Du=su.BASE.multiplyAndAddUnsafe(Eu,Tu,qu);if(!Du)throw new Error("point at infinify");return Du.assertValidity(),Du}hasHighS(){return vu(this.s)}normalizeS(){return this.hasHighS()?new xu(this.r,tu(-this.s),this.recovery):this}toDERRawBytes(){return kt$1(this.toDERHex())}toDERHex(){return lt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kt$1(this.toCompactHex())}toCompactHex(){return pu(this.r)+pu(this.s)}}const $u={isValidPrivateKey(nu){try{return au(nu),!0}catch{return!1}},normPrivateKeyToScalar:au,randomPrivateKey:()=>{const nu=zr$1(as.n);return uc(as.randomBytes(nu),as.n)},precompute(nu=8,uu=su.BASE){return uu._setWindowSize(nu),uu.multiply(BigInt(3)),uu}};function wu(nu,uu=!0){return su.fromPrivateKey(nu).toRawBytes(uu)}function _u(nu){const uu=St$2(nu),lu=typeof nu=="string",du=(uu||lu)&&nu.length;return uu?du===$a||du===na:lu?du===2*$a||du===2*na:nu instanceof su}function Mu(nu,uu,lu=!0){if(_u(nu))throw new Error("first arg must be private key");if(!_u(uu))throw new Error("second arg must be public key");return su.fromHex(uu).multiply(au(nu)).toRawBytes(lu)}const Au=as.bits2int||function(nu){if(nu.length>8192)throw new Error("input is too large");const uu=Ot$1(nu),lu=nu.length*8-as.nBitLength;return lu>0?uu>>BigInt(lu):uu},Pu=as.bits2int_modN||function(nu){return tu(Au(nu))},Su=Xe$1(as.nBitLength);function Bu(nu){return ft$1("num < 2^"+as.nBitLength,nu,dt$1,Su),Vt$1(nu,as.nByteLength)}function Ou(nu,uu,lu=Vu){if(["recovered","canonical"].some(Lu=>Lu in lu))throw new Error("sign() legacy options not supported");const{hash:du,randomBytes:mu}=as;let{lowS:cu,prehash:eu,extraEntropy:hu}=lu;cu==null&&(cu=!0),nu=et("msgHash",nu),Jr$1(lu),eu&&(nu=et("prehashed msgHash",du(nu)));const Eu=Pu(nu),Ru=au(uu),Tu=[Bu(Ru),Bu(Eu)];if(hu!=null&&hu!==!1){const Lu=hu===!0?mu(us.BYTES):hu;Tu.push(et("extraEntropy",Lu))}const qu=ee$1(...Tu),Du=Eu;function Iu(Lu){const Uu=Au(Lu);if(!fu(Uu))return;const Hu=iu(Uu),zu=su.BASE.multiply(Uu).toAffine(),ju=tu(zu.x);if(ju===dt$1)return;const Wu=tu(Hu*tu(Du+ju*Ru));if(Wu===dt$1)return;let Dl=(zu.x===ju?0:2)|Number(zu.y&K$1),Zu=Wu;return cu&&vu(Wu)&&(Zu=gu(Wu),Dl^=1),new xu(ju,Zu,Dl)}return{seed:qu,k2sig:Iu}}const Vu={lowS:as.lowS,prehash:!1},yu={lowS:as.lowS,prehash:!1};function _a(nu,uu,lu=Vu){const{seed:du,k2sig:mu}=Ou(nu,uu,lu),cu=as;return Vr$1(cu.hash.outputLen,cu.nByteLength,cu.hmac)(du,mu)}su.BASE._setWindowSize(8);function ru(nu,uu,lu,du=yu){var Wu;const mu=nu;uu=et("msgHash",uu),lu=et("publicKey",lu);const{lowS:cu,prehash:eu,format:hu}=du;if(Jr$1(du),"strict"in du)throw new Error("options.strict was renamed to lowS");if(hu!==void 0&&hu!=="compact"&&hu!=="der")throw new Error("format must be compact or der");const Eu=typeof mu=="string"||St$2(mu),Ru=!Eu&&!hu&&typeof mu=="object"&&mu!==null&&typeof mu.r=="bigint"&&typeof mu.s=="bigint";if(!Eu&&!Ru)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Tu,qu;try{if(Ru&&(Tu=new xu(mu.r,mu.s)),Eu){try{hu!=="compact"&&(Tu=xu.fromDER(mu))}catch(Dl){if(!(Dl instanceof lt.Err))throw Dl}!Tu&&hu!=="der"&&(Tu=xu.fromCompact(mu))}qu=su.fromHex(lu)}catch{return!1}if(!Tu||cu&&Tu.hasHighS())return!1;eu&&(uu=as.hash(uu));const{r:Du,s:Iu}=Tu,Lu=Pu(uu),Uu=iu(Iu),Hu=tu(Lu*Uu),zu=tu(Du*Uu),ju=(Wu=su.BASE.multiplyAndAddUnsafe(qu,Hu,zu))==null?void 0:Wu.toAffine();return ju?tu(ju.x)===Du:!1}return{CURVE:as,getPublicKey:wu,getSharedSecret:Mu,sign:_a,verify:ru,ProjectivePoint:su,Signature:xu,utils:$u}}function Nc(ss){return{hash:ss,hmac:(as,...us)=>pe$1(ss,as,Vi$1(...us)),randomBytes:$t$1}}function Uc(ss,as){const us=cs=>Ic({...ss,...Nc(cs)});return{...us(as),create:us}}const to$1=Kr$1(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Tc=to$1.create(BigInt("-3")),Rc=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),_c=Uc({a:Tc,b:Rc,Fp:to$1,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Jt$1),fn$1="base10",G$1="base16",Ht$1="base64pad",Ee$2="base64url",qt$1="utf8",ln$1=0,Kt$1=1,ne$1=2,$c=0,eo$1=1,re$1=12,dn$1=32;function Lc(){const ss=un$1.utils.randomPrivateKey(),as=un$1.getPublicKey(ss);return{privateKey:toString(ss,G$1),publicKey:toString(as,G$1)}}function jc(){const ss=$t$1(dn$1);return toString(ss,G$1)}function Cc(ss,as){const us=un$1.getSharedSecret(fromString(ss,G$1),fromString(as,G$1)),cs=Vs$1(Jt$1,us,void 0,void 0,dn$1);return toString(cs,G$1)}function Pc(ss){const as=Jt$1(fromString(ss,G$1));return toString(as,G$1)}function kc(ss){const as=Jt$1(fromString(ss,qt$1));return toString(as,G$1)}function hn$1(ss){return fromString(`${ss}`,fn$1)}function Bt$1(ss){return Number(toString(ss,fn$1))}function no$1(ss){return ss.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ro$1(ss){const as=ss.replace(/-/g,"+").replace(/_/g,"/"),us=(4-as.length%4)%4;return as+"=".repeat(us)}function Vc(ss){const as=hn$1(typeof ss.type<"u"?ss.type:ln$1);if(Bt$1(as)===Kt$1&&typeof ss.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const us=typeof ss.senderPublicKey<"u"?fromString(ss.senderPublicKey,G$1):void 0,cs=typeof ss.iv<"u"?fromString(ss.iv,G$1):$t$1(re$1),$a=fromString(ss.symKey,G$1),na=$r$1($a,cs).encrypt(fromString(ss.message,qt$1)),tu=pn$1({type:as,sealed:na,iv:cs,senderPublicKey:us});return ss.encoding===Ee$2?no$1(tu):tu}function Mc(ss){const as=fromString(ss.symKey,G$1),{sealed:us,iv:cs}=ve({encoded:ss.encoded,encoding:ss.encoding}),$a=$r$1(as,cs).decrypt(us);if($a===null)throw new Error("Failed to decrypt");return toString($a,qt$1)}function Dc(ss,as){const us=hn$1(ne$1),cs=$t$1(re$1),$a=fromString(ss,qt$1),na=pn$1({type:us,sealed:$a,iv:cs});return as===Ee$2?no$1(na):na}function Hc(ss,as){const{sealed:us}=ve({encoded:ss,encoding:as});return toString(us,qt$1)}function pn$1(ss){if(Bt$1(ss.type)===ne$1)return toString(concat([ss.type,ss.sealed]),Ht$1);if(Bt$1(ss.type)===Kt$1){if(typeof ss.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString(concat([ss.type,ss.senderPublicKey,ss.iv,ss.sealed]),Ht$1)}return toString(concat([ss.type,ss.iv,ss.sealed]),Ht$1)}function ve(ss){const as=(ss.encoding||Ht$1)===Ee$2?ro$1(ss.encoded):ss.encoded,us=fromString(as,Ht$1),cs=us.slice($c,eo$1),$a=eo$1;if(Bt$1(cs)===Kt$1){const su=$a+dn$1,au=su+re$1,ou=us.slice($a,su),fu=us.slice(su,au),pu=us.slice(au);return{type:cs,sealed:pu,iv:fu,senderPublicKey:ou}}if(Bt$1(cs)===ne$1){const su=us.slice($a),au=$t$1(re$1);return{type:cs,sealed:su,iv:au}}const na=$a+re$1,tu=us.slice($a,na),iu=us.slice(na);return{type:cs,sealed:iu,iv:tu}}function qc(ss,as){const us=ve({encoded:ss,encoding:as==null?void 0:as.encoding});return oo$1({type:Bt$1(us.type),senderPublicKey:typeof us.senderPublicKey<"u"?toString(us.senderPublicKey,G$1):void 0,receiverPublicKey:as==null?void 0:as.receiverPublicKey})}function oo$1(ss){const as=(ss==null?void 0:ss.type)||ln$1;if(as===Kt$1){if(typeof(ss==null?void 0:ss.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(ss==null?void 0:ss.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:as,senderPublicKey:ss==null?void 0:ss.senderPublicKey,receiverPublicKey:ss==null?void 0:ss.receiverPublicKey}}function Kc(ss){return ss.type===Kt$1&&typeof ss.senderPublicKey=="string"&&typeof ss.receiverPublicKey=="string"}function Fc(ss){return ss.type===ne$1}function io$1(ss){const as=Buffer$7.from(ss.x,"base64"),us=Buffer$7.from(ss.y,"base64");return concat([new Uint8Array([4]),as,us])}function zc(ss,as){const[us,cs,$a]=ss.split("."),na=Buffer$7.from(ro$1($a),"base64");if(na.length!==64)throw new Error("Invalid signature length");const tu=na.slice(0,32),iu=na.slice(32,64),su=`${us}.${cs}`,au=Jt$1(su),ou=io$1(as);if(!_c.verify(concat([tu,iu]),au,ou))throw new Error("Invalid signature");return sn$2(ss).payload}const so$1="irn";function Zc(ss){return(ss==null?void 0:ss.relay)||{protocol:so$1}}function Yc(ss){const as=C$3[ss];if(typeof as>"u")throw new Error(`Relay Protocol not supported: ${ss}`);return as}function co$1(ss,as="-"){const us={},cs="relay"+as;return Object.keys(ss).forEach($a=>{if($a.startsWith(cs)){const na=$a.replace(cs,""),tu=ss[$a];us[na]=tu}}),us}function Gc(ss){if(!ss.includes("wc:")){const au=Le$2(ss);au!=null&&au.includes("wc:")&&(ss=au)}ss=ss.includes("wc://")?ss.replace("wc://",""):ss,ss=ss.includes("wc:")?ss.replace("wc:",""):ss;const as=ss.indexOf(":"),us=ss.indexOf("?")!==-1?ss.indexOf("?"):void 0,cs=ss.substring(0,as),$a=ss.substring(as+1,us).split("@"),na=typeof us<"u"?ss.substring(us):"",tu=new URLSearchParams(na),iu={};tu.forEach((au,ou)=>{iu[ou]=au});const su=typeof iu.methods=="string"?iu.methods.split(","):void 0;return{protocol:cs,topic:ao$1($a[0]),version:parseInt($a[1],10),symKey:iu.symKey,relay:co$1(iu),methods:su,expiryTimestamp:iu.expiryTimestamp?parseInt(iu.expiryTimestamp,10):void 0}}function ao$1(ss){return ss.startsWith("//")?ss.substring(2):ss}function uo$1(ss,as="-"){const us="relay",cs={};return Object.keys(ss).forEach($a=>{const na=$a,tu=us+as+na;ss[na]&&(cs[tu]=ss[na])}),cs}function Wc(ss){const as=new URLSearchParams,us=uo$1(ss.relay);Object.keys(us).sort().forEach($a=>{as.set($a,us[$a])}),as.set("symKey",ss.symKey),ss.expiryTimestamp&&as.set("expiryTimestamp",ss.expiryTimestamp.toString()),ss.methods&&as.set("methods",ss.methods.join(","));const cs=as.toString();return`${ss.protocol}:${ss.topic}@${ss.version}?${cs}`}function Xc(ss,as,us){return`${ss}?wc_ev=${us}&topic=${as}`}function It$1(ss){const as=[];return ss.forEach(us=>{const[cs,$a]=us.split(":");as.push(`${cs}:${$a}`)}),as}function ho$1(ss){const as=[];return Object.values(ss).forEach(us=>{as.push(...It$1(us.accounts))}),as}function po$1(ss,as){const us=[];return Object.values(ss).forEach(cs=>{It$1(cs.accounts).includes(as)&&us.push(...cs.methods)}),us}function go$1(ss,as){const us=[];return Object.values(ss).forEach(cs=>{It$1(cs.accounts).includes(as)&&us.push(...cs.events)}),us}function mo$1(ss){const as={};return ss==null||ss.forEach(us=>{var cs;const[$a,na]=us.split(":");as[$a]||(as[$a]={accounts:[],chains:[],events:[],methods:[]}),as[$a].accounts.push(us),(cs=as[$a].chains)==null||cs.push(`${$a}:${na}`)}),as}function ca(ss,as){as=as.map(cs=>cs.replace("did:pkh:",""));const us=mo$1(as);for(const[cs,$a]of Object.entries(us))$a.methods?$a.methods=at($a.methods,ss):$a.methods=ss,$a.events=["chainChanged","accountsChanged"];return us}const wo$1={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},bo$1={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ht$1(ss,as){const{message:us,code:cs}=bo$1[ss];return{message:as?`${us} ${as}`:us,code:cs}}function Nt$1(ss,as){const{message:us,code:cs}=wo$1[ss];return{message:as?`${us} ${as}`:us,code:cs}}function oe(ss,as){return!!Array.isArray(ss)}function xe(ss){return Object.getPrototypeOf(ss)===Object.prototype&&Object.keys(ss).length}function Et$2(ss){return typeof ss>"u"}function nt(ss,as){return as&&Et$2(ss)?!0:typeof ss=="string"&&!!ss.trim().length}function Se(ss,as){return as&&Et$2(ss)?!0:typeof ss=="number"&&!isNaN(ss)}function aa(ss,as){const{requiredNamespaces:us}=as,cs=Object.keys(ss.namespaces),$a=Object.keys(us);let na=!0;return gt$1($a,cs)?(cs.forEach(tu=>{const{accounts:iu,methods:su,events:au}=ss.namespaces[tu],ou=It$1(iu),fu=us[tu];(!gt$1(ce$1(tu,fu),ou)||!gt$1(fu.methods,su)||!gt$1(fu.events,au))&&(na=!1)}),na):!1}function ie$1(ss){return nt(ss,!1)&&ss.includes(":")?ss.split(":").length===2:!1}function Eo$1(ss){if(nt(ss,!1)&&ss.includes(":")){const as=ss.split(":");if(as.length===3){const us=as[0]+":"+as[1];return!!as[2]&&ie$1(us)}}return!1}function ua(ss){function as(us){try{return typeof new URL(us)<"u"}catch{return!1}}try{if(nt(ss,!1)){if(as(ss))return!0;const us=Le$2(ss);return as(us)}}catch{}return!1}function fa(ss){var as;return(as=ss==null?void 0:ss.proposer)==null?void 0:as.publicKey}function la(ss){return ss==null?void 0:ss.topic}function da(ss,as){let us=null;return nt(ss==null?void 0:ss.publicKey,!1)||(us=ht$1("MISSING_OR_INVALID",`${as} controller public key should be a string`)),us}function mn$1(ss){let as=!0;return oe(ss)?ss.length&&(as=ss.every(us=>nt(us,!1))):as=!1,as}function vo$1(ss,as,us){let cs=null;return oe(as)&&as.length?as.forEach($a=>{cs||ie$1($a)||(cs=Nt$1("UNSUPPORTED_CHAINS",`${us}, chain ${$a} should be a string and conform to "namespace:chainId" format`))}):ie$1(ss)||(cs=Nt$1("UNSUPPORTED_CHAINS",`${us}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),cs}function xo$1(ss,as,us){let cs=null;return Object.entries(ss).forEach(([$a,na])=>{if(cs)return;const tu=vo$1($a,ce$1($a,na),`${as} ${us}`);tu&&(cs=tu)}),cs}function So$1(ss,as){let us=null;return oe(ss)?ss.forEach(cs=>{us||Eo$1(cs)||(us=Nt$1("UNSUPPORTED_ACCOUNTS",`${as}, account ${cs} should be a string and conform to "namespace:chainId:address" format`))}):us=Nt$1("UNSUPPORTED_ACCOUNTS",`${as}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),us}function Oo$1(ss,as){let us=null;return Object.values(ss).forEach(cs=>{if(us)return;const $a=So$1(cs==null?void 0:cs.accounts,`${as} namespace`);$a&&(us=$a)}),us}function Ao$1(ss,as){let us=null;return mn$1(ss==null?void 0:ss.methods)?mn$1(ss==null?void 0:ss.events)||(us=Nt$1("UNSUPPORTED_EVENTS",`${as}, events should be an array of strings or empty array for no events`)):us=Nt$1("UNSUPPORTED_METHODS",`${as}, methods should be an array of strings or empty array for no methods`),us}function wn$1(ss,as){let us=null;return Object.values(ss).forEach(cs=>{if(us)return;const $a=Ao$1(cs,`${as}, namespace`);$a&&(us=$a)}),us}function ha(ss,as,us){let cs=null;if(ss&&xe(ss)){const $a=wn$1(ss,as);$a&&(cs=$a);const na=xo$1(ss,as,us);na&&(cs=na)}else cs=ht$1("MISSING_OR_INVALID",`${as}, ${us} should be an object with data`);return cs}function Bo$1(ss,as){let us=null;if(ss&&xe(ss)){const cs=wn$1(ss,as);cs&&(us=cs);const $a=Oo$1(ss,as);$a&&(us=$a)}else us=ht$1("MISSING_OR_INVALID",`${as}, namespaces should be an object with data`);return us}function Io$1(ss){return nt(ss.protocol,!0)}function pa(ss,as){let us=!1;return ss?ss&&oe(ss)&&ss.length&&ss.forEach(cs=>{us=Io$1(cs)}):us=!0,us}function ga(ss){return typeof ss=="number"}function ya(ss){return typeof ss<"u"&&typeof ss!==null}function ma(ss){return!(!ss||typeof ss!="object"||!ss.code||!Se(ss.code,!1)||!ss.message||!nt(ss.message,!1))}function wa(ss){return!(Et$2(ss)||!nt(ss.method,!1))}function ba(ss){return!(Et$2(ss)||Et$2(ss.result)&&Et$2(ss.error)||!Se(ss.id,!1)||!nt(ss.jsonrpc,!1))}function Ea(ss){return!(Et$2(ss)||!nt(ss.name,!1))}function va(ss,as){return!(!ie$1(as)||!ho$1(ss).includes(as))}function xa(ss,as,us){return nt(us,!1)?po$1(ss,as).includes(us):!1}function Sa(ss,as,us){return nt(us,!1)?go$1(ss,as).includes(us):!1}function No$1(ss,as,us){let cs=null;const $a=Oa(ss),na=Aa(as),tu=Object.keys($a),iu=Object.keys(na),su=Uo$1(Object.keys(ss)),au=Uo$1(Object.keys(as)),ou=su.filter(fu=>!au.includes(fu));return ou.length&&(cs=ht$1("NON_CONFORMING_NAMESPACES",`${us} namespaces keys don't satisfy requiredNamespaces.
      Required: ${ou.toString()}
      Received: ${Object.keys(as).toString()}`)),gt$1(tu,iu)||(cs=ht$1("NON_CONFORMING_NAMESPACES",`${us} namespaces chains don't satisfy required namespaces.
      Required: ${tu.toString()}
      Approved: ${iu.toString()}`)),Object.keys(as).forEach(fu=>{if(!fu.includes(":")||cs)return;const pu=It$1(as[fu].accounts);pu.includes(fu)||(cs=ht$1("NON_CONFORMING_NAMESPACES",`${us} namespaces accounts don't satisfy namespace accounts for ${fu}
        Required: ${fu}
        Approved: ${pu.toString()}`))}),tu.forEach(fu=>{cs||(gt$1($a[fu].methods,na[fu].methods)?gt$1($a[fu].events,na[fu].events)||(cs=ht$1("NON_CONFORMING_NAMESPACES",`${us} namespaces events don't satisfy namespace events for ${fu}`)):cs=ht$1("NON_CONFORMING_NAMESPACES",`${us} namespaces methods don't satisfy namespace methods for ${fu}`))}),cs}function Oa(ss){const as={};return Object.keys(ss).forEach(us=>{var cs;us.includes(":")?as[us]=ss[us]:(cs=ss[us].chains)==null||cs.forEach($a=>{as[$a]={methods:ss[us].methods,events:ss[us].events}})}),as}function Uo$1(ss){return[...new Set(ss.map(as=>as.includes(":")?as.split(":")[0]:as))]}function Aa(ss){const as={};return Object.keys(ss).forEach(us=>{if(us.includes(":"))as[us]=ss[us];else{const cs=It$1(ss[us].accounts);cs==null||cs.forEach($a=>{as[$a]={accounts:ss[us].accounts.filter(na=>na.includes(`${$a}:`)),methods:ss[us].methods,events:ss[us].events}})}}),as}function Ba(ss,as){return Se(ss,!1)&&ss<=as.max&&ss>=as.min}function Ia(){const ss=xt$1();return new Promise(as=>{switch(ss){case Y$2.browser:as(To$1());break;case Y$2.reactNative:as(Ro$1());break;case Y$2.node:as(_o$1());break;default:as(!0)}})}function To$1(){return Yt$1()&&(navigator==null?void 0:navigator.onLine)}async function Ro$1(){if(pt$1()&&typeof global$1<"u"&&global$1!=null&&global$1.NetInfo){const ss=await(global$1==null?void 0:global$1.NetInfo.fetch());return ss==null?void 0:ss.isConnected}return!0}function _o$1(){return!0}function Na(ss){switch(xt$1()){case Y$2.browser:$o$1(ss);break;case Y$2.reactNative:Lo$1(ss);break}}function $o$1(ss){!pt$1()&&Yt$1()&&(window.addEventListener("online",()=>ss(!0)),window.addEventListener("offline",()=>ss(!1)))}function Lo$1(ss){pt$1()&&typeof global$1<"u"&&global$1!=null&&global$1.NetInfo&&(global$1==null||global$1.NetInfo.addEventListener(as=>ss(as==null?void 0:as.isConnected)))}const bn$1={};class Ua{static get(as){return bn$1[as]}static set(as,us){bn$1[as]=us}static delete(as){delete bn$1[as]}}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(ss){return RESERVED_ERROR_CODES.includes(ss)}function getError(ss){return Object.keys(STANDARD_ERROR_MAP).includes(ss)?STANDARD_ERROR_MAP[ss]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(ss){const as=Object.values(STANDARD_ERROR_MAP).find(us=>us.code===ss);return as||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(ss,as,us){return ss.message.includes("getaddrinfo ENOTFOUND")||ss.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${us} RPC url at ${as}`):ss}var cjs={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(ss,as){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(us,cs){us.__proto__=cs}||function(us,cs){for(var $a in cs)cs.hasOwnProperty($a)&&(us[$a]=cs[$a])},extendStatics(ss,as)};function __extends(ss,as){extendStatics(ss,as);function us(){this.constructor=ss}ss.prototype=as===null?Object.create(as):(us.prototype=as.prototype,new us)}var __assign=function(){return __assign=Object.assign||function(as){for(var us,cs=1,$a=arguments.length;cs<$a;cs++){us=arguments[cs];for(var na in us)Object.prototype.hasOwnProperty.call(us,na)&&(as[na]=us[na])}return as},__assign.apply(this,arguments)};function __rest(ss,as){var us={};for(var cs in ss)Object.prototype.hasOwnProperty.call(ss,cs)&&as.indexOf(cs)<0&&(us[cs]=ss[cs]);if(ss!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $a=0,cs=Object.getOwnPropertySymbols(ss);$a<cs.length;$a++)as.indexOf(cs[$a])<0&&Object.prototype.propertyIsEnumerable.call(ss,cs[$a])&&(us[cs[$a]]=ss[cs[$a]]);return us}function __decorate(ss,as,us,cs){var $a=arguments.length,na=$a<3?as:cs===null?cs=Object.getOwnPropertyDescriptor(as,us):cs,tu;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")na=Reflect.decorate(ss,as,us,cs);else for(var iu=ss.length-1;iu>=0;iu--)(tu=ss[iu])&&(na=($a<3?tu(na):$a>3?tu(as,us,na):tu(as,us))||na);return $a>3&&na&&Object.defineProperty(as,us,na),na}function __param(ss,as){return function(us,cs){as(us,cs,ss)}}function __metadata(ss,as){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ss,as)}function __awaiter(ss,as,us,cs){function $a(na){return na instanceof us?na:new us(function(tu){tu(na)})}return new(us||(us=Promise))(function(na,tu){function iu(ou){try{au(cs.next(ou))}catch(fu){tu(fu)}}function su(ou){try{au(cs.throw(ou))}catch(fu){tu(fu)}}function au(ou){ou.done?na(ou.value):$a(ou.value).then(iu,su)}au((cs=cs.apply(ss,as||[])).next())})}function __generator(ss,as){var us={label:0,sent:function(){if(na[0]&1)throw na[1];return na[1]},trys:[],ops:[]},cs,$a,na,tu;return tu={next:iu(0),throw:iu(1),return:iu(2)},typeof Symbol=="function"&&(tu[Symbol.iterator]=function(){return this}),tu;function iu(au){return function(ou){return su([au,ou])}}function su(au){if(cs)throw new TypeError("Generator is already executing.");for(;us;)try{if(cs=1,$a&&(na=au[0]&2?$a.return:au[0]?$a.throw||((na=$a.return)&&na.call($a),0):$a.next)&&!(na=na.call($a,au[1])).done)return na;switch($a=0,na&&(au=[au[0]&2,na.value]),au[0]){case 0:case 1:na=au;break;case 4:return us.label++,{value:au[1],done:!1};case 5:us.label++,$a=au[1],au=[0];continue;case 7:au=us.ops.pop(),us.trys.pop();continue;default:if(na=us.trys,!(na=na.length>0&&na[na.length-1])&&(au[0]===6||au[0]===2)){us=0;continue}if(au[0]===3&&(!na||au[1]>na[0]&&au[1]<na[3])){us.label=au[1];break}if(au[0]===6&&us.label<na[1]){us.label=na[1],na=au;break}if(na&&us.label<na[2]){us.label=na[2],us.ops.push(au);break}na[2]&&us.ops.pop(),us.trys.pop();continue}au=as.call(ss,us)}catch(ou){au=[6,ou],$a=0}finally{cs=na=0}if(au[0]&5)throw au[1];return{value:au[0]?au[1]:void 0,done:!0}}}function __createBinding(ss,as,us,cs){cs===void 0&&(cs=us),ss[cs]=as[us]}function __exportStar(ss,as){for(var us in ss)us!=="default"&&!as.hasOwnProperty(us)&&(as[us]=ss[us])}function __values(ss){var as=typeof Symbol=="function"&&Symbol.iterator,us=as&&ss[as],cs=0;if(us)return us.call(ss);if(ss&&typeof ss.length=="number")return{next:function(){return ss&&cs>=ss.length&&(ss=void 0),{value:ss&&ss[cs++],done:!ss}}};throw new TypeError(as?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(ss,as){var us=typeof Symbol=="function"&&ss[Symbol.iterator];if(!us)return ss;var cs=us.call(ss),$a,na=[],tu;try{for(;(as===void 0||as-- >0)&&!($a=cs.next()).done;)na.push($a.value)}catch(iu){tu={error:iu}}finally{try{$a&&!$a.done&&(us=cs.return)&&us.call(cs)}finally{if(tu)throw tu.error}}return na}function __spread(){for(var ss=[],as=0;as<arguments.length;as++)ss=ss.concat(__read(arguments[as]));return ss}function __spreadArrays(){for(var ss=0,as=0,us=arguments.length;as<us;as++)ss+=arguments[as].length;for(var cs=Array(ss),$a=0,as=0;as<us;as++)for(var na=arguments[as],tu=0,iu=na.length;tu<iu;tu++,$a++)cs[$a]=na[tu];return cs}function __await(ss){return this instanceof __await?(this.v=ss,this):new __await(ss)}function __asyncGenerator(ss,as,us){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var cs=us.apply(ss,as||[]),$a,na=[];return $a={},tu("next"),tu("throw"),tu("return"),$a[Symbol.asyncIterator]=function(){return this},$a;function tu(pu){cs[pu]&&($a[pu]=function(vu){return new Promise(function(gu,bu){na.push([pu,vu,gu,bu])>1||iu(pu,vu)})})}function iu(pu,vu){try{su(cs[pu](vu))}catch(gu){fu(na[0][3],gu)}}function su(pu){pu.value instanceof __await?Promise.resolve(pu.value.v).then(au,ou):fu(na[0][2],pu)}function au(pu){iu("next",pu)}function ou(pu){iu("throw",pu)}function fu(pu,vu){pu(vu),na.shift(),na.length&&iu(na[0][0],na[0][1])}}function __asyncDelegator(ss){var as,us;return as={},cs("next"),cs("throw",function($a){throw $a}),cs("return"),as[Symbol.iterator]=function(){return this},as;function cs($a,na){as[$a]=ss[$a]?function(tu){return(us=!us)?{value:__await(ss[$a](tu)),done:$a==="return"}:na?na(tu):tu}:na}}function __asyncValues(ss){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var as=ss[Symbol.asyncIterator],us;return as?as.call(ss):(ss=typeof __values=="function"?__values(ss):ss[Symbol.iterator](),us={},cs("next"),cs("throw"),cs("return"),us[Symbol.asyncIterator]=function(){return this},us);function cs(na){us[na]=ss[na]&&function(tu){return new Promise(function(iu,su){tu=ss[na](tu),$a(iu,su,tu.done,tu.value)})}}function $a(na,tu,iu,su){Promise.resolve(su).then(function(au){na({value:au,done:iu})},tu)}}function __makeTemplateObject(ss,as){return Object.defineProperty?Object.defineProperty(ss,"raw",{value:as}):ss.raw=as,ss}function __importStar(ss){if(ss&&ss.__esModule)return ss;var as={};if(ss!=null)for(var us in ss)Object.hasOwnProperty.call(ss,us)&&(as[us]=ss[us]);return as.default=ss,as}function __importDefault(ss){return ss&&ss.__esModule?ss:{default:ss}}function __classPrivateFieldGet(ss,as){if(!as.has(ss))throw new TypeError("attempted to get private field on non-instance");return as.get(ss)}function __classPrivateFieldSet(ss,as,us){if(!as.has(ss))throw new TypeError("attempted to set private field on non-instance");return as.set(ss,us),us}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6);var crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function ss(){return(commonjsGlobal==null?void 0:commonjsGlobal.crypto)||(commonjsGlobal==null?void 0:commonjsGlobal.msCrypto)||{}}crypto$1.getBrowerCrypto=ss;function as(){const cs=ss();return cs.subtle||cs.webkitSubtle}crypto$1.getSubtleCrypto=as;function us(){return!!ss()&&!!as()}return crypto$1.isBrowserCryptoAvailable=us,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function ss(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=ss;function as(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}env.isNode=as;function us(){return!ss()&&!as()}return env.isBrowser=us,env}(function(ss){Object.defineProperty(ss,"__esModule",{value:!0});const as=require$$0;as.__exportStar(requireCrypto(),ss),as.__exportStar(requireEnv(),ss)})(cjs);function payloadId(ss=3){const as=Date.now()*Math.pow(10,ss),us=Math.floor(Math.random()*Math.pow(10,ss));return as+us}function getBigIntRpcId(ss=6){return BigInt(payloadId(ss))}function formatJsonRpcRequest(ss,as,us){return{id:us||payloadId(),jsonrpc:"2.0",method:ss,params:as}}function formatJsonRpcResult(ss,as){return{id:ss,jsonrpc:"2.0",result:as}}function formatJsonRpcError(ss,as,us){return{id:ss,jsonrpc:"2.0",error:formatErrorMessage(as)}}function formatErrorMessage(ss,as){return typeof ss>"u"?getError(INTERNAL_ERROR):(typeof ss=="string"&&(ss=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:ss})),isReservedErrorCode(ss.code)&&(ss=getErrorByCode(ss.code)),ss)}class e{}class n extends e{constructor(){super()}}class r extends n{constructor(as){super()}}const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(ss){const as=ss.match(new RegExp(/^\w+:/,"gi"));if(!(!as||!as.length))return as[0]}function matchRegexProtocol(ss,as){const us=getUrlProtocol(ss);return typeof us>"u"?!1:new RegExp(as).test(us)}function isHttpUrl(ss){return matchRegexProtocol(ss,HTTP_REGEX)}function isWsUrl(ss){return matchRegexProtocol(ss,WS_REGEX)}function isLocalhostUrl(ss){return new RegExp("wss?://localhost(:d{2,5})?").test(ss)}function isJsonRpcPayload(ss){return typeof ss=="object"&&"id"in ss&&"jsonrpc"in ss&&ss.jsonrpc==="2.0"}function isJsonRpcRequest(ss){return isJsonRpcPayload(ss)&&"method"in ss}function isJsonRpcResponse(ss){return isJsonRpcPayload(ss)&&(isJsonRpcResult(ss)||isJsonRpcError(ss))}function isJsonRpcResult(ss){return"result"in ss}function isJsonRpcError(ss){return"error"in ss}let o$1=class extends r{constructor(as){super(as),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(as),this.connection.connected&&this.registerEventListeners()}async connect(as=this.connection){await this.open(as)}async disconnect(){await this.close()}on(as,us){this.events.on(as,us)}once(as,us){this.events.once(as,us)}off(as,us){this.events.off(as,us)}removeListener(as,us){this.events.removeListener(as,us)}async request(as,us){return this.requestStrict(formatJsonRpcRequest(as.method,as.params||[],as.id||getBigIntRpcId().toString()),us)}async requestStrict(as,us){return new Promise(async(cs,$a)=>{if(!this.connection.connected)try{await this.open()}catch(na){$a(na)}this.events.on(`${as.id}`,na=>{isJsonRpcError(na)?$a(na.error):cs(na.result)});try{await this.connection.send(as,us)}catch(na){$a(na)}})}setConnection(as=this.connection){return as}onPayload(as){this.events.emit("payload",as),isJsonRpcResponse(as)?this.events.emit(`${as.id}`,as):this.events.emit("message",{type:as.method,data:as.params})}onClose(as){as&&as.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${as.code} ${as.reason?`(${as.reason})`:""}`)),this.events.emit("disconnect")}async open(as=this.connection){this.connection===as&&this.connection.connected||(this.connection.connected&&this.close(),typeof as=="string"&&(await this.connection.open(as),as=this.connection),this.connection=this.setConnection(as),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",as=>this.onPayload(as)),this.connection.on("close",as=>this.onClose(as)),this.connection.on("error",as=>this.events.emit("error",as)),this.connection.on("register_error",as=>this.onClose()),this.hasRegisteredEventListeners=!0)}};var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),browser}const v$3=()=>typeof WebSocket<"u"?WebSocket:typeof global$1<"u"&&typeof global$1.WebSocket<"u"?global$1.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:requireBrowser(),w$2=()=>typeof WebSocket<"u"||typeof global$1<"u"&&typeof global$1.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",d=ss=>ss.split("?")[0],h$1=10,b$2=v$3();let f$2=class{constructor(as){if(this.url=as,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(as))throw new Error(`Provided URL is not compatible with WebSocket connection: ${as}`);this.url=as}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(as,us){this.events.on(as,us)}once(as,us){this.events.once(as,us)}off(as,us){this.events.off(as,us)}removeListener(as,us){this.events.removeListener(as,us)}async open(as=this.url){await this.register(as)}async close(){return new Promise((as,us)=>{if(typeof this.socket>"u"){us(new Error("Connection already closed"));return}this.socket.onclose=cs=>{this.onClose(cs),as()},this.socket.close()})}async send(as){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(as))}catch(us){this.onError(as.id,us)}}register(as=this.url){if(!isWsUrl(as))throw new Error(`Provided URL is not compatible with WebSocket connection: ${as}`);if(this.registering){const us=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=us||this.events.listenerCount("open")>=us)&&this.events.setMaxListeners(us+1),new Promise((cs,$a)=>{this.events.once("register_error",na=>{this.resetMaxListeners(),$a(na)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return $a(new Error("WebSocket connection is missing or invalid"));cs(this.socket)})})}return this.url=as,this.registering=!0,new Promise((us,cs)=>{const $a=cjs.isReactNative()?void 0:{rejectUnauthorized:!isLocalhostUrl(as)},na=new b$2(as,[],$a);w$2()?na.onerror=tu=>{const iu=tu;cs(this.emitError(iu.error))}:na.on("error",tu=>{cs(this.emitError(tu))}),na.onopen=()=>{this.onOpen(na),us(na)}})}onOpen(as){as.onmessage=us=>this.onPayload(us),as.onclose=us=>this.onClose(us),this.socket=as,this.registering=!1,this.events.emit("open")}onClose(as){this.socket=void 0,this.registering=!1,this.events.emit("close",as)}onPayload(as){if(typeof as.data>"u")return;const us=typeof as.data=="string"?safeJsonParse(as.data):as.data;this.events.emit("payload",us)}onError(as,us){const cs=this.parseError(us),$a=cs.message||cs.toString(),na=formatJsonRpcError(as,$a);this.events.emit("payload",na)}parseError(as,us=this.url){return parseConnectionError(as,d(us),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h$1&&this.events.setMaxListeners(h$1)}emitError(as){const us=this.parseError(new Error((as==null?void 0:as.message)||`WebSocket connection failed for host: ${d(this.url)}`));return this.events.emit("register_error",us),us}};var define_process_env_default={};const ze="wc",Le$1=2,he="core",B$1=`${ze}@2:${he}:`,Et$1={logger:"error"},It={database:":memory:"},Tt="crypto",ke$1="client_ed25519_seed",Ct=cjs$3.ONE_DAY,Pt="keychain",St$1="0.3",Rt="messages",Ot="0.3",je=cjs$3.SIX_HOURS,At="publisher",xt="irn",Nt="error",Ue$1="wss://relay.walletconnect.org",$t="relayer",C$1={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zt="_subscription",L$1={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Lt=.1,_e$1="2.19.2",Q$1={link_mode:"link_mode",relay:"relay"},le={inbound:"inbound",outbound:"outbound"},kt="0.3",jt="WALLETCONNECT_CLIENT_ID",Fe="WALLETCONNECT_LINK_MODE_APPS",$$1={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Ut="subscription",Ft="0.3",Mt="pairing",Kt="0.3",ie={wc_pairingDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0}}},se$1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},F$1={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Bt="history",Vt="0.3",qt="expirer",M={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Gt="0.3",Wt="verify-api",Xs="https://verify.walletconnect.com",Ht="https://verify.walletconnect.org",ue=Ht,Yt=`${ue}/v3`,Jt=[Xs,Ht],Xt="echo",Zt="https://echo.walletconnect.com",G={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Y$1={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Qs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},er={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},tr={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},ir={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Qt=.1,ei="event-client",ti=86400,ii="https://pulse.walletconnect.org/batch";function sr(ss,as){if(ss.length>=255)throw new TypeError("Alphabet too long");for(var us=new Uint8Array(256),cs=0;cs<us.length;cs++)us[cs]=255;for(var $a=0;$a<ss.length;$a++){var na=ss.charAt($a),tu=na.charCodeAt(0);if(us[tu]!==255)throw new TypeError(na+" is ambiguous");us[tu]=$a}var iu=ss.length,su=ss.charAt(0),au=Math.log(iu)/Math.log(256),ou=Math.log(256)/Math.log(iu);function fu(gu){if(gu instanceof Uint8Array||(ArrayBuffer.isView(gu)?gu=new Uint8Array(gu.buffer,gu.byteOffset,gu.byteLength):Array.isArray(gu)&&(gu=Uint8Array.from(gu))),!(gu instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(gu.length===0)return"";for(var bu=0,xu=0,$u=0,wu=gu.length;$u!==wu&&gu[$u]===0;)$u++,bu++;for(var _u=(wu-$u)*ou+1>>>0,Mu=new Uint8Array(_u);$u!==wu;){for(var Au=gu[$u],Pu=0,Su=_u-1;(Au!==0||Pu<xu)&&Su!==-1;Su--,Pu++)Au+=256*Mu[Su]>>>0,Mu[Su]=Au%iu>>>0,Au=Au/iu>>>0;if(Au!==0)throw new Error("Non-zero carry");xu=Pu,$u++}for(var Bu=_u-xu;Bu!==_u&&Mu[Bu]===0;)Bu++;for(var Ou=su.repeat(bu);Bu<_u;++Bu)Ou+=ss.charAt(Mu[Bu]);return Ou}function pu(gu){if(typeof gu!="string")throw new TypeError("Expected String");if(gu.length===0)return new Uint8Array;var bu=0;if(gu[bu]!==" "){for(var xu=0,$u=0;gu[bu]===su;)xu++,bu++;for(var wu=(gu.length-bu)*au+1>>>0,_u=new Uint8Array(wu);gu[bu];){var Mu=us[gu.charCodeAt(bu)];if(Mu===255)return;for(var Au=0,Pu=wu-1;(Mu!==0||Au<$u)&&Pu!==-1;Pu--,Au++)Mu+=iu*_u[Pu]>>>0,_u[Pu]=Mu%256>>>0,Mu=Mu/256>>>0;if(Mu!==0)throw new Error("Non-zero carry");$u=Au,bu++}if(gu[bu]!==" "){for(var Su=wu-$u;Su!==wu&&_u[Su]===0;)Su++;for(var Bu=new Uint8Array(xu+(wu-Su)),Ou=xu;Su!==wu;)Bu[Ou++]=_u[Su++];return Bu}}}function vu(gu){var bu=pu(gu);if(bu)return bu;throw new Error(`Non-${as} character`)}return{encode:fu,decodeUnsafe:pu,decode:vu}}var rr=sr,nr=rr;const si=ss=>{if(ss instanceof Uint8Array&&ss.constructor.name==="Uint8Array")return ss;if(ss instanceof ArrayBuffer)return new Uint8Array(ss);if(ArrayBuffer.isView(ss))return new Uint8Array(ss.buffer,ss.byteOffset,ss.byteLength);throw new Error("Unknown type, must be binary type")},or=ss=>new TextEncoder().encode(ss),ar=ss=>new TextDecoder().decode(ss);class cr{constructor(as,us,cs){this.name=as,this.prefix=us,this.baseEncode=cs}encode(as){if(as instanceof Uint8Array)return`${this.prefix}${this.baseEncode(as)}`;throw Error("Unknown type, must be binary type")}}class hr{constructor(as,us,cs){if(this.name=as,this.prefix=us,us.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=us.codePointAt(0),this.baseDecode=cs}decode(as){if(typeof as=="string"){if(as.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(as)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(as.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(as){return ri(this,as)}}class lr{constructor(as){this.decoders=as}or(as){return ri(this,as)}decode(as){const us=as[0],cs=this.decoders[us];if(cs)return cs.decode(as);throw RangeError(`Unable to decode multibase string ${JSON.stringify(as)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ri=(ss,as)=>new lr({...ss.decoders||{[ss.prefix]:ss},...as.decoders||{[as.prefix]:as}});class ur{constructor(as,us,cs,$a){this.name=as,this.prefix=us,this.baseEncode=cs,this.baseDecode=$a,this.encoder=new cr(as,us,cs),this.decoder=new hr(as,us,$a)}encode(as){return this.encoder.encode(as)}decode(as){return this.decoder.decode(as)}}const Ee$1=({name:ss,prefix:as,encode:us,decode:cs})=>new ur(ss,as,us,cs),de=({prefix:ss,name:as,alphabet:us})=>{const{encode:cs,decode:$a}=nr(us,as);return Ee$1({prefix:ss,name:as,encode:cs,decode:na=>si($a(na))})},dr=(ss,as,us,cs)=>{const $a={};for(let ou=0;ou<as.length;++ou)$a[as[ou]]=ou;let na=ss.length;for(;ss[na-1]==="=";)--na;const tu=new Uint8Array(na*us/8|0);let iu=0,su=0,au=0;for(let ou=0;ou<na;++ou){const fu=$a[ss[ou]];if(fu===void 0)throw new SyntaxError(`Non-${cs} character`);su=su<<us|fu,iu+=us,iu>=8&&(iu-=8,tu[au++]=255&su>>iu)}if(iu>=us||255&su<<8-iu)throw new SyntaxError("Unexpected end of data");return tu},gr=(ss,as,us)=>{const cs=as[as.length-1]==="=",$a=(1<<us)-1;let na="",tu=0,iu=0;for(let su=0;su<ss.length;++su)for(iu=iu<<8|ss[su],tu+=8;tu>us;)tu-=us,na+=as[$a&iu>>tu];if(tu&&(na+=as[$a&iu<<us-tu]),cs)for(;na.length*us&7;)na+="=";return na},P=({name:ss,prefix:as,bitsPerChar:us,alphabet:cs})=>Ee$1({prefix:as,name:ss,encode($a){return gr($a,cs,us)},decode($a){return dr($a,cs,us,ss)}}),pr=Ee$1({prefix:"\0",name:"identity",encode:ss=>ar(ss),decode:ss=>or(ss)});var yr=Object.freeze({__proto__:null,identity:pr});const br=P({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var mr=Object.freeze({__proto__:null,base2:br});const fr=P({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Dr=Object.freeze({__proto__:null,base8:fr});const vr=de({prefix:"9",name:"base10",alphabet:"0123456789"});var wr=Object.freeze({__proto__:null,base10:vr});const _r=P({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Er=P({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ir=Object.freeze({__proto__:null,base16:_r,base16upper:Er});const Tr=P({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cr=P({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pr=P({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sr=P({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Rr=P({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Or=P({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ar=P({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xr=P({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nr=P({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var $r=Object.freeze({__proto__:null,base32:Tr,base32upper:Cr,base32pad:Pr,base32padupper:Sr,base32hex:Rr,base32hexupper:Or,base32hexpad:Ar,base32hexpadupper:xr,base32z:Nr});const zr=de({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Lr=de({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kr=Object.freeze({__proto__:null,base36:zr,base36upper:Lr});const jr=de({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ur=de({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Fr=Object.freeze({__proto__:null,base58btc:jr,base58flickr:Ur});const Mr=P({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Kr=P({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Br=P({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Vr=P({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qr=Object.freeze({__proto__:null,base64:Mr,base64pad:Kr,base64url:Br,base64urlpad:Vr});const ni=Array.from(""),Gr=ni.reduce((ss,as,us)=>(ss[us]=as,ss),[]),Wr=ni.reduce((ss,as,us)=>(ss[as.codePointAt(0)]=us,ss),[]);function Hr(ss){return ss.reduce((as,us)=>(as+=Gr[us],as),"")}function Yr(ss){const as=[];for(const us of ss){const cs=Wr[us.codePointAt(0)];if(cs===void 0)throw new Error(`Non-base256emoji character: ${us}`);as.push(cs)}return new Uint8Array(as)}const Jr=Ee$1({prefix:"",name:"base256emoji",encode:Hr,decode:Yr});var Xr=Object.freeze({__proto__:null,base256emoji:Jr}),Zr=ai,oi=128,en=-128,tn=Math.pow(2,31);function ai(ss,as,us){as=as||[],us=us||0;for(var cs=us;ss>=tn;)as[us++]=ss&255|oi,ss/=128;for(;ss&en;)as[us++]=ss&255|oi,ss>>>=7;return as[us]=ss|0,ai.bytes=us-cs+1,as}var sn=Me$1,rn=128,ci=127;function Me$1(ss,cs){var us=0,cs=cs||0,$a=0,na=cs,tu,iu=ss.length;do{if(na>=iu)throw Me$1.bytes=0,new RangeError("Could not decode varint");tu=ss[na++],us+=$a<28?(tu&ci)<<$a:(tu&ci)*Math.pow(2,$a),$a+=7}while(tu>=rn);return Me$1.bytes=na-cs,us}var nn=Math.pow(2,7),on=Math.pow(2,14),an=Math.pow(2,21),cn=Math.pow(2,28),hn=Math.pow(2,35),ln=Math.pow(2,42),un=Math.pow(2,49),dn=Math.pow(2,56),gn=Math.pow(2,63),pn=function(ss){return ss<nn?1:ss<on?2:ss<an?3:ss<cn?4:ss<hn?5:ss<ln?6:ss<un?7:ss<dn?8:ss<gn?9:10},yn={encode:Zr,decode:sn,encodingLength:pn},hi=yn;const li=(ss,as,us=0)=>(hi.encode(ss,as,us),as),ui=ss=>hi.encodingLength(ss),Ke$1=(ss,as)=>{const us=as.byteLength,cs=ui(ss),$a=cs+ui(us),na=new Uint8Array($a+us);return li(ss,na,0),li(us,na,cs),na.set(as,$a),new bn(ss,us,as,na)};class bn{constructor(as,us,cs,$a){this.code=as,this.size=us,this.digest=cs,this.bytes=$a}}const di=({name:ss,code:as,encode:us})=>new mn(ss,as,us);class mn{constructor(as,us,cs){this.name=as,this.code=us,this.encode=cs}digest(as){if(as instanceof Uint8Array){const us=this.encode(as);return us instanceof Uint8Array?Ke$1(this.code,us):us.then(cs=>Ke$1(this.code,cs))}else throw Error("Unknown type, must be binary type")}}const gi=ss=>async as=>new Uint8Array(await crypto.subtle.digest(ss,as)),fn=di({name:"sha2-256",code:18,encode:gi("SHA-256")}),Dn=di({name:"sha2-512",code:19,encode:gi("SHA-512")});var vn=Object.freeze({__proto__:null,sha256:fn,sha512:Dn});const pi=0,wn="identity",yi=si,_n=ss=>Ke$1(pi,yi(ss)),En={code:pi,name:wn,encode:yi,digest:_n};var In=Object.freeze({__proto__:null,identity:En});new TextEncoder,new TextDecoder;const bi={...yr,...mr,...Dr,...wr,...Ir,...$r,...kr,...Fr,...qr,...Xr};({...vn,...In});function Tn(ss=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(ss):new Uint8Array(ss)}function mi(ss,as,us,cs){return{name:ss,prefix:as,encoder:{name:ss,prefix:as,encode:us},decoder:{decode:cs}}}const fi=mi("utf8","u",ss=>"u"+new TextDecoder("utf8").decode(ss),ss=>new TextEncoder().encode(ss.substring(1))),Be=mi("ascii","a",ss=>{let as="a";for(let us=0;us<ss.length;us++)as+=String.fromCharCode(ss[us]);return as},ss=>{ss=ss.substring(1);const as=Tn(ss.length);for(let us=0;us<ss.length;us++)as[us]=ss.charCodeAt(us);return as}),Cn={utf8:fi,"utf-8":fi,hex:bi.base16,latin1:Be,ascii:Be,binary:Be,...bi};function Pn(ss,as="utf8"){const us=Cn[as];if(!us)throw new Error(`Unsupported encoding "${as}"`);return(as==="utf8"||as==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(ss,"utf8"):us.decoder.decode(`${us.prefix}${ss}`)}var Sn=Object.defineProperty,Rn=(ss,as,us)=>as in ss?Sn(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,W$1=(ss,as,us)=>Rn(ss,typeof as!="symbol"?as+"":as,us);class Di{constructor(as,us){this.core=as,this.logger=us,W$1(this,"keychain",new Map),W$1(this,"name",Pt),W$1(this,"version",St$1),W$1(this,"initialized",!1),W$1(this,"storagePrefix",B$1),W$1(this,"init",async()=>{if(!this.initialized){const cs=await this.getKeyChain();typeof cs<"u"&&(this.keychain=cs),this.initialized=!0}}),W$1(this,"has",cs=>(this.isInitialized(),this.keychain.has(cs))),W$1(this,"set",async(cs,$a)=>{this.isInitialized(),this.keychain.set(cs,$a),await this.persist()}),W$1(this,"get",cs=>{this.isInitialized();const $a=this.keychain.get(cs);if(typeof $a>"u"){const{message:na}=ht$1("NO_MATCHING_KEY",`${this.name}: ${cs}`);throw new Error(na)}return $a}),W$1(this,"del",async cs=>{this.isInitialized(),this.keychain.delete(cs),await this.persist()}),this.core=as,this.logger=E$3(us,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(as){await this.core.storage.setItem(this.storageKey,fi$1(as))}async getKeyChain(){const as=await this.core.storage.getItem(this.storageKey);return typeof as<"u"?li$1(as):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}}var On=Object.defineProperty,An=(ss,as,us)=>as in ss?On(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,S$1=(ss,as,us)=>An(ss,typeof as!="symbol"?as+"":as,us);class vi{constructor(as,us,cs){this.core=as,this.logger=us,S$1(this,"name",Tt),S$1(this,"keychain"),S$1(this,"randomSessionIdentifier",jc()),S$1(this,"initialized",!1),S$1(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),S$1(this,"hasKeys",$a=>(this.isInitialized(),this.keychain.has($a))),S$1(this,"getClientId",async()=>{this.isInitialized();const $a=await this.getClientSeed(),na=Po$1($a);return Qe$2(na.publicKey)}),S$1(this,"generateKeyPair",()=>{this.isInitialized();const $a=Lc();return this.setPrivateKey($a.publicKey,$a.privateKey)}),S$1(this,"signJWT",async $a=>{this.isInitialized();const na=await this.getClientSeed(),tu=Po$1(na),iu=this.randomSessionIdentifier;return await Qo(iu,$a,Ct,tu)}),S$1(this,"generateSharedKey",($a,na,tu)=>{this.isInitialized();const iu=this.getPrivateKey($a),su=Cc(iu,na);return this.setSymKey(su,tu)}),S$1(this,"setSymKey",async($a,na)=>{this.isInitialized();const tu=na||Pc($a);return await this.keychain.set(tu,$a),tu}),S$1(this,"deleteKeyPair",async $a=>{this.isInitialized(),await this.keychain.del($a)}),S$1(this,"deleteSymKey",async $a=>{this.isInitialized(),await this.keychain.del($a)}),S$1(this,"encode",async($a,na,tu)=>{this.isInitialized();const iu=oo$1(tu),su=safeJsonStringify(na);if(Fc(iu))return Dc(su,tu==null?void 0:tu.encoding);if(Kc(iu)){const pu=iu.senderPublicKey,vu=iu.receiverPublicKey;$a=await this.generateSharedKey(pu,vu)}const au=this.getSymKey($a),{type:ou,senderPublicKey:fu}=iu;return Vc({type:ou,symKey:au,message:su,senderPublicKey:fu,encoding:tu==null?void 0:tu.encoding})}),S$1(this,"decode",async($a,na,tu)=>{this.isInitialized();const iu=qc(na,tu);if(Fc(iu)){const su=Hc(na,tu==null?void 0:tu.encoding);return safeJsonParse(su)}if(Kc(iu)){const su=iu.receiverPublicKey,au=iu.senderPublicKey;$a=await this.generateSharedKey(su,au)}try{const su=this.getSymKey($a),au=Mc({symKey:su,encoded:na,encoding:tu==null?void 0:tu.encoding});return safeJsonParse(au)}catch(su){this.logger.error(`Failed to decode message from topic: '${$a}', clientId: '${await this.getClientId()}'`),this.logger.error(su)}}),S$1(this,"getPayloadType",($a,na=Ht$1)=>{const tu=ve({encoded:$a,encoding:na});return Bt$1(tu.type)}),S$1(this,"getPayloadSenderPublicKey",($a,na=Ht$1)=>{const tu=ve({encoded:$a,encoding:na});return tu.senderPublicKey?toString(tu.senderPublicKey,G$1):void 0}),this.core=as,this.logger=E$3(us,this.name),this.keychain=cs||new Di(this.core,this.logger)}get context(){return y$3(this.logger)}async setPrivateKey(as,us){return await this.keychain.set(as,us),as}getPrivateKey(as){return this.keychain.get(as)}async getClientSeed(){let as="";try{as=this.keychain.get(ke$1)}catch{as=jc(),await this.keychain.set(ke$1,as)}return Pn(as,"base16")}getSymKey(as){return this.keychain.get(as)}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}}var xn=Object.defineProperty,Nn=Object.defineProperties,$n=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,Ve=(ss,as,us)=>as in ss?xn(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,kn=(ss,as)=>{for(var us in as||(as={}))zn.call(as,us)&&Ve(ss,us,as[us]);if(wi)for(var us of wi(as))Ln.call(as,us)&&Ve(ss,us,as[us]);return ss},jn=(ss,as)=>Nn(ss,$n(as)),k$1=(ss,as,us)=>Ve(ss,typeof as!="symbol"?as+"":as,us);class _i extends y$2{constructor(as,us){super(as,us),this.logger=as,this.core=us,k$1(this,"messages",new Map),k$1(this,"messagesWithoutClientAck",new Map),k$1(this,"name",Rt),k$1(this,"version",Ot),k$1(this,"initialized",!1),k$1(this,"storagePrefix",B$1),k$1(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const cs=await this.getRelayerMessages();typeof cs<"u"&&(this.messages=cs);const $a=await this.getRelayerMessagesWithoutClientAck();typeof $a<"u"&&(this.messagesWithoutClientAck=$a),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(cs){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(cs)}finally{this.initialized=!0}}}),k$1(this,"set",async(cs,$a,na)=>{this.isInitialized();const tu=kc($a);let iu=this.messages.get(cs);if(typeof iu>"u"&&(iu={}),typeof iu[tu]<"u")return tu;if(iu[tu]=$a,this.messages.set(cs,iu),na===le.inbound){const su=this.messagesWithoutClientAck.get(cs)||{};this.messagesWithoutClientAck.set(cs,jn(kn({},su),{[tu]:$a}))}return await this.persist(),tu}),k$1(this,"get",cs=>{this.isInitialized();let $a=this.messages.get(cs);return typeof $a>"u"&&($a={}),$a}),k$1(this,"getWithoutAck",cs=>{this.isInitialized();const $a={};for(const na of cs){const tu=this.messagesWithoutClientAck.get(na)||{};$a[na]=Object.values(tu)}return $a}),k$1(this,"has",(cs,$a)=>{this.isInitialized();const na=this.get(cs),tu=kc($a);return typeof na[tu]<"u"}),k$1(this,"ack",async(cs,$a)=>{this.isInitialized();const na=this.messagesWithoutClientAck.get(cs);if(typeof na>"u")return;const tu=kc($a);delete na[tu],Object.keys(na).length===0?this.messagesWithoutClientAck.delete(cs):this.messagesWithoutClientAck.set(cs,na),await this.persist()}),k$1(this,"del",async cs=>{this.isInitialized(),this.messages.delete(cs),this.messagesWithoutClientAck.delete(cs),await this.persist()}),this.logger=E$3(as,this.name),this.core=us}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(as){await this.core.storage.setItem(this.storageKey,fi$1(as))}async setRelayerMessagesWithoutClientAck(as){await this.core.storage.setItem(this.storageKeyWithoutClientAck,fi$1(as))}async getRelayerMessages(){const as=await this.core.storage.getItem(this.storageKey);return typeof as<"u"?li$1(as):void 0}async getRelayerMessagesWithoutClientAck(){const as=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof as<"u"?li$1(as):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}}var Un=Object.defineProperty,Fn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,qe=(ss,as,us)=>as in ss?Un(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,Ie=(ss,as)=>{for(var us in as||(as={}))Kn.call(as,us)&&qe(ss,us,as[us]);if(Ei)for(var us of Ei(as))Bn.call(as,us)&&qe(ss,us,as[us]);return ss},Ge$1=(ss,as)=>Fn(ss,Mn(as)),V$1=(ss,as,us)=>qe(ss,typeof as!="symbol"?as+"":as,us);class Vn extends m{constructor(as,us){super(as,us),this.relayer=as,this.logger=us,V$1(this,"events",new eventsExports.EventEmitter),V$1(this,"name",At),V$1(this,"queue",new Map),V$1(this,"publishTimeout",cjs$3.toMiliseconds(cjs$3.ONE_MINUTE)),V$1(this,"initialPublishTimeout",cjs$3.toMiliseconds(cjs$3.ONE_SECOND*15)),V$1(this,"needsTransportRestart",!1),V$1(this,"publish",async(cs,$a,na)=>{var tu;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:cs,message:$a,opts:na}});const iu=(na==null?void 0:na.ttl)||je,su=Zc(na),au=(na==null?void 0:na.prompt)||!1,ou=(na==null?void 0:na.tag)||0,fu=(na==null?void 0:na.id)||getBigIntRpcId().toString(),pu={topic:cs,message:$a,opts:{ttl:iu,relay:su,prompt:au,tag:ou,id:fu,attestation:na==null?void 0:na.attestation,tvf:na==null?void 0:na.tvf}},vu=`Failed to publish payload, please try again. id:${fu} tag:${ou}`;try{const gu=new Promise(async bu=>{const xu=({id:wu})=>{pu.opts.id===wu&&(this.removeRequestFromQueue(wu),this.relayer.events.removeListener(C$1.publish,xu),bu(pu))};this.relayer.events.on(C$1.publish,xu);const $u=yi$1(new Promise((wu,_u)=>{this.rpcPublish({topic:cs,message:$a,ttl:iu,prompt:au,tag:ou,id:fu,attestation:na==null?void 0:na.attestation,tvf:na==null?void 0:na.tvf}).then(wu).catch(Mu=>{this.logger.warn(Mu,Mu==null?void 0:Mu.message),_u(Mu)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${fu} tag:${ou}`);try{await $u,this.events.removeListener(C$1.publish,xu)}catch(wu){this.queue.set(fu,Ge$1(Ie({},pu),{attempt:1})),this.logger.warn(wu,wu==null?void 0:wu.message)}});this.logger.trace({type:"method",method:"publish",params:{id:fu,topic:cs,message:$a,opts:na}}),await yi$1(gu,this.publishTimeout,vu)}catch(gu){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(gu),(tu=na==null?void 0:na.internal)!=null&&tu.throwOnFailedPublish)throw gu}finally{this.queue.delete(fu)}}),V$1(this,"on",(cs,$a)=>{this.events.on(cs,$a)}),V$1(this,"once",(cs,$a)=>{this.events.once(cs,$a)}),V$1(this,"off",(cs,$a)=>{this.events.off(cs,$a)}),V$1(this,"removeListener",(cs,$a)=>{this.events.removeListener(cs,$a)}),this.relayer=as,this.logger=E$3(us,this.name),this.registerEventListeners()}get context(){return y$3(this.logger)}async rpcPublish(as){var us,cs,$a,na;const{topic:tu,message:iu,ttl:su=je,prompt:au,tag:ou,id:fu,attestation:pu,tvf:vu}=as,gu={method:Yc(Zc().protocol).publish,params:Ie({topic:tu,message:iu,ttl:su,prompt:au,tag:ou,attestation:pu},vu),id:fu};Et$2((us=gu.params)==null?void 0:us.prompt)&&((cs=gu.params)==null||delete cs.prompt),Et$2(($a=gu.params)==null?void 0:$a.tag)&&((na=gu.params)==null||delete na.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:gu});const bu=await this.relayer.request(gu);return this.relayer.events.emit(C$1.publish,as),this.logger.debug("Successfully Published Payload"),bu}removeRequestFromQueue(as){this.queue.delete(as)}checkQueue(){this.queue.forEach(async(as,us)=>{const cs=as.attempt+1;this.queue.set(us,Ge$1(Ie({},as),{attempt:cs}));const{topic:$a,message:na,opts:tu,attestation:iu}=as;this.logger.warn({},`Publisher: queue->publishing: ${as.opts.id}, tag: ${as.opts.tag}, attempt: ${cs}`),await this.rpcPublish(Ge$1(Ie({},as),{topic:$a,message:na,ttl:tu.ttl,prompt:tu.prompt,tag:tu.tag,id:tu.id,attestation:iu,tvf:tu.tvf})),this.logger.warn({},`Publisher: queue->published: ${as.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(r$1.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C$1.connection_stalled);return}this.checkQueue()}),this.relayer.on(C$1.message_ack,as=>{this.removeRequestFromQueue(as.id.toString())})}}var qn=Object.defineProperty,Gn=(ss,as,us)=>as in ss?qn(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,re=(ss,as,us)=>Gn(ss,typeof as!="symbol"?as+"":as,us);class Wn{constructor(){re(this,"map",new Map),re(this,"set",(as,us)=>{const cs=this.get(as);this.exists(as,us)||this.map.set(as,[...cs,us])}),re(this,"get",as=>this.map.get(as)||[]),re(this,"exists",(as,us)=>this.get(as).includes(us)),re(this,"delete",(as,us)=>{if(typeof us>"u"){this.map.delete(as);return}if(!this.map.has(as))return;const cs=this.get(as);if(!this.exists(as,us))return;const $a=cs.filter(na=>na!==us);if(!$a.length){this.map.delete(as);return}this.map.set(as,$a)}),re(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Hn=Object.defineProperty,Yn=Object.defineProperties,Jn=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,We=(ss,as,us)=>as in ss?Hn(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,ge=(ss,as)=>{for(var us in as||(as={}))Xn.call(as,us)&&We(ss,us,as[us]);if(Ii)for(var us of Ii(as))Zn.call(as,us)&&We(ss,us,as[us]);return ss},He=(ss,as)=>Yn(ss,Jn(as)),f$1=(ss,as,us)=>We(ss,typeof as!="symbol"?as+"":as,us);class Ti extends P$2{constructor(as,us){super(as,us),this.relayer=as,this.logger=us,f$1(this,"subscriptions",new Map),f$1(this,"topicMap",new Wn),f$1(this,"events",new eventsExports.EventEmitter),f$1(this,"name",Ut),f$1(this,"version",Ft),f$1(this,"pending",new Map),f$1(this,"cached",[]),f$1(this,"initialized",!1),f$1(this,"storagePrefix",B$1),f$1(this,"subscribeTimeout",cjs$3.toMiliseconds(cjs$3.ONE_MINUTE)),f$1(this,"initialSubscribeTimeout",cjs$3.toMiliseconds(cjs$3.ONE_SECOND*15)),f$1(this,"clientId"),f$1(this,"batchSubscribeTopicsLimit",500),f$1(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f$1(this,"subscribe",async(cs,$a)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:cs,opts:$a}});try{const na=Zc($a),tu={topic:cs,relay:na,transportType:$a==null?void 0:$a.transportType};this.pending.set(cs,tu);const iu=await this.rpcSubscribe(cs,na,$a);return typeof iu=="string"&&(this.onSubscribe(iu,tu),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:cs,opts:$a}})),iu}catch(na){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(na),na}}),f$1(this,"unsubscribe",async(cs,$a)=>{this.isInitialized(),typeof($a==null?void 0:$a.id)<"u"?await this.unsubscribeById(cs,$a.id,$a):await this.unsubscribeByTopic(cs,$a)}),f$1(this,"isSubscribed",cs=>new Promise($a=>{$a(this.topicMap.topics.includes(cs))})),f$1(this,"isKnownTopic",cs=>new Promise($a=>{$a(this.topicMap.topics.includes(cs)||this.pending.has(cs)||this.cached.some(na=>na.topic===cs))})),f$1(this,"on",(cs,$a)=>{this.events.on(cs,$a)}),f$1(this,"once",(cs,$a)=>{this.events.once(cs,$a)}),f$1(this,"off",(cs,$a)=>{this.events.off(cs,$a)}),f$1(this,"removeListener",(cs,$a)=>{this.events.removeListener(cs,$a)}),f$1(this,"start",async()=>{await this.onConnect()}),f$1(this,"stop",async()=>{await this.onDisconnect()}),f$1(this,"restart",async()=>{await this.restore(),await this.onRestart()}),f$1(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const cs=[];this.pending.forEach($a=>{cs.push($a)}),await this.batchSubscribe(cs)}),f$1(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(r$1.pulse,async()=>{await this.checkPending()}),this.events.on($$1.created,async cs=>{const $a=$$1.created;this.logger.info(`Emitting ${$a}`),this.logger.debug({type:"event",event:$a,data:cs}),await this.persist()}),this.events.on($$1.deleted,async cs=>{const $a=$$1.deleted;this.logger.info(`Emitting ${$a}`),this.logger.debug({type:"event",event:$a,data:cs}),await this.persist()})}),this.relayer=as,this.logger=E$3(us,this.name),this.clientId=""}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(as,us){let cs=!1;try{cs=this.getSubscription(as).topic===us}catch{}return cs}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(as,us){const cs=this.topicMap.get(as);await Promise.all(cs.map(async $a=>await this.unsubscribeById(as,$a,us)))}async unsubscribeById(as,us,cs){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:as,id:us,opts:cs}});try{const $a=Zc(cs);await this.restartToComplete({topic:as,id:us,relay:$a}),await this.rpcUnsubscribe(as,us,$a);const na=Nt$1("USER_DISCONNECTED",`${this.name}, ${as}`);await this.onUnsubscribe(as,us,na),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:as,id:us,opts:cs}})}catch($a){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error($a),$a}}async rpcSubscribe(as,us,cs){var $a;(!cs||(cs==null?void 0:cs.transportType)===Q$1.relay)&&await this.restartToComplete({topic:as,id:as,relay:us});const na={method:Yc(us.protocol).subscribe,params:{topic:as}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:na});const tu=($a=cs==null?void 0:cs.internal)==null?void 0:$a.throwOnFailedPublish;try{const iu=await this.getSubscriptionId(as);if((cs==null?void 0:cs.transportType)===Q$1.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(na).catch(ou=>this.logger.warn(ou))},cjs$3.toMiliseconds(cjs$3.ONE_SECOND)),iu;const su=new Promise(async ou=>{const fu=pu=>{pu.topic===as&&(this.events.removeListener($$1.created,fu),ou(pu.id))};this.events.on($$1.created,fu);try{const pu=await yi$1(new Promise((vu,gu)=>{this.relayer.request(na).catch(bu=>{this.logger.warn(bu,bu==null?void 0:bu.message),gu(bu)}).then(vu)}),this.initialSubscribeTimeout,`Subscribing to ${as} failed, please try again`);this.events.removeListener($$1.created,fu),ou(pu)}catch{}}),au=await yi$1(su,this.subscribeTimeout,`Subscribing to ${as} failed, please try again`);if(!au&&tu)throw new Error(`Subscribing to ${as} failed, please try again`);return au?iu:null}catch(iu){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(C$1.connection_stalled),tu)throw iu}return null}async rpcBatchSubscribe(as){if(!as.length)return;const us=as[0].relay,cs={method:Yc(us.protocol).batchSubscribe,params:{topics:as.map($a=>$a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:cs});try{await await yi$1(new Promise($a=>{this.relayer.request(cs).catch(na=>this.logger.warn(na)).then($a)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(C$1.connection_stalled)}}async rpcBatchFetchMessages(as){if(!as.length)return;const us=as[0].relay,cs={method:Yc(us.protocol).batchFetchMessages,params:{topics:as.map(na=>na.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:cs});let $a;try{$a=await await yi$1(new Promise((na,tu)=>{this.relayer.request(cs).catch(iu=>{this.logger.warn(iu),tu(iu)}).then(na)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(C$1.connection_stalled)}return $a}rpcUnsubscribe(as,us,cs){const $a={method:Yc(cs.protocol).unsubscribe,params:{topic:as,id:us}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:$a}),this.relayer.request($a)}onSubscribe(as,us){this.setSubscription(as,He(ge({},us),{id:as})),this.pending.delete(us.topic)}onBatchSubscribe(as){as.length&&as.forEach(us=>{this.setSubscription(us.id,ge({},us)),this.pending.delete(us.topic)})}async onUnsubscribe(as,us,cs){this.events.removeAllListeners(us),this.hasSubscription(us,as)&&this.deleteSubscription(us,cs),await this.relayer.messages.del(as)}async setRelayerSubscriptions(as){await this.relayer.core.storage.setItem(this.storageKey,as)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(as,us){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:as,subscription:us}),this.addSubscription(as,us)}addSubscription(as,us){this.subscriptions.set(as,ge({},us)),this.topicMap.set(us.topic,as),this.events.emit($$1.created,us)}getSubscription(as){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:as});const us=this.subscriptions.get(as);if(!us){const{message:cs}=ht$1("NO_MATCHING_KEY",`${this.name}: ${as}`);throw new Error(cs)}return us}deleteSubscription(as,us){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:as,reason:us});const cs=this.getSubscription(as);this.subscriptions.delete(as),this.topicMap.delete(cs.topic,as),this.events.emit($$1.deleted,He(ge({},cs),{reason:us}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($$1.sync)}async onRestart(){if(this.cached.length){const as=[...this.cached],us=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let cs=0;cs<us;cs++){const $a=as.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe($a)}}this.events.emit($$1.resubscribed)}async restore(){try{const as=await this.getRelayerSubscriptions();if(typeof as>"u"||!as.length)return;if(this.subscriptions.size){const{message:us}=ht$1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(us),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(us)}this.cached=as,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(as){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(as)}}async batchSubscribe(as){as.length&&(await this.rpcBatchSubscribe(as),this.onBatchSubscribe(await Promise.all(as.map(async us=>He(ge({},us),{id:await this.getSubscriptionId(us.topic)})))))}async batchFetchMessages(as){if(!as.length)return;this.logger.trace(`Fetching batch messages for ${as.length} subscriptions`);const us=await this.rpcBatchFetchMessages(as);us&&us.messages&&(await Ni$1(cjs$3.toMiliseconds(cjs$3.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(us.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}async restartToComplete(as){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(as),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(as){return kc(as+await this.getClientId())}}var Qn=Object.defineProperty,Ci=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,Ye=(ss,as,us)=>as in ss?Qn(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,Pi=(ss,as)=>{for(var us in as||(as={}))eo.call(as,us)&&Ye(ss,us,as[us]);if(Ci)for(var us of Ci(as))to.call(as,us)&&Ye(ss,us,as[us]);return ss},y$1=(ss,as,us)=>Ye(ss,typeof as!="symbol"?as+"":as,us);class Si extends d$1{constructor(as){super(as),y$1(this,"protocol","wc"),y$1(this,"version",2),y$1(this,"core"),y$1(this,"logger"),y$1(this,"events",new eventsExports.EventEmitter),y$1(this,"provider"),y$1(this,"messages"),y$1(this,"subscriber"),y$1(this,"publisher"),y$1(this,"name",$t),y$1(this,"transportExplicitlyClosed",!1),y$1(this,"initialized",!1),y$1(this,"connectionAttemptInProgress",!1),y$1(this,"relayUrl"),y$1(this,"projectId"),y$1(this,"packageName"),y$1(this,"bundleId"),y$1(this,"hasExperiencedNetworkDisruption",!1),y$1(this,"pingTimeout"),y$1(this,"heartBeatTimeout",cjs$3.toMiliseconds(cjs$3.THIRTY_SECONDS+cjs$3.FIVE_SECONDS)),y$1(this,"reconnectTimeout"),y$1(this,"connectPromise"),y$1(this,"reconnectInProgress",!1),y$1(this,"requestsInFlight",[]),y$1(this,"connectTimeout",cjs$3.toMiliseconds(cjs$3.ONE_SECOND*15)),y$1(this,"request",async us=>{var cs,$a;this.logger.debug("Publishing Request Payload");const na=us.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{this.logger.trace({id:na,method:us.method,topic:(cs=us.params)==null?void 0:cs.topic},"relayer.request - publishing...");const tu=`${na}:${(($a=us.params)==null?void 0:$a.tag)||""}`;this.requestsInFlight.push(tu);const iu=await this.provider.request(us);return this.requestsInFlight=this.requestsInFlight.filter(su=>su!==tu),iu}catch(tu){throw this.logger.debug(`Failed to Publish Request: ${na}`),tu}}),y$1(this,"resetPingTimeout",()=>{Re()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var us,cs,$a,na;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(na=($a=(cs=(us=this.provider)==null?void 0:us.connection)==null?void 0:cs.socket)==null?void 0:$a.terminate)==null||na.call($a)}catch(tu){this.logger.warn(tu,tu==null?void 0:tu.message)}},this.heartBeatTimeout))}),y$1(this,"onPayloadHandler",us=>{this.onProviderPayload(us),this.resetPingTimeout()}),y$1(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(C$1.connect)}),y$1(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),y$1(this,"onProviderErrorHandler",us=>{this.logger.fatal(`Fatal socket error: ${us.message}`),this.events.emit(C$1.error,us),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),y$1(this,"registerProviderListeners",()=>{this.provider.on(L$1.payload,this.onPayloadHandler),this.provider.on(L$1.connect,this.onConnectHandler),this.provider.on(L$1.disconnect,this.onDisconnectHandler),this.provider.on(L$1.error,this.onProviderErrorHandler)}),this.core=as.core,this.logger=typeof as.logger<"u"&&typeof as.logger!="string"?E$3(as.logger,this.name):Dg(k$4({level:as.logger||Nt})),this.messages=new _i(this.logger,as.core),this.subscriber=new Ti(this,this.logger),this.publisher=new Vn(this,this.logger),this.relayUrl=(as==null?void 0:as.relayUrl)||Ue$1,this.projectId=as.projectId,ei$1()?this.packageName=ri$1():ni$1()&&(this.bundleId=ri$1()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(as){this.logger.warn(as,as==null?void 0:as.message)}}get context(){return y$3(this.logger)}get connected(){var as,us,cs;return((cs=(us=(as=this.provider)==null?void 0:as.connection)==null?void 0:us.socket)==null?void 0:cs.readyState)===1||!1}get connecting(){var as,us,cs;return((cs=(us=(as=this.provider)==null?void 0:as.connection)==null?void 0:us.socket)==null?void 0:cs.readyState)===0||this.connectPromise!==void 0||!1}async publish(as,us,cs){this.isInitialized(),await this.publisher.publish(as,us,cs),await this.recordMessageEvent({topic:as,message:us,publishedAt:Date.now(),transportType:Q$1.relay},le.outbound)}async subscribe(as,us){var cs,$a,na;this.isInitialized(),(!(us!=null&&us.transportType)||(us==null?void 0:us.transportType)==="relay")&&await this.toEstablishConnection();const tu=typeof((cs=us==null?void 0:us.internal)==null?void 0:cs.throwOnFailedPublish)>"u"?!0:($a=us==null?void 0:us.internal)==null?void 0:$a.throwOnFailedPublish;let iu=((na=this.subscriber.topicMap.get(as))==null?void 0:na[0])||"",su;const au=ou=>{ou.topic===as&&(this.subscriber.off($$1.created,au),su())};return await Promise.all([new Promise(ou=>{su=ou,this.subscriber.on($$1.created,au)}),new Promise(async(ou,fu)=>{iu=await this.subscriber.subscribe(as,Pi({internal:{throwOnFailedPublish:tu}},us)).catch(pu=>{tu&&fu(pu)})||iu,ou()})]),iu}async unsubscribe(as,us){this.isInitialized(),await this.subscriber.unsubscribe(as,us)}on(as,us){this.events.on(as,us)}once(as,us){this.events.once(as,us)}off(as,us){this.events.off(as,us)}removeListener(as,us){this.events.removeListener(as,us)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await yi$1(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(as){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(us,cs)=>{await this.connect(as).then(us).catch(cs).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(as){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=as||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Ia())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(as){if((as==null?void 0:as.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const us=as.sort((cs,$a)=>cs.publishedAt-$a.publishedAt);this.logger.debug(`Batch of ${us.length} message events sorted`);for(const cs of us)try{await this.onMessageEvent(cs)}catch($a){this.logger.warn($a,"Error while processing batch message event: "+($a==null?void 0:$a.message))}this.logger.trace(`Batch of ${us.length} message events processed`)}async onLinkMessageEvent(as,us){const{topic:cs}=as;if(!us.sessionExists){const $a=Ei$1(cjs$3.FIVE_MINUTES),na={topic:cs,expiry:$a,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(cs,na)}this.events.emit(C$1.message,as),await this.recordMessageEvent(as,le.inbound)}async connect(as){await this.confirmOnlineStateOrThrow(),as&&as!==this.relayUrl&&(this.relayUrl=as,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let us=1;for(;us<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${us}...`),await this.createProvider(),await new Promise(async(cs,$a)=>{const na=()=>{$a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(L$1.disconnect,na),await yi$1(new Promise((tu,iu)=>{this.provider.connect().then(tu).catch(iu)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(tu=>{$a(tu)}).finally(()=>{this.provider.off(L$1.disconnect,na),clearTimeout(this.reconnectTimeout)}),await new Promise(async(tu,iu)=>{const su=()=>{iu(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(L$1.disconnect,su),await this.subscriber.start().then(tu).catch(iu).finally(()=>{this.provider.off(L$1.disconnect,su)})}),this.hasExperiencedNetworkDisruption=!1,cs()})}catch(cs){await this.subscriber.stop();const $a=cs;this.logger.warn({},$a.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${us}`);break}await new Promise(cs=>setTimeout(cs,cjs$3.toMiliseconds(us*1))),us++}}startPingTimeout(){var as,us,cs,$a,na;if(Re())try{(us=(as=this.provider)==null?void 0:as.connection)!=null&&us.socket&&((na=($a=(cs=this.provider)==null?void 0:cs.connection)==null?void 0:$a.socket)==null||na.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(tu){this.logger.warn(tu,tu==null?void 0:tu.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const as=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$1(new f$2(si$1({sdkVersion:_e$1,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:as,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(as,us){const{topic:cs,message:$a}=as;await this.messages.set(cs,$a,us)}async shouldIgnoreMessageEvent(as){const{topic:us,message:cs}=as;if(!cs||cs.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${cs}`),!0;if(!await this.subscriber.isKnownTopic(us))return this.logger.warn(`Ignoring message for unknown topic ${us}`),!0;const $a=this.messages.has(us,cs);return $a&&this.logger.warn(`Ignoring duplicate message: ${cs}`),$a}async onProviderPayload(as){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:as}),isJsonRpcRequest(as)){if(!as.method.endsWith(zt))return;const us=as.params,{topic:cs,message:$a,publishedAt:na,attestation:tu}=us.data,iu={topic:cs,message:$a,publishedAt:na,transportType:Q$1.relay,attestation:tu};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Pi({type:"event",event:us.id},iu)),this.events.emit(us.id,iu),await this.acknowledgePayload(as),await this.onMessageEvent(iu)}else isJsonRpcResponse(as)&&this.events.emit(C$1.message_ack,as)}async onMessageEvent(as){await this.shouldIgnoreMessageEvent(as)||(await this.recordMessageEvent(as,le.inbound),this.events.emit(C$1.message,as))}async acknowledgePayload(as){const us=formatJsonRpcResult(as.id,!0);await this.provider.connection.send(us)}unregisterProviderListeners(){this.provider.off(L$1.payload,this.onPayloadHandler),this.provider.off(L$1.connect,this.onConnectHandler),this.provider.off(L$1.disconnect,this.onDisconnectHandler),this.provider.off(L$1.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let as=await Ia();Na(async us=>{as!==us&&(as=us,us?await this.transportOpen().catch(cs=>this.logger.error(cs,cs==null?void 0:cs.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C$1.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(as=>this.logger.error(as,as==null?void 0:as.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},cjs$3.toMiliseconds(Lt)))))}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function io(){}function Ri(ss){if(!ss||typeof ss!="object")return!1;const as=Object.getPrototypeOf(ss);return as===null||as===Object.prototype||Object.getPrototypeOf(as)===null?Object.prototype.toString.call(ss)==="[object Object]":!1}function Oi(ss){return Object.getOwnPropertySymbols(ss).filter(as=>Object.prototype.propertyIsEnumerable.call(ss,as))}function Ai(ss){return ss==null?ss===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(ss)}const so="[object RegExp]",ro="[object String]",no="[object Number]",oo="[object Boolean]",xi="[object Arguments]",ao="[object Symbol]",co="[object Date]",ho="[object Map]",lo="[object Set]",uo="[object Array]",go="[object Function]",po="[object ArrayBuffer]",Je="[object Object]",yo="[object Error]",bo="[object DataView]",mo="[object Uint8Array]",fo="[object Uint8ClampedArray]",Do="[object Uint16Array]",vo="[object Uint32Array]",wo="[object BigUint64Array]",_o="[object Int8Array]",Eo="[object Int16Array]",Io="[object Int32Array]",To="[object BigInt64Array]",Co="[object Float32Array]",Po="[object Float64Array]";function So(ss,as){return ss===as||Number.isNaN(ss)&&Number.isNaN(as)}function Ro(ss,as,us){return pe(ss,as,void 0,void 0,void 0,void 0,us)}function pe(ss,as,us,cs,$a,na,tu){const iu=tu(ss,as,us,cs,$a,na);if(iu!==void 0)return iu;if(typeof ss==typeof as)switch(typeof ss){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return ss===as;case"number":return ss===as||Object.is(ss,as);case"function":return ss===as;case"object":return ye(ss,as,na,tu)}return ye(ss,as,na,tu)}function ye(ss,as,us,cs){if(Object.is(ss,as))return!0;let $a=Ai(ss),na=Ai(as);if($a===xi&&($a=Je),na===xi&&(na=Je),$a!==na)return!1;switch($a){case ro:return ss.toString()===as.toString();case no:{const su=ss.valueOf(),au=as.valueOf();return So(su,au)}case oo:case co:case ao:return Object.is(ss.valueOf(),as.valueOf());case so:return ss.source===as.source&&ss.flags===as.flags;case go:return ss===as}us=us??new Map;const tu=us.get(ss),iu=us.get(as);if(tu!=null&&iu!=null)return tu===as;us.set(ss,as),us.set(as,ss);try{switch($a){case ho:{if(ss.size!==as.size)return!1;for(const[su,au]of ss.entries())if(!as.has(su)||!pe(au,as.get(su),su,ss,as,us,cs))return!1;return!0}case lo:{if(ss.size!==as.size)return!1;const su=Array.from(ss.values()),au=Array.from(as.values());for(let ou=0;ou<su.length;ou++){const fu=su[ou],pu=au.findIndex(vu=>pe(fu,vu,void 0,ss,as,us,cs));if(pu===-1)return!1;au.splice(pu,1)}return!0}case uo:case mo:case fo:case Do:case vo:case wo:case _o:case Eo:case Io:case To:case Co:case Po:{if(typeof Buffer$7<"u"&&Buffer$7.isBuffer(ss)!==Buffer$7.isBuffer(as)||ss.length!==as.length)return!1;for(let su=0;su<ss.length;su++)if(!pe(ss[su],as[su],su,ss,as,us,cs))return!1;return!0}case po:return ss.byteLength!==as.byteLength?!1:ye(new Uint8Array(ss),new Uint8Array(as),us,cs);case bo:return ss.byteLength!==as.byteLength||ss.byteOffset!==as.byteOffset?!1:ye(new Uint8Array(ss),new Uint8Array(as),us,cs);case yo:return ss.name===as.name&&ss.message===as.message;case Je:{if(!(ye(ss.constructor,as.constructor,us,cs)||Ri(ss)&&Ri(as)))return!1;const su=[...Object.keys(ss),...Oi(ss)],au=[...Object.keys(as),...Oi(as)];if(su.length!==au.length)return!1;for(let ou=0;ou<su.length;ou++){const fu=su[ou],pu=ss[fu];if(!Object.hasOwn(as,fu))return!1;const vu=as[fu];if(!pe(pu,vu,fu,ss,as,us,cs))return!1}return!0}default:return!1}}finally{us.delete(ss),us.delete(as)}}function Oo(ss,as){return Ro(ss,as,io)}var Ao=Object.defineProperty,Ni=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable,Xe=(ss,as,us)=>as in ss?Ao(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,$i=(ss,as)=>{for(var us in as||(as={}))xo.call(as,us)&&Xe(ss,us,as[us]);if(Ni)for(var us of Ni(as))No.call(as,us)&&Xe(ss,us,as[us]);return ss},z$1=(ss,as,us)=>Xe(ss,typeof as!="symbol"?as+"":as,us);class zi extends f$3{constructor(as,us,cs,$a=B$1,na=void 0){super(as,us,cs,$a),this.core=as,this.logger=us,this.name=cs,z$1(this,"map",new Map),z$1(this,"version",kt),z$1(this,"cached",[]),z$1(this,"initialized",!1),z$1(this,"getKey"),z$1(this,"storagePrefix",B$1),z$1(this,"recentlyDeleted",[]),z$1(this,"recentlyDeletedLimit",200),z$1(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(tu=>{this.getKey&&tu!==null&&!Et$2(tu)?this.map.set(this.getKey(tu),tu):fa(tu)?this.map.set(tu.id,tu):la(tu)&&this.map.set(tu.topic,tu)}),this.cached=[],this.initialized=!0)}),z$1(this,"set",async(tu,iu)=>{this.isInitialized(),this.map.has(tu)?await this.update(tu,iu):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:tu,value:iu}),this.map.set(tu,iu),await this.persist())}),z$1(this,"get",tu=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:tu}),this.getData(tu))),z$1(this,"getAll",tu=>(this.isInitialized(),tu?this.values.filter(iu=>Object.keys(tu).every(su=>Oo(iu[su],tu[su]))):this.values)),z$1(this,"update",async(tu,iu)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:tu,update:iu});const su=$i($i({},this.getData(tu)),iu);this.map.set(tu,su),await this.persist()}),z$1(this,"delete",async(tu,iu)=>{this.isInitialized(),this.map.has(tu)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:tu,reason:iu}),this.map.delete(tu),this.addToRecentlyDeleted(tu),await this.persist())}),this.logger=E$3(us,this.name),this.storagePrefix=$a,this.getKey=na}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(as){this.recentlyDeleted.push(as),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(as){await this.core.storage.setItem(this.storageKey,as)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(as){const us=this.map.get(as);if(!us){if(this.recentlyDeleted.includes(as)){const{message:$a}=ht$1("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${as}`);throw this.logger.error($a),new Error($a)}const{message:cs}=ht$1("NO_MATCHING_KEY",`${this.name}: ${as}`);throw this.logger.error(cs),new Error(cs)}return us}async persist(){await this.setDataStore(this.values)}async restore(){try{const as=await this.getDataStore();if(typeof as>"u"||!as.length)return;if(this.map.size){const{message:us}=ht$1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(us),new Error(us)}this.cached=as,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(as){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(as)}}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}}var $o=Object.defineProperty,zo=(ss,as,us)=>as in ss?$o(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,p$1=(ss,as,us)=>zo(ss,typeof as!="symbol"?as+"":as,us);class Li{constructor(as,us){this.core=as,this.logger=us,p$1(this,"name",Mt),p$1(this,"version",Kt),p$1(this,"events",new $g),p$1(this,"pairings"),p$1(this,"initialized",!1),p$1(this,"storagePrefix",B$1),p$1(this,"ignoredPayloadTypes",[Kt$1]),p$1(this,"registeredMethods",[]),p$1(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),p$1(this,"register",({methods:cs})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...cs])]}),p$1(this,"create",async cs=>{this.isInitialized();const $a=jc(),na=await this.core.crypto.setSymKey($a),tu=Ei$1(cjs$3.FIVE_MINUTES),iu={protocol:xt},su={topic:na,expiry:tu,relay:iu,active:!1,methods:cs==null?void 0:cs.methods},au=Wc({protocol:this.core.protocol,version:this.core.version,topic:na,symKey:$a,relay:iu,expiryTimestamp:tu,methods:cs==null?void 0:cs.methods});return this.events.emit(se$1.create,su),this.core.expirer.set(na,tu),await this.pairings.set(na,su),await this.core.relayer.subscribe(na,{transportType:cs==null?void 0:cs.transportType}),{topic:na,uri:au}}),p$1(this,"pair",async cs=>{this.isInitialized();const $a=this.core.eventClient.createEvent({properties:{topic:cs==null?void 0:cs.uri,trace:[G.pairing_started]}});this.isValidPair(cs,$a);const{topic:na,symKey:tu,relay:iu,expiryTimestamp:su,methods:au}=Gc(cs.uri);$a.props.properties.topic=na,$a.addTrace(G.pairing_uri_validation_success),$a.addTrace(G.pairing_uri_not_expired);let ou;if(this.pairings.keys.includes(na)){if(ou=this.pairings.get(na),$a.addTrace(G.existing_pairing),ou.active)throw $a.setError(Y$1.active_pairing_already_exists),new Error(`Pairing already exists: ${na}. Please try again with a new connection URI.`);$a.addTrace(G.pairing_not_expired)}const fu=su||Ei$1(cjs$3.FIVE_MINUTES),pu={topic:na,relay:iu,expiry:fu,active:!1,methods:au};this.core.expirer.set(na,fu),await this.pairings.set(na,pu),$a.addTrace(G.store_new_pairing),cs.activatePairing&&await this.activate({topic:na}),this.events.emit(se$1.create,pu),$a.addTrace(G.emit_inactive_pairing),this.core.crypto.keychain.has(na)||await this.core.crypto.setSymKey(tu,na),$a.addTrace(G.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{$a.setError(Y$1.no_internet_connection)}try{await this.core.relayer.subscribe(na,{relay:iu})}catch(vu){throw $a.setError(Y$1.subscribe_pairing_topic_failure),vu}return $a.addTrace(G.subscribe_pairing_topic_success),pu}),p$1(this,"activate",async({topic:cs})=>{this.isInitialized();const $a=Ei$1(cjs$3.FIVE_MINUTES);this.core.expirer.set(cs,$a),await this.pairings.update(cs,{active:!0,expiry:$a})}),p$1(this,"ping",async cs=>{this.isInitialized(),await this.isValidPing(cs),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:$a}=cs;if(this.pairings.keys.includes($a)){const na=await this.sendRequest($a,"wc_pairingPing",{}),{done:tu,resolve:iu,reject:su}=gi$1();this.events.once(xi$1("pairing_ping",na),({error:au})=>{au?su(au):iu()}),await tu()}}),p$1(this,"updateExpiry",async({topic:cs,expiry:$a})=>{this.isInitialized(),await this.pairings.update(cs,{expiry:$a})}),p$1(this,"updateMetadata",async({topic:cs,metadata:$a})=>{this.isInitialized(),await this.pairings.update(cs,{peerMetadata:$a})}),p$1(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),p$1(this,"disconnect",async cs=>{this.isInitialized(),await this.isValidDisconnect(cs);const{topic:$a}=cs;this.pairings.keys.includes($a)&&(await this.sendRequest($a,"wc_pairingDelete",Nt$1("USER_DISCONNECTED")),await this.deletePairing($a))}),p$1(this,"formatUriFromPairing",cs=>{this.isInitialized();const{topic:$a,relay:na,expiry:tu,methods:iu}=cs,su=this.core.crypto.keychain.get($a);return Wc({protocol:this.core.protocol,version:this.core.version,topic:$a,symKey:su,relay:na,expiryTimestamp:tu,methods:iu})}),p$1(this,"sendRequest",async(cs,$a,na)=>{const tu=formatJsonRpcRequest($a,na),iu=await this.core.crypto.encode(cs,tu),su=ie[$a].req;return this.core.history.set(cs,tu),this.core.relayer.publish(cs,iu,su),tu.id}),p$1(this,"sendResult",async(cs,$a,na)=>{const tu=formatJsonRpcResult(cs,na),iu=await this.core.crypto.encode($a,tu),su=(await this.core.history.get($a,cs)).request.method,au=ie[su].res;await this.core.relayer.publish($a,iu,au),await this.core.history.resolve(tu)}),p$1(this,"sendError",async(cs,$a,na)=>{const tu=formatJsonRpcError(cs,na),iu=await this.core.crypto.encode($a,tu),su=(await this.core.history.get($a,cs)).request.method,au=ie[su]?ie[su].res:ie.unregistered_method.res;await this.core.relayer.publish($a,iu,au),await this.core.history.resolve(tu)}),p$1(this,"deletePairing",async(cs,$a)=>{await this.core.relayer.unsubscribe(cs),await Promise.all([this.pairings.delete(cs,Nt$1("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(cs),$a?Promise.resolve():this.core.expirer.del(cs)])}),p$1(this,"cleanup",async()=>{const cs=this.pairings.getAll().filter($a=>vi$1($a.expiry));await Promise.all(cs.map($a=>this.deletePairing($a.topic)))}),p$1(this,"onRelayEventRequest",async cs=>{const{topic:$a,payload:na}=cs;switch(na.method){case"wc_pairingPing":return await this.onPairingPingRequest($a,na);case"wc_pairingDelete":return await this.onPairingDeleteRequest($a,na);default:return await this.onUnknownRpcMethodRequest($a,na)}}),p$1(this,"onRelayEventResponse",async cs=>{const{topic:$a,payload:na}=cs,tu=(await this.core.history.get($a,na.id)).request.method;switch(tu){case"wc_pairingPing":return this.onPairingPingResponse($a,na);default:return this.onUnknownRpcMethodResponse(tu)}}),p$1(this,"onPairingPingRequest",async(cs,$a)=>{const{id:na}=$a;try{this.isValidPing({topic:cs}),await this.sendResult(na,cs,!0),this.events.emit(se$1.ping,{id:na,topic:cs})}catch(tu){await this.sendError(na,cs,tu),this.logger.error(tu)}}),p$1(this,"onPairingPingResponse",(cs,$a)=>{const{id:na}=$a;setTimeout(()=>{isJsonRpcResult($a)?this.events.emit(xi$1("pairing_ping",na),{}):isJsonRpcError($a)&&this.events.emit(xi$1("pairing_ping",na),{error:$a.error})},500)}),p$1(this,"onPairingDeleteRequest",async(cs,$a)=>{const{id:na}=$a;try{this.isValidDisconnect({topic:cs}),await this.deletePairing(cs),this.events.emit(se$1.delete,{id:na,topic:cs})}catch(tu){await this.sendError(na,cs,tu),this.logger.error(tu)}}),p$1(this,"onUnknownRpcMethodRequest",async(cs,$a)=>{const{id:na,method:tu}=$a;try{if(this.registeredMethods.includes(tu))return;const iu=Nt$1("WC_METHOD_UNSUPPORTED",tu);await this.sendError(na,cs,iu),this.logger.error(iu)}catch(iu){await this.sendError(na,cs,iu),this.logger.error(iu)}}),p$1(this,"onUnknownRpcMethodResponse",cs=>{this.registeredMethods.includes(cs)||this.logger.error(Nt$1("WC_METHOD_UNSUPPORTED",cs))}),p$1(this,"isValidPair",(cs,$a)=>{var na;if(!ya(cs)){const{message:iu}=ht$1("MISSING_OR_INVALID",`pair() params: ${cs}`);throw $a.setError(Y$1.malformed_pairing_uri),new Error(iu)}if(!ua(cs.uri)){const{message:iu}=ht$1("MISSING_OR_INVALID",`pair() uri: ${cs.uri}`);throw $a.setError(Y$1.malformed_pairing_uri),new Error(iu)}const tu=Gc(cs==null?void 0:cs.uri);if(!((na=tu==null?void 0:tu.relay)!=null&&na.protocol)){const{message:iu}=ht$1("MISSING_OR_INVALID","pair() uri#relay-protocol");throw $a.setError(Y$1.malformed_pairing_uri),new Error(iu)}if(!(tu!=null&&tu.symKey)){const{message:iu}=ht$1("MISSING_OR_INVALID","pair() uri#symKey");throw $a.setError(Y$1.malformed_pairing_uri),new Error(iu)}if(tu!=null&&tu.expiryTimestamp&&cjs$3.toMiliseconds(tu==null?void 0:tu.expiryTimestamp)<Date.now()){$a.setError(Y$1.pairing_expired);const{message:iu}=ht$1("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(iu)}}),p$1(this,"isValidPing",async cs=>{if(!ya(cs)){const{message:na}=ht$1("MISSING_OR_INVALID",`ping() params: ${cs}`);throw new Error(na)}const{topic:$a}=cs;await this.isValidPairingTopic($a)}),p$1(this,"isValidDisconnect",async cs=>{if(!ya(cs)){const{message:na}=ht$1("MISSING_OR_INVALID",`disconnect() params: ${cs}`);throw new Error(na)}const{topic:$a}=cs;await this.isValidPairingTopic($a)}),p$1(this,"isValidPairingTopic",async cs=>{if(!nt(cs,!1)){const{message:$a}=ht$1("MISSING_OR_INVALID",`pairing topic should be a string: ${cs}`);throw new Error($a)}if(!this.pairings.keys.includes(cs)){const{message:$a}=ht$1("NO_MATCHING_KEY",`pairing topic doesn't exist: ${cs}`);throw new Error($a)}if(vi$1(this.pairings.get(cs).expiry)){await this.deletePairing(cs);const{message:$a}=ht$1("EXPIRED",`pairing topic: ${cs}`);throw new Error($a)}}),this.core=as,this.logger=E$3(us,this.name),this.pairings=new zi(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$3(this.logger)}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}registerRelayerEvents(){this.core.relayer.on(C$1.message,async as=>{const{topic:us,message:cs,transportType:$a}=as;if(this.pairings.keys.includes(us)&&$a!==Q$1.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(cs)))try{const na=await this.core.crypto.decode(us,cs);isJsonRpcRequest(na)?(this.core.history.set(us,na),await this.onRelayEventRequest({topic:us,payload:na})):isJsonRpcResponse(na)&&(await this.core.history.resolve(na),await this.onRelayEventResponse({topic:us,payload:na}),this.core.history.delete(us,na.id)),await this.core.relayer.messages.ack(us,cs)}catch(na){this.logger.error(na)}})}registerExpirerEvents(){this.core.expirer.on(M.expired,async as=>{const{topic:us}=bi$1(as.target);us&&this.pairings.keys.includes(us)&&(await this.deletePairing(us,!0),this.events.emit(se$1.expire,{topic:us}))})}}var Lo=Object.defineProperty,ko=(ss,as,us)=>as in ss?Lo(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,R$1=(ss,as,us)=>ko(ss,typeof as!="symbol"?as+"":as,us);class ki extends I{constructor(as,us){super(as,us),this.core=as,this.logger=us,R$1(this,"records",new Map),R$1(this,"events",new eventsExports.EventEmitter),R$1(this,"name",Bt),R$1(this,"version",Vt),R$1(this,"cached",[]),R$1(this,"initialized",!1),R$1(this,"storagePrefix",B$1),R$1(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(cs=>this.records.set(cs.id,cs)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),R$1(this,"set",(cs,$a,na)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:cs,request:$a,chainId:na}),this.records.has($a.id))return;const tu={id:$a.id,topic:cs,request:{method:$a.method,params:$a.params||null},chainId:na,expiry:Ei$1(cjs$3.THIRTY_DAYS)};this.records.set(tu.id,tu),this.persist(),this.events.emit(F$1.created,tu)}),R$1(this,"resolve",async cs=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:cs}),!this.records.has(cs.id))return;const $a=await this.getRecord(cs.id);typeof $a.response>"u"&&($a.response=isJsonRpcError(cs)?{error:cs.error}:{result:cs.result},this.records.set($a.id,$a),this.persist(),this.events.emit(F$1.updated,$a))}),R$1(this,"get",async(cs,$a)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:cs,id:$a}),await this.getRecord($a))),R$1(this,"delete",(cs,$a)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:$a}),this.values.forEach(na=>{if(na.topic===cs){if(typeof $a<"u"&&na.id!==$a)return;this.records.delete(na.id),this.events.emit(F$1.deleted,na)}}),this.persist()}),R$1(this,"exists",async(cs,$a)=>(this.isInitialized(),this.records.has($a)?(await this.getRecord($a)).topic===cs:!1)),R$1(this,"on",(cs,$a)=>{this.events.on(cs,$a)}),R$1(this,"once",(cs,$a)=>{this.events.once(cs,$a)}),R$1(this,"off",(cs,$a)=>{this.events.off(cs,$a)}),R$1(this,"removeListener",(cs,$a)=>{this.events.removeListener(cs,$a)}),this.logger=E$3(us,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const as=[];return this.values.forEach(us=>{if(typeof us.response<"u")return;const cs={topic:us.topic,request:formatJsonRpcRequest(us.request.method,us.request.params,us.id),chainId:us.chainId};return as.push(cs)}),as}async setJsonRpcRecords(as){await this.core.storage.setItem(this.storageKey,as)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(as){this.isInitialized();const us=this.records.get(as);if(!us){const{message:cs}=ht$1("NO_MATCHING_KEY",`${this.name}: ${as}`);throw new Error(cs)}return us}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(F$1.sync)}async restore(){try{const as=await this.getJsonRpcRecords();if(typeof as>"u"||!as.length)return;if(this.records.size){const{message:us}=ht$1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(us),new Error(us)}this.cached=as,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(as){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(as)}}registerEventListeners(){this.events.on(F$1.created,as=>{const us=F$1.created;this.logger.info(`Emitting ${us}`),this.logger.debug({type:"event",event:us,record:as})}),this.events.on(F$1.updated,as=>{const us=F$1.updated;this.logger.info(`Emitting ${us}`),this.logger.debug({type:"event",event:us,record:as})}),this.events.on(F$1.deleted,as=>{const us=F$1.deleted;this.logger.info(`Emitting ${us}`),this.logger.debug({type:"event",event:us,record:as})}),this.core.heartbeat.on(r$1.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let as=!1;this.records.forEach(us=>{cjs$3.toMiliseconds(us.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${us.id}`),this.records.delete(us.id),this.events.emit(F$1.deleted,us,!1),as=!0)}),as&&this.persist()}catch(as){this.logger.warn(as)}}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}}var jo=Object.defineProperty,Uo=(ss,as,us)=>as in ss?jo(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,A$1=(ss,as,us)=>Uo(ss,typeof as!="symbol"?as+"":as,us);class ji extends S$2{constructor(as,us){super(as,us),this.core=as,this.logger=us,A$1(this,"expirations",new Map),A$1(this,"events",new eventsExports.EventEmitter),A$1(this,"name",qt),A$1(this,"version",Gt),A$1(this,"cached",[]),A$1(this,"initialized",!1),A$1(this,"storagePrefix",B$1),A$1(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(cs=>this.expirations.set(cs.target,cs)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),A$1(this,"has",cs=>{try{const $a=this.formatTarget(cs);return typeof this.getExpiration($a)<"u"}catch{return!1}}),A$1(this,"set",(cs,$a)=>{this.isInitialized();const na=this.formatTarget(cs),tu={target:na,expiry:$a};this.expirations.set(na,tu),this.checkExpiry(na,tu),this.events.emit(M.created,{target:na,expiration:tu})}),A$1(this,"get",cs=>{this.isInitialized();const $a=this.formatTarget(cs);return this.getExpiration($a)}),A$1(this,"del",cs=>{if(this.isInitialized(),this.has(cs)){const $a=this.formatTarget(cs),na=this.getExpiration($a);this.expirations.delete($a),this.events.emit(M.deleted,{target:$a,expiration:na})}}),A$1(this,"on",(cs,$a)=>{this.events.on(cs,$a)}),A$1(this,"once",(cs,$a)=>{this.events.once(cs,$a)}),A$1(this,"off",(cs,$a)=>{this.events.off(cs,$a)}),A$1(this,"removeListener",(cs,$a)=>{this.events.removeListener(cs,$a)}),this.logger=E$3(us,this.name)}get context(){return y$3(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(as){if(typeof as=="string")return mi$1(as);if(typeof as=="number")return wi$1(as);const{message:us}=ht$1("UNKNOWN_TYPE",`Target type: ${typeof as}`);throw new Error(us)}async setExpirations(as){await this.core.storage.setItem(this.storageKey,as)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(M.sync)}async restore(){try{const as=await this.getExpirations();if(typeof as>"u"||!as.length)return;if(this.expirations.size){const{message:us}=ht$1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(us),new Error(us)}this.cached=as,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(as){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(as)}}getExpiration(as){const us=this.expirations.get(as);if(!us){const{message:cs}=ht$1("NO_MATCHING_KEY",`${this.name}: ${as}`);throw this.logger.warn(cs),new Error(cs)}return us}checkExpiry(as,us){const{expiry:cs}=us;cjs$3.toMiliseconds(cs)-Date.now()<=0&&this.expire(as,us)}expire(as,us){this.expirations.delete(as),this.events.emit(M.expired,{target:as,expiration:us})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((as,us)=>this.checkExpiry(us,as))}registerEventListeners(){this.core.heartbeat.on(r$1.pulse,()=>this.checkExpirations()),this.events.on(M.created,as=>{const us=M.created;this.logger.info(`Emitting ${us}`),this.logger.debug({type:"event",event:us,data:as}),this.persist()}),this.events.on(M.expired,as=>{const us=M.expired;this.logger.info(`Emitting ${us}`),this.logger.debug({type:"event",event:us,data:as}),this.persist()}),this.events.on(M.deleted,as=>{const us=M.deleted;this.logger.info(`Emitting ${us}`),this.logger.debug({type:"event",event:us,data:as}),this.persist()})}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}}var Fo=Object.defineProperty,Mo=(ss,as,us)=>as in ss?Fo(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,w$1=(ss,as,us)=>Mo(ss,typeof as!="symbol"?as+"":as,us);class Ui extends M$2{constructor(as,us,cs){super(as,us,cs),this.core=as,this.logger=us,this.store=cs,w$1(this,"name",Wt),w$1(this,"abortController"),w$1(this,"isDevEnv"),w$1(this,"verifyUrlV3",Yt),w$1(this,"storagePrefix",B$1),w$1(this,"version",Le$1),w$1(this,"publicKey"),w$1(this,"fetchPromise"),w$1(this,"init",async()=>{var $a;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjs$3.toMiliseconds(($a=this.publicKey)==null?void 0:$a.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),w$1(this,"register",async $a=>{if(!Yt$1()||this.isDevEnv)return;const na=window.location.origin,{id:tu,decryptedId:iu}=$a,su=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${na}&id=${tu}&decryptedId=${iu}`;try{const au=getDocument_1(),ou=this.startAbortTimer(cjs$3.ONE_SECOND*5),fu=await new Promise((pu,vu)=>{const gu=()=>{window.removeEventListener("message",xu),au.body.removeChild(bu),vu("attestation aborted")};this.abortController.signal.addEventListener("abort",gu);const bu=au.createElement("iframe");bu.src=su,bu.style.display="none",bu.addEventListener("error",gu,{signal:this.abortController.signal});const xu=$u=>{if($u.data&&typeof $u.data=="string")try{const wu=JSON.parse($u.data);if(wu.type==="verify_attestation"){if(sn$2(wu.attestation).payload.id!==tu)return;clearInterval(ou),au.body.removeChild(bu),this.abortController.signal.removeEventListener("abort",gu),window.removeEventListener("message",xu),pu(wu.attestation===null?"":wu.attestation)}}catch(wu){this.logger.warn(wu)}};au.body.appendChild(bu),window.addEventListener("message",xu,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",fu),fu}catch(au){this.logger.warn(au)}return""}),w$1(this,"resolve",async $a=>{if(this.isDevEnv)return"";const{attestationId:na,hash:tu,encryptedId:iu}=$a;if(na===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(na){if(sn$2(na).payload.id!==iu)return;const au=await this.isValidJwtAttestation(na);if(au){if(!au.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return au}}if(!tu)return;const su=this.getVerifyUrl($a==null?void 0:$a.verifyUrl);return this.fetchAttestation(tu,su)}),w$1(this,"fetchAttestation",async($a,na)=>{this.logger.debug(`resolving attestation: ${$a} from url: ${na}`);const tu=this.startAbortTimer(cjs$3.ONE_SECOND*5),iu=await fetch(`${na}/attestation/${$a}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(tu),iu.status===200?await iu.json():void 0}),w$1(this,"getVerifyUrl",$a=>{let na=$a||ue;return Jt.includes(na)||(this.logger.info(`verify url: ${na}, not included in trusted list, assigning default: ${ue}`),na=ue),na}),w$1(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const $a=this.startAbortTimer(cjs$3.FIVE_SECONDS),na=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout($a),await na.json()}catch($a){this.logger.warn($a)}}),w$1(this,"persistPublicKey",async $a=>{this.logger.debug("persisting public key to local storage",$a),await this.store.setItem(this.storeKey,$a),this.publicKey=$a}),w$1(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),w$1(this,"isValidJwtAttestation",async $a=>{const na=await this.getPublicKey();try{if(na)return this.validateAttestation($a,na)}catch(iu){this.logger.error(iu),this.logger.warn("error validating attestation")}const tu=await this.fetchAndPersistPublicKey();try{if(tu)return this.validateAttestation($a,tu)}catch(iu){this.logger.error(iu),this.logger.warn("error validating attestation")}}),w$1(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),w$1(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async na=>{const tu=await this.fetchPublicKey();tu&&(await this.persistPublicKey(tu),na(tu))});const $a=await this.fetchPromise;return this.fetchPromise=void 0,$a}),w$1(this,"validateAttestation",($a,na)=>{const tu=zc($a,na.publicKey),iu={hasExpired:cjs$3.toMiliseconds(tu.exp)<Date.now(),payload:tu};if(iu.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:iu.payload.origin,isScam:iu.payload.isScam,isVerified:iu.payload.isVerified}}),this.logger=E$3(us,this.name),this.abortController=new AbortController,this.isDevEnv=Ii$1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return y$3(this.logger)}startAbortTimer(as){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$3.toMiliseconds(as))}}var Ko=Object.defineProperty,Bo=(ss,as,us)=>as in ss?Ko(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,Fi=(ss,as,us)=>Bo(ss,typeof as!="symbol"?as+"":as,us);class Mi extends O$1{constructor(as,us){super(as,us),this.projectId=as,this.logger=us,Fi(this,"context",Xt),Fi(this,"registerDeviceToken",async cs=>{const{clientId:$a,token:na,notificationType:tu,enableEncrypted:iu=!1}=cs,su=`${Zt}/${this.projectId}/clients`;await fetch(su,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:$a,type:tu,token:na,always_raw:iu})})}),this.logger=E$3(us,this.context)}}var Vo=Object.defineProperty,Ki=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,Ze=(ss,as,us)=>as in ss?Vo(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,be=(ss,as)=>{for(var us in as||(as={}))qo.call(as,us)&&Ze(ss,us,as[us]);if(Ki)for(var us of Ki(as))Go.call(as,us)&&Ze(ss,us,as[us]);return ss},E$2=(ss,as,us)=>Ze(ss,typeof as!="symbol"?as+"":as,us);class Bi extends R$2{constructor(as,us,cs=!0){super(as,us,cs),this.core=as,this.logger=us,E$2(this,"context",ei),E$2(this,"storagePrefix",B$1),E$2(this,"storageVersion",Qt),E$2(this,"events",new Map),E$2(this,"shouldPersist",!1),E$2(this,"init",async()=>{if(!Ii$1())try{const $a={eventId:Bi$1(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Mn$1(this.core.relayer.protocol,this.core.relayer.version,_e$1)}}};await this.sendEvent([$a])}catch($a){this.logger.warn($a)}}),E$2(this,"createEvent",$a=>{const{event:na="ERROR",type:tu="",properties:{topic:iu,trace:su}}=$a,au=Bi$1(),ou=this.core.projectId||"",fu=Date.now(),pu=be({eventId:au,timestamp:fu,props:{event:na,type:tu,properties:{topic:iu,trace:su}},bundleId:ou,domain:this.getAppDomain()},this.setMethods(au));return this.telemetryEnabled&&(this.events.set(au,pu),this.shouldPersist=!0),pu}),E$2(this,"getEvent",$a=>{const{eventId:na,topic:tu}=$a;if(na)return this.events.get(na);const iu=Array.from(this.events.values()).find(su=>su.props.properties.topic===tu);if(iu)return be(be({},iu),this.setMethods(iu.eventId))}),E$2(this,"deleteEvent",$a=>{const{eventId:na}=$a;this.events.delete(na),this.shouldPersist=!0}),E$2(this,"setEventListeners",()=>{this.core.heartbeat.on(r$1.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach($a=>{cjs$3.fromMiliseconds(Date.now())-cjs$3.fromMiliseconds($a.timestamp)>ti&&(this.events.delete($a.eventId),this.shouldPersist=!0)})})}),E$2(this,"setMethods",$a=>({addTrace:na=>this.addTrace($a,na),setError:na=>this.setError($a,na)})),E$2(this,"addTrace",($a,na)=>{const tu=this.events.get($a);tu&&(tu.props.properties.trace.push(na),this.events.set($a,tu),this.shouldPersist=!0)}),E$2(this,"setError",($a,na)=>{const tu=this.events.get($a);tu&&(tu.props.type=na,tu.timestamp=Date.now(),this.events.set($a,tu),this.shouldPersist=!0)}),E$2(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),E$2(this,"restore",async()=>{try{const $a=await this.core.storage.getItem(this.storageKey)||[];if(!$a.length)return;$a.forEach(na=>{this.events.set(na.eventId,be(be({},na),this.setMethods(na.eventId)))})}catch($a){this.logger.warn($a)}}),E$2(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const $a=[];for(const[na,tu]of this.events)tu.props.type&&$a.push(tu);if($a.length!==0)try{if((await this.sendEvent($a)).ok)for(const na of $a)this.events.delete(na.eventId),this.shouldPersist=!0}catch(na){this.logger.warn(na)}}),E$2(this,"sendEvent",async $a=>{const na=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${ii}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_e$1}${na}`,{method:"POST",body:JSON.stringify($a)})}),E$2(this,"getAppDomain",()=>Pn$1().url),this.logger=E$3(us,this.context),this.telemetryEnabled=cs,cs?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Wo=Object.defineProperty,Vi=Object.getOwnPropertySymbols,Ho=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,Qe=(ss,as,us)=>as in ss?Wo(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,qi=(ss,as)=>{for(var us in as||(as={}))Ho.call(as,us)&&Qe(ss,us,as[us]);if(Vi)for(var us of Vi(as))Yo.call(as,us)&&Qe(ss,us,as[us]);return ss},v$2=(ss,as,us)=>Qe(ss,typeof as!="symbol"?as+"":as,us);class Te extends h$2{constructor(as){var us;super(as),v$2(this,"protocol",ze),v$2(this,"version",Le$1),v$2(this,"name",he),v$2(this,"relayUrl"),v$2(this,"projectId"),v$2(this,"customStoragePrefix"),v$2(this,"events",new eventsExports.EventEmitter),v$2(this,"logger"),v$2(this,"heartbeat"),v$2(this,"relayer"),v$2(this,"crypto"),v$2(this,"storage"),v$2(this,"history"),v$2(this,"expirer"),v$2(this,"pairing"),v$2(this,"verify"),v$2(this,"echoClient"),v$2(this,"linkModeSupportedApps"),v$2(this,"eventClient"),v$2(this,"initialized",!1),v$2(this,"logChunkController"),v$2(this,"on",(iu,su)=>this.events.on(iu,su)),v$2(this,"once",(iu,su)=>this.events.once(iu,su)),v$2(this,"off",(iu,su)=>this.events.off(iu,su)),v$2(this,"removeListener",(iu,su)=>this.events.removeListener(iu,su)),v$2(this,"dispatchEnvelope",({topic:iu,message:su,sessionExists:au})=>{if(!iu||!su)return;const ou={topic:iu,message:su,publishedAt:Date.now(),transportType:Q$1.link_mode};this.relayer.onLinkMessageEvent(ou,{sessionExists:au})});const cs=this.getGlobalCore(as==null?void 0:as.customStoragePrefix);if(cs)try{return this.customStoragePrefix=cs.customStoragePrefix,this.logger=cs.logger,this.heartbeat=cs.heartbeat,this.crypto=cs.crypto,this.history=cs.history,this.expirer=cs.expirer,this.storage=cs.storage,this.relayer=cs.relayer,this.pairing=cs.pairing,this.verify=cs.verify,this.echoClient=cs.echoClient,this.linkModeSupportedApps=cs.linkModeSupportedApps,this.eventClient=cs.eventClient,this.initialized=cs.initialized,this.logChunkController=cs.logChunkController,cs}catch(iu){console.warn("Failed to copy global core",iu)}this.projectId=as==null?void 0:as.projectId,this.relayUrl=(as==null?void 0:as.relayUrl)||Ue$1,this.customStoragePrefix=as!=null&&as.customStoragePrefix?`:${as.customStoragePrefix}`:"";const $a=k$4({level:typeof(as==null?void 0:as.logger)=="string"&&as.logger?as.logger:Et$1.logger,name:he}),{logger:na,chunkLoggerController:tu}=A$2({opts:$a,maxSizeInBytes:as==null?void 0:as.maxLogBlobSizeInBytes,loggerOverride:as==null?void 0:as.logger});this.logChunkController=tu,(us=this.logChunkController)!=null&&us.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var iu,su;(iu=this.logChunkController)!=null&&iu.downloadLogsBlobInBrowser&&((su=this.logChunkController)==null||su.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=E$3(na,this.name),this.heartbeat=new i$2,this.crypto=new vi(this,this.logger,as==null?void 0:as.keychain),this.history=new ki(this,this.logger),this.expirer=new ji(this,this.logger),this.storage=as!=null&&as.storage?as.storage:new h$3(qi(qi({},It),as==null?void 0:as.storageOptions)),this.relayer=new Si({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Li(this,this.logger),this.verify=new Ui(this,this.logger,this.storage),this.echoClient=new Mi(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Bi(this,this.logger,as==null?void 0:as.telemetryEnabled),this.setGlobalCore(this)}static async init(as){const us=new Te(as);await us.initialize();const cs=await us.crypto.getClientId();return await us.storage.setItem(jt,cs),us}get context(){return y$3(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var as;return(as=this.logChunkController)==null?void 0:as.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(as){this.linkModeSupportedApps.includes(as)||(this.linkModeSupportedApps.push(as),await this.storage.setItem(Fe,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Fe)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(as){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,as),this.logger.error(as.message),as}}getGlobalCore(as=""){try{if(this.isGlobalCoreDisabled())return;const us=`_walletConnectCore_${as}`,cs=`${us}_count`;return globalThis[cs]=(globalThis[cs]||0)+1,globalThis[cs]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[cs]} times.`),globalThis[us]}catch(us){console.warn("Failed to get global WalletConnect core",us);return}}setGlobalCore(as){var us;try{if(this.isGlobalCoreDisabled())return;const cs=`_walletConnectCore_${((us=as.opts)==null?void 0:us.customStoragePrefix)||""}`;globalThis[cs]=as}catch(cs){console.warn("Failed to set global WalletConnect core",cs)}}isGlobalCoreDisabled(){try{return typeof process$1<"u"&&define_process_env_default.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const Jo=Te,De="wc",Le=2,ke="client",we=`${De}@${Le}:${ke}:`,me={name:ke,logger:"error"},Me="WALLETCONNECT_DEEPLINK_CHOICE",pt="proposal",$e="Proposal expired",ht="session",J$1=cjs$3.SEVEN_DAYS,dt="engine",N$1={wc_sessionPropose:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjs$3.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjs$3.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:cjs$3.FIVE_MINUTES,max:cjs$3.SEVEN_DAYS},$={idle:"IDLE",active:"ACTIVE"},Ue={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},ut="request",gt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],yt="wc",wt="auth",mt="authKeys",_t="pairingTopics",Et="requests",ae=`${yt}@${1.5}:${wt}:`,ce=`${ae}:PUB_KEY`;var Rs=Object.defineProperty,vs=Object.defineProperties,Is=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable,Ke=(ss,as,us)=>as in ss?Rs(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,v$1=(ss,as)=>{for(var us in as||(as={}))Ts.call(as,us)&&Ke(ss,us,as[us]);if(ft)for(var us of ft(as))qs.call(as,us)&&Ke(ss,us,as[us]);return ss},b$1=(ss,as)=>vs(ss,Is(as)),c=(ss,as,us)=>Ke(ss,typeof as!="symbol"?as+"":as,us);class Ps extends V$3{constructor(as){super(as),c(this,"name",dt),c(this,"events",new $g),c(this,"initialized",!1),c(this,"requestQueue",{state:$.idle,queue:[]}),c(this,"sessionRequestQueue",{state:$.idle,queue:[]}),c(this,"requestQueueDelay",cjs$3.ONE_SECOND),c(this,"expectedPairingMethodMap",new Map),c(this,"recentlyDeletedMap",new Map),c(this,"recentlyDeletedLimit",200),c(this,"relayMessageCache",[]),c(this,"pendingSessions",new Map),c(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(N$1)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay)))}),c(this,"connect",async us=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const cs=b$1(v$1({},us),{requiredNamespaces:us.requiredNamespaces||{},optionalNamespaces:us.optionalNamespaces||{}});await this.isValidConnect(cs);const{pairingTopic:$a,requiredNamespaces:na,optionalNamespaces:tu,sessionProperties:iu,scopedProperties:su,relays:au}=cs;let ou=$a,fu,pu=!1;try{if(ou){const Pu=this.client.core.pairing.pairings.get(ou);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),pu=Pu.active}}catch(Pu){throw this.client.logger.error(`connect() -> pairing.get(${ou}) failed`),Pu}if(!ou||!pu){const{topic:Pu,uri:Su}=await this.client.core.pairing.create();ou=Pu,fu=Su}if(!ou){const{message:Pu}=ht$1("NO_MATCHING_KEY",`connect() pairing topic: ${ou}`);throw new Error(Pu)}const vu=await this.client.core.crypto.generateKeyPair(),gu=N$1.wc_sessionPropose.req.ttl||cjs$3.FIVE_MINUTES,bu=Ei$1(gu),xu=b$1(v$1(v$1({requiredNamespaces:na,optionalNamespaces:tu,relays:au??[{protocol:xt}],proposer:{publicKey:vu,metadata:this.client.metadata},expiryTimestamp:bu,pairingTopic:ou},iu&&{sessionProperties:iu}),su&&{scopedProperties:su}),{id:payloadId()}),$u=xi$1("session_connect",xu.id),{reject:wu,resolve:_u,done:Mu}=gi$1(gu,$e),Au=({id:Pu})=>{Pu===xu.id&&(this.client.events.off("proposal_expire",Au),this.pendingSessions.delete(xu.id),this.events.emit($u,{error:{message:$e,code:0}}))};return this.client.events.on("proposal_expire",Au),this.events.once($u,({error:Pu,session:Su})=>{this.client.events.off("proposal_expire",Au),Pu?wu(Pu):Su&&_u(Su)}),await this.sendRequest({topic:ou,method:"wc_sessionPropose",params:xu,throwOnFailedPublish:!0,clientRpcId:xu.id}),await this.setProposal(xu.id,xu),{uri:fu,approval:Mu}}),c(this,"pair",async us=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(us)}catch(cs){throw this.client.logger.error("pair() failed"),cs}}),c(this,"approve",async us=>{var cs,$a,na;const tu=this.client.core.eventClient.createEvent({properties:{topic:(cs=us==null?void 0:us.id)==null?void 0:cs.toString(),trace:[Qs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(Ou){throw tu.setError(er.no_internet_connection),Ou}try{await this.isValidProposalId(us==null?void 0:us.id)}catch(Ou){throw this.client.logger.error(`approve() -> proposal.get(${us==null?void 0:us.id}) failed`),tu.setError(er.proposal_not_found),Ou}try{await this.isValidApprove(us)}catch(Ou){throw this.client.logger.error("approve() -> isValidApprove() failed"),tu.setError(er.session_approve_namespace_validation_failure),Ou}const{id:iu,relayProtocol:su,namespaces:au,sessionProperties:ou,scopedProperties:fu,sessionConfig:pu}=us,vu=this.client.proposal.get(iu);this.client.core.eventClient.deleteEvent({eventId:tu.eventId});const{pairingTopic:gu,proposer:bu,requiredNamespaces:xu,optionalNamespaces:$u}=vu;let wu=($a=this.client.core.eventClient)==null?void 0:$a.getEvent({topic:gu});wu||(wu=(na=this.client.core.eventClient)==null?void 0:na.createEvent({type:Qs.session_approve_started,properties:{topic:gu,trace:[Qs.session_approve_started,Qs.session_namespaces_validation_success]}}));const _u=await this.client.core.crypto.generateKeyPair(),Mu=bu.publicKey,Au=await this.client.core.crypto.generateSharedKey(_u,Mu),Pu=v$1(v$1(v$1({relay:{protocol:su??"irn"},namespaces:au,controller:{publicKey:_u,metadata:this.client.metadata},expiry:Ei$1(J$1)},ou&&{sessionProperties:ou}),fu&&{scopedProperties:fu}),pu&&{sessionConfig:pu}),Su=Q$1.relay;wu.addTrace(Qs.subscribing_session_topic);try{await this.client.core.relayer.subscribe(Au,{transportType:Su})}catch(Ou){throw wu.setError(er.subscribe_session_topic_failure),Ou}wu.addTrace(Qs.subscribe_session_topic_success);const Bu=b$1(v$1({},Pu),{topic:Au,requiredNamespaces:xu,optionalNamespaces:$u,pairingTopic:gu,acknowledged:!1,self:Pu.controller,peer:{publicKey:bu.publicKey,metadata:bu.metadata},controller:_u,transportType:Q$1.relay});await this.client.session.set(Au,Bu),wu.addTrace(Qs.store_session);try{wu.addTrace(Qs.publishing_session_settle),await this.sendRequest({topic:Au,method:"wc_sessionSettle",params:Pu,throwOnFailedPublish:!0}).catch(Ou=>{throw wu==null||wu.setError(er.session_settle_publish_failure),Ou}),wu.addTrace(Qs.session_settle_publish_success),wu.addTrace(Qs.publishing_session_approve),await this.sendResult({id:iu,topic:gu,result:{relay:{protocol:su??"irn"},responderPublicKey:_u},throwOnFailedPublish:!0}).catch(Ou=>{throw wu==null||wu.setError(er.session_approve_publish_failure),Ou}),wu.addTrace(Qs.session_approve_publish_success)}catch(Ou){throw this.client.logger.error(Ou),this.client.session.delete(Au,Nt$1("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(Au),Ou}return this.client.core.eventClient.deleteEvent({eventId:wu.eventId}),await this.client.core.pairing.updateMetadata({topic:gu,metadata:bu.metadata}),await this.client.proposal.delete(iu,Nt$1("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:gu}),await this.setExpiry(Au,Ei$1(J$1)),{topic:Au,acknowledged:()=>Promise.resolve(this.client.session.get(Au))}}),c(this,"reject",async us=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(us)}catch(tu){throw this.client.logger.error("reject() -> isValidReject() failed"),tu}const{id:cs,reason:$a}=us;let na;try{na=this.client.proposal.get(cs).pairingTopic}catch(tu){throw this.client.logger.error(`reject() -> proposal.get(${cs}) failed`),tu}na&&(await this.sendError({id:cs,topic:na,error:$a,rpcOpts:N$1.wc_sessionPropose.reject}),await this.client.proposal.delete(cs,Nt$1("USER_DISCONNECTED")))}),c(this,"update",async us=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(us)}catch(fu){throw this.client.logger.error("update() -> isValidUpdate() failed"),fu}const{topic:cs,namespaces:$a}=us,{done:na,resolve:tu,reject:iu}=gi$1(),su=payloadId(),au=getBigIntRpcId().toString(),ou=this.client.session.get(cs).namespaces;return this.events.once(xi$1("session_update",su),({error:fu})=>{fu?iu(fu):tu()}),await this.client.session.update(cs,{namespaces:$a}),await this.sendRequest({topic:cs,method:"wc_sessionUpdate",params:{namespaces:$a},throwOnFailedPublish:!0,clientRpcId:su,relayRpcId:au}).catch(fu=>{this.client.logger.error(fu),this.client.session.update(cs,{namespaces:ou}),iu(fu)}),{acknowledged:na}}),c(this,"extend",async us=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(us)}catch(su){throw this.client.logger.error("extend() -> isValidExtend() failed"),su}const{topic:cs}=us,$a=payloadId(),{done:na,resolve:tu,reject:iu}=gi$1();return this.events.once(xi$1("session_extend",$a),({error:su})=>{su?iu(su):tu()}),await this.setExpiry(cs,Ei$1(J$1)),this.sendRequest({topic:cs,method:"wc_sessionExtend",params:{},clientRpcId:$a,throwOnFailedPublish:!0}).catch(su=>{iu(su)}),{acknowledged:na}}),c(this,"request",async us=>{this.isInitialized();try{await this.isValidRequest(us)}catch($u){throw this.client.logger.error("request() -> isValidRequest() failed"),$u}const{chainId:cs,request:$a,topic:na,expiry:tu=N$1.wc_sessionRequest.req.ttl}=us,iu=this.client.session.get(na);(iu==null?void 0:iu.transportType)===Q$1.relay&&await this.confirmOnlineStateOrThrow();const su=payloadId(),au=getBigIntRpcId().toString(),{done:ou,resolve:fu,reject:pu}=gi$1(tu,"Request expired. Please try again.");this.events.once(xi$1("session_request",su),({error:$u,result:wu})=>{$u?pu($u):fu(wu)});const vu="wc_sessionRequest",gu=this.getAppLinkIfEnabled(iu.peer.metadata,iu.transportType);if(gu)return await this.sendRequest({clientRpcId:su,relayRpcId:au,topic:na,method:vu,params:{request:b$1(v$1({},$a),{expiryTimestamp:Ei$1(tu)}),chainId:cs},expiry:tu,throwOnFailedPublish:!0,appLink:gu}).catch($u=>pu($u)),this.client.events.emit("session_request_sent",{topic:na,request:$a,chainId:cs,id:su}),await ou();const bu={request:b$1(v$1({},$a),{expiryTimestamp:Ei$1(tu)}),chainId:cs},xu=this.shouldSetTVF(vu,bu);return await Promise.all([new Promise(async $u=>{await this.sendRequest(v$1({clientRpcId:su,relayRpcId:au,topic:na,method:vu,params:bu,expiry:tu,throwOnFailedPublish:!0},xu&&{tvf:this.getTVFParams(su,bu)})).catch(wu=>pu(wu)),this.client.events.emit("session_request_sent",{topic:na,request:$a,chainId:cs,id:su}),$u()}),new Promise(async $u=>{var wu;if(!((wu=iu.sessionConfig)!=null&&wu.disableDeepLink)){const _u=await Oi$1(this.client.core.storage,Me);await Si$1({id:su,topic:na,wcDeepLink:_u})}$u()}),ou()]).then($u=>$u[2])}),c(this,"respond",async us=>{this.isInitialized(),await this.isValidRespond(us);const{topic:cs,response:$a}=us,{id:na}=$a,tu=this.client.session.get(cs);tu.transportType===Q$1.relay&&await this.confirmOnlineStateOrThrow();const iu=this.getAppLinkIfEnabled(tu.peer.metadata,tu.transportType);isJsonRpcResult($a)?await this.sendResult({id:na,topic:cs,result:$a.result,throwOnFailedPublish:!0,appLink:iu}):isJsonRpcError($a)&&await this.sendError({id:na,topic:cs,error:$a.error,appLink:iu}),this.cleanupAfterResponse(us)}),c(this,"ping",async us=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(us)}catch($a){throw this.client.logger.error("ping() -> isValidPing() failed"),$a}const{topic:cs}=us;if(this.client.session.keys.includes(cs)){const $a=payloadId(),na=getBigIntRpcId().toString(),{done:tu,resolve:iu,reject:su}=gi$1();this.events.once(xi$1("session_ping",$a),({error:au})=>{au?su(au):iu()}),await Promise.all([this.sendRequest({topic:cs,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:$a,relayRpcId:na}),tu()])}else this.client.core.pairing.pairings.keys.includes(cs)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:cs}))}),c(this,"emit",async us=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(us);const{topic:cs,event:$a,chainId:na}=us,tu=getBigIntRpcId().toString(),iu=payloadId();await this.sendRequest({topic:cs,method:"wc_sessionEvent",params:{event:$a,chainId:na},throwOnFailedPublish:!0,relayRpcId:tu,clientRpcId:iu})}),c(this,"disconnect",async us=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(us);const{topic:cs}=us;if(this.client.session.keys.includes(cs))await this.sendRequest({topic:cs,method:"wc_sessionDelete",params:Nt$1("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:cs,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(cs))await this.client.core.pairing.disconnect({topic:cs});else{const{message:$a}=ht$1("MISMATCHED_TOPIC",`Session or pairing topic not found: ${cs}`);throw new Error($a)}}),c(this,"find",us=>(this.isInitialized(),this.client.session.getAll().filter(cs=>aa(cs,us)))),c(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),c(this,"authenticate",async(us,cs)=>{var $a;this.isInitialized(),this.isValidAuthenticate(us);const na=cs&&this.client.core.linkModeSupportedApps.includes(cs)&&(($a=this.client.metadata.redirect)==null?void 0:$a.linkMode),tu=na?Q$1.link_mode:Q$1.relay;tu===Q$1.relay&&await this.confirmOnlineStateOrThrow();const{chains:iu,statement:su="",uri:au,domain:ou,nonce:fu,type:pu,exp:vu,nbf:gu,methods:bu=[],expiry:xu}=us,$u=[...us.resources||[]],{topic:wu,uri:_u}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:tu});this.client.logger.info({message:"Generated new pairing",pairing:{topic:wu,uri:_u}});const Mu=await this.client.core.crypto.generateKeyPair(),Au=Pc(Mu);if(await Promise.all([this.client.auth.authKeys.set(ce,{responseTopic:Au,publicKey:Mu}),this.client.auth.pairingTopics.set(Au,{topic:Au,pairingTopic:wu})]),await this.client.core.relayer.subscribe(Au,{transportType:tu}),this.client.logger.info(`sending request to new pairing topic: ${wu}`),bu.length>0){const{namespace:cu}=Ie$1(iu[0]);let eu=fs(cu,"request",bu);de$1($u)&&(eu=ls(eu,$u.pop())),$u.push(eu)}const Pu=xu&&xu>N$1.wc_sessionAuthenticate.req.ttl?xu:N$1.wc_sessionAuthenticate.req.ttl,Su={authPayload:{type:pu??"caip122",chains:iu,statement:su,aud:au,domain:ou,version:"1",nonce:fu,iat:new Date().toISOString(),exp:vu,nbf:gu,resources:$u},requester:{publicKey:Mu,metadata:this.client.metadata},expiryTimestamp:Ei$1(Pu)},Bu={eip155:{chains:iu,methods:[...new Set(["personal_sign",...bu])],events:["chainChanged","accountsChanged"]}},Ou={requiredNamespaces:{},optionalNamespaces:Bu,relays:[{protocol:"irn"}],pairingTopic:wu,proposer:{publicKey:Mu,metadata:this.client.metadata},expiryTimestamp:Ei$1(N$1.wc_sessionPropose.req.ttl),id:payloadId()},{done:Vu,resolve:yu,reject:_a}=gi$1(Pu,"Request expired"),ru=payloadId(),nu=xi$1("session_connect",Ou.id),uu=xi$1("session_request",ru),lu=async({error:cu,session:eu})=>{this.events.off(uu,du),cu?_a(cu):eu&&yu({session:eu})},du=async cu=>{var eu,hu,Eu;if(await this.deletePendingAuthRequest(ru,{message:"fulfilled",code:0}),cu.error){const Uu=Nt$1("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return cu.error.code===Uu.code?void 0:(this.events.off(nu,lu),_a(cu.error.message))}await this.deleteProposal(Ou.id),this.events.off(nu,lu);const{cacaos:Ru,responder:Tu}=cu.result,qu=[],Du=[];for(const Uu of Ru){await is({cacao:Uu,projectId:this.client.core.projectId})||(this.client.logger.error(Uu,"Signature verification failed"),_a(Nt$1("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Hu}=Uu,zu=de$1(Hu.resources),ju=[dr$1(Hu.iss)],Wu=Me$2(Hu.iss);if(zu){const Dl=ds(zu),Zu=hs(zu);qu.push(...Dl),ju.push(...Zu)}for(const Dl of ju)Du.push(`${Dl}:${Wu}`)}const Iu=await this.client.core.crypto.generateSharedKey(Mu,Tu.publicKey);let Lu;qu.length>0&&(Lu={topic:Iu,acknowledged:!0,self:{publicKey:Mu,metadata:this.client.metadata},peer:Tu,controller:Tu.publicKey,expiry:Ei$1(J$1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:wu,namespaces:ca([...new Set(qu)],[...new Set(Du)]),transportType:tu},await this.client.core.relayer.subscribe(Iu,{transportType:tu}),await this.client.session.set(Iu,Lu),wu&&await this.client.core.pairing.updateMetadata({topic:wu,metadata:Tu.metadata}),Lu=this.client.session.get(Iu)),(eu=this.client.metadata.redirect)!=null&&eu.linkMode&&(hu=Tu.metadata.redirect)!=null&&hu.linkMode&&(Eu=Tu.metadata.redirect)!=null&&Eu.universal&&cs&&(this.client.core.addLinkModeSupportedApp(Tu.metadata.redirect.universal),this.client.session.update(Iu,{transportType:Q$1.link_mode})),yu({auths:Ru,session:Lu})};this.events.once(nu,lu),this.events.once(uu,du);let mu;try{if(na){const cu=formatJsonRpcRequest("wc_sessionAuthenticate",Su,ru);this.client.core.history.set(wu,cu);const eu=await this.client.core.crypto.encode("",cu,{type:ne$1,encoding:Ee$2});mu=Xc(cs,wu,eu)}else await Promise.all([this.sendRequest({topic:wu,method:"wc_sessionAuthenticate",params:Su,expiry:us.expiry,throwOnFailedPublish:!0,clientRpcId:ru}),this.sendRequest({topic:wu,method:"wc_sessionPropose",params:Ou,expiry:N$1.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:Ou.id})])}catch(cu){throw this.events.off(nu,lu),this.events.off(uu,du),cu}return await this.setProposal(Ou.id,Ou),await this.setAuthRequest(ru,{request:b$1(v$1({},Su),{verifyContext:{}}),pairingTopic:wu,transportType:tu}),{uri:mu??_u,response:Vu}}),c(this,"approveSessionAuthenticate",async us=>{const{id:cs,auths:$a}=us,na=this.client.core.eventClient.createEvent({properties:{topic:cs.toString(),trace:[tr.authenticated_session_approve_started]}});try{this.isInitialized()}catch(xu){throw na.setError(ir.no_internet_connection),xu}const tu=this.getPendingAuthRequest(cs);if(!tu)throw na.setError(ir.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${cs}`);const iu=tu.transportType||Q$1.relay;iu===Q$1.relay&&await this.confirmOnlineStateOrThrow();const su=tu.requester.publicKey,au=await this.client.core.crypto.generateKeyPair(),ou=Pc(su),fu={type:Kt$1,receiverPublicKey:su,senderPublicKey:au},pu=[],vu=[];for(const xu of $a){if(!await is({cacao:xu,projectId:this.client.core.projectId})){na.setError(ir.invalid_cacao);const Au=Nt$1("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:cs,topic:ou,error:Au,encodeOpts:fu}),new Error(Au.message)}na.addTrace(tr.cacaos_verified);const{p:$u}=xu,wu=de$1($u.resources),_u=[dr$1($u.iss)],Mu=Me$2($u.iss);if(wu){const Au=ds(wu),Pu=hs(wu);pu.push(...Au),_u.push(...Pu)}for(const Au of _u)vu.push(`${Au}:${Mu}`)}const gu=await this.client.core.crypto.generateSharedKey(au,su);na.addTrace(tr.create_authenticated_session_topic);let bu;if((pu==null?void 0:pu.length)>0){bu={topic:gu,acknowledged:!0,self:{publicKey:au,metadata:this.client.metadata},peer:{publicKey:su,metadata:tu.requester.metadata},controller:su,expiry:Ei$1(J$1),authentication:$a,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:tu.pairingTopic,namespaces:ca([...new Set(pu)],[...new Set(vu)]),transportType:iu},na.addTrace(tr.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(gu,{transportType:iu})}catch(xu){throw na.setError(ir.subscribe_authenticated_session_topic_failure),xu}na.addTrace(tr.subscribe_authenticated_session_topic_success),await this.client.session.set(gu,bu),na.addTrace(tr.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:tu.pairingTopic,metadata:tu.requester.metadata})}na.addTrace(tr.publishing_authenticated_session_approve);try{await this.sendResult({topic:ou,id:cs,result:{cacaos:$a,responder:{publicKey:au,metadata:this.client.metadata}},encodeOpts:fu,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(tu.requester.metadata,iu)})}catch(xu){throw na.setError(ir.authenticated_session_approve_publish_failure),xu}return await this.client.auth.requests.delete(cs,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:tu.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:na.eventId}),{session:bu}}),c(this,"rejectSessionAuthenticate",async us=>{this.isInitialized();const{id:cs,reason:$a}=us,na=this.getPendingAuthRequest(cs);if(!na)throw new Error(`Could not find pending auth request with id ${cs}`);na.transportType===Q$1.relay&&await this.confirmOnlineStateOrThrow();const tu=na.requester.publicKey,iu=await this.client.core.crypto.generateKeyPair(),su=Pc(tu),au={type:Kt$1,receiverPublicKey:tu,senderPublicKey:iu};await this.sendError({id:cs,topic:su,error:$a,encodeOpts:au,rpcOpts:N$1.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(na.requester.metadata,na.transportType)}),await this.client.auth.requests.delete(cs,{message:"rejected",code:0}),await this.client.proposal.delete(cs,Nt$1("USER_DISCONNECTED"))}),c(this,"formatAuthMessage",us=>{this.isInitialized();const{request:cs,iss:$a}=us;return hr$1(cs,$a)}),c(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const us=this.relayMessageCache.shift();us&&await this.onRelayMessage(us)}catch(us){this.client.logger.error(us)}},50)}),c(this,"cleanupDuplicatePairings",async us=>{if(us.pairingTopic)try{const cs=this.client.core.pairing.pairings.get(us.pairingTopic),$a=this.client.core.pairing.pairings.getAll().filter(na=>{var tu,iu;return((tu=na.peerMetadata)==null?void 0:tu.url)&&((iu=na.peerMetadata)==null?void 0:iu.url)===us.peer.metadata.url&&na.topic&&na.topic!==cs.topic});if($a.length===0)return;this.client.logger.info(`Cleaning up ${$a.length} duplicate pairing(s)`),await Promise.all($a.map(na=>this.client.core.pairing.disconnect({topic:na.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(cs){this.client.logger.error(cs)}}),c(this,"deleteSession",async us=>{var cs;const{topic:$a,expirerHasDeleted:na=!1,emitEvent:tu=!0,id:iu=0}=us,{self:su}=this.client.session.get($a);await this.client.core.relayer.unsubscribe($a),await this.client.session.delete($a,Nt$1("USER_DISCONNECTED")),this.addToRecentlyDeleted($a,"session"),this.client.core.crypto.keychain.has(su.publicKey)&&await this.client.core.crypto.deleteKeyPair(su.publicKey),this.client.core.crypto.keychain.has($a)&&await this.client.core.crypto.deleteSymKey($a),na||this.client.core.expirer.del($a),this.client.core.storage.removeItem(Me).catch(au=>this.client.logger.warn(au)),this.getPendingSessionRequests().forEach(au=>{au.topic===$a&&this.deletePendingSessionRequest(au.id,Nt$1("USER_DISCONNECTED"))}),$a===((cs=this.sessionRequestQueue.queue[0])==null?void 0:cs.topic)&&(this.sessionRequestQueue.state=$.idle),tu&&this.client.events.emit("session_delete",{id:iu,topic:$a})}),c(this,"deleteProposal",async(us,cs)=>{if(cs)try{const $a=this.client.proposal.get(us),na=this.client.core.eventClient.getEvent({topic:$a.pairingTopic});na==null||na.setError(er.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(us,Nt$1("USER_DISCONNECTED")),cs?Promise.resolve():this.client.core.expirer.del(us)]),this.addToRecentlyDeleted(us,"proposal")}),c(this,"deletePendingSessionRequest",async(us,cs,$a=!1)=>{await Promise.all([this.client.pendingRequest.delete(us,cs),$a?Promise.resolve():this.client.core.expirer.del(us)]),this.addToRecentlyDeleted(us,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(na=>na.id!==us),$a&&(this.sessionRequestQueue.state=$.idle,this.client.events.emit("session_request_expire",{id:us}))}),c(this,"deletePendingAuthRequest",async(us,cs,$a=!1)=>{await Promise.all([this.client.auth.requests.delete(us,cs),$a?Promise.resolve():this.client.core.expirer.del(us)])}),c(this,"setExpiry",async(us,cs)=>{this.client.session.keys.includes(us)&&(this.client.core.expirer.set(us,cs),await this.client.session.update(us,{expiry:cs}))}),c(this,"setProposal",async(us,cs)=>{this.client.core.expirer.set(us,Ei$1(N$1.wc_sessionPropose.req.ttl)),await this.client.proposal.set(us,cs)}),c(this,"setAuthRequest",async(us,cs)=>{const{request:$a,pairingTopic:na,transportType:tu=Q$1.relay}=cs;this.client.core.expirer.set(us,$a.expiryTimestamp),await this.client.auth.requests.set(us,{authPayload:$a.authPayload,requester:$a.requester,expiryTimestamp:$a.expiryTimestamp,id:us,pairingTopic:na,verifyContext:$a.verifyContext,transportType:tu})}),c(this,"setPendingSessionRequest",async us=>{const{id:cs,topic:$a,params:na,verifyContext:tu}=us,iu=na.request.expiryTimestamp||Ei$1(N$1.wc_sessionRequest.req.ttl);this.client.core.expirer.set(cs,iu),await this.client.pendingRequest.set(cs,{id:cs,topic:$a,params:na,verifyContext:tu})}),c(this,"sendRequest",async us=>{const{topic:cs,method:$a,params:na,expiry:tu,relayRpcId:iu,clientRpcId:su,throwOnFailedPublish:au,appLink:ou,tvf:fu}=us,pu=formatJsonRpcRequest($a,na,su);let vu;const gu=!!ou;try{const $u=gu?Ee$2:Ht$1;vu=await this.client.core.crypto.encode(cs,pu,{encoding:$u})}catch($u){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${cs} failed`),$u}let bu;if(gt.includes($a)){const $u=kc(JSON.stringify(pu)),wu=kc(vu);bu=await this.client.core.verify.register({id:wu,decryptedId:$u})}const xu=N$1[$a].req;if(xu.attestation=bu,tu&&(xu.ttl=tu),iu&&(xu.id=iu),this.client.core.history.set(cs,pu),gu){const $u=Xc(ou,cs,vu);await global$1.Linking.openURL($u,this.client.name)}else{const $u=N$1[$a].req;tu&&($u.ttl=tu),iu&&($u.id=iu),$u.tvf=b$1(v$1({},fu),{correlationId:pu.id}),au?($u.internal=b$1(v$1({},$u.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(cs,vu,$u)):this.client.core.relayer.publish(cs,vu,$u).catch(wu=>this.client.logger.error(wu))}return pu.id}),c(this,"sendResult",async us=>{const{id:cs,topic:$a,result:na,throwOnFailedPublish:tu,encodeOpts:iu,appLink:su}=us,au=formatJsonRpcResult(cs,na);let ou;const fu=su&&typeof(global$1==null?void 0:global$1.Linking)<"u";try{const gu=fu?Ee$2:Ht$1;ou=await this.client.core.crypto.encode($a,au,b$1(v$1({},iu||{}),{encoding:gu}))}catch(gu){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${$a} failed`),gu}let pu,vu;try{pu=await this.client.core.history.get($a,cs);const gu=pu.request;try{this.shouldSetTVF(gu.method,gu.params)&&(vu=this.getTVFParams(cs,gu.params,na))}catch(bu){this.client.logger.warn("sendResult() -> getTVFParams() failed",bu)}}catch(gu){throw this.client.logger.error(`sendResult() -> history.get(${$a}, ${cs}) failed`),gu}if(fu){const gu=Xc(su,$a,ou);await global$1.Linking.openURL(gu,this.client.name)}else{const gu=pu.request.method,bu=N$1[gu].res;bu.tvf=b$1(v$1({},vu),{correlationId:cs}),tu?(bu.internal=b$1(v$1({},bu.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish($a,ou,bu)):this.client.core.relayer.publish($a,ou,bu).catch(xu=>this.client.logger.error(xu))}await this.client.core.history.resolve(au)}),c(this,"sendError",async us=>{const{id:cs,topic:$a,error:na,encodeOpts:tu,rpcOpts:iu,appLink:su}=us,au=formatJsonRpcError(cs,na);let ou;const fu=su&&typeof(global$1==null?void 0:global$1.Linking)<"u";try{const vu=fu?Ee$2:Ht$1;ou=await this.client.core.crypto.encode($a,au,b$1(v$1({},tu||{}),{encoding:vu}))}catch(vu){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${$a} failed`),vu}let pu;try{pu=await this.client.core.history.get($a,cs)}catch(vu){throw this.client.logger.error(`sendError() -> history.get(${$a}, ${cs}) failed`),vu}if(fu){const vu=Xc(su,$a,ou);await global$1.Linking.openURL(vu,this.client.name)}else{const vu=pu.request.method,gu=iu||N$1[vu].res;this.client.core.relayer.publish($a,ou,gu)}await this.client.core.history.resolve(au)}),c(this,"cleanup",async()=>{const us=[],cs=[];this.client.session.getAll().forEach($a=>{let na=!1;vi$1($a.expiry)&&(na=!0),this.client.core.crypto.keychain.has($a.topic)||(na=!0),na&&us.push($a.topic)}),this.client.proposal.getAll().forEach($a=>{vi$1($a.expiryTimestamp)&&cs.push($a.id)}),await Promise.all([...us.map($a=>this.deleteSession({topic:$a})),...cs.map($a=>this.deleteProposal($a))])}),c(this,"onProviderMessageEvent",async us=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(us):await this.onRelayMessage(us)}),c(this,"onRelayEventRequest",async us=>{this.requestQueue.queue.push(us),await this.processRequestsQueue()}),c(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===$.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$.active;const us=this.requestQueue.queue.shift();if(us)try{await this.processRequest(us)}catch(cs){this.client.logger.warn(cs)}}this.requestQueue.state=$.idle}),c(this,"processRequest",async us=>{const{topic:cs,payload:$a,attestation:na,transportType:tu,encryptedId:iu}=us,su=$a.method;if(!this.shouldIgnorePairingRequest({topic:cs,requestMethod:su}))switch(su){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:cs,payload:$a,attestation:na,encryptedId:iu});case"wc_sessionSettle":return await this.onSessionSettleRequest(cs,$a);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(cs,$a);case"wc_sessionExtend":return await this.onSessionExtendRequest(cs,$a);case"wc_sessionPing":return await this.onSessionPingRequest(cs,$a);case"wc_sessionDelete":return await this.onSessionDeleteRequest(cs,$a);case"wc_sessionRequest":return await this.onSessionRequest({topic:cs,payload:$a,attestation:na,encryptedId:iu,transportType:tu});case"wc_sessionEvent":return await this.onSessionEventRequest(cs,$a);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:cs,payload:$a,attestation:na,encryptedId:iu,transportType:tu});default:return this.client.logger.info(`Unsupported request method ${su}`)}}),c(this,"onRelayEventResponse",async us=>{const{topic:cs,payload:$a,transportType:na}=us,tu=(await this.client.core.history.get(cs,$a.id)).request.method;switch(tu){case"wc_sessionPropose":return this.onSessionProposeResponse(cs,$a,na);case"wc_sessionSettle":return this.onSessionSettleResponse(cs,$a);case"wc_sessionUpdate":return this.onSessionUpdateResponse(cs,$a);case"wc_sessionExtend":return this.onSessionExtendResponse(cs,$a);case"wc_sessionPing":return this.onSessionPingResponse(cs,$a);case"wc_sessionRequest":return this.onSessionRequestResponse(cs,$a);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(cs,$a);default:return this.client.logger.info(`Unsupported response method ${tu}`)}}),c(this,"onRelayEventUnknownPayload",us=>{const{topic:cs}=us,{message:$a}=ht$1("MISSING_OR_INVALID",`Decoded payload on topic ${cs} is not identifiable as a JSON-RPC request or a response.`);throw new Error($a)}),c(this,"shouldIgnorePairingRequest",us=>{const{topic:cs,requestMethod:$a}=us,na=this.expectedPairingMethodMap.get(cs);return!na||na.includes($a)?!1:!!(na.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),c(this,"onSessionProposeRequest",async us=>{const{topic:cs,payload:$a,attestation:na,encryptedId:tu}=us,{params:iu,id:su}=$a;try{const au=this.client.core.eventClient.getEvent({topic:cs});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),au==null||au.setError(Y$1.proposal_listener_not_found)),this.isValidConnect(v$1({},$a.params));const ou=iu.expiryTimestamp||Ei$1(N$1.wc_sessionPropose.req.ttl),fu=v$1({id:su,pairingTopic:cs,expiryTimestamp:ou},iu);await this.setProposal(su,fu);const pu=await this.getVerifyContext({attestationId:na,hash:kc(JSON.stringify($a)),encryptedId:tu,metadata:fu.proposer.metadata});au==null||au.addTrace(G.emit_session_proposal),this.client.events.emit("session_proposal",{id:su,params:fu,verifyContext:pu})}catch(au){await this.sendError({id:su,topic:cs,error:au,rpcOpts:N$1.wc_sessionPropose.autoReject}),this.client.logger.error(au)}}),c(this,"onSessionProposeResponse",async(us,cs,$a)=>{const{id:na}=cs;if(isJsonRpcResult(cs)){const{result:tu}=cs;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:tu});const iu=this.client.proposal.get(na);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:iu});const su=iu.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:su});const au=tu.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:au});const ou=await this.client.core.crypto.generateSharedKey(su,au);this.pendingSessions.set(na,{sessionTopic:ou,pairingTopic:us,proposalId:na,publicKey:su});const fu=await this.client.core.relayer.subscribe(ou,{transportType:$a});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:fu}),await this.client.core.pairing.activate({topic:us})}else if(isJsonRpcError(cs)){await this.client.proposal.delete(na,Nt$1("USER_DISCONNECTED"));const tu=xi$1("session_connect",na);if(this.events.listenerCount(tu)===0)throw new Error(`emitting ${tu} without any listeners, 954`);this.events.emit(tu,{error:cs.error})}}),c(this,"onSessionSettleRequest",async(us,cs)=>{const{id:$a,params:na}=cs;try{this.isValidSessionSettleRequest(na);const{relay:tu,controller:iu,expiry:su,namespaces:au,sessionProperties:ou,scopedProperties:fu,sessionConfig:pu}=cs.params,vu=[...this.pendingSessions.values()].find(xu=>xu.sessionTopic===us);if(!vu)return this.client.logger.error(`Pending session not found for topic ${us}`);const gu=this.client.proposal.get(vu.proposalId),bu=b$1(v$1(v$1(v$1({topic:us,relay:tu,expiry:su,namespaces:au,acknowledged:!0,pairingTopic:vu.pairingTopic,requiredNamespaces:gu.requiredNamespaces,optionalNamespaces:gu.optionalNamespaces,controller:iu.publicKey,self:{publicKey:vu.publicKey,metadata:this.client.metadata},peer:{publicKey:iu.publicKey,metadata:iu.metadata}},ou&&{sessionProperties:ou}),fu&&{scopedProperties:fu}),pu&&{sessionConfig:pu}),{transportType:Q$1.relay});await this.client.session.set(bu.topic,bu),await this.setExpiry(bu.topic,bu.expiry),await this.client.core.pairing.updateMetadata({topic:vu.pairingTopic,metadata:bu.peer.metadata}),this.client.events.emit("session_connect",{session:bu}),this.events.emit(xi$1("session_connect",vu.proposalId),{session:bu}),this.pendingSessions.delete(vu.proposalId),this.deleteProposal(vu.proposalId,!1),this.cleanupDuplicatePairings(bu),await this.sendResult({id:cs.id,topic:us,result:!0,throwOnFailedPublish:!0})}catch(tu){await this.sendError({id:$a,topic:us,error:tu}),this.client.logger.error(tu)}}),c(this,"onSessionSettleResponse",async(us,cs)=>{const{id:$a}=cs;isJsonRpcResult(cs)?(await this.client.session.update(us,{acknowledged:!0}),this.events.emit(xi$1("session_approve",$a),{})):isJsonRpcError(cs)&&(await this.client.session.delete(us,Nt$1("USER_DISCONNECTED")),this.events.emit(xi$1("session_approve",$a),{error:cs.error}))}),c(this,"onSessionUpdateRequest",async(us,cs)=>{const{params:$a,id:na}=cs;try{const tu=`${us}_session_update`,iu=Ua.get(tu);if(iu&&this.isRequestOutOfSync(iu,na)){this.client.logger.warn(`Discarding out of sync request - ${na}`),this.sendError({id:na,topic:us,error:Nt$1("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(v$1({topic:us},$a));try{Ua.set(tu,na),await this.client.session.update(us,{namespaces:$a.namespaces}),await this.sendResult({id:na,topic:us,result:!0,throwOnFailedPublish:!0})}catch(su){throw Ua.delete(tu),su}this.client.events.emit("session_update",{id:na,topic:us,params:$a})}catch(tu){await this.sendError({id:na,topic:us,error:tu}),this.client.logger.error(tu)}}),c(this,"isRequestOutOfSync",(us,cs)=>cs.toString().slice(0,-3)<us.toString().slice(0,-3)),c(this,"onSessionUpdateResponse",(us,cs)=>{const{id:$a}=cs,na=xi$1("session_update",$a);if(this.events.listenerCount(na)===0)throw new Error(`emitting ${na} without any listeners`);isJsonRpcResult(cs)?this.events.emit(xi$1("session_update",$a),{}):isJsonRpcError(cs)&&this.events.emit(xi$1("session_update",$a),{error:cs.error})}),c(this,"onSessionExtendRequest",async(us,cs)=>{const{id:$a}=cs;try{this.isValidExtend({topic:us}),await this.setExpiry(us,Ei$1(J$1)),await this.sendResult({id:$a,topic:us,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:$a,topic:us})}catch(na){await this.sendError({id:$a,topic:us,error:na}),this.client.logger.error(na)}}),c(this,"onSessionExtendResponse",(us,cs)=>{const{id:$a}=cs,na=xi$1("session_extend",$a);if(this.events.listenerCount(na)===0)throw new Error(`emitting ${na} without any listeners`);isJsonRpcResult(cs)?this.events.emit(xi$1("session_extend",$a),{}):isJsonRpcError(cs)&&this.events.emit(xi$1("session_extend",$a),{error:cs.error})}),c(this,"onSessionPingRequest",async(us,cs)=>{const{id:$a}=cs;try{this.isValidPing({topic:us}),await this.sendResult({id:$a,topic:us,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:$a,topic:us})}catch(na){await this.sendError({id:$a,topic:us,error:na}),this.client.logger.error(na)}}),c(this,"onSessionPingResponse",(us,cs)=>{const{id:$a}=cs,na=xi$1("session_ping",$a);setTimeout(()=>{if(this.events.listenerCount(na)===0)throw new Error(`emitting ${na} without any listeners 2176`);isJsonRpcResult(cs)?this.events.emit(xi$1("session_ping",$a),{}):isJsonRpcError(cs)&&this.events.emit(xi$1("session_ping",$a),{error:cs.error})},500)}),c(this,"onSessionDeleteRequest",async(us,cs)=>{const{id:$a}=cs;try{this.isValidDisconnect({topic:us,reason:cs.params}),Promise.all([new Promise(na=>{this.client.core.relayer.once(C$1.publish,async()=>{na(await this.deleteSession({topic:us,id:$a}))})}),this.sendResult({id:$a,topic:us,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:us,error:Nt$1("USER_DISCONNECTED")})]).catch(na=>this.client.logger.error(na))}catch(na){this.client.logger.error(na)}}),c(this,"onSessionRequest",async us=>{var cs,$a,na;const{topic:tu,payload:iu,attestation:su,encryptedId:au,transportType:ou}=us,{id:fu,params:pu}=iu;try{await this.isValidRequest(v$1({topic:tu},pu));const vu=this.client.session.get(tu),gu=await this.getVerifyContext({attestationId:su,hash:kc(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",pu,fu))),encryptedId:au,metadata:vu.peer.metadata,transportType:ou}),bu={id:fu,topic:tu,params:pu,verifyContext:gu};await this.setPendingSessionRequest(bu),ou===Q$1.link_mode&&(cs=vu.peer.metadata.redirect)!=null&&cs.universal&&this.client.core.addLinkModeSupportedApp(($a=vu.peer.metadata.redirect)==null?void 0:$a.universal),(na=this.client.signConfig)!=null&&na.disableRequestQueue?this.emitSessionRequest(bu):(this.addSessionRequestToSessionRequestQueue(bu),this.processSessionRequestQueue())}catch(vu){await this.sendError({id:fu,topic:tu,error:vu}),this.client.logger.error(vu)}}),c(this,"onSessionRequestResponse",(us,cs)=>{const{id:$a}=cs,na=xi$1("session_request",$a);if(this.events.listenerCount(na)===0)throw new Error(`emitting ${na} without any listeners`);isJsonRpcResult(cs)?this.events.emit(xi$1("session_request",$a),{result:cs.result}):isJsonRpcError(cs)&&this.events.emit(xi$1("session_request",$a),{error:cs.error})}),c(this,"onSessionEventRequest",async(us,cs)=>{const{id:$a,params:na}=cs;try{const tu=`${us}_session_event_${na.event.name}`,iu=Ua.get(tu);if(iu&&this.isRequestOutOfSync(iu,$a)){this.client.logger.info(`Discarding out of sync request - ${$a}`);return}this.isValidEmit(v$1({topic:us},na)),this.client.events.emit("session_event",{id:$a,topic:us,params:na}),Ua.set(tu,$a)}catch(tu){await this.sendError({id:$a,topic:us,error:tu}),this.client.logger.error(tu)}}),c(this,"onSessionAuthenticateResponse",(us,cs)=>{const{id:$a}=cs;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:us,payload:cs}),isJsonRpcResult(cs)?this.events.emit(xi$1("session_request",$a),{result:cs.result}):isJsonRpcError(cs)&&this.events.emit(xi$1("session_request",$a),{error:cs.error})}),c(this,"onSessionAuthenticateRequest",async us=>{var cs;const{topic:$a,payload:na,attestation:tu,encryptedId:iu,transportType:su}=us;try{const{requester:au,authPayload:ou,expiryTimestamp:fu}=na.params,pu=await this.getVerifyContext({attestationId:tu,hash:kc(JSON.stringify(na)),encryptedId:iu,metadata:au.metadata,transportType:su}),vu={requester:au,pairingTopic:$a,id:na.id,authPayload:ou,verifyContext:pu,expiryTimestamp:fu};await this.setAuthRequest(na.id,{request:vu,pairingTopic:$a,transportType:su}),su===Q$1.link_mode&&(cs=au.metadata.redirect)!=null&&cs.universal&&this.client.core.addLinkModeSupportedApp(au.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:$a,params:na.params,id:na.id,verifyContext:pu})}catch(au){this.client.logger.error(au);const ou=na.params.requester.publicKey,fu=await this.client.core.crypto.generateKeyPair(),pu=this.getAppLinkIfEnabled(na.params.requester.metadata,su),vu={type:Kt$1,receiverPublicKey:ou,senderPublicKey:fu};await this.sendError({id:na.id,topic:$a,error:au,encodeOpts:vu,rpcOpts:N$1.wc_sessionAuthenticate.autoReject,appLink:pu})}}),c(this,"addSessionRequestToSessionRequestQueue",us=>{this.sessionRequestQueue.queue.push(us)}),c(this,"cleanupAfterResponse",us=>{this.deletePendingSessionRequest(us.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=$.idle,this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay))}),c(this,"cleanupPendingSentRequestsForTopic",({topic:us,error:cs})=>{const $a=this.client.core.history.pending;$a.length>0&&$a.filter(na=>na.topic===us&&na.request.method==="wc_sessionRequest").forEach(na=>{const tu=na.request.id,iu=xi$1("session_request",tu);if(this.events.listenerCount(iu)===0)throw new Error(`emitting ${iu} without any listeners`);this.events.emit(xi$1("session_request",na.request.id),{error:cs})})}),c(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===$.active){this.client.logger.info("session request queue is already active.");return}const us=this.sessionRequestQueue.queue[0];if(!us){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=$.active,this.emitSessionRequest(us)}catch(cs){this.client.logger.error(cs)}}),c(this,"emitSessionRequest",us=>{this.client.events.emit("session_request",us)}),c(this,"onPairingCreated",us=>{if(us.methods&&this.expectedPairingMethodMap.set(us.topic,us.methods),us.active)return;const cs=this.client.proposal.getAll().find($a=>$a.pairingTopic===us.topic);cs&&this.onSessionProposeRequest({topic:us.topic,payload:formatJsonRpcRequest("wc_sessionPropose",b$1(v$1({},cs),{requiredNamespaces:cs.requiredNamespaces,optionalNamespaces:cs.optionalNamespaces,relays:cs.relays,proposer:cs.proposer,sessionProperties:cs.sessionProperties,scopedProperties:cs.scopedProperties}),cs.id)})}),c(this,"isValidConnect",async us=>{if(!ya(us)){const{message:au}=ht$1("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(us)}`);throw new Error(au)}const{pairingTopic:cs,requiredNamespaces:$a,optionalNamespaces:na,sessionProperties:tu,scopedProperties:iu,relays:su}=us;if(Et$2(cs)||await this.isValidPairingTopic(cs),!pa(su)){const{message:au}=ht$1("MISSING_OR_INVALID",`connect() relays: ${su}`);throw new Error(au)}if(!Et$2($a)&&xe($a)!==0&&this.validateNamespaces($a,"requiredNamespaces"),!Et$2(na)&&xe(na)!==0&&this.validateNamespaces(na,"optionalNamespaces"),Et$2(tu)||this.validateSessionProps(tu,"sessionProperties"),!Et$2(iu)){this.validateSessionProps(iu,"scopedProperties");const au=Object.keys($a||{}).concat(Object.keys(na||{}));if(!Object.keys(iu).every(ou=>au.includes(ou)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(iu)}, required/optional namespaces: ${JSON.stringify(au)}`)}}),c(this,"validateNamespaces",(us,cs)=>{const $a=ha(us,"connect()",cs);if($a)throw new Error($a.message)}),c(this,"isValidApprove",async us=>{if(!ya(us))throw new Error(ht$1("MISSING_OR_INVALID",`approve() params: ${us}`).message);const{id:cs,namespaces:$a,relayProtocol:na,sessionProperties:tu,scopedProperties:iu}=us;this.checkRecentlyDeleted(cs),await this.isValidProposalId(cs);const su=this.client.proposal.get(cs),au=Bo$1($a,"approve()");if(au)throw new Error(au.message);const ou=No$1(su.requiredNamespaces,$a,"approve()");if(ou)throw new Error(ou.message);if(!nt(na,!0)){const{message:fu}=ht$1("MISSING_OR_INVALID",`approve() relayProtocol: ${na}`);throw new Error(fu)}if(Et$2(tu)||this.validateSessionProps(tu,"sessionProperties"),!Et$2(iu)){this.validateSessionProps(iu,"scopedProperties");const fu=new Set(Object.keys($a));if(!Object.keys(iu).every(pu=>fu.has(pu)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(iu)}, approved namespaces: ${Array.from(fu).join(", ")}`)}}),c(this,"isValidReject",async us=>{if(!ya(us)){const{message:na}=ht$1("MISSING_OR_INVALID",`reject() params: ${us}`);throw new Error(na)}const{id:cs,reason:$a}=us;if(this.checkRecentlyDeleted(cs),await this.isValidProposalId(cs),!ma($a)){const{message:na}=ht$1("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify($a)}`);throw new Error(na)}}),c(this,"isValidSessionSettleRequest",us=>{if(!ya(us)){const{message:au}=ht$1("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${us}`);throw new Error(au)}const{relay:cs,controller:$a,namespaces:na,expiry:tu}=us;if(!Io$1(cs)){const{message:au}=ht$1("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(au)}const iu=da($a,"onSessionSettleRequest()");if(iu)throw new Error(iu.message);const su=Bo$1(na,"onSessionSettleRequest()");if(su)throw new Error(su.message);if(vi$1(tu)){const{message:au}=ht$1("EXPIRED","onSessionSettleRequest()");throw new Error(au)}}),c(this,"isValidUpdate",async us=>{if(!ya(us)){const{message:su}=ht$1("MISSING_OR_INVALID",`update() params: ${us}`);throw new Error(su)}const{topic:cs,namespaces:$a}=us;this.checkRecentlyDeleted(cs),await this.isValidSessionTopic(cs);const na=this.client.session.get(cs),tu=Bo$1($a,"update()");if(tu)throw new Error(tu.message);const iu=No$1(na.requiredNamespaces,$a,"update()");if(iu)throw new Error(iu.message)}),c(this,"isValidExtend",async us=>{if(!ya(us)){const{message:$a}=ht$1("MISSING_OR_INVALID",`extend() params: ${us}`);throw new Error($a)}const{topic:cs}=us;this.checkRecentlyDeleted(cs),await this.isValidSessionTopic(cs)}),c(this,"isValidRequest",async us=>{if(!ya(us)){const{message:su}=ht$1("MISSING_OR_INVALID",`request() params: ${us}`);throw new Error(su)}const{topic:cs,request:$a,chainId:na,expiry:tu}=us;this.checkRecentlyDeleted(cs),await this.isValidSessionTopic(cs);const{namespaces:iu}=this.client.session.get(cs);if(!va(iu,na)){const{message:su}=ht$1("MISSING_OR_INVALID",`request() chainId: ${na}`);throw new Error(su)}if(!wa($a)){const{message:su}=ht$1("MISSING_OR_INVALID",`request() ${JSON.stringify($a)}`);throw new Error(su)}if(!xa(iu,na,$a.method)){const{message:su}=ht$1("MISSING_OR_INVALID",`request() method: ${$a.method}`);throw new Error(su)}if(tu&&!Ba(tu,_e)){const{message:su}=ht$1("MISSING_OR_INVALID",`request() expiry: ${tu}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(su)}}),c(this,"isValidRespond",async us=>{var cs;if(!ya(us)){const{message:tu}=ht$1("MISSING_OR_INVALID",`respond() params: ${us}`);throw new Error(tu)}const{topic:$a,response:na}=us;try{await this.isValidSessionTopic($a)}catch(tu){throw(cs=us==null?void 0:us.response)!=null&&cs.id&&this.cleanupAfterResponse(us),tu}if(!ba(na)){const{message:tu}=ht$1("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(na)}`);throw new Error(tu)}}),c(this,"isValidPing",async us=>{if(!ya(us)){const{message:$a}=ht$1("MISSING_OR_INVALID",`ping() params: ${us}`);throw new Error($a)}const{topic:cs}=us;await this.isValidSessionOrPairingTopic(cs)}),c(this,"isValidEmit",async us=>{if(!ya(us)){const{message:iu}=ht$1("MISSING_OR_INVALID",`emit() params: ${us}`);throw new Error(iu)}const{topic:cs,event:$a,chainId:na}=us;await this.isValidSessionTopic(cs);const{namespaces:tu}=this.client.session.get(cs);if(!va(tu,na)){const{message:iu}=ht$1("MISSING_OR_INVALID",`emit() chainId: ${na}`);throw new Error(iu)}if(!Ea($a)){const{message:iu}=ht$1("MISSING_OR_INVALID",`emit() event: ${JSON.stringify($a)}`);throw new Error(iu)}if(!Sa(tu,na,$a.name)){const{message:iu}=ht$1("MISSING_OR_INVALID",`emit() event: ${JSON.stringify($a)}`);throw new Error(iu)}}),c(this,"isValidDisconnect",async us=>{if(!ya(us)){const{message:$a}=ht$1("MISSING_OR_INVALID",`disconnect() params: ${us}`);throw new Error($a)}const{topic:cs}=us;await this.isValidSessionOrPairingTopic(cs)}),c(this,"isValidAuthenticate",us=>{const{chains:cs,uri:$a,domain:na,nonce:tu}=us;if(!Array.isArray(cs)||cs.length===0)throw new Error("chains is required and must be a non-empty array");if(!nt($a,!1))throw new Error("uri is required parameter");if(!nt(na,!1))throw new Error("domain is required parameter");if(!nt(tu,!1))throw new Error("nonce is required parameter");if([...new Set(cs.map(su=>Ie$1(su).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:iu}=Ie$1(cs[0]);if(iu!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),c(this,"getVerifyContext",async us=>{const{attestationId:cs,hash:$a,encryptedId:na,metadata:tu,transportType:iu}=us,su={verified:{verifyUrl:tu.verifyUrl||ue,validation:"UNKNOWN",origin:tu.url||""}};try{if(iu===Q$1.link_mode){const ou=this.getAppLinkIfEnabled(tu,iu);return su.verified.validation=ou&&new URL(ou).origin===new URL(tu.url).origin?"VALID":"INVALID",su}const au=await this.client.core.verify.resolve({attestationId:cs,hash:$a,encryptedId:na,verifyUrl:tu.verifyUrl});au&&(su.verified.origin=au.origin,su.verified.isScam=au.isScam,su.verified.validation=au.origin===new URL(tu.url).origin?"VALID":"INVALID")}catch(au){this.client.logger.warn(au)}return this.client.logger.debug(`Verify context: ${JSON.stringify(su)}`),su}),c(this,"validateSessionProps",(us,cs)=>{Object.values(us).forEach(($a,na)=>{if($a==null){const{message:tu}=ht$1("MISSING_OR_INVALID",`${cs} must contain an existing value for each key. Received: ${$a} for key ${Object.keys(us)[na]}`);throw new Error(tu)}})}),c(this,"getPendingAuthRequest",us=>{const cs=this.client.auth.requests.get(us);return typeof cs=="object"?cs:void 0}),c(this,"addToRecentlyDeleted",(us,cs)=>{if(this.recentlyDeletedMap.set(us,cs),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let $a=0;const na=this.recentlyDeletedLimit/2;for(const tu of this.recentlyDeletedMap.keys()){if($a++>=na)break;this.recentlyDeletedMap.delete(tu)}}}),c(this,"checkRecentlyDeleted",us=>{const cs=this.recentlyDeletedMap.get(us);if(cs){const{message:$a}=ht$1("MISSING_OR_INVALID",`Record was recently deleted - ${cs}: ${us}`);throw new Error($a)}}),c(this,"isLinkModeEnabled",(us,cs)=>{var $a,na,tu,iu,su,au,ou,fu,pu;return!us||cs!==Q$1.link_mode?!1:((na=($a=this.client.metadata)==null?void 0:$a.redirect)==null?void 0:na.linkMode)===!0&&((iu=(tu=this.client.metadata)==null?void 0:tu.redirect)==null?void 0:iu.universal)!==void 0&&((au=(su=this.client.metadata)==null?void 0:su.redirect)==null?void 0:au.universal)!==""&&((ou=us==null?void 0:us.redirect)==null?void 0:ou.universal)!==void 0&&((fu=us==null?void 0:us.redirect)==null?void 0:fu.universal)!==""&&((pu=us==null?void 0:us.redirect)==null?void 0:pu.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(us.redirect.universal)&&typeof(global$1==null?void 0:global$1.Linking)<"u"}),c(this,"getAppLinkIfEnabled",(us,cs)=>{var $a;return this.isLinkModeEnabled(us,cs)?($a=us==null?void 0:us.redirect)==null?void 0:$a.universal:void 0}),c(this,"handleLinkModeMessage",({url:us})=>{if(!us||!us.includes("wc_ev")||!us.includes("topic"))return;const cs=Ai$1(us,"topic")||"",$a=decodeURIComponent(Ai$1(us,"wc_ev")||""),na=this.client.session.keys.includes(cs);na&&this.client.session.update(cs,{transportType:Q$1.link_mode}),this.client.core.dispatchEnvelope({topic:cs,message:$a,sessionExists:na})}),c(this,"registerLinkModeListeners",async()=>{var us;if(Ii$1()||pt$1()&&(us=this.client.metadata.redirect)!=null&&us.linkMode){const cs=global$1==null?void 0:global$1.Linking;if(typeof cs<"u"){cs.addEventListener("url",this.handleLinkModeMessage,this.client.name);const $a=await cs.getInitialURL();$a&&setTimeout(()=>{this.handleLinkModeMessage({url:$a})},50)}}}),c(this,"shouldSetTVF",(us,cs)=>{if(!cs||us!=="wc_sessionRequest")return!1;const{request:$a}=cs;return Object.keys(Ue).includes($a.method)}),c(this,"getTVFParams",(us,cs,$a)=>{var na,tu;try{const iu=cs.request.method,su=this.extractTxHashesFromResult(iu,$a);return b$1(v$1({correlationId:us,rpcMethods:[iu],chainId:cs.chainId},this.isValidContractData(cs.request.params)&&{contractAddresses:[(tu=(na=cs.request.params)==null?void 0:na[0])==null?void 0:tu.to]}),{txHashes:su})}catch(iu){this.client.logger.warn("Error getting TVF params",iu)}return{}}),c(this,"isValidContractData",us=>{var cs;if(!us)return!1;try{const $a=(us==null?void 0:us.data)||((cs=us==null?void 0:us[0])==null?void 0:cs.data);if(!$a.startsWith("0x"))return!1;const na=$a.slice(2);return/^[0-9a-fA-F]*$/.test(na)?na.length%2===0:!1}catch{}return!1}),c(this,"extractTxHashesFromResult",(us,cs)=>{try{const $a=Ue[us];if(typeof cs=="string")return[cs];const na=cs[$a.key];if(oe(na))return us==="solana_signAllTransactions"?na.map(tu=>Ji(tu)):na;if(typeof na=="string")return[na]}catch($a){this.client.logger.warn("Error extracting tx hashes from result",$a)}return[]})}async processPendingMessageEvents(){try{const as=this.client.session.keys,us=this.client.core.relayer.messages.getWithoutAck(as);for(const[cs,$a]of Object.entries(us))for(const na of $a)try{await this.onProviderMessageEvent({topic:cs,message:na,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${cs}, message: ${na}`)}}catch(as){this.client.logger.warn("processPendingMessageEvents failed",as)}}isInitialized(){if(!this.initialized){const{message:as}=ht$1("NOT_INITIALIZED",this.name);throw new Error(as)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(C$1.message,as=>{this.onProviderMessageEvent(as)})}async onRelayMessage(as){const{topic:us,message:cs,attestation:$a,transportType:na}=as,{publicKey:tu}=this.client.auth.authKeys.keys.includes(ce)?this.client.auth.authKeys.get(ce):{publicKey:void 0};try{const iu=await this.client.core.crypto.decode(us,cs,{receiverPublicKey:tu,encoding:na===Q$1.link_mode?Ee$2:Ht$1});isJsonRpcRequest(iu)?(this.client.core.history.set(us,iu),await this.onRelayEventRequest({topic:us,payload:iu,attestation:$a,transportType:na,encryptedId:kc(cs)})):isJsonRpcResponse(iu)?(await this.client.core.history.resolve(iu),await this.onRelayEventResponse({topic:us,payload:iu,transportType:na}),this.client.core.history.delete(us,iu.id)):await this.onRelayEventUnknownPayload({topic:us,payload:iu,transportType:na}),await this.client.core.relayer.messages.ack(us,cs)}catch(iu){this.client.logger.error(iu)}}registerExpirerEvents(){this.client.core.expirer.on(M.expired,async as=>{const{topic:us,id:cs}=bi$1(as.target);if(cs&&this.client.pendingRequest.keys.includes(cs))return await this.deletePendingSessionRequest(cs,ht$1("EXPIRED"),!0);if(cs&&this.client.auth.requests.keys.includes(cs))return await this.deletePendingAuthRequest(cs,ht$1("EXPIRED"),!0);us?this.client.session.keys.includes(us)&&(await this.deleteSession({topic:us,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:us})):cs&&(await this.deleteProposal(cs,!0),this.client.events.emit("proposal_expire",{id:cs}))})}registerPairingEvents(){this.client.core.pairing.events.on(se$1.create,as=>this.onPairingCreated(as)),this.client.core.pairing.events.on(se$1.delete,as=>{this.addToRecentlyDeleted(as.topic,"pairing")})}isValidPairingTopic(as){if(!nt(as,!1)){const{message:us}=ht$1("MISSING_OR_INVALID",`pairing topic should be a string: ${as}`);throw new Error(us)}if(!this.client.core.pairing.pairings.keys.includes(as)){const{message:us}=ht$1("NO_MATCHING_KEY",`pairing topic doesn't exist: ${as}`);throw new Error(us)}if(vi$1(this.client.core.pairing.pairings.get(as).expiry)){const{message:us}=ht$1("EXPIRED",`pairing topic: ${as}`);throw new Error(us)}}async isValidSessionTopic(as){if(!nt(as,!1)){const{message:us}=ht$1("MISSING_OR_INVALID",`session topic should be a string: ${as}`);throw new Error(us)}if(this.checkRecentlyDeleted(as),!this.client.session.keys.includes(as)){const{message:us}=ht$1("NO_MATCHING_KEY",`session topic doesn't exist: ${as}`);throw new Error(us)}if(vi$1(this.client.session.get(as).expiry)){await this.deleteSession({topic:as});const{message:us}=ht$1("EXPIRED",`session topic: ${as}`);throw new Error(us)}if(!this.client.core.crypto.keychain.has(as)){const{message:us}=ht$1("MISSING_OR_INVALID",`session topic does not exist in keychain: ${as}`);throw await this.deleteSession({topic:as}),new Error(us)}}async isValidSessionOrPairingTopic(as){if(this.checkRecentlyDeleted(as),this.client.session.keys.includes(as))await this.isValidSessionTopic(as);else if(this.client.core.pairing.pairings.keys.includes(as))this.isValidPairingTopic(as);else if(nt(as,!1)){const{message:us}=ht$1("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${as}`);throw new Error(us)}else{const{message:us}=ht$1("MISSING_OR_INVALID",`session or pairing topic should be a string: ${as}`);throw new Error(us)}}async isValidProposalId(as){if(!ga(as)){const{message:us}=ht$1("MISSING_OR_INVALID",`proposal id should be a number: ${as}`);throw new Error(us)}if(!this.client.proposal.keys.includes(as)){const{message:us}=ht$1("NO_MATCHING_KEY",`proposal id doesn't exist: ${as}`);throw new Error(us)}if(vi$1(this.client.proposal.get(as).expiryTimestamp)){await this.deleteProposal(as);const{message:us}=ht$1("EXPIRED",`proposal id: ${as}`);throw new Error(us)}}}class Ns extends zi{constructor(as,us){super(as,us,pt,we),this.core=as,this.logger=us}}class St extends zi{constructor(as,us){super(as,us,ht,we),this.core=as,this.logger=us}}class Os extends zi{constructor(as,us){super(as,us,ut,we,cs=>cs.id),this.core=as,this.logger=us}}class bs extends zi{constructor(as,us){super(as,us,mt,ae,()=>ce),this.core=as,this.logger=us}}class As extends zi{constructor(as,us){super(as,us,_t,ae),this.core=as,this.logger=us}}class xs extends zi{constructor(as,us){super(as,us,Et,ae,cs=>cs.id),this.core=as,this.logger=us}}var Cs=Object.defineProperty,Vs=(ss,as,us)=>as in ss?Cs(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,Ge=(ss,as,us)=>Vs(ss,typeof as!="symbol"?as+"":as,us);class Ds{constructor(as,us){this.core=as,this.logger=us,Ge(this,"authKeys"),Ge(this,"pairingTopics"),Ge(this,"requests"),this.authKeys=new bs(this.core,this.logger),this.pairingTopics=new As(this.core,this.logger),this.requests=new xs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Ls=Object.defineProperty,ks=(ss,as,us)=>as in ss?Ls(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,E$1=(ss,as,us)=>ks(ss,typeof as!="symbol"?as+"":as,us);class Ee extends J$3{constructor(as){super(as),E$1(this,"protocol",De),E$1(this,"version",Le),E$1(this,"name",me.name),E$1(this,"metadata"),E$1(this,"core"),E$1(this,"logger"),E$1(this,"events",new eventsExports.EventEmitter),E$1(this,"engine"),E$1(this,"session"),E$1(this,"proposal"),E$1(this,"pendingRequest"),E$1(this,"auth"),E$1(this,"signConfig"),E$1(this,"on",(cs,$a)=>this.events.on(cs,$a)),E$1(this,"once",(cs,$a)=>this.events.once(cs,$a)),E$1(this,"off",(cs,$a)=>this.events.off(cs,$a)),E$1(this,"removeListener",(cs,$a)=>this.events.removeListener(cs,$a)),E$1(this,"removeAllListeners",cs=>this.events.removeAllListeners(cs)),E$1(this,"connect",async cs=>{try{return await this.engine.connect(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"pair",async cs=>{try{return await this.engine.pair(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"approve",async cs=>{try{return await this.engine.approve(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"reject",async cs=>{try{return await this.engine.reject(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"update",async cs=>{try{return await this.engine.update(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"extend",async cs=>{try{return await this.engine.extend(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"request",async cs=>{try{return await this.engine.request(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"respond",async cs=>{try{return await this.engine.respond(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"ping",async cs=>{try{return await this.engine.ping(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"emit",async cs=>{try{return await this.engine.emit(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"disconnect",async cs=>{try{return await this.engine.disconnect(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"find",cs=>{try{return this.engine.find(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(cs){throw this.logger.error(cs.message),cs}}),E$1(this,"authenticate",async(cs,$a)=>{try{return await this.engine.authenticate(cs,$a)}catch(na){throw this.logger.error(na.message),na}}),E$1(this,"formatAuthMessage",cs=>{try{return this.engine.formatAuthMessage(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"approveSessionAuthenticate",async cs=>{try{return await this.engine.approveSessionAuthenticate(cs)}catch($a){throw this.logger.error($a.message),$a}}),E$1(this,"rejectSessionAuthenticate",async cs=>{try{return await this.engine.rejectSessionAuthenticate(cs)}catch($a){throw this.logger.error($a.message),$a}}),this.name=(as==null?void 0:as.name)||me.name,this.metadata=oi$1(as==null?void 0:as.metadata),this.signConfig=as==null?void 0:as.signConfig;const us=typeof(as==null?void 0:as.logger)<"u"&&typeof(as==null?void 0:as.logger)!="string"?as.logger:Dg(k$4({level:(as==null?void 0:as.logger)||me.logger}));this.core=(as==null?void 0:as.core)||new Jo(as),this.logger=E$3(us,this.name),this.session=new St(this.core,this.logger),this.proposal=new Ns(this.core,this.logger),this.pendingRequest=new Os(this.core,this.logger),this.engine=new Ps(this),this.auth=new Ds(this.core,this.logger)}static async init(as){const us=new Ee(as);return await us.initialize(),us}get context(){return y$3(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},cjs$3.toMiliseconds(cjs$3.ONE_SECOND))}catch(as){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(as.message),as}}}const Ms=St,$s=Ee;var l={exports:{}},h=typeof Reflect=="object"?Reflect:null,y=h&&typeof h.apply=="function"?h.apply:function(ss,as,us){return Function.prototype.apply.call(ss,as,us)},f;h&&typeof h.ownKeys=="function"?f=h.ownKeys:Object.getOwnPropertySymbols?f=function(ss){return Object.getOwnPropertyNames(ss).concat(Object.getOwnPropertySymbols(ss))}:f=function(ss){return Object.getOwnPropertyNames(ss)};function K(ss){console&&console.warn&&console.warn(ss)}var w=Number.isNaN||function(ss){return ss!==ss};function o(){o.init.call(this)}l.exports=o,l.exports.once=F,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var L=10;function g(ss){if(typeof ss!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ss)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(ss){if(typeof ss!="number"||ss<0||w(ss))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ss+".");L=ss}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(ss){if(typeof ss!="number"||ss<0||w(ss))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ss+".");return this._maxListeners=ss,this};function S(ss){return ss._maxListeners===void 0?o.defaultMaxListeners:ss._maxListeners}o.prototype.getMaxListeners=function(){return S(this)},o.prototype.emit=function(ss){for(var as=[],us=1;us<arguments.length;us++)as.push(arguments[us]);var cs=ss==="error",$a=this._events;if($a!==void 0)cs=cs&&$a.error===void 0;else if(!cs)return!1;if(cs){var na;if(as.length>0&&(na=as[0]),na instanceof Error)throw na;var tu=new Error("Unhandled error."+(na?" ("+na.message+")":""));throw tu.context=na,tu}var iu=$a[ss];if(iu===void 0)return!1;if(typeof iu=="function")y(iu,this,as);else for(var su=iu.length,au=b(iu,su),us=0;us<su;++us)y(au[us],this,as);return!0};function _(ss,as,us,cs){var $a,na,tu;if(g(us),na=ss._events,na===void 0?(na=ss._events=Object.create(null),ss._eventsCount=0):(na.newListener!==void 0&&(ss.emit("newListener",as,us.listener?us.listener:us),na=ss._events),tu=na[as]),tu===void 0)tu=na[as]=us,++ss._eventsCount;else if(typeof tu=="function"?tu=na[as]=cs?[us,tu]:[tu,us]:cs?tu.unshift(us):tu.push(us),$a=S(ss),$a>0&&tu.length>$a&&!tu.warned){tu.warned=!0;var iu=new Error("Possible EventEmitter memory leak detected. "+tu.length+" "+String(as)+" listeners added. Use emitter.setMaxListeners() to increase limit");iu.name="MaxListenersExceededWarning",iu.emitter=ss,iu.type=as,iu.count=tu.length,K(iu)}return ss}o.prototype.addListener=function(ss,as){return _(this,ss,as,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(ss,as){return _(this,ss,as,!0)};function k(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(ss,as,us){var cs={fired:!1,wrapFn:void 0,target:ss,type:as,listener:us},$a=k.bind(cs);return $a.listener=us,cs.wrapFn=$a,$a}o.prototype.once=function(ss,as){return g(as),this.on(ss,C(this,ss,as)),this},o.prototype.prependOnceListener=function(ss,as){return g(as),this.prependListener(ss,C(this,ss,as)),this},o.prototype.removeListener=function(ss,as){var us,cs,$a,na,tu;if(g(as),cs=this._events,cs===void 0)return this;if(us=cs[ss],us===void 0)return this;if(us===as||us.listener===as)--this._eventsCount===0?this._events=Object.create(null):(delete cs[ss],cs.removeListener&&this.emit("removeListener",ss,us.listener||as));else if(typeof us!="function"){for($a=-1,na=us.length-1;na>=0;na--)if(us[na]===as||us[na].listener===as){tu=us[na].listener,$a=na;break}if($a<0)return this;$a===0?us.shift():W(us,$a),us.length===1&&(cs[ss]=us[0]),cs.removeListener!==void 0&&this.emit("removeListener",ss,tu||as)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(ss){var as,us,cs;if(us=this._events,us===void 0)return this;if(us.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):us[ss]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete us[ss]),this;if(arguments.length===0){var $a=Object.keys(us),na;for(cs=0;cs<$a.length;++cs)na=$a[cs],na!=="removeListener"&&this.removeAllListeners(na);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(as=us[ss],typeof as=="function")this.removeListener(ss,as);else if(as!==void 0)for(cs=as.length-1;cs>=0;cs--)this.removeListener(ss,as[cs]);return this};function E(ss,as,us){var cs=ss._events;if(cs===void 0)return[];var $a=cs[as];return $a===void 0?[]:typeof $a=="function"?us?[$a.listener||$a]:[$a]:us?D($a):b($a,$a.length)}o.prototype.listeners=function(ss){return E(this,ss,!0)},o.prototype.rawListeners=function(ss){return E(this,ss,!1)},o.listenerCount=function(ss,as){return typeof ss.listenerCount=="function"?ss.listenerCount(as):O.call(ss,as)},o.prototype.listenerCount=O;function O(ss){var as=this._events;if(as!==void 0){var us=as[ss];if(typeof us=="function")return 1;if(us!==void 0)return us.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]};function b(ss,as){for(var us=new Array(as),cs=0;cs<as;++cs)us[cs]=ss[cs];return us}function W(ss,as){for(;as+1<ss.length;as++)ss[as]=ss[as+1];ss.pop()}function D(ss){for(var as=new Array(ss.length),us=0;us<as.length;++us)as[us]=ss[us].listener||ss[us];return as}function F(ss,as){return new Promise(function(us,cs){function $a(tu){ss.removeListener(as,na),cs(tu)}function na(){typeof ss.removeListener=="function"&&ss.removeListener("error",$a),us([].slice.call(arguments))}x(ss,as,na,{once:!0}),as!=="error"&&z(ss,$a,{once:!0})})}function z(ss,as,us){typeof ss.on=="function"&&x(ss,"error",as,us)}function x(ss,as,us,cs){if(typeof ss.on=="function")cs.once?ss.once(as,us):ss.on(as,us);else if(typeof ss.addEventListener=="function")ss.addEventListener(as,function $a(na){cs.once&&ss.removeEventListener(as,$a),us(na)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ss)}const p="WalletKit";class R{constructor(as){this.opts=as}}class A{constructor(as){this.client=as}}var Q=Object.defineProperty,V=Object.defineProperties,B=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,T=(ss,as,us)=>as in ss?Q(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,Z=(ss,as)=>{for(var us in as||(as={}))J.call(as,us)&&T(ss,us,as[us]);if(j)for(var us of j(as))Y.call(as,us)&&T(ss,us,as[us]);return ss},ee=(ss,as)=>V(ss,B(as));class te extends A{constructor(as){super(as),this.init=async()=>{this.signClient=await $s.init({core:this.client.core,metadata:this.client.metadata,signConfig:this.client.signConfig}),this.signClient.core.eventClient.init().catch(us=>{this.client.logger.warn(us)})},this.pair=async us=>{await this.client.core.pairing.pair(us)},this.approveSession=async us=>{const{topic:cs,acknowledged:$a}=await this.signClient.approve(ee(Z({},us),{id:us.id,namespaces:us.namespaces,sessionProperties:us.sessionProperties,sessionConfig:us.sessionConfig}));return await $a(),this.signClient.session.get(cs)},this.rejectSession=async us=>await this.signClient.reject(us),this.updateSession=async us=>await this.signClient.update(us),this.extendSession=async us=>await this.signClient.extend(us),this.respondSessionRequest=async us=>await this.signClient.respond(us),this.disconnectSession=async us=>await this.signClient.disconnect(us),this.emitSessionEvent=async us=>await this.signClient.emit(us),this.getActiveSessions=()=>this.signClient.session.getAll().reduce((us,cs)=>(us[cs.topic]=cs,us),{}),this.getPendingSessionProposals=()=>this.signClient.proposal.getAll(),this.getPendingSessionRequests=()=>this.signClient.getPendingSessionRequests(),this.approveSessionAuthenticate=async us=>await this.signClient.approveSessionAuthenticate(us),this.rejectSessionAuthenticate=async us=>await this.signClient.rejectSessionAuthenticate(us),this.formatAuthMessage=us=>this.signClient.formatAuthMessage(us),this.registerDeviceToken=us=>this.client.core.echoClient.registerDeviceToken(us),this.on=(us,cs)=>(this.setEvent(us,"off"),this.setEvent(us,"on"),this.client.events.on(us,cs)),this.once=(us,cs)=>(this.setEvent(us,"off"),this.setEvent(us,"once"),this.client.events.once(us,cs)),this.off=(us,cs)=>(this.setEvent(us,"off"),this.client.events.off(us,cs)),this.removeListener=(us,cs)=>(this.setEvent(us,"removeListener"),this.client.events.removeListener(us,cs)),this.onSessionRequest=us=>{this.client.events.emit("session_request",us)},this.onSessionProposal=us=>{this.client.events.emit("session_proposal",us)},this.onSessionDelete=us=>{this.client.events.emit("session_delete",us)},this.onProposalExpire=us=>{this.client.events.emit("proposal_expire",us)},this.onSessionRequestExpire=us=>{this.client.events.emit("session_request_expire",us)},this.onSessionRequestAuthenticate=us=>{this.client.events.emit("session_authenticate",us)},this.setEvent=(us,cs)=>{switch(us){case"session_request":this.signClient.events[cs]("session_request",this.onSessionRequest);break;case"session_proposal":this.signClient.events[cs]("session_proposal",this.onSessionProposal);break;case"session_delete":this.signClient.events[cs]("session_delete",this.onSessionDelete);break;case"proposal_expire":this.signClient.events[cs]("proposal_expire",this.onProposalExpire);break;case"session_request_expire":this.signClient.events[cs]("session_request_expire",this.onSessionRequestExpire);break;case"session_authenticate":this.signClient.events[cs]("session_authenticate",this.onSessionRequestAuthenticate);break}},this.signClient={}}}const ne={decryptMessage:async ss=>{const as={core:new Jo({storageOptions:ss.storageOptions,storage:ss.storage})};await as.core.crypto.init();const us=as.core.crypto.decode(ss.topic,ss.encryptedMessage);return as.core=null,us},getMetadata:async ss=>{const as={core:new Jo({storageOptions:ss.storageOptions,storage:ss.storage}),sessionStore:null};as.sessionStore=new Ms(as.core,as.core.logger),await as.sessionStore.init();const us=as.sessionStore.get(ss.topic),cs=us==null?void 0:us.peer.metadata;return as.core=null,as.sessionStore=null,cs}},N=class extends R{constructor(ss){super(ss),this.events=new l.exports,this.on=(as,us)=>this.engine.on(as,us),this.once=(as,us)=>this.engine.once(as,us),this.off=(as,us)=>this.engine.off(as,us),this.removeListener=(as,us)=>this.engine.removeListener(as,us),this.pair=async as=>{try{return await this.engine.pair(as)}catch(us){throw this.logger.error(us.message),us}},this.approveSession=async as=>{try{return await this.engine.approveSession(as)}catch(us){throw this.logger.error(us.message),us}},this.rejectSession=async as=>{try{return await this.engine.rejectSession(as)}catch(us){throw this.logger.error(us.message),us}},this.updateSession=async as=>{try{return await this.engine.updateSession(as)}catch(us){throw this.logger.error(us.message),us}},this.extendSession=async as=>{try{return await this.engine.extendSession(as)}catch(us){throw this.logger.error(us.message),us}},this.respondSessionRequest=async as=>{try{return await this.engine.respondSessionRequest(as)}catch(us){throw this.logger.error(us.message),us}},this.disconnectSession=async as=>{try{return await this.engine.disconnectSession(as)}catch(us){throw this.logger.error(us.message),us}},this.emitSessionEvent=async as=>{try{return await this.engine.emitSessionEvent(as)}catch(us){throw this.logger.error(us.message),us}},this.getActiveSessions=()=>{try{return this.engine.getActiveSessions()}catch(as){throw this.logger.error(as.message),as}},this.getPendingSessionProposals=()=>{try{return this.engine.getPendingSessionProposals()}catch(as){throw this.logger.error(as.message),as}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(as){throw this.logger.error(as.message),as}},this.registerDeviceToken=as=>{try{return this.engine.registerDeviceToken(as)}catch(us){throw this.logger.error(us.message),us}},this.approveSessionAuthenticate=as=>{try{return this.engine.approveSessionAuthenticate(as)}catch(us){throw this.logger.error(us.message),us}},this.rejectSessionAuthenticate=as=>{try{return this.engine.rejectSessionAuthenticate(as)}catch(us){throw this.logger.error(us.message),us}},this.formatAuthMessage=as=>{try{return this.engine.formatAuthMessage(as)}catch(us){throw this.logger.error(us.message),us}},this.metadata=ss.metadata,this.name=ss.name||p,this.signConfig=ss.signConfig,this.core=ss.core,this.logger=this.core.logger,this.engine=new te(this)}static async init(ss){const as=new N(ss);return await as.initialize(),as}async initialize(){this.logger.trace("Initialized");try{await this.engine.init(),this.logger.info("WalletKit Initialization Success")}catch(ss){throw this.logger.info("WalletKit Initialization Failure"),this.logger.error(ss.message),ss}}};let v=N;v.notifications=ne;const se=v;let walletKitInstance=null;const initWalletKit=async()=>{if(walletKitInstance)return walletKitInstance;const ss=new Jo({projectId:"0ac4eca2c22f98c8831f8f830c41fc2b",logger:"error",relayUrl:"wss://relay.walletconnect.com"}),as={name:"ChainPass",description:"Decentralized event access system with NFT tickets",url:window.location.origin,icons:["https://assets.reown.com/reown-profile-pic.png"]},us={storagePrefix:"chainpass_wallet_",expirer:{defaultTtl:7*24*60*60,clearOnInit:!0}};try{return walletKitInstance=await se.init({core:ss,metadata:as,storageOptions:us}),walletKitInstance}catch(cs){throw console.error("Failed to initialize WalletKit:",cs),cs}},WalletConnect=()=>{const{address:ss,isConnected:as}=useAccount(),{connect:us,connectors:cs,isLoading:$a,pendingConnector:na}=useConnect(),{disconnect:tu}=useDisconnect(),[iu,su]=reactExports.useState(""),[au,ou]=reactExports.useState(!1),fu=reactExports.useRef(null);reactExports.useEffect(()=>{const vu=gu=>{fu.current&&!fu.current.contains(gu.target)&&ou(!1)};return document.addEventListener("mousedown",vu),()=>{document.removeEventListener("mousedown",vu)}},[]);const pu=async vu=>{su("");try{us({connector:vu}),ou(!1)}catch(gu){console.error("Error connecting wallet:",gu),su("Failed to connect wallet. Please try again.")}};return jsxRuntimeExports.jsx("div",{className:"wallet-connect relative",ref:fu,children:as?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"hidden md:flex text-sm font-medium text-gray-700 bg-gradient-to-r from-gray-100 to-gray-200 py-1.5 px-3 rounded-full items-center shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),ss&&jsxRuntimeExports.jsx("span",{children:`${ss.slice(0,6)}...${ss.slice(-4)}`})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>tu(),className:"text-sm font-medium text-white py-1.5 px-3 rounded-md transition-all duration-300 transform hover:shadow-md hover:-translate-y-0.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-3.5 h-3.5 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Disconnect"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ou(!au),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium py-2 px-4 rounded-md transition-all duration-300 transform hover:shadow-md hover:-translate-y-0.5 flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Connect Wallet"]}),au&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl py-2 z-50 transform transition-all duration-200 origin-top-right animate-fadeIn",children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Select a wallet"})}),cs.map(vu=>jsxRuntimeExports.jsxs("button",{onClick:()=>pu(vu),disabled:!vu.ready||$a,className:"w-full text-left px-4 py-3 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center group",children:[jsxRuntimeExports.jsxs("div",{className:"mr-3 w-6 h-6 flex items-center justify-center text-blue-500 bg-blue-50 rounded-full group-hover:bg-blue-100 transition-colors",children:[vu.id.startsWith("meta")&&jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 35 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M32.9582 1L19.8241 10.7183L22.2665 5.09082L32.9582 1Z",fill:"#E17726",stroke:"#E17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"})}),!vu.id.startsWith("meta")&&jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("span",{className:"block font-medium text-gray-700",children:vu.name}),!vu.ready&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Not installed"})]}),$a&&(na==null?void 0:na.id)===vu.id&&jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]},vu.id)),iu&&jsxRuntimeExports.jsx("div",{className:"text-red-500 text-sm px-4 py-2 border-t border-gray-100 bg-red-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iu]})})]})]})})};function Navbar(){const{address:ss,isConnected:as}=useAccount(),us=useLocation(),[cs,$a]=reactExports.useState(!1),[na,tu]=reactExports.useState(!1);reactExports.useEffect(()=>{const su=()=>{const au=window.scrollY>10;au!==na&&tu(au)};return document.addEventListener("scroll",su),()=>{document.removeEventListener("scroll",su)}},[na]);const iu=su=>us.pathname===su?"text-blue-600 font-semibold border-b-2 border-blue-500":"text-gray-600 hover:text-gray-900 hover:border-b-2 hover:border-gray-300";return jsxRuntimeExports.jsx("nav",{className:`bg-gradient-to-r from-white to-gray-50 sticky top-0 z-50 transition-all duration-300 ${na?"shadow-md":"shadow-sm"}`,children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center h-16",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx(Link,{to:"/",className:"flex items-center",children:jsxRuntimeExports.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent hover:from-blue-700 hover:to-blue-500 transition-colors",children:"ChainPass"})})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[jsxRuntimeExports.jsx(Link,{to:"/events",className:`${iu("/events")} py-5 px-1 transition-all duration-200`,children:"Events"}),as&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:"/my-tickets",className:`${iu("/my-tickets")} py-5 px-1 transition-all duration-200`,children:"My Tickets"}),jsxRuntimeExports.jsx(Link,{to:"/events/create",className:`${iu("/events/create")} py-5 px-1 transition-all duration-200`,children:"Create Event"})]}),jsxRuntimeExports.jsx("div",{className:"ml-4",children:jsxRuntimeExports.jsx(WalletConnect,{})})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden flex items-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>$a(!cs),className:"text-gray-600 hover:text-blue-600 focus:outline-none transition-colors duration-200",children:jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:cs?jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),cs&&jsxRuntimeExports.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 animate-fadeIn",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-3",children:[jsxRuntimeExports.jsx(Link,{to:"/events",className:`${iu("/events")} px-3 py-2 rounded-md transition-all duration-200`,onClick:()=>$a(!1),children:"Events"}),as&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:"/my-tickets",className:`${iu("/my-tickets")} px-3 py-2 rounded-md transition-all duration-200`,onClick:()=>$a(!1),children:"My Tickets"}),jsxRuntimeExports.jsx(Link,{to:"/events/create",className:`${iu("/events/create")} px-3 py-2 rounded-md transition-all duration-200`,onClick:()=>$a(!1),children:"Create Event"})]}),jsxRuntimeExports.jsx("div",{className:"px-3 py-2",children:jsxRuntimeExports.jsx(WalletConnect,{})})]})})]})})}function Home(){const{isConnected:ss}=useAccount();return jsxRuntimeExports.jsxs("div",{className:"space-y-16",children:[jsxRuntimeExports.jsx("section",{className:"text-center py-20 bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Welcome to ChainPass"}),jsxRuntimeExports.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"The decentralized event access system that revolutionizes how you manage and attend events."}),jsxRuntimeExports.jsxs("div",{className:"space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/events",className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100",children:"Browse Events"}),ss&&jsxRuntimeExports.jsx(Link,{to:"/events/create",className:"bg-transparent border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600",children:"Create Event"})]})]})}),jsxRuntimeExports.jsxs("section",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Features"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"NFT Tickets"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Mint unique NFT tickets for your events with optional soulbound functionality."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"On-chain Check-in"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Verify attendance with QR codes or wallet connections, all recorded on-chain."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Rewards System"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Claim NFTs, tokens, or POAPs as rewards for attending events."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-blue-600 font-bold",children:"1"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Connect Wallet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Login with your smart wallet"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-blue-600 font-bold",children:"2"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Mint Ticket"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Get your NFT ticket for the event"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-blue-600 font-bold",children:"3"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Check In"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Verify your attendance at the event"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-blue-600 font-bold",children:"4"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Claim Rewards"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Receive your event rewards"})]})]})]})]})}const EventManagerABI=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"eventId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"address",name:"organizer",type:"address"},{indexed:!1,internalType:"address",name:"ticketContract",type:"address"},{indexed:!1,internalType:"address",name:"checkInContract",type:"address"}],name:"EventCreated",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"imageUri",type:"string"},{internalType:"uint256",name:"ticketPrice",type:"uint256"},{internalType:"uint256",name:"maxTickets",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bool",name:"isSoulbound",type:"bool"}],name:"createEvent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"events",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"imageUri",type:"string"},{internalType:"address",name:"organizer",type:"address"},{internalType:"uint256",name:"ticketPrice",type:"uint256"},{internalType:"uint256",name:"maxTickets",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"ticketContract",type:"address"},{internalType:"address",name:"checkInContract",type:"address"},{internalType:"bool",name:"isActive",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"eventId",type:"uint256"}],name:"getEvent",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"imageUri",type:"string"},{internalType:"address",name:"organizer",type:"address"},{internalType:"uint256",name:"ticketPrice",type:"uint256"},{internalType:"uint256",name:"maxTickets",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"ticketContract",type:"address"},{internalType:"address",name:"checkInContract",type:"address"},{internalType:"bool",name:"isActive",type:"bool"}],internalType:"struct EventManager.Event",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"organizer",type:"address"}],name:"getOrganizerEvents",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEventCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"eventId",type:"uint256"}],name:"toggleEventStatus",outputs:[],stateMutability:"nonpayable",type:"function"}];function Events(){const[ss,as]=reactExports.useState([]),[us,cs]=reactExports.useState(!0),[$a,na]=reactExports.useState("all"),iu=Array.from({length:10},(ou,fu)=>({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"getEvent",args:[fu+1]})),{data:su}=useContractReads({contracts:iu});reactExports.useEffect(()=>{if(!su)return;const ou=su.map((fu,pu)=>fu.status==="success"&&fu.result&&fu.result.id&&fu.result.id.toString()!=="0"&&fu.result.name&&fu.result.name.length>0?{id:pu+1,...fu.result}:null).filter(Boolean);as(ou),cs(!1)},[su]);const au=ss.filter(ou=>$a==="all"?!0:$a==="upcoming"?ou.startTime>Date.now()/1e3:$a==="past"?ou.endTime<Date.now()/1e3:!0);return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),jsxRuntimeExports.jsx("div",{className:"flex space-x-4",children:jsxRuntimeExports.jsxs("select",{value:$a,onChange:ou=>na(ou.target.value),className:"px-4 py-2 border rounded-lg",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Events"}),jsxRuntimeExports.jsx("option",{value:"upcoming",children:"Upcoming"}),jsxRuntimeExports.jsx("option",{value:"past",children:"Past"})]})})]}),us?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading events..."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:au.map(ou=>jsxRuntimeExports.jsxs(Link,{to:`/events/${ou.id}`,className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[jsxRuntimeExports.jsx("img",{src:ou.imageUri,alt:ou.name,className:"w-full h-48 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:ou.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:ou.description}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:new Date(ou.startTime*1e3).toLocaleDateString()}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold",children:[ou.ticketPrice," ETH"]})]})]})]},ou.id))}),!us&&au.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"No events found."})})]})}function CreateEvent(){const ss=useNavigate(),[as,us]=reactExports.useState({name:"",description:"",imageUri:"",startTime:"",endTime:"",ticketPrice:"",maxTickets:"",isSoulbound:!1}),{write:cs}=useContractWrite({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"createEvent"}),$a=async tu=>{tu.preventDefault();try{const iu=Math.floor(new Date(as.startTime).getTime()/1e3),su=Math.floor(new Date(as.endTime).getTime()/1e3);cs({args:[as.name,as.description,as.imageUri,iu,su,BigInt(as.ticketPrice*1e18),BigInt(as.maxTickets),as.isSoulbound]}),ss("/events")}catch(iu){console.error("Error creating event:",iu)}},na=tu=>{const{name:iu,value:su,type:au,checked:ou}=tu.target;us(fu=>({...fu,[iu]:au==="checkbox"?ou:su}))};return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Create New Event"}),jsxRuntimeExports.jsxs("form",{onSubmit:$a,className:"max-w-2xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:as.name,onChange:na,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:as.description,onChange:na,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image URL"}),jsxRuntimeExports.jsx("input",{type:"url",name:"imageUri",value:as.imageUri,onChange:na,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",name:"startTime",value:as.startTime,onChange:na,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",name:"endTime",value:as.endTime,onChange:na,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ticket Price (ETH)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"ticketPrice",value:as.ticketPrice,onChange:na,step:"0.001",min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Maximum Tickets"}),jsxRuntimeExports.jsx("input",{type:"number",name:"maxTickets",value:as.maxTickets,onChange:na,min:"1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isSoulbound",checked:as.isSoulbound,onChange:na,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),jsxRuntimeExports.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Make tickets soulbound (non-transferable)"})]}),jsxRuntimeExports.jsx("div",{className:"pt-5",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Event"})})]})]})}function EventDetails(){const{id:ss}=useParams(),[as,us]=reactExports.useState(null),[cs,$a]=reactExports.useState(!0),{data:na}=useContractRead({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"getEvent",args:[ss]}),{write:tu}=useContractWrite({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"buyTicket"});reactExports.useEffect(()=>{na&&(us({id:ss,...na}),$a(!1))},[na,ss]);const iu=async()=>{try{tu({args:[ss],overrides:{value:as.ticketPrice}})}catch(su){console.error("Error buying ticket:",su)}};return cs?jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Loading event details..."})}):as?jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:as.imageUri,alt:as.name,className:"w-full h-64 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-4",children:as.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:as.description}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Event Details"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Start Time:"})," ",new Date(as.startTime*1e3).toLocaleString()]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"End Time:"})," ",new Date(as.endTime*1e3).toLocaleString()]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Ticket Price:"})," ",as.ticketPrice/BigInt(1e18)," ETH"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Ticket Information"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Available Tickets:"})," ",as.maxTickets-as.ticketsSold," / ",as.maxTickets]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Tickets Sold:"})," ",as.ticketsSold]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Soulbound:"})," ",as.isSoulbound?"Yes":"No"]})]})]})]}),as.isActive&&new Date<new Date(as.endTime*1e3)&&jsxRuntimeExports.jsx("button",{onClick:iu,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Buy Ticket"}),!as.isActive&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600",children:"This event is no longer active"}),new Date>=new Date(as.endTime*1e3)&&jsxRuntimeExports.jsx("div",{className:"text-center text-red-600",children:"This event has ended"})]})]})}):jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Event not found"})})}function MyTickets(){const{address:ss}=useAccount(),[as,us]=reactExports.useState([]),[cs,$a]=reactExports.useState(!0),{data:na}=useContractRead({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"getTicketCount",args:[ss]});return reactExports.useEffect(()=>{(async()=>{if(!na||!ss)return;const iu=[];for(let su=0;su<na;su++){const au=await readContract({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"getTicketByIndex",args:[ss,su]}),ou=await readContract({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"getEvent",args:[au.eventId]});iu.push({id:su,...au,event:{id:au.eventId,...ou}})}us(iu),$a(!1)})()},[na,ss]),ss?cs?jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Loading your tickets..."})}):jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Tickets"}),as.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any tickets yet"}),jsxRuntimeExports.jsx(Link,{to:"/events",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"Browse Events"})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:as.map(tu=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:tu.event.imageUri,alt:tu.event.name,className:"w-full h-48 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:tu.event.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:tu.event.description}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(tu.event.startTime*1e3).toLocaleDateString()]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Time:"})," ",new Date(tu.event.startTime*1e3).toLocaleTimeString()]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Ticket ID:"})," #",tu.id]})]}),jsxRuntimeExports.jsx(Link,{to:`/events/${tu.event.id}`,className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"View Event Details"})]})]},`${tu.event.id}-${tu.id}`))})]}):jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Please connect your wallet to view your tickets"})})}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(ss,as,us)=>as in ss?__defProp(ss,as,{enumerable:!0,configurable:!0,writable:!0,value:us}):ss[as]=us,__spreadValues=(ss,as)=>{for(var us in as||(as={}))__hasOwnProp.call(as,us)&&__defNormalProp(ss,us,as[us]);if(__getOwnPropSymbols)for(var us of __getOwnPropSymbols(as))__propIsEnum.call(as,us)&&__defNormalProp(ss,us,as[us]);return ss},__objRest=(ss,as)=>{var us={};for(var cs in ss)__hasOwnProp.call(ss,cs)&&as.indexOf(cs)<0&&(us[cs]=ss[cs]);if(ss!=null&&__getOwnPropSymbols)for(var cs of __getOwnPropSymbols(ss))as.indexOf(cs)<0&&__propIsEnum.call(ss,cs)&&(us[cs]=ss[cs]);return us};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qrcodegen;(ss=>{const as=class{constructor(su,au,ou,fu){if(this.version=su,this.errorCorrectionLevel=au,this.modules=[],this.isFunction=[],su<as.MIN_VERSION||su>as.MAX_VERSION)throw new RangeError("Version value out of range");if(fu<-1||fu>7)throw new RangeError("Mask value out of range");this.size=su*4+17;let pu=[];for(let gu=0;gu<this.size;gu++)pu.push(!1);for(let gu=0;gu<this.size;gu++)this.modules.push(pu.slice()),this.isFunction.push(pu.slice());this.drawFunctionPatterns();const vu=this.addEccAndInterleave(ou);if(this.drawCodewords(vu),fu==-1){let gu=1e9;for(let bu=0;bu<8;bu++){this.applyMask(bu),this.drawFormatBits(bu);const xu=this.getPenaltyScore();xu<gu&&(fu=bu,gu=xu),this.applyMask(bu)}}na(0<=fu&&fu<=7),this.mask=fu,this.applyMask(fu),this.drawFormatBits(fu),this.isFunction=[]}static encodeText(su,au){const ou=ss.QrSegment.makeSegments(su);return as.encodeSegments(ou,au)}static encodeBinary(su,au){const ou=ss.QrSegment.makeBytes(su);return as.encodeSegments([ou],au)}static encodeSegments(su,au,ou=1,fu=40,pu=-1,vu=!0){if(!(as.MIN_VERSION<=ou&&ou<=fu&&fu<=as.MAX_VERSION)||pu<-1||pu>7)throw new RangeError("Invalid value");let gu,bu;for(gu=ou;;gu++){const _u=as.getNumDataCodewords(gu,au)*8,Mu=iu.getTotalBits(su,gu);if(Mu<=_u){bu=Mu;break}if(gu>=fu)throw new RangeError("Data too long")}for(const _u of[as.Ecc.MEDIUM,as.Ecc.QUARTILE,as.Ecc.HIGH])vu&&bu<=as.getNumDataCodewords(gu,_u)*8&&(au=_u);let xu=[];for(const _u of su){cs(_u.mode.modeBits,4,xu),cs(_u.numChars,_u.mode.numCharCountBits(gu),xu);for(const Mu of _u.getData())xu.push(Mu)}na(xu.length==bu);const $u=as.getNumDataCodewords(gu,au)*8;na(xu.length<=$u),cs(0,Math.min(4,$u-xu.length),xu),cs(0,(8-xu.length%8)%8,xu),na(xu.length%8==0);for(let _u=236;xu.length<$u;_u^=253)cs(_u,8,xu);let wu=[];for(;wu.length*8<xu.length;)wu.push(0);return xu.forEach((_u,Mu)=>wu[Mu>>>3]|=_u<<7-(Mu&7)),new as(gu,au,wu,pu)}getModule(su,au){return 0<=su&&su<this.size&&0<=au&&au<this.size&&this.modules[au][su]}getModules(){return this.modules}drawFunctionPatterns(){for(let ou=0;ou<this.size;ou++)this.setFunctionModule(6,ou,ou%2==0),this.setFunctionModule(ou,6,ou%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const su=this.getAlignmentPatternPositions(),au=su.length;for(let ou=0;ou<au;ou++)for(let fu=0;fu<au;fu++)ou==0&&fu==0||ou==0&&fu==au-1||ou==au-1&&fu==0||this.drawAlignmentPattern(su[ou],su[fu]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(su){const au=this.errorCorrectionLevel.formatBits<<3|su;let ou=au;for(let pu=0;pu<10;pu++)ou=ou<<1^(ou>>>9)*1335;const fu=(au<<10|ou)^21522;na(fu>>>15==0);for(let pu=0;pu<=5;pu++)this.setFunctionModule(8,pu,$a(fu,pu));this.setFunctionModule(8,7,$a(fu,6)),this.setFunctionModule(8,8,$a(fu,7)),this.setFunctionModule(7,8,$a(fu,8));for(let pu=9;pu<15;pu++)this.setFunctionModule(14-pu,8,$a(fu,pu));for(let pu=0;pu<8;pu++)this.setFunctionModule(this.size-1-pu,8,$a(fu,pu));for(let pu=8;pu<15;pu++)this.setFunctionModule(8,this.size-15+pu,$a(fu,pu));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let su=this.version;for(let ou=0;ou<12;ou++)su=su<<1^(su>>>11)*7973;const au=this.version<<12|su;na(au>>>18==0);for(let ou=0;ou<18;ou++){const fu=$a(au,ou),pu=this.size-11+ou%3,vu=Math.floor(ou/3);this.setFunctionModule(pu,vu,fu),this.setFunctionModule(vu,pu,fu)}}drawFinderPattern(su,au){for(let ou=-4;ou<=4;ou++)for(let fu=-4;fu<=4;fu++){const pu=Math.max(Math.abs(fu),Math.abs(ou)),vu=su+fu,gu=au+ou;0<=vu&&vu<this.size&&0<=gu&&gu<this.size&&this.setFunctionModule(vu,gu,pu!=2&&pu!=4)}}drawAlignmentPattern(su,au){for(let ou=-2;ou<=2;ou++)for(let fu=-2;fu<=2;fu++)this.setFunctionModule(su+fu,au+ou,Math.max(Math.abs(fu),Math.abs(ou))!=1)}setFunctionModule(su,au,ou){this.modules[au][su]=ou,this.isFunction[au][su]=!0}addEccAndInterleave(su){const au=this.version,ou=this.errorCorrectionLevel;if(su.length!=as.getNumDataCodewords(au,ou))throw new RangeError("Invalid argument");const fu=as.NUM_ERROR_CORRECTION_BLOCKS[ou.ordinal][au],pu=as.ECC_CODEWORDS_PER_BLOCK[ou.ordinal][au],vu=Math.floor(as.getNumRawDataModules(au)/8),gu=fu-vu%fu,bu=Math.floor(vu/fu);let xu=[];const $u=as.reedSolomonComputeDivisor(pu);for(let _u=0,Mu=0;_u<fu;_u++){let Au=su.slice(Mu,Mu+bu-pu+(_u<gu?0:1));Mu+=Au.length;const Pu=as.reedSolomonComputeRemainder(Au,$u);_u<gu&&Au.push(0),xu.push(Au.concat(Pu))}let wu=[];for(let _u=0;_u<xu[0].length;_u++)xu.forEach((Mu,Au)=>{(_u!=bu-pu||Au>=gu)&&wu.push(Mu[_u])});return na(wu.length==vu),wu}drawCodewords(su){if(su.length!=Math.floor(as.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let au=0;for(let ou=this.size-1;ou>=1;ou-=2){ou==6&&(ou=5);for(let fu=0;fu<this.size;fu++)for(let pu=0;pu<2;pu++){const vu=ou-pu,bu=(ou+1&2)==0?this.size-1-fu:fu;!this.isFunction[bu][vu]&&au<su.length*8&&(this.modules[bu][vu]=$a(su[au>>>3],7-(au&7)),au++)}}na(au==su.length*8)}applyMask(su){if(su<0||su>7)throw new RangeError("Mask value out of range");for(let au=0;au<this.size;au++)for(let ou=0;ou<this.size;ou++){let fu;switch(su){case 0:fu=(ou+au)%2==0;break;case 1:fu=au%2==0;break;case 2:fu=ou%3==0;break;case 3:fu=(ou+au)%3==0;break;case 4:fu=(Math.floor(ou/3)+Math.floor(au/2))%2==0;break;case 5:fu=ou*au%2+ou*au%3==0;break;case 6:fu=(ou*au%2+ou*au%3)%2==0;break;case 7:fu=((ou+au)%2+ou*au%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[au][ou]&&fu&&(this.modules[au][ou]=!this.modules[au][ou])}}getPenaltyScore(){let su=0;for(let pu=0;pu<this.size;pu++){let vu=!1,gu=0,bu=[0,0,0,0,0,0,0];for(let xu=0;xu<this.size;xu++)this.modules[pu][xu]==vu?(gu++,gu==5?su+=as.PENALTY_N1:gu>5&&su++):(this.finderPenaltyAddHistory(gu,bu),vu||(su+=this.finderPenaltyCountPatterns(bu)*as.PENALTY_N3),vu=this.modules[pu][xu],gu=1);su+=this.finderPenaltyTerminateAndCount(vu,gu,bu)*as.PENALTY_N3}for(let pu=0;pu<this.size;pu++){let vu=!1,gu=0,bu=[0,0,0,0,0,0,0];for(let xu=0;xu<this.size;xu++)this.modules[xu][pu]==vu?(gu++,gu==5?su+=as.PENALTY_N1:gu>5&&su++):(this.finderPenaltyAddHistory(gu,bu),vu||(su+=this.finderPenaltyCountPatterns(bu)*as.PENALTY_N3),vu=this.modules[xu][pu],gu=1);su+=this.finderPenaltyTerminateAndCount(vu,gu,bu)*as.PENALTY_N3}for(let pu=0;pu<this.size-1;pu++)for(let vu=0;vu<this.size-1;vu++){const gu=this.modules[pu][vu];gu==this.modules[pu][vu+1]&&gu==this.modules[pu+1][vu]&&gu==this.modules[pu+1][vu+1]&&(su+=as.PENALTY_N2)}let au=0;for(const pu of this.modules)au=pu.reduce((vu,gu)=>vu+(gu?1:0),au);const ou=this.size*this.size,fu=Math.ceil(Math.abs(au*20-ou*10)/ou)-1;return na(0<=fu&&fu<=9),su+=fu*as.PENALTY_N4,na(0<=su&&su<=2568888),su}getAlignmentPatternPositions(){if(this.version==1)return[];{const su=Math.floor(this.version/7)+2,au=this.version==32?26:Math.ceil((this.version*4+4)/(su*2-2))*2;let ou=[6];for(let fu=this.size-7;ou.length<su;fu-=au)ou.splice(1,0,fu);return ou}}static getNumRawDataModules(su){if(su<as.MIN_VERSION||su>as.MAX_VERSION)throw new RangeError("Version number out of range");let au=(16*su+128)*su+64;if(su>=2){const ou=Math.floor(su/7)+2;au-=(25*ou-10)*ou-55,su>=7&&(au-=36)}return na(208<=au&&au<=29648),au}static getNumDataCodewords(su,au){return Math.floor(as.getNumRawDataModules(su)/8)-as.ECC_CODEWORDS_PER_BLOCK[au.ordinal][su]*as.NUM_ERROR_CORRECTION_BLOCKS[au.ordinal][su]}static reedSolomonComputeDivisor(su){if(su<1||su>255)throw new RangeError("Degree out of range");let au=[];for(let fu=0;fu<su-1;fu++)au.push(0);au.push(1);let ou=1;for(let fu=0;fu<su;fu++){for(let pu=0;pu<au.length;pu++)au[pu]=as.reedSolomonMultiply(au[pu],ou),pu+1<au.length&&(au[pu]^=au[pu+1]);ou=as.reedSolomonMultiply(ou,2)}return au}static reedSolomonComputeRemainder(su,au){let ou=au.map(fu=>0);for(const fu of su){const pu=fu^ou.shift();ou.push(0),au.forEach((vu,gu)=>ou[gu]^=as.reedSolomonMultiply(vu,pu))}return ou}static reedSolomonMultiply(su,au){if(su>>>8||au>>>8)throw new RangeError("Byte out of range");let ou=0;for(let fu=7;fu>=0;fu--)ou=ou<<1^(ou>>>7)*285,ou^=(au>>>fu&1)*su;return na(ou>>>8==0),ou}finderPenaltyCountPatterns(su){const au=su[1];na(au<=this.size*3);const ou=au>0&&su[2]==au&&su[3]==au*3&&su[4]==au&&su[5]==au;return(ou&&su[0]>=au*4&&su[6]>=au?1:0)+(ou&&su[6]>=au*4&&su[0]>=au?1:0)}finderPenaltyTerminateAndCount(su,au,ou){return su&&(this.finderPenaltyAddHistory(au,ou),au=0),au+=this.size,this.finderPenaltyAddHistory(au,ou),this.finderPenaltyCountPatterns(ou)}finderPenaltyAddHistory(su,au){au[0]==0&&(su+=this.size),au.pop(),au.unshift(su)}};let us=as;us.MIN_VERSION=1,us.MAX_VERSION=40,us.PENALTY_N1=3,us.PENALTY_N2=3,us.PENALTY_N3=40,us.PENALTY_N4=10,us.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],us.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],ss.QrCode=us;function cs(su,au,ou){if(au<0||au>31||su>>>au)throw new RangeError("Value out of range");for(let fu=au-1;fu>=0;fu--)ou.push(su>>>fu&1)}function $a(su,au){return(su>>>au&1)!=0}function na(su){if(!su)throw new Error("Assertion error")}const tu=class{constructor(su,au,ou){if(this.mode=su,this.numChars=au,this.bitData=ou,au<0)throw new RangeError("Invalid argument");this.bitData=ou.slice()}static makeBytes(su){let au=[];for(const ou of su)cs(ou,8,au);return new tu(tu.Mode.BYTE,su.length,au)}static makeNumeric(su){if(!tu.isNumeric(su))throw new RangeError("String contains non-numeric characters");let au=[];for(let ou=0;ou<su.length;){const fu=Math.min(su.length-ou,3);cs(parseInt(su.substr(ou,fu),10),fu*3+1,au),ou+=fu}return new tu(tu.Mode.NUMERIC,su.length,au)}static makeAlphanumeric(su){if(!tu.isAlphanumeric(su))throw new RangeError("String contains unencodable characters in alphanumeric mode");let au=[],ou;for(ou=0;ou+2<=su.length;ou+=2){let fu=tu.ALPHANUMERIC_CHARSET.indexOf(su.charAt(ou))*45;fu+=tu.ALPHANUMERIC_CHARSET.indexOf(su.charAt(ou+1)),cs(fu,11,au)}return ou<su.length&&cs(tu.ALPHANUMERIC_CHARSET.indexOf(su.charAt(ou)),6,au),new tu(tu.Mode.ALPHANUMERIC,su.length,au)}static makeSegments(su){return su==""?[]:tu.isNumeric(su)?[tu.makeNumeric(su)]:tu.isAlphanumeric(su)?[tu.makeAlphanumeric(su)]:[tu.makeBytes(tu.toUtf8ByteArray(su))]}static makeEci(su){let au=[];if(su<0)throw new RangeError("ECI assignment value out of range");if(su<128)cs(su,8,au);else if(su<16384)cs(2,2,au),cs(su,14,au);else if(su<1e6)cs(6,3,au),cs(su,21,au);else throw new RangeError("ECI assignment value out of range");return new tu(tu.Mode.ECI,0,au)}static isNumeric(su){return tu.NUMERIC_REGEX.test(su)}static isAlphanumeric(su){return tu.ALPHANUMERIC_REGEX.test(su)}getData(){return this.bitData.slice()}static getTotalBits(su,au){let ou=0;for(const fu of su){const pu=fu.mode.numCharCountBits(au);if(fu.numChars>=1<<pu)return 1/0;ou+=4+pu+fu.bitData.length}return ou}static toUtf8ByteArray(su){su=encodeURI(su);let au=[];for(let ou=0;ou<su.length;ou++)su.charAt(ou)!="%"?au.push(su.charCodeAt(ou)):(au.push(parseInt(su.substr(ou+1,2),16)),ou+=2);return au}};let iu=tu;iu.NUMERIC_REGEX=/^[0-9]*$/,iu.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,iu.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ss.QrSegment=iu})(qrcodegen||(qrcodegen={}));(ss=>{(as=>{const us=class{constructor($a,na){this.ordinal=$a,this.formatBits=na}};let cs=us;cs.LOW=new us(0,1),cs.MEDIUM=new us(1,0),cs.QUARTILE=new us(2,3),cs.HIGH=new us(3,2),as.Ecc=cs})(ss.QrCode||(ss.QrCode={}))})(qrcodegen||(qrcodegen={}));(ss=>{(as=>{const us=class{constructor($a,na){this.modeBits=$a,this.numBitsCharCount=na}numCharCountBits($a){return this.numBitsCharCount[Math.floor(($a+7)/17)]}};let cs=us;cs.NUMERIC=new us(1,[10,12,14]),cs.ALPHANUMERIC=new us(2,[9,11,13]),cs.BYTE=new us(4,[8,16,16]),cs.KANJI=new us(8,[8,10,12]),cs.ECI=new us(7,[0,0,0]),as.Mode=cs})(ss.QrSegment||(ss.QrSegment={}))})(qrcodegen||(qrcodegen={}));var qrcodegen_default=qrcodegen;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ERROR_LEVEL_MAP={L:qrcodegen_default.QrCode.Ecc.LOW,M:qrcodegen_default.QrCode.Ecc.MEDIUM,Q:qrcodegen_default.QrCode.Ecc.QUARTILE,H:qrcodegen_default.QrCode.Ecc.HIGH},DEFAULT_SIZE=128,DEFAULT_LEVEL="L",DEFAULT_BGCOLOR="#FFFFFF",DEFAULT_FGCOLOR="#000000",DEFAULT_INCLUDEMARGIN=!1,MARGIN_SIZE=4,DEFAULT_IMG_SCALE=.1;function generatePath(ss,as=0){const us=[];return ss.forEach(function(cs,$a){let na=null;cs.forEach(function(tu,iu){if(!tu&&na!==null){us.push(`M${na+as} ${$a+as}h${iu-na}v1H${na+as}z`),na=null;return}if(iu===cs.length-1){if(!tu)return;na===null?us.push(`M${iu+as},${$a+as} h1v1H${iu+as}z`):us.push(`M${na+as},${$a+as} h${iu+1-na}v1H${na+as}z`);return}tu&&na===null&&(na=iu)})}),us.join("")}function excavateModules(ss,as){return ss.slice().map((us,cs)=>cs<as.y||cs>=as.y+as.h?us:us.map(($a,na)=>na<as.x||na>=as.x+as.w?$a:!1))}function getImageSettings(ss,as,us,cs){if(cs==null)return null;const $a=us?MARGIN_SIZE:0,na=ss.length+$a*2,tu=Math.floor(as*DEFAULT_IMG_SCALE),iu=na/as,su=(cs.width||tu)*iu,au=(cs.height||tu)*iu,ou=cs.x==null?ss.length/2-su/2:cs.x*iu,fu=cs.y==null?ss.length/2-au/2:cs.y*iu;let pu=null;if(cs.excavate){let vu=Math.floor(ou),gu=Math.floor(fu),bu=Math.ceil(su+ou-vu),xu=Math.ceil(au+fu-gu);pu={x:vu,y:gu,w:bu,h:xu}}return{x:ou,y:fu,h:au,w:su,excavation:pu}}var SUPPORTS_PATH2D=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function QRCodeCanvas(ss){const as=ss,{value:us,size:cs=DEFAULT_SIZE,level:$a=DEFAULT_LEVEL,bgColor:na=DEFAULT_BGCOLOR,fgColor:tu=DEFAULT_FGCOLOR,includeMargin:iu=DEFAULT_INCLUDEMARGIN,style:su,imageSettings:au}=as,ou=__objRest(as,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),fu=au==null?void 0:au.src,pu=React$2.useRef(null),vu=React$2.useRef(null),[gu,bu]=React$2.useState(!1);React$2.useEffect(()=>{if(pu.current!=null){const wu=pu.current,_u=wu.getContext("2d");if(!_u)return;let Mu=qrcodegen_default.QrCode.encodeText(us,ERROR_LEVEL_MAP[$a]).getModules();const Au=iu?MARGIN_SIZE:0,Pu=Mu.length+Au*2,Su=getImageSettings(Mu,cs,iu,au),Bu=vu.current,Ou=Su!=null&&Bu!==null&&Bu.complete&&Bu.naturalHeight!==0&&Bu.naturalWidth!==0;Ou&&Su.excavation!=null&&(Mu=excavateModules(Mu,Su.excavation));const Vu=window.devicePixelRatio||1;wu.height=wu.width=cs*Vu;const yu=cs/Pu*Vu;_u.scale(yu,yu),_u.fillStyle=na,_u.fillRect(0,0,Pu,Pu),_u.fillStyle=tu,SUPPORTS_PATH2D?_u.fill(new Path2D(generatePath(Mu,Au))):Mu.forEach(function(_a,ru){_a.forEach(function(nu,uu){nu&&_u.fillRect(uu+Au,ru+Au,1,1)})}),Ou&&_u.drawImage(Bu,Su.x+Au,Su.y+Au,Su.w,Su.h)}}),React$2.useEffect(()=>{bu(!1)},[fu]);const xu=__spreadValues({height:cs,width:cs},su);let $u=null;return fu!=null&&($u=React$2.createElement("img",{src:fu,key:fu,style:{display:"none"},onLoad:()=>{bu(!0)},ref:vu})),React$2.createElement(React$2.Fragment,null,React$2.createElement("canvas",__spreadValues({style:xu,height:cs,width:cs,ref:pu},ou)),$u)}function QRCodeSVG(ss){const as=ss,{value:us,size:cs=DEFAULT_SIZE,level:$a=DEFAULT_LEVEL,bgColor:na=DEFAULT_BGCOLOR,fgColor:tu=DEFAULT_FGCOLOR,includeMargin:iu=DEFAULT_INCLUDEMARGIN,imageSettings:su}=as,au=__objRest(as,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let ou=qrcodegen_default.QrCode.encodeText(us,ERROR_LEVEL_MAP[$a]).getModules();const fu=iu?MARGIN_SIZE:0,pu=ou.length+fu*2,vu=getImageSettings(ou,cs,iu,su);let gu=null;su!=null&&vu!=null&&(vu.excavation!=null&&(ou=excavateModules(ou,vu.excavation)),gu=React$2.createElement("image",{xlinkHref:su.src,height:vu.h,width:vu.w,x:vu.x+fu,y:vu.y+fu,preserveAspectRatio:"none"}));const bu=generatePath(ou,fu);return React$2.createElement("svg",__spreadValues({height:cs,width:cs,viewBox:`0 0 ${pu} ${pu}`},au),React$2.createElement("path",{fill:na,d:`M0,0 h${pu}v${pu}H0z`,shapeRendering:"crispEdges"}),React$2.createElement("path",{fill:tu,d:bu,shapeRendering:"crispEdges"}),gu)}var QRCode=ss=>{const as=ss,{renderAs:us}=as,cs=__objRest(as,["renderAs"]);return us==="svg"?React$2.createElement(QRCodeSVG,__spreadValues({},cs)):React$2.createElement(QRCodeCanvas,__spreadValues({},cs))};function CheckIn(){const{eventId:ss}=useParams(),{address:as}=useAccount(),[us,cs]=reactExports.useState(null),[$a,na]=reactExports.useState(!0),[tu,iu]=reactExports.useState(""),{data:su}=useContractRead({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"getEvent",args:[ss]});return useContractWrite({address:"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",abi:EventManagerABI,functionName:"checkIn"}),reactExports.useEffect(()=>{su&&(cs({id:ss,...su}),na(!1))},[su,ss]),reactExports.useEffect(()=>{if(as&&us){const au=`${us.id}-${as}`;iu(au)}},[as,us]),as?$a?jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Loading event details..."})}):us?jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold mb-8",children:["Check In: ",us.name]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Show this QR code to the event organizer to check in"}),jsxRuntimeExports.jsx("div",{className:"inline-block p-4 bg-white rounded-lg shadow-md",children:jsxRuntimeExports.jsx(QRCode,{value:tu,size:200})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Check-in Code:"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-lg",children:tu})]}),us.isActive?jsxRuntimeExports.jsx("div",{className:"mt-8 text-center text-green-600",children:"Event is active and ready for check-in"}):jsxRuntimeExports.jsx("div",{className:"mt-8 text-center text-red-600",children:"Event is not active"})]})]})}):jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Event not found"})}):jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Please connect your wallet to check in"})})}const queryClient=new QueryClient({defaultOptions:{queries:{retry:2,retryDelay:1e3,staleTime:5*60*1e3,onError:ss=>{console.error("Query error:",ss)}},mutations:{onError:ss=>{console.error("Mutation error:",ss)}}}}),{chains,publicClient,webSocketPublicClient}=configureChains([base$4,baseSepolia],[publicProvider()]),appMetadata={name:"ChainPass",description:"Decentralized event access system with NFT tickets",url:window.location.origin,icons:["https://assets.reown.com/reown-profile-pic.png"]},connectors=[new InjectedConnector({chains,options:{shimDisconnect:!0}}),new MetaMaskConnector({chains,options:{shimDisconnect:!0}}),new WalletConnectConnector({chains,options:{projectId:"0ac4eca2c22f98c8831f8f830c41fc2b",metadata:appMetadata,relayUrl:"wss://relay.walletconnect.com",storageOptions:{storagePrefix:"chainpass_wagmi_",expirer:{defaultTtl:7*24*60*60,clearOnInit:!0}}}}),new CoinbaseWalletConnector({chains,options:{appName:"ChainPass",appLogoUrl:appMetadata.icons[0]}})],config=createConfig({autoConnect:!0,connectors,publicClient,webSocketPublicClient});class ErrorBoundary extends React$2.Component{constructor(as){super(as),this.state={hasError:!1,error:null}}static getDerivedStateFromError(as){return{hasError:!0,error:as}}componentDidCatch(as,us){console.error("App error caught:",as,us)}render(){return this.state.hasError?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:"The application encountered an unexpected error. Please refresh the page to try again."}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded",children:"Refresh Page"})]})}):this.props.children}}function App(){const[ss,as]=reactExports.useState(!1),[us,cs]=reactExports.useState(null);return reactExports.useEffect(()=>{const $a=console.error;return console.error=(...na)=>{na[0]&&typeof na[0]=="string"&&(na[0].includes("multiVariateTestingCS")||na[0].includes("message port closed"))||$a.apply(console,na)},()=>{console.error=$a}},[]),reactExports.useEffect(()=>{(async()=>{try{await initWalletKit(),console.log("WalletKit initialized successfully"),as(!0)}catch(na){console.error("Error initializing WalletKit:",na),cs(na)}})()},[]),us?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 text-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Connection Error"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:"Failed to initialize the wallet connection. Please check your network connection and try again."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-4",children:us.message}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded",children:"Try Again"})]})}):jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(WagmiConfig,{config,children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-100",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/events",element:jsxRuntimeExports.jsx(Events,{})}),jsxRuntimeExports.jsx(Route,{path:"/events/create",element:jsxRuntimeExports.jsx(CreateEvent,{})}),jsxRuntimeExports.jsx(Route,{path:"/events/:id",element:jsxRuntimeExports.jsx(EventDetails,{})}),jsxRuntimeExports.jsx(Route,{path:"/my-tickets",element:jsxRuntimeExports.jsx(MyTickets,{})}),jsxRuntimeExports.jsx(Route,{path:"/check-in/:eventId",element:jsxRuntimeExports.jsx(CheckIn,{})})]})})]})})})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{$g as $,getLocation_1 as A,Buffer$7 as B,C$3 as C,r as D,formatJsonRpcRequest as E,getBigIntRpcId as F,isJsonRpcError as G,HKDF_1 as H,IEvents as I,isJsonRpcResponse as J,isWsUrl as K,cjs as L,isLocalhostUrl as M,formatJsonRpcError as N,parseConnectionError as O,getDefaultExportFromCjs$1 as P,commonjsGlobal as Q,Dg as R,k$4 as S,E$3 as T,y$3 as U,Po$1 as V,Qe$2 as W,Qo as X,isJsonRpcRequest as Y,formatJsonRpcResult as Z,isJsonRpcResult as _,safeJsonStringify as a,payloadId as a0,isHttpUrl as a1,__vitePreload as a2,bnExports as a3,sha_jsExports as a4,readableBrowserExports as a5,BaseError$1 as a6,getUrl as a7,stringify$1 as a8,isAddress as a9,InvalidAddressError as aa,decodeErrorResult as ab,call$2 as ac,concat$1 as ad,encodeAbiParameters as ae,HttpRequestError as af,isHex$1 as ag,Hash as ah,createView as ai,aexists as aj,toBytes as ak,aoutput as al,wrapConstructor as am,rotr as an,ahash as ao,abytes as ap,randomBytes as aq,concatBytes as ar,clear as b,createStore as c,destr as d,del as e,set$1 as f,get as g,global$1 as h,getAugmentedNamespace as i,cjs$3 as j,keys as k,eventsExports as l,getWindowMetadata_1 as m,getNavigator_1 as n,getDocument_1 as o,sha256 as p,fromString as q,random as r,safeJsonParse as s,toString as t,chacha20poly1305 as u,queryString as v,process$1 as w,x25519 as x,concat as y,detect as z};
